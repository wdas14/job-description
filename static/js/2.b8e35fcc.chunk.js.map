{"version":3,"sources":["../node_modules/prop-types/index.js","../node_modules/react/index.js","../node_modules/reactstrap/es/utils.js","../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/webpack/buildin/global.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/object-assign/index.js","../node_modules/react-dom/index.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/tinymce/tinymce.js","../node_modules/lodash.isfunction/index.js","../node_modules/lodash.isobject/index.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/index.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/tinymce/themes/silver/index.js","../node_modules/tinymce/themes/silver/theme.js","../node_modules/tinymce/plugins/paste/index.js","../node_modules/tinymce/plugins/paste/plugin.js","../node_modules/tinymce/plugins/link/index.js","../node_modules/tinymce/plugins/link/plugin.js","../node_modules/tinymce/skins/content/dark/content.css","../node_modules/tinymce/skins/content/dark/content.min.css","../node_modules/tinymce/skins/content/default/content.css","../node_modules/tinymce/skins/content/default/content.min.css","../node_modules/tinymce/skins/content/document/content.css","../node_modules/tinymce/skins/content/document/content.min.css","../node_modules/tinymce/skins/content/writer/content.css","../node_modules/tinymce/skins/content/writer/content.min.css","../node_modules/tinymce/skins/ui/oxide-dark/content.css","../node_modules/tinymce/skins/ui/oxide-dark/content.inline.css","../node_modules/tinymce/skins/ui/oxide-dark/content.inline.min.css","../node_modules/tinymce/skins/ui/oxide-dark/content.min.css","../node_modules/tinymce/skins/ui/oxide-dark/content.mobile.css","../node_modules/tinymce/skins/ui/oxide-dark/content.mobile.min.css","../node_modules/tinymce/skins/ui/oxide-dark/fonts/tinymce-mobile.woff","../node_modules/tinymce/skins/ui/oxide-dark/skin.css","../node_modules/tinymce/skins/ui/oxide-dark/skin.min.css","../node_modules/tinymce/skins/ui/oxide-dark/skin.mobile.css","../node_modules/tinymce/skins/ui/oxide-dark/skin.mobile.min.css","../node_modules/tinymce/skins/ui/oxide/content.css","../node_modules/tinymce/skins/ui/oxide/content.inline.css","../node_modules/tinymce/skins/ui/oxide/content.inline.min.css","../node_modules/tinymce/skins/ui/oxide/content.min.css","../node_modules/tinymce/skins/ui/oxide/content.mobile.css","../node_modules/tinymce/skins/ui/oxide/content.mobile.min.css","../node_modules/tinymce/skins/ui/oxide/fonts/tinymce-mobile.woff","../node_modules/tinymce/skins/ui/oxide/skin.css","../node_modules/tinymce/skins/ui/oxide/skin.min.css","../node_modules/tinymce/skins/ui/oxide/skin.mobile.css","../node_modules/tinymce/skins/ui/oxide/skin.mobile.min.css","../node_modules/reactstrap/es/Container.js","../node_modules/reactstrap/es/Row.js","../node_modules/reactstrap/es/Col.js","../node_modules/reactstrap/es/Form.js","../node_modules/reactstrap/es/Input.js","../node_modules/reactstrap/es/Button.js"],"names":["module","exports","globalCssModule","mapToCssModules","className","cssModule","split","map","c","join","warned","warnOnce","message","console","error","Element","window","oneOfType","string","func","props","propName","componentName","Error","shape","current","any","tagPropType","$$typeof","symbol","render","arrayOf","document","createElement","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","default","_extends","Object","assign","target","source","prototype","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_assertThisInitialized","self","ReferenceError","g","Function","e","_inheritsLoose","subClass","superClass","create","constructor","__proto__","getGlobal","global","getTinymce","tinymce","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","test1","String","getOwnPropertyNames","test2","fromCharCode","n","test3","forEach","letter","err","shouldUseNative","from","symbols","to","s","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","info","done","Promise","then","_asyncToGenerator","fn","args","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","domGlobals","noop","compose","fa","fb","_i","constant","identity","x","curry","initialArgs","restArgs","all","concat","not","f","never","always","never$1","always$1","none","NONE","eq","isNone","thunk","id","me","fold","is","isSome","getOr","getOrThunk","getOrDie","msg","getOrNull","getOrUndefined","or","orThunk","ap","each","bind","flatten","exists","forall","filter","equals","equals_","toArray","toString","freeze","some","a","constant_a","v","optfab","fab","elementEq","b","Option","isType","type","t","isPrototypeOf","name","typeOf","isString","isObject","isNull","isBoolean","isFunction","isNumber","slice","rawIndexOf","pIndexOf","xs","slowIndexOf","contains","pred","findIndex","len","r","partition","pass","fail","foldr","acc","eachr","foldl","find","difference","a1","a2","head","last","from$1","_assign","p","webkit","ie","ie11","ie12","gecko","mac","iDevice","android","fileApi","phone","tablet","windowsPhone","nav","navigator","userAgent","matchMediaQuery","query","matchMedia","matches","test","appName","exec","URL","createObjectURL","requestAnimationFramePromise","support","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains$1","Env","opera","iOS","contentEditable","parseInt","match","transparentSrc","caretAfter","range","getSelection","documentMode","ceFalse","cacheSuffix","container","experimentalShadowDom","canHaveCSP","desktop","promiseObj","thisArg","_state","_value","_deferreds","doResolve","asap","immediateFn","setImmediate","setTimeout","handle","deferred","cb","onFulfilled","onRejected","ret","newValue","finale","Handler","reason","ex","catch","remaining","res","race","values","promise","wrappedSetTimeout","callback","time","wrappedSetInterval","setInterval","debounce","timer","clearTimeout","stop","Delay","requestAnimationFrame","element","body","requestAnimationFrameFunc","vendors","_requestAnimationFrame","setEditorTimeout","editor","removed","setEditorInterval","clearInterval","throttle","eventExpandoPrefix","mouseEventRe","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","returnFalse","returnTrue","addEvent","capture","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","fix","originalEvent","data","event","srcElement","defaultTarget","composedPath","getTargetFromShadowDom","pageX","clientX","eventDoc","ownerDocument","doc","documentElement","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","preventDefault","isDefaultPrevented","stopPropagation","isPropagationStopped","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","hasIsDefaultPrevented","metaKey","bindOnReady","win","eventUtils","domLoaded","isDocReady","readyState","readyHandler","waitForDomLoaded","doScroll","top","tryScroll","EventUtils","events","count","expando","Date","hasMouseEnterLeave","hasFocusIn","names","scope","callbackList","fakeName","nativeHandler","defaultNativeHandler","evt","executeHandlers","nodeType","namesList","mouseEnterLeave","related","currentTarget","relatedTarget","parentNode","unbind","ci","eventMap","fire","defaultView","parentWindow","clean","children","getElementsByTagName","destroy","cancel","l","Event","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","arr","pop","push_native","push$1","slice$1","indexOf$1","elem","whitespace","identifier","attributes","pseudos","rtrim","RegExp","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","_","escaped","escapedWhitespace","high","childNodes","els","j","Sizzle","selector","context","results","seed","m","groups","old","nid","newContext","newSelector","getElementById","getElementsByClassName","qsa","nodeName","toLowerCase","getAttribute","replace","setAttribute","toSelector","testContext","querySelectorAll","qsaError","removeAttribute","cache","cacheLength","shift","markFunction","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","node","hasCompare","parent","getTop","getById","attrId","tag","tmp","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","bp","unshift","expr","elements","matchesSelector","attr","attrHandle","getAttributeNode","specified","uniqueSort","duplicates","detectDuplicates","sortStable","sort","splice","textContent","firstChild","nodeValue","selectors","createPseudo","relative","dir","first","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","simple","forward","ofType","xml","outerCache","nodeIndex","start","useCache","lastChild","pseudo","setFilters","idx","matched","input","matcher","unmatched","has","text","innerText","lang","elemLang","hash","location","root","focus","activeElement","hasFocus","href","tabIndex","enabled","disabled","checked","selected","selectedIndex","empty","header","button","even","odd","lt","gt","nth","radio","checkbox","file","password","image","submit","reset","tokens","addCombinator","combinator","base","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","elems","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","filters","parseOnly","soFar","preFilters","cached","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","Math","random","matcherFromGroupMatchers","token","compiled","isArray$1","each$1","findIndex$1","array","predicate","ArrUtils","out","item","index","reduce","collection","iteratee","accumulator","whiteSpaceRegExp","trim","str","Tools","makeMap","items","delim","grep","inArray","prop","extend","ext","sp","ns","cn","scn","de","createNS","onCreate","static","walk","explode","d","_addCacheSuffix","url","push$2","slice$2","rquickExpr$1","skipUniques","isDefined","isString$1","createFragment","html","fragDoc","frag","createDocumentFragment","innerHTML","appendChild","domManipulate","targetNodes","sourceItem","reverse","getElementDocument","DomQuery","makeArray","_hasClass","_wrap","wrapper","lastParent","newWrapper","cloneNode","insertBefore","numericCssMap","booleanMap","propFix","for","class","readonly","cssFix","float","attrHooks","cssHooks","DomQueryConstructor","init","whiteSpaceRegExp$1","trim$1","each$2","charAt","add","nodes","unique","hook","get","set","removeAttr","css","elm","camel","toUpperCase","dashed","style","removeProperty","currentStyle","getComputedStyle","getPropertyValue","remove","removeChild","append","host","prepend","before","after","appendTo","prependTo","replaceWith","content","wrap","wrapAll","wrapInner","contents","unwrap","clone","addClass","toggleClass","removeClass","state","existingClassName","classState","hasClass","on","off","trigger","show","hide","closest","offset","_offset","docElm","pos","y","getBoundingClientRect","left","object","el","until","sibling","siblingName","firstSibling","parents","next","prev","contentDocument","contentWindow","wrappedResult","parentsUntil","nextUntil","prevUntil","overrideDefaults","defaults","sub","appendHooks","targetHooks","hooks","maxlength","maxLength","size","cssText","opacity","zoom","unknown","nu","major","minor","Version","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","group","Number","find$2","isBrowser","nu$1","version","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","edge","chrome","firefox","safari","isOS","nu$2","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","OperatingSystem","windows","ios","linux","osx","solaris","freebsd","detect$1","candidates","candidate","search","UaString","browsers","browser","oses","os","contains$2","substr","startsWith","prefix","checkRange","trim$2","rTrim","normalVersionRegex","checkContains","uastring","PlatformInfo","PlatformDetection","deviceType","isiPad","isiPhone","isAndroid3","isAndroid4","isTablet","isTouch","isPhone","iOSwebview","isWebView","DeviceType","PlatformDetection$1","called","fromDom","dom","fromHtml","div","hasChildNodes","fromTag","fromText","createTextNode","fromPoint","elementFromPoint","DOCUMENT","Node","ATTRIBUTE_NODE","CDATA_SECTION_NODE","COMMENT_NODE","DOCUMENT_NODE","ELEMENT","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","ELEMENT_NODE","TEXT","TEXT_NODE","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","NOTATION_NODE","isType$1","isElement","isText","hasOwnProperty$1","each$3","k","map$2","tupleMap","tuple","bifilter","isSupported","inBody","rawSet","setAll","attrs","get$1","get$2","property","getUnsafeProperty","getRaw","raw","Immutable","fields","struct","Recurse","recurse","DOCUMENT_POSITION_CONTAINED_BY","ELEMENT$1","DOCUMENT$1","is$1","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","e1","e2","contains$3","d1","d2","owner","prevSibling","previousSibling","prevSiblings","nextSiblings","child","cs","browser$1","firstElement","hasChild","Position","getPos","rootElm","offsetParent","offsetLeft","offsetTop","caption","bodyTop","captionTop","captionHeight","offsetHeight","getTableCaptionDeltaY","exports$1","module$1","define","require","amd","EphoxContactWrapper","u","code","1","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","nextTick","title","env","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","2","setTimeoutFunc","_handled","_immediateFn","_unhandledRejectionFn","prom","warn","_setImmediateFn","_setUnhandledRejectionFn","3","clearImmediate","immediateIds","nextImmediateId","Timeout","clearFn","_id","_clearFn","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","4","promisePolyfill","Global","boltExport","nu$3","baseFn","callbacks","nCallback","isReady","cbs","LazyValue","errorReporter","make","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","pure","par","asyncValues","asyncValue","par$1","futures","isValue","isError","opt","onValue","mapError","toOption","onError","Result","fromOption","namedEntities","baseEntities","reverseEntities","isNodeType","isElement$1","matchNodeNames","lowercasedNames","hasContentEditableState","isTextareaOrInput","isText$1","isComment","isDocument","isDocumentFragment","isBr","isContentEditableTrue","isContentEditableFalse","NodeType","isRestrictedNode","hasPropValue","propValue","hasAttribute","attrName","attrValue","hasAttributeValue","matchStyleValues","computed","isBogus","isBogusAll","isTable","tagName","TreeWalker","startNode","rootNode","prev2","shallow","findSibling","findPreviousNode","startName","lazyLookup","lookup","mapToObject","isHeading","isBlock","isInline","isBr$1","isTextBlock","isList","isListItem","isVoid","isTableSection","isTableCell","isWsPreserveElement","isBookmarkNode","TrimNode","trimNode","trimmedLength","previousIsSpan","nextIsSpan","surroundedBySpans","makeMap$1","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","128","130","131","132","133","134","135","136","137","138","139","140","142","145","146","147","148","149","150","151","152","153","154","155","156","158","159","'","buildEntitiesLookup","radix","chr","entity","encodeRaw","encodeNumeric","charCodeAt","encodeNamed","entities","Entities","encodeAllRaw","getEncodeFunc","entitiesMap","nameMap","named","numeric","decode","nativeDecode","mapCache","dummyObj","makeMap$2","each$4","extend$1","explode$1","inArray$1","compileSchema","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","schema","ni","attributesOrder","arrayToMap","addAttrs","schemaItem","table","script","compileElementMap","mode","styles","Schema","settings","validStyles","invalidStyles","schemaItems","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","validClasses","blockElementsMap","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","textInlineElementsMap","patternElements","customElementsMap","specialElements","createLookupTable","option","defaultValue","extendWith","verify_html","valid_elements","valid_styles","invalid_styles","valid_classes","special","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","required","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","rule","inline","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","custom_elements","valid_children","extended_valid_elements","dd","dt","li","td","th","tr","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getValidClasses","getBlockElements","getInvalidStyles","getShortEndedElements","getTextBlockElements","getTextInlineElements","getBoolAttrs","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","isValidChild","isValid","attrPatterns","getCustomElements","_toHex","hex","Styles","encodingItems","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","toHex","color","parse","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","suffix","noJoin","right","bottom","box","canCompress","encode","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","lastIndex","border","serialize","serializeStyles","styleList","styleMap","each$5","grep$1","simpleSelectorRe","whiteSpaceRegExp$2","setupAttrHooks","getContext","keepValues","keep_values","keepUrlHook","$elm","src","updateInternalStyleAttr","rawValue","findNodeIndex","normalized","lastNodeType","DOMUtils","_this","addedStyles","files","counter","styleSheetLoader","maxLoadTime","idCount","loadedStates","appendToHead","load","loadedCallback","errorCallback","link","startTime","status","passed","failed","onload","onerror","wait","testCallback","waitCallback","getTime","waitForWebKitLinkLoaded","styleSheet","styleSheets","ownerNode","owningElement","rel","async","defer","contentCssCors","crossOrigin","webKitChunks","isOldWebKit","waitForGeckoLinkLoaded","cssRules","sheet","loadF","unbox","loadAll","urls","success","failure","parts","StyleSheetLoader","boundEvents","ownEvents","$","getRoot","getElementsByName","$$","getAttrib","defaultVal","getAttribs","setAttrib","originalValue","onSetAttrib","attrElm","root_element","getStyle","getSize","w","h","offsetWidth","clientWidth","clientHeight","elms","getParents","collect","selectorVal","_findSib","setAttribs","setHTML","canHaveHTML","parentElm","newElm","keepChildren","$node","cls","oldElm","replaceChild","createRng","createRange","getContentEditable","stdMode","boxModel","deep","clone_1","getViewPort","argWin","actWin","pageXOffset","pageYOffset","innerWidth","innerHeight","getRect","getParent","getNext","getPrev","createHTML","outHtml","setStyle","update_styles","setStyles","stylesArg","removeAllAttribs","removeAttributeNode","parseStyle","serializeStyle","addStyle","styleElm","DOM","loadCSS","isHidden","uniqueId","getOuterHTML","outerHTML","setOuterHTML","insertAfter","reference","referenceNode","rename","attrNode","findCommonAncestor","pe","ps","rgbVal","isEmpty","brCount","walker","bogusVal","splitElm","replacementElm","bef","aft","pa","setStart","setEnd","extractContents","rv","getContentEditableParent","isChildOf","dumpRng","startContainer","startOffset","endContainer","endOffset","DOMUtils$1","each$6","grep$2","ScriptLoader","states","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","onreadystatechange","log","isDone","markDone","loadQueue","loadScripts","scripts","_loadScripts","failures","execCallbacks","loadingScripts","notifyCallbacks","Cell","initial","currentCode","I18n","getData","setCode","newCode","getCode","langData","translate","getLangData","textstr","lowercaseTextstr","removeContext","translated","isTokenised","values_1","$1","$2","isRtl","hasCode","each$7","AddOnManager","_listeners","dependencies","createUrl","baseUrl","dep","resource","loadDependencies","addOnUrl","deps","newUrl","urlString","baseURL","substring","lastIndexOf","requireLangPack","languages","language","languageLoad","addOn","listener","addComponents","pluginName","pluginUrl","waitFor","PluginManager","ThemeManager","AddOnManager$1","append$1","rogue","remove$1","children$1","rate","read","supports","classList","add$2","clazz","add$1","remove$3","remove$2","add$3","cleanClass","get$3","has$2","descendants$1","ClosestOrAncestor","ancestor","isRoot","ancestor$1","descendant","querySelector","one","closest$1","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","rng","selection","getRng","getBody","an","newStart","getAttr","has$1","uid","findMarkers","setup","registry","changeCallbacks","withCallbacks","updateCallbacks","callbackMap","outputData","previous","onNodeChange","last$2","annotations","comparator","copy","fireNoAnnotation","_a","fireCallbacks","setup$1","serializer","addNodeFilter","spans","span","identifyParserNode","persistent","original","isDeep","set$1","docDom","fragment","contentElements","fromHtml$1","Zwsp","isElement$2","isText$2","isCaretContainerBlock","isCaretContainerInline","isCaretContainer","hasContent","isBeforeInline","isAtStart","isAfterInline","isAtEnd","insertBlock","blockName","blockNode","br","createBogusBr","startsWithCaretContainer","endsWithCaretContainer","showCaretContainerBlock","caretContainer","brs","lastBr","trimBogusBr","isContentEditableTrue$1","isContentEditableFalse$1","isBr$2","isText$3","isInvalidTextElement","isAtomicInline","isTable$2","isCaretContainer$1","isCaretCandidate","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate","isInEditable","round","clone$1","rect","width","height","collapse","toStart","isValidOverflow","overflowY","rect1","rect2","min","isAbove","isBelow","containsXY","getSelectedNode","getNode","extendingChars","isExtendingChar","ch","liftN","slice$3","Predicate","isElement$3","isCaretCandidate$1","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$3","resolveIndex","isWhiteSpace","isRange","isHiddenWhiteSpaceRange","getBoundingClientRectWebKitText","sc","ec","so","eo","newRng","cloneRange","setEndAfter","isZeroRect","clientRect","clientRects","getClientRects","brNode","nbsp","getBrClientRect","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","beforeNode","addUniqueAndValidRect","addCharacterOffset","CaretPosition","toRange","isVisible","isEqual","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","HDirection","CaretPosition$1","isText$5","isBogus$1","nodeIndex$1","getChildNodes","equal","normalizedNodeIndex","numTextFragments","normalizedParent","createPathItem","create$2","outputOffset","path","normalizedTextOffset","resolve$1","resolvePathItem","dataLen","targetOffset","findTextPosition","trimEmptyTextNode","rangeInsertNode","insertNode","insertFragment","isContentEditableFalse$2","getPoint","point","trimmedOffset","getNormalizedTextOffset","max","findIndex$2","moveEndPoint","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","bookmark","isCollapsed","end","getLocation","createBookmarkSpan","filled","getPersistentBookmark","collapsed","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","GetBookmark","getBookmark","getCaretBookmark","getRangeBookmark","getUndoBookmark","isCaretNode","getParentCaretContainer","isElement$4","isText$6","removeNode","setNodeValue","trimCount","trimmedText","removeUnchanged","remove$5","removeElementAndReposition","newPosition","removeTextCaretContainer","removeTextAndReposition","caretContainerNode","getNodeValue","CaretContainerRemove","removeAndReposition","removeElementCaretContainer","browser$2","isContentEditableFalse$3","getAbsoluteClientRect","scrollX","scrollY","margin","rootRect","FakeCaret","cursorInterval","lastVisualCaret","contentEditableFalseNodes","deleteData","trimInlineCaretContainers","caretState","caret","startBlink","textNode","splitText","insertInline","getCss","reposition","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableFalse$4","isBlockLike","isCaretContainer$2","isCaretContainerBlock$1","isElement$5","isCaretCandidate$2","isForwards","direction","isBackwards","skipCaretContainers","findNode","predicateFn","getParentBlock","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","setStartBefore","setEndBefore","setStartAfter","isNodesInSameBlock","node1","node2","lean","before$2","after$1","normalizeRange","leanLeft","leanRight","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","isContentEditableFalse$5","isText$7","isElement$6","isBr$4","isCaretCandidate$3","isAtomic$1","isAtomicContentEditableFalse","isEditableCaretCandidate$1","nodeAtIndex","getCaretCandidatePosition","moveForwardFromBr","nextNode","findCaretPosition","Forwards","startPos","innerNode","rootContentEditableFalseElm","CaretWalker","Backwards","isBeforeOrStart","position","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigate","positionIn","walkToPositionIn","nextPosition","prevPosition","CaretFinder","navigateIgnore","ignoreFilter","firstPositionIn","lastPositionIn","addBogus","tryFindRangePosition","padEmptyCaretContainer","insertZwsp","setEndPoint","isValidTextNode","restoreEndPoint","appendData","ResolveBookmark","isPathBookmark","resolvePaths","isStringPathBookmark","resolveCaretPositionBookmark","isIdBookmark","o1","o2","endPos","spos","epos","resolveId","isIndexBookmark","selectNode","resolveIndex$1","isRangeBookmark","Bookmarks","setRng","isInlineBlock","isWhiteSpaceNode","normalizeStyleValue","FormatUtils","moveStart","getNonWhiteSpaceSibling","inc","ed","replaceVars","vars","isEq","str1","getTextDecoration","decoration","isBookmarkNode$2","getParents$2","isWhiteSpaceNode$1","isTextBlock$2","findLeaf","findParentContentEditable","findSpace","findWordEndPoint","lastTextNode","findSelectorEndPoint","format","curFormat","findBlockEndPoint","block","scopeRoot","findParentContainer","block_expand","ExpandRange","endPoint","leaf","excludeTrailingWhitespace","expand","each$8","RangeWalk","startPoint","siblings","exclude","collectSiblings","endNode","findEndPoint","walkBoundary","getEndChild","api","getOption","NodeValue","get$5","wrapName","isZeroWidth","isAnnotation","makeAnnotation","eDoc","decorate","_b","floor","generate","__rest","master","_c","_d","_e","add$4","annotate","newWrappers","getDoc","finishWrapper","processElements","processElement","wrap$1","processNodes","annotateWithBookmark","undoManager","transact","initialRng","shouldApplyToTrailingSpaces","applyWordGrab","Annotator","register","create$1","changes","annotationChanged","getAll","directory","markers","nodesAlready","findAll","whiteSpaceRegExp$3","typeLookup","walk$2","Node$1","insert","selfAttrs","cloneAttrs","selfAttr","shortEnded","refNode","isValidPrefixAttrName","trimComments","isInvalidUri","uri","allow_html_data_urls","findEndTagIndex","startIndex","tokenRegExp","shortEndedElements","checkBogusAttribute","regExp","attrString","SaxParser","fix_self_closing","comment","cdata","pi","doctype","endRegExp","attrList","textData","isInternalElement","removeInternalElements","fillAttrsMap","isShortEnded","validate","elementRule","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","processHtml","selfClosing","attrRegExp","fixSelfClosing","stack","filteredUrlAttrs","scriptUriRegExp","processEndTag","valid","parseAttribute","val2","val3","attrRule","decodeURIComponent","unescape","self_closing_elements","remove_internals","bogusValue","allow_conditional_comments","findEndTag","documentFocusInHandler","SaxParser$1","trimInternal","endTagIndex","matchLength","bogusAllRegExp","tempAttrs","trimContentRegExp","trimHtml","getTempAttrs","trimExternal","TrimHtml","getBodySetting","getParam","bodyObj","Settings","contentCss","content_css","getContentFromBody","getInner","no_events","emptyRegExp","trimEmptyContents","makeMap$3","Writer","indent","indentBefore","indentAfter","htmlOutput","indent_before","indent_after","entity_encoding","element_format","_text","getContent","Serializer","writer","handlers","8","7","10","11","sortedAttrs","handler","filter$2","nodeFilters","attributeFilters","nodeMatches","attrMatches","traverse","findMatchingNodes","_doc","Adt","cases","constructors","adt","acase","keys$1","argLength","branches","branchKeys","reqKey","label","params","SimRange","Situ","situ","adt$1","domRange","exact","Selection","exactFromRange","simRange","soffset","finish","foffset","getWin","startSitu","finishSitu","getStart$1","browser$3","clamp","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","readRange","rangeCount","getRangeAt","getBookmark$2","bookmarkToNativeRng","SelectionBookmark","newBookmark","FocusManager","isEditorUIElement","registerEditorEvents","throttledStore","registerFocusOut","registerMouseUp","selectionChange","isManualNodeChange","SelectionRestore","mouseUpPage","registerPageMouseUp","DOM$1","isEditorUIElement$1","isUIElement","customSelector","custom_ui_selector","registerEvents","editorManager","focusedEditor","setActive","blurredEditor","getActiveElement","activeEditor","unregisterDocumentEvents","FocusController","getFocusInElement","getCollapsedNode","normalizeSelection","normalize","caretPos","focusBody","hasElementFocus","hasFocus$1","rawBody","hasInlineFocus","iframeElement","hasIframeFocus","activateEditor","EditorFocus","skipFocus","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","getContentEditableHost","focusEditor","hasUiFocus","isTreeNode","setEditorHtml","moveSelection","setContent","parser","getNodeFilters","getAttributeFilters","setContentTree","forcedRootBlockName","padd","forced_root_block_attrs","isRootContent","setContentString","Events","DOM$2","safeDestroy","remove$6","_selectionOverrides","editorUpload","getElement","save","is_removing","unbindAllNativeEvents","hasHiddenInput","orgDisplay","restoreOriginalStyles","getContainer","automatic","destroyed","_beforeUnload","theme","form","formElement","_mceOldSubmit","formEventDelegate","restoreForm","contentAreaContainer","editorContainer","bodyElement","targetElm","clearDomReferences","hasOwnProperty$2","baseMerge","merger","objects","curObject","deepMerge","merge","sectionResult","detection","mobilePlugins","defaultMobileSettings","normalizePlugins","plugins","pluginNames","trimmedPlugins","filterMobilePlugins","extractSections","hasSection","sections","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","processPlugins","isTouchDevice","defaultOverrideSettings","forcedPlugins","forced_plugins","desktopPlugins","mobileConfig","getSectionConfig","combinedPlugins","combinePlugins","section","isSectionTheme","combineSettings","defaultSettings","mobile","extendedSettings","isOnMobile","sectionSettings","getSection","getEditorSettings","documentBaseUrl","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","object_resizing","visual","font_size_legacy_values","forced_root_block","hidden_input","inline_styles","convert_fonts_to_spans","convertURL","getDefaultSettings","getFiltered","output","getParamObject","getProp","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","EditorView","isXYInContentArea","bodyElm","transposedPoint","getBoundingClientRect$1","transpose","isInsideElementContentArea","isEditorAttachedToDom","rawContainer","getContentAreaContainer","NotificationManager","notifications","getImplementation","getNotificationManagerImpl","unimplemented","open","getArgs","NotificationManagerImpl","closeNotification","notification","otherNotification","spec","progressBar","addNotification","serviceMessage","service_message","getNotifications","WindowManager","dialogs","getWindowManagerImpl","openUrl","alert","confirm","getParams","setParams","WindowManagerImpl","funcBind","addDialog","dialog","fireOpenEvent","closeDialog","fireCloseEvent","otherDialog","storeSelectionAndOpenDialog","openDialog","displayNotification","notificationManager","displayError","_skinLoaded","logError","createLoadError","initError","ErrorReporter","pluginLoadError","iconsLoadError","languageLoadError","pluginInitError","uploadError","IconManager","iconPack","icons","CreateIconManager","Uploader","uploadStatus","pendingPromises","defaultHandler","blobInfo","progress","xhr","formData","XMLHttpRequest","withCredentials","credentials","upload","onprogress","loaded","total","json","path1","path2","JSON","responseText","basePath","FormData","blob","filename","send","handlerSuccess","handlerFailure","resolvePending","blobUri","uploadBlobs","blobInfos","openNotification","isUploaded","isPending","pendingUploadBlobInfo","markPending","closeNotification_1","markUploaded","removeFailed","percent","uploadBlobInfo","parseDataUri","uriParts","Conversions","rejectWithError","responseType","response","blobUriToBlob","atob","Blob","Uint8Array","reader","FileReader","onloadend","readAsDataURL","imageToBlobInfo","blobCache","img","base64","findFirst","cachedBlobInfo","getByUri","dataUri","getAllImages","count$1","Uuid","rnd","VDirection","EditorUpload","uploader","imageScanner","toBlobInfo","mime","removeByUri","revokeObjectURL","BlobCache","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","UploadStatus","urlFilters","aliveGuard","replaceString","replaceImageUrl","targetUrl","replacementUrl","replaceUrlInUndoStack","level","fragments","uploadImages","scanForImages","imageInfos","imageInfo","filteredResult","uploadInfo","replaceImageUri","uploadImagesAuto","isValidDataUriImage","imgElm","dataImgFilter","cachedPromises","images","promises","newPromise","ImageScanner","resultItem","replaceBlobUris","source_view","addFilter","parentsUntil$1","rawParent","parents$1","Parents","isBlockElement","blockElements","isValidTarget","shouldRemoveTextNode","addRootBlocks","rootBlockNode","tempNode","wrapped","restoreSelection","rootNodeName","getStart","forcedRootBlock","hasBlockParent","nodeChanged","ForceBlocks","RangeCompare","rng1","getStartNode","getEndNode","hasAllContentsSelected","getFirstChildren","getLastChildren","moveEndPoint$1","hasAnyRanges","sel","getSel","NodeChange","lastRng","lastPath","nativeRng","fakeRng","startElm","isSameElementPath","initialized","disable_nodechange","currentPath","getAbsolutePosition","MousePosition","bodyPosition","scrollPosition","mousePosition","calculatePosition","getBodyPosition","getScrollPosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$6","isContentEditableTrue$2","removeElement","isLeftMouseButtonPressed","ceElm","elmPos","screenX","screenY","maxX","scrollWidth","maxY","scrollHeight","relX","relY","ghost","clonedElm","ghostElm","overflow","padding","boxSizing","createGhost","drop","dragging","targetElement","dragElement","isValidDropTarget","getRawTarget","targetClone_1","cloneElm","cloneElement","targetClone","insertContent","hideFakeCaret","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","dropHandler","dragEndHandler","rootDocument","throttledPlaceCaretAt","placeCaretAt","movement","abs","hasDraggableElement","targetPos","applyRelPos","overflowX","moveGhost","move","DragDropOverrides","realTarget","blockIeDrop","toArrayWithNode","getNodeClientRects","expected","walkUntil","isAboveFn","isBeflowFn","targetClientRect","line","findUntil","upUntil","Up","downUntil","Down","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","isContentEditableFalse$7","findNode$1","distanceToRectLeft","distanceToRectRight","isInside","findClosestClientRect","oldClientRect","oldDistance","newDistance","walkUntil$1","closestCaret","closestNodeRect","contentEditableFalseNodeRects","getFakeCaretTargets","targetNodeRects","targetNodeRect","checkPosFn","lineRects","findLineNodeRects","caretInfo","RangePoint","isContentEditableTrue$3","isContentEditableFalse$8","showCaret","scrollIntoView","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","caretRange","CefFocus","renderFocusCaret","VK","BACKSPACE","DELETE","DOWN","ENTER","LEFT","RIGHT","SPACEBAR","TAB","UP","END","HOME","modifierPressed","shiftKey","ctrlKey","altKey","metaKeyPressed","isNbsp","actual","isWhiteSpace$1","isContent","isChar","delta","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBeforeImageBlock","isAfterImageBlock","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","isContentEditableTrue$4","isContentEditableFalse$9","getContentEditableRoot","SelectionOverrides","selectedContentEditableNode","fakeCaret","realSelectionId","setRange","getRange","isWithinCaretContainer","isRangeInCaretContainer","setContentEditableSelection","$realSelectionContainer","origTargetClone","removeAllRanges","addRange","removeContentEditableSelection","contentEditableRoot","hasBetterMouseTarget","targetNode","caretNode","targetBlock","caretBlock","caretWalker","newPos","hasNormalCaretPosition","moved","handleTouchSelect","keyCode","clipboardData","realSelectionElement","getRealSelectionElement","clearData","setData","outerText","showBlockCaretContainer","blockCaretContainer","Diff","vDown","vUp","buildSnake","diag","end1","end2","snake","getMiddleSnake","start1","start2","sum","buildScript","middle","i2","getOuterHtml","insertAt","createFragment$1","Fragments","currentFragments","action","removeAt","applyDiff","undoLevelDocument","createFragmentedLevel","beforeBookmark","createCompleteLevel","getLevelContent","getCleanLevelContent","implementation","createHTMLDocument","Levels","trimmedFragments","trimmed","level1","level2","hasEqualContent","hasEqualCleanedContent","UndoManager","isFirstTypedCharacter","locks","isUnlocked","setTyping","typing","setDirty","addNonTypingUndoLevel","endTyping","cmd","command","beforeChange","isDirty","lastLevel","modKey","inputType","isInsertTextDataNull","addShortcut","currentLevel","custom_undo_redo_levels","undo","redo","clear","hasUndo","hasRedo","ignore","extra","callback1","callback2","PaddingBr","allBrs","rawNode","getLastChildren$1","lastChildPrevSibling","isEq$3","matchesUnInheritedFormatSelector","formatList","formatter","inherit","matchParents","matchNode","matchName","matchItems","itemName","similar","onmatch","MatchFormat","matchAll","startElement","matchedFormatNames","checkedMap","canApply","defaultBlock","split$1","isEndOfContent","isStartOfContent","replaceData","isCollapsibleWhitespace","previousCharIsSpace","normalizeContent","normalizeWhitespaceAfter","whitespaceCount","hasWhitespacePreserveParent","rootElement","isContent$1","isWhitespace","isNamedAnchor","isBookmark","isBogus$2","isBogusAll$1","Empty","isEmptyNode","needsReposition","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwards","startPosition","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition$1","setSelection","isBlock$2","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","normalizeWhitespace","prevTextOpt","nextTextOpt","prevNode","whitespaceOffset","mergeTextNodes","normalizeWhitespaceBefore","DeleteElement","moveCaret","afterDeletePos","parentBlock","normalizedAfterDeletePos","isInlineElement","setCursorLocation","paddPos","ZWSP$1","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","fill","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","insertCaretContainerNode","formatNode","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","setup$5","disableCaretContainer","isFormatElement","postProcessHooks","filter$3","each$9","addPostProcessHook","isPre","blocks","getSelectedBlocks","pre","pre1","pre2","Hooks","each$a","ElementUtils","attribs","compareObjects","obj1","obj2","MCE_ATTR_RE","each$b","isEq$4","isChildOfInlineParent","lastIdx","wrap$2","wrapWithSiblings","find$3","removeFormat","compareNode","stylesModified","matchName$1","links","isColorFormatAndAnchor","remove_similar","valueOut","rootBlockElm","list_block","removeNode$1","RemoveFormat","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","isRemoveBookmarkNode","removeRngStyle","commonAncestorContainer","isTableCell$2","lastContentEditable","textDecoration","hasContentAfter","expandedRng","newCaretContainer","removeCaretFormat","ceFalseOverride","each$c","isElementNode","findElementSibling","mergeSiblingsNodes","tmpSibling","elementUtils","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","processUnderlineAndColor","MergeFormats","clear_child_styles","clearChildStyles","backgroundColor","merge_siblings","merge_with_parents","normalizeBlockSelectionRange","newEndPos","createRange$1","RangeNormalizer","each$d","ApplyFormat","applyFormat","setElementFormat","fmt","onformat","styleVal","applyNodeStyle","found","applyRngStyle","nodeSpecific","wrapElm","currentWrapElm","parentName","childCount","getChildElementNode","isElementNode$1","getChildCount","mergeStyles","wordcharRegex","importNode","applyCaretFormat","curSelNode","updateAndFireChangeCallbacks","currentFormats","formatChangeData","formatsList","newFormats","matchedFormats","remainingFormats","filterRemainingFormats","formatChanged","registeredFormatListeners","formats","setup$6","formatChangeItems","addListeners","removeListeners","DefaultFormats","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","preview","textAlign","aligncenter","display","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","toggle","fontFamily","fontsize","fontSize","fontsize_class","blockquote","subscript","superscript","removeformat","each$e","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","parentCandidate","parentRequired","ancestorName","elmRule","getRequiredParent","siblingElm","parseSelectorItem","$0","$3","$4","parseSelector","Preview","previewFrag","previewElm","parentFontSize","previewStyles","previewCss","preview_styles","removeVars","parseFloat","ToggleFormat","FormatShortcuts","Formatter","unregister","FormatRegistry","formatChangeState","getCssText","DomSerializerFilters","htmlParser","addAttributeFilter","internalName","cleanup","brNode1","brNode2","DomSerializerPreProcess","hasEventListeners","shouldFireEvent","impl","oldDoc","preProcess","addFontToSpansFilter","domParser","fontSizes","face","removeAttrs","addFilters","addStrikeToSpanFilter","LegacyFilter","paddEmptyNode","padd_empty_with_br","hasOnlyChild","isEmpty$2","nonEmptyElements","whitespaceElements","isPadded","makeMap$4","each$f","explode$2","extend$2","DomParser","matchedNodes","matchedAttributes","root_name","filterNode","list","fi","fl","isInWhiteSpacePreservedElement","invalidChildren","rootBlockName","getRootBlockName","whiteSpaceElements","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","createNode","removeWhitespaceBefore","textNodeNext","textVal","cloneAndExcludeBlocks","_text2","isLineBreakNode","newNode","attrFiltersLen","isPaddedWithNbsp","invalid","newParent","currentNode","childNode","nonSplitableElements","textBlockElements","fixed","fixInvalidChildren","remove_trailing_brs","prevName","addNoOpener","newRel","appendRel","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","register$3","addTempAttr","toHtml","postProcess$1","serializeNode","DomSerializer","parserArgs","getHtmlFromNode","parseHtml","addRules","rules","setRules","Serializer$1","domSerializer","BookmarkManager","BookmarkManager$1","isContentEditableFalse$a","isContentEditableTrue$5","ControlSelection","selectedElm","selectedElmGhost","resizeHelper","resizeHandles","selectedHandle","startX","startY","selectedElmX","selectedElmY","startW","startH","ratio","resizeStarted","startScrollWidth","startScrollHeight","editableDoc","nw","ne","se","sw","isImage","contextMenuSelectImage","isEventOnImageOutsideRange","getResizeTarget","isResizable","resizeGhostElement","deltaX","deltaY","resizeHelperX","resizeHelperY","resize_img_proportional","endGhostResize","setSizeProp","showResizeRect","targetWidth","targetHeight","hideResizeRect","unbindResizeHandleEvents","handleElm","unSelectabe","startDrag","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","getEnd","isWithinContentEditableFalse","getContentEditableRoot$1","execCommand","delayedSelect","throttledUpdateResizeRect","composing","api$1","getOffset","aggregate","properties","isNaN","getOuter","cumulativeInclusions","Dimension","Position$1","firstDefinedOrZero","viewport","boxPosition","get$8","_DOC","scrollTo","intoView","alignToTop","scrollIntoViewIfNeeded","pathTo","navigation","walkUp","view","rest","Navigation","frameElement","excludeFromDescend","markerInfo","cleanupFun","absolute","get$7","createMarker","descend","elementMarker","withMarker","preserveWith","_s","applyWithMarker","withElement","endElement","viewHeight","intoWindowIfNeeded","intoWindow","intoFrame","frameViewHeight","op","scroll","frames","loc","find$4","viewTop","viewBot","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","ScrollIntoView","fireScrollIntoViewEvent","hasCeProperty","CaretRangeFromPoint","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","moveToPoint","rects","moveToElementText","findClosestIeRange","parentElement","findParent","moveOutOfContentEditableFalse","EventProcessRanges","ranges","fromElements","tableModel","tableRow","cellPosition","getSpan","cellExists","rows","cells","getWidth","row","findElementPos","extractRows","sx","sy","ey","newRows","SimpleTableModel","tableElm","rowspan","colspan","y2","x2","fillout","skipCellsX","tableElement","tableBody","createDomTable","cell","modelRowsToDomRows","subTable","getRanges","MultiRange","getCellsFromRanges","getCellsFromElement","getCellsFromElementOrRanges","selectedCells","rangeCells","TableCellSelection","getFullySelectedListWrappers","findParentListContainer","listCont","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","listElm","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","wrap$3","cloneContents","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","FragmentReader","getSelectionFragment","GetSelectionContent","bin","getTextContent","tmpElm","contextual","getHtmlContent","hasParent","findParent$1","hasParentWithName","isTable$3","isTableCell$3","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","NormalizeRange","normRng","SetSelectionContent","setupArgs","deleteContents","prevText","nextText","insertData","prependData","oldLength","rngSetContent","createContextualFragment","getEndpointElement","real","getStart$2","skipEmptyTextNodes","forwards","orig","deleteFromCallbackMap","newCallbacks","BreakType","isNativeIeSelection","isAttachedToDom","Selection$1","bookmarkManager","controlSelection","selectedRange","explicitRange","selectorChangedWithUnbind","selectorChangedData","currentSelectors","matchedSelectors","SelectorChanged","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","anchorNode","START_TO_START","END_TO_END","isValidRange","ieRange","setBaseAndExtent","focusNode","isForward","anchorRange","focusRange","anchorOffset","focusOffset","select$1","compareEndPoints","setNode","getNode$1","endElm","selectedBlocks","selectorChanged","getScrollContainer","scrollContainer","isText$8","startsWithCaretContainer$1","endsWithCaretContainer$1","createZwsp","insertInline$1","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","BoundaryCaret","strongRtl","normalizePosition","InlineUtils","isInlineTarget","findRootInline","findInlineParents","isAtZwsp","normalizeForwards","normalizeBackwards","hasSameParentBlock","block1","block2","LazyEvaluator","fns","Location","rescope","before$4","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","after$3","isValidLocation","readLocation","getName","outside","betweenInlines","fromInline","toInline","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation","findLocationTraverse","BoundaryLocation","hasSelectionModifyApi","modify","moveRel","WordSelection","setCaretPosition","isFeatureEnabled","inline_boundaries","setSelected","renderCaretLocation","moveWord","BoundarySelection","findLocation$1","moveNextWord","movePrevWord","setupSelectedState","selectedInlines","targetInlines","toggleInlines","safeRemoveCaretContainer","inlines","renderInsideInlineCaret","customEventRootDelegates","beforeUnloadDelegate","flip","positions","walk$3","getBreakType","currentPos","nextPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastPos","lastRect","newRect","lastDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","isContentEditableFalse$b","getSelectedNode$1","moveToCeFalseHorizontally","getNextPosFn","isBeforeContentEditableFalseFn","rangeIsInContainerBlock","isRangeInCaretContainerBlock","nextCaretPosition","peekCaretPosition","moveToCeFalseVertically","walkerFn","linePositions","nextLinePositions","closestNextLineRect","caretClientRect","dist1","dist2","contentEditableFalseNode","caretPositions","isBelowFn","getClientRect","positionsUntil","exitPreBlock","newBlock","getNextVisualCaretPosition","getPrevVisualCaretPosition","textBlock","createTextBlock","moveH","newRange","getHorizontalRange","moveV","down","getVerticalRange","moveToLineEndPoint","isCefPosition","getClosestCell","getYAxisValue","isTargetCorner","corners","newCorner","oldCorner","oldDist","sqrt","newDist","findClosestCorner","tds","deflate","getCorners","corner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","moveToRange","isAtTableCellLine","lineInfo","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","isCaretAtStartOrEndOfTable","getTable","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","moveH$1","moveV$1","isTarget","rangeBefore","insertElement","insertEmptyLine","insertBr","insertBlock$1","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","rootBlock","rootBlockAttrs","getClosestTargetBlock","moveV$2","match$1","patterns","defaultPatterns","matchesEvent","MatchKeys","ArrowKeys","executeKeydownOverride","DeleteUtils","isBeforeRoot","placeCaretInEmptyBody","fromPos","firstPos","normalizedFirstPos","normalizedLastPos","normalizedFromPos","prevPos","BlockPosition","BlockBoundary","getBlockPosition","containerElm","readFromRange","fromBlockPos","toBlockPos","blockPos","blockPosition","lastPositionInBlock","skipLastBr","blockBoundary","isDifferentBlocks","parent1","parent2","hasSameParent","isEditable","BlockMergeBoundary","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","nestedBlockMerge","fromBlock","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","parentsAndSelf","findInsertionPoint","trimBr","mergeBlockInto","MergeBlocks","BlockBoundaryDelete","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange","emptyEditor","deleteRangeMergeBlocks","BlockRangeDelete","isBr$5","findBr","parentBlocks","isBeforeBr","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","deleteAction","skipMoveToActionFromInlineCefToContent","getAncestorCe","getContentEditableRoot$2","backspaceDeleteCaret","selectedNode","read$4","deleteElement$1","backspaceDeleteRange","CefDelete","deleteContentAndShowCaret","trimEmptyTextNode$1","CefBoundaryDelete","deleteCefBoundaryText","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope$1","toPosition","hasOnlyTwoOrLessPositionsLeft","BoundaryDelete","isFeatureEnabled$1","hasOnlyOneChild","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret","getParentInlines","InlineFormatDelete","tableCellRng","tableSelection","removeTable","emptyCells","getClosestCell$1","getClosestTable","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableCells","partialSelection","startCell","endCell","isWithinSameTable","getCellRangeFromStartTable","getTableSelectionFromRng","isRootFromElement","getCellRng","getTableSelectionFromCellRng","getCellIndex","getAction","endIndex","getSelectedCells","TableDeleteAction","deleteTableElement","deleteTableRange","getParentCaption","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","toCell","deleteBetweenCells","isNearTable","deleteCaret$1","isBeforeOrAfterTable","deleteCaretCaption","TableDelete","deleteRange$1","PageBreakDelete","deleteCaret$2","parseIndentValue","number","getIndentStyleName","useMargin","canOutdent","getBlocksToIndent","indentStyleName","intentValue","validateBlocks","isListComponent","parentIsListComponent","indentation","indentUnit","indentValue","queryCommandState","unit","styleValue","indentElement","navigateIgnoreEmptyTextNodes","getClosestBlock","isAtBeforeAfterBlockBoundary","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","Outdent","_caret","_forward","DeleteBackspaceKeys","executeKeydownOverride$1","executeKeyupOverride","getParentBlock$2","NewLineUtils","lastNode","firstNonWhiteSpaceNodeSibling","editableRoot","hasParent$1","isListBlock","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","InsertLi","createNewBlock","newBlockName","tmpRng","hasFirstChild","trimZwsp","descendants","isEmptyAnchor","emptyBlock","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","getEditableRoot$1","setForcedBlockAttrs","InsertBlock","parentBlockName","containerBlockName","isAfterLastNodeInContainer","clonedNode","textInlineElements","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","isTableCell$4","wrapSelfAndSiblingsInDefaultBlock","includeZwspInRange","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","scrollToBr","brElm","moveSelectionToBr","extraBr","insertBrAtCaret","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","InsertBr","anchorLocation","readInlineAnchorLocation","ContextSelectors","newLineAction","shouldBlockNewLine$1","isBrMode","requiredState","inListBlock","inBlock","inPreBlock","shouldPutBrInPre$1","inBrContext","hasShiftKey","canInsertIntoEditableRoot","rootEditable","match$2","predicates","NewLineAction","InsertNewLine","EnterKey","handleEnterKeyEvent","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","isInMiddleOfText","getClosestBlock$1","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","needsToBeNbspRight","afterPos","needsToBeNbsp","needsToBeNbspLeft","isNbspAt","hasNbsp","normalizeNbspInMiddleOfTextNode","newText","chars","normalizeNbspMiddle","normalizeNbsps","normalizeNbspAtStart","normalizeNbspAtEnd","normalizeNbspsInEditor","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","setSelection$1","SpaceKey","executeKeydownOverride$2","removeIeControlRect","handleBlockContainer","findBlockCaretContainer","CaretContainerInput","browser$4","setup$d","keypressThrotter","setupIeInput","isComposing","HomeEndKeys","executeKeydownOverride$3","KeyboardOverrides","Quirks","isGecko","isWebKit","mceInternalDataType","setEditorCommandState","selectAll","shortcuts","disableBackspaceIntoATable","bodyHeight","contentStyles","serializeRng","allRng","allContentsSelected","emptyEditorWhenDeleting","selectionHtml","internalContent","dataTransfer","escape","setMceInternalContent","getMceInternalContent","internal","queryCommandSupported","Range","body_1","blur","getAttributeApplyFunction","template","setAttributeNode","isSelectionAcrossElements","applyAttributes","removeStylesWhenDeletingAcrossBlockElements","isTextBlockNode","setup$g","detail","normalizeSelection$1","setup$h","preventSummaryToggle","details","filterDetails","DOM$3","initEditor","bindPendingEventDelegates","execCallback","auto_focus","autoFocus","InitContentBody","skipWrite","contentCssText","visibility","orgVisibility","write","iframeHTML","bodyEl","hex_colors","force_hex_style_colors","createParser","annotator","_nodeChangeDispatcher","browser_spellcheck","gecko_spellcheck","spellcheck","directionality","protect","addVisual","startContent","getStyleSheetLoader","contentCSS","content_style","appendStyle","DOM$4","createIframe","ifr","customAttrs","iframe","frameBorder","allowTransparency","createIframeElement","isDomainRelaxed","domain","hostname","bodyUuid","domainRelaxUrl","relaxDomain","iframeContainer","bodyId","bodyClass","documentBaseURI","getURI","getIframeHtml","InitIframe","boxInfo","hidden","appendContentCssFromSettings","skinUrl","contentCssFile","isContentCssSkinName","toAbsolute","getContentCssUrls","DOM$5","trimLegacyPrefix","initPlugins","initializedPlugins","initPlugin","plugin","Plugin","pluginInstance","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","Init","iconPackName","currentIcons","ui","loadIcons","svgData","icon","addIcon","initIcons","Theme","initTheme","renderUI","renderFromLoadedTheme","iframeHeight","renderFromThemeFunc","renderThemeUi","DOM$6","hasSkipLoadPrefix","scriptLoader","getIconsUrlMetaFromUrl","getIconsUrlMetaFromName","urlMeta","themeUrl","theme_url","loadTheme","languageCode","languageUrl","url_1","loadLanguage","url_2","loadPlugins","Render","resetContent","triggerSave","windowManager","encoding","set_dirty","remove$4","setContentEditable","toggleReadOnly","removeFakeSelection","switchOnContentEditableTrue","restoreFakeSelection","_isReadOnly","registerFilters","defaultModes","switchToMode","activeMode","availableModes","oldMode","newMode","activate","deactivate","editorReadOnly","create$4","design","registerReadOnlyContentFilters","registerReadOnlySelectionBlockers","isReadOnly","setMode","registerMode","listItems$1","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","newCaretPos","insertBefore$1","findFirstIn","InsertList","hasOnlyOneChild$1","isPaddingNode","isPaddedEmptyBlock","isEmptyFragmentElement","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","insertAfter$1","beforeRng","afterRng","getSplit","insertMiddle","isTableCell$5","selectionSetContent","isAfterNbsp","insertHtmlAtCaret","bookmarkHtml","hasSiblingText","trimOrPadLeftRight","paste","caretElement","canHaveChildren","trimNbspAfterDeleteAndPadValue","markFragmentElements","validInsertion","root_1","elementUtils_1","testNode","reduceInlineTextElements","parentEditableFalseElm","nextRng","getContentEditableFalseParent","isPartOfFragment","findNextCaretRng","moveSelectionToMarker","trimBrsFromTableCell","InsertContent","processValue","nativeCommand","DeleteCommands","getFontProp","getProperty","getSpecifiedFontProp","getComputedFontProp","FontInfo","getFontSize","getFontFamily","toPt","precision","factor","pow","round$1","findFirstCaretElement","getCaretElement","isRangeAtStartOfNode","fromFontSizeNumber","fontSizeNumber","fontClasses","normalizeFontNames","font","fonts","each$g","map$3","inArray$2","EditorCommands","commands","setupCommands","customCommand","skip_focus","queryCommandValue","addCommands","commandList","addCommand","addQueryStateHandler","addQueryValueHandler","hasCustomCommand","execNativeCommand","isFormatMatch","toggleFormat","storeSelection","selectionBookmark","queryCommandEnabled","align","listParent","fontNameAction","fontSizeAction","hasVisual","anchor","editingHost","selectNodeContents","alignStates","Undo","Redo","fontNameQuery","fontSizeQuery","nativeEvents","EventDispatcher","bindings","toggleEvent","isNative","beforeFire","wrappedCallback","bindingName","hi","getEventDispatcher","_eventDispatcher","toggleNativeEvent","Observable","bubble","dispatcherArgs","DOM$7","getEventTarget","eventName","event_root","eventRoot","fireEvent","isListening","preventReadOnlyEvents","bindEventDelegate","eventRootElm","delegate","delegates","editors","EditorObservable","_pendingNativeEvents","each$h","explode$3","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","shortcut","matchShortcut","subpatterns","executeShortcutAction","desc","cmdFunc","createShortcut","parseShortcut","charCode","access","alt","ctrl","meta","each$i","trim$4","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","URI","baseUri","base_uri","isProtocolRelative","protocol","toAbsPath","urlMatch","part","userInfo","port","uriComponents","getDocumentBaseUrl","pathname","setPath","pathMatch","toRelative","relativeUri","tu","uu","toRelPath","noHost","absoluteUri","isSameOrigin","defaultPort","breakPoint","normalizedBase","outPath","nb","normalizedPath","noProtoHost","bridge","buttons","menuItems","popups","contextMenus","contextToolbars","sidebars","addButton","addToggleButton","addMenuButton","addSplitButton","addMenuItem","addNestedMenuItem","addToggleMenuItem","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","create$5","DOM$8","extend$3","each$j","resolve$3","ie$2","Editor","loadedCSS","isNotDirty","documentBaseURL","base_url","_setBaseUrl","baseURI","language_load","editorCommands","cache_suffix","modeInstance","callbackLookup","setProgressState","initialContent","oldState","urlconverter_callback","visual_table_class","visual_anchor_class","_scanForImages","DOM$9","explode$4","each$k","extend$4","instanceCounter","boundGlobalEvents","legacyEditors","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","preInit","tinyMCEPreInit","srcScript","currentScript","pluginBaseUrls","plugin_base_urls","invalidInlineTargets","createId","provideResults","initEditors","targets","initCount","createEditor","types","forms","editor_deselector","editor_selector","findTargets","isInvalidInlineTarget","addI18n","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","_extendClass","initializing","RangeUtils$1","Resource","tasks","resultFns","loadErrMsg","runErrMsg","task","waiter","resolveCb","rejectCb","complete","completer","awaiter","create$6","round$2","relativePosition","targetW","targetH","create$7","Rect","inflate","findBestRelativePosition","constrainRect","rels","intersect","cropRect","x1","y1","clampRect","fixedSize","underflowX1","underflowY1","overflowX2","overflowY2","cx2","cy2","fromClientRect","each$l","extend$5","Class","member","_super","mixins","mixin","Mixins","dummy","createMethod","name_1","Methods","Properties","fieldName","Statics","Defaults","localStorage","min$1","max$1","round$3","JSONUtils","stringify","hexCode","JSONP","XHR","ready","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","extend$6","JSONRequest","sendRPC","ecb","scb","xhrArgs","ty","method","storage","getItem","setItem","removeItem","publicApi","geom","util","LocalStorage","Color","hue","saturation","brightness","side","chroma","hsvToRgb","toRgb","toHsv","minRGB","maxRGB","rgb2hsv","isMac","tinyMCE","exportToWindowGlobal","exportToModuleLoaders","asyncTag","funcTag","genTag","nullTag","proxyTag","undefinedTag","freeGlobal","freeSelf","objectProto","nativeObjectToString","Symbol","symToStringTag","toStringTag","baseGetTag","isOwn","unmasked","getRawTag","objectToString","__assign","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetContent","onShow","onSubmit","onUndo","onVisualAid","EditorPropTypes","apiKey","initialValue","onEditorChange","cloudChannel","toolbar","textareaName","bindHandlers","boundHandlers","findEventHandlers","oldHandler","newHandler","uuid","isTextarea","normalizePluginArray","mergePlugins","inputPlugins","__extends","_extendStatics","__","scriptState","scriptId","scriptLoaded","initialise","finalInit","elementRef","componentDidUpdate","prevProps","currentContent","componentDidMount","channel","scriptTag","referrerPolicy","injectScriptTag","componentWillUnmount","renderInline","renderIframe","initEvent","newContent","propTypes","defaultProps","_setPrototypeOf","_inherits","_typeof2","iterator","_typeof","_possibleConstructorReturn","assertThisInitialized","q","aa","ba","ca","z","A","encodeURIComponent","B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","D","refs","updater","E","F","isReactComponent","setState","forceUpdate","G","isPureReactComponent","H","I","suspense","J","K","L","__self","__source","M","_owner","N","O","P","Q","keyPrefix","R","U","S","T","ea","V","da","W","X","Children","only","createRef","Component","PureComponent","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","forwardRef","lazy","_ctor","_status","_result","memo","useCallback","useContext","useEffect","useImperativeHandle","useDebugValue","useLayoutEffect","useMemo","useReducer","useRef","useState","Fragment","Profiler","StrictMode","Suspense","unstable_SuspenseList","createFactory","unstable_withSuspenseConfig","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","ReactCurrentBatchConfig","ReactCurrentOwner","IsSomeRendererActing","Y","Z","extractEvents","eventTypes","phasedRegistrationNames","ha","registrationName","ia","ja","ka","la","ma","na","oa","qa","sa","ta","va","wa","ra","xa","ya","za","Aa","_dispatchListeners","_dispatchInstances","isPersistent","release","Ba","Ca","injectEventPluginOrder","injectEventPluginsByName","Da","stateNode","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","return","Ma","dispatchConfig","Na","_targetInst","Oa","Pa","Qa","Ra","Sa","Ta","animationend","animationiteration","animationstart","transitionend","Ua","Va","Wa","animation","transition","Xa","Ya","Za","ab","bb","db","eb","gb","hb","nativeEvent","Interface","defaultPrevented","jb","eventPool","kb","destructor","ib","getPooled","persist","eventPhase","bubbles","cancelable","timeStamp","now","isTrusted","lb","mb","ob","pb","qb","sb","tb","ub","beforeInput","bubbled","captured","compositionEnd","compositionStart","compositionUpdate","vb","wb","xb","yb","Cb","locale","which","Ab","char","Bb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","date","datetime","email","month","tel","week","Qb","Rb","correspondingUseElement","Sb","Tb","Vb","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ub","Wb","Xb","Yb","Zb","$b","ac","bc","cc","dc","fc","gc","hc","ic","jc","kc","lc","mc","oc","displayName","pc","_debugOwner","_debugSource","fileName","qc","rc","tc","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","xc","yc","zc","vc","wc","uc","setAttributeNS","Ac","Bc","defaultChecked","_wrapperState","initialChecked","Cc","controlled","Dc","Ec","Fc","Gc","xlinkHref","Hc","change","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Vc","_isInputEventSupported","Wc","Xc","Alt","Control","Meta","Shift","Yc","getModifierState","Zc","$c","ad","bd","cd","fromElement","toElement","movementX","movementY","pointerId","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","fd","mouseEnter","mouseLeave","pointerEnter","pointerLeave","gd","alternate","hd","jd","kd","responder","ld","effectTag","od","qd","pd","Map","Set","rd","animationName","elapsedTime","pseudoElement","sd","ud","vd","Esc","Spacebar","Left","Right","Del","Win","Menu","Apps","Scroll","MozPrintableKey","wd","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","224","xd","repeat","yd","zd","touches","targetTouches","changedTouches","Ad","Bd","wheelDeltaX","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Cd","Dd","Ed","Fd","Gd","Hd","Id","Jd","Kd","Ld","eventPriority","Md","getEventPriority","Nd","Od","Pd","targetInst","ancestors","containerInfo","topLevelType","Qd","Rd","Sd","Td","Ud","Vd","WeakMap","Wd","Xd","Yd","Zd","ae","HTMLIFrameElement","be","ce","ee","fe","ge","he","selectionStart","selectionEnd","je","onSelect","le","ke","options","defaultSelected","dangerouslySetInnerHTML","oe","qe","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","re","mathml","svg","te","ue","ve","MSApp","execUnsafeLocalFunction","namespaceURI","we","xe","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","lineClamp","lineHeight","order","orphans","tabSize","widows","zIndex","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","ye","ze","Ae","setProperty","Ce","menuitem","col","embed","hr","keygen","track","wbr","De","Ee","Fe","Ge","He","Ie","Je","Ke","__html","Le","Me","Ne","Oe","Pe","Qe","Re","Se","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","childContextTypes","Te","Ue","Ve","We","getChildContext","Xe","__reactInternalMemoizedMergedChildContext","Ye","Ze","unstable_runWithPriority","$e","unstable_scheduleCallback","af","unstable_cancelCallback","bf","unstable_shouldYield","cf","unstable_requestPaint","df","unstable_now","ef","unstable_getCurrentPriorityLevel","ff","unstable_ImmediatePriority","hf","unstable_UserBlockingPriority","jf","unstable_NormalPriority","kf","unstable_LowPriority","lf","unstable_IdlePriority","mf","nf","of","pf","qf","rf","sf","tf","uf","vf","wf","xf","yf","zf","Af","Cf","Df","Ef","Ff","Gf","Hf","If","Jf","childExpirationTime","Kf","firstContext","expirationTime","Lf","Mf","observedBits","responders","Nf","Of","baseState","firstUpdate","lastUpdate","firstCapturedUpdate","lastCapturedUpdate","firstEffect","lastEffect","firstCapturedEffect","lastCapturedEffect","Pf","Qf","suspenseConfig","payload","nextEffect","Rf","Sf","updateQueue","memoizedState","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","fg","_reactInternalFiber","cg","dg","eg","gg","shouldComponentUpdate","hg","contextType","ig","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","jg","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","kg","lg","_stringRef","mg","ng","og","pg","elementType","qg","rg","sg","rb","delete","Be","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Hg","memoizedProps","revealOrder","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","dh","eh","fh","hh","ih","jh","baseUpdate","kh","lh","mh","lastRenderedReducer","dispatch","lastRenderedState","eagerReducer","eagerState","nh","oh","ph","qh","rh","sh","readContext","useResponder","uh","vh","wh","xh","yh","pendingProps","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","UNSAFE_componentWillUpdate","componentWillUpdate","Mh","getDerivedStateFromError","Nh","pendingContext","Oh","Ph","fallback","unstable_avoidThisFallback","Qh","rendering","tail","tailExpiration","tailMode","Rh","Sh","Th","Uh","Vh","Wh","$h","bi","onclick","WeakSet","di","gi","ii","ji","ki","mi","_reactRootContainer","oi","wasMultiple","multiple","qi","ri","si","ti","vi","wi","componentDidCatch","xi","componentStack","yi","ceil","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","Ti","Ui","Vi","Wi","timeoutMs","Xi","Yi","pingTime","Zi","firstPendingTime","lastPendingTime","callbackExpirationTime","callbackNode","$i","aj","bj","cj","ej","fj","gj","hj","finishedWork","finishedExpirationTime","timeoutHandle","ij","jj","pingCache","kj","lj","firstBatch","_defer","_expirationTime","_onComplete","dj","busyMinDurationMs","busyDelayMs","mj","createElementNS","nj","zb","focusedElem","selectionRange","ua","gh","oj","__reactInternalSnapshotBeforeUpdate","$d","$a","nc","md","Fj","Xh","Yh","Gj","nd","Zh","gf","pj","qj","rj","Bf","sj","hydrate","unstable_observedBits","uj","pendingChildren","vj","wj","xj","yj","zj","Bj","_root","_callbacks","_hasChildren","_didComplete","_children","Cj","_didCommit","_onCommit","Dj","_internalRoot","Ej","Hj","Jj","Ij","Kj","Aj","commit","unmount","createBatch","Nj","createPortal","findDOMNode","unstable_renderSubtreeIntoContainer","unmountComponentAtNode","unstable_createPortal","unstable_batchedUpdates","unstable_interactiveUpdates","unstable_discreteUpdates","unstable_flushDiscreteUpdates","flushSync","unstable_createRoot","unstable_createSyncRoot","unstable_flushControlled","findFiberByHostInstance","isDisabled","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","tj","overrideHookState","overrideProps","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","bundleType","rendererPackageName","Oj","Pj","unstable_forceFrameRate","MessageChannel","performance","cancelAnimationFrame","postMessage","port2","port1","onmessage","priorityLevel","unstable_next","delay","unstable_wrapCallback","unstable_continueExecution","unstable_pauseExecution","unstable_getFirstCallbackNode","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","mark","awrap","iter","skipTempReset","rootRecord","rval","exception","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propFullName","secret","getShim","isRequired","ReactPropTypes","instanceOf","objectOf","oneOf","checkPropTypes","PropTypes","die","global$1","SimpleResultType","isArrayOf","chunk","map$1","mapToArray","strict","defaultedThunk","asOption","asDefaultedOptionThunk","mergeWithThunk","defaulted","mergeWith","readOpt","readOptFrom","exclude$1","bothErrors","firstError","secondError","bothValues","readOpt$1","readOr$1","readOr","readOptFrom$1","wrapAll$1","keyvalues","kv","consolidate","objs","errors","partitions","partition$1","mergeValues","hasKey$1","hasKey","stype","serror","svalue","Value","SimpleResult","mergeErrors$1","ResultCombine","mergeValues$1","typeAdt","setOf","arrOf","objOf","itemOf","choiceOf","fieldAdt","field","formatObj","getErrorInfo","strictAccess","missingStrict","fallbackAccess","fallbackThunk","cExtractOne","strength","okey","presence","bundle","av","extract","bundleAsOption","optValue","outcome","ov","optionAccess","optionDefaultedAccess","baseThunk","instantiator","value$1","validator","custom","toDsl","getSetKeys","objOfOnly","fieldNames","unsupported","unsupportedFields","cExtract","validatedKeys","validateKeys","validKeys","vk","anyValue","arrOfObj","chooseFrom","branch","missingBranch","vp","choose","missingKey","chosen","_anyValue","valueThunkOf","getDelegate","valueOf","setOf$1","asRaw","errs","extraction","errInfo","formatError","asRawOrDie","es","formatErrors","chooseProcessor","choose$1","anyValue$1","typedValue","expectedType","actualType","_boolean","functionProcessor","postMessageable","isPostMessageable","every","callbackFn","validateEnum","strict$1","strictOf","strictNumber","strictString","strictStringEnum","strictFunction","strictObjOf","objSchema","strictArrayOfObj","objFields","strictArrayOf","optionOf","optionNumber","optionString","optionFunction","optionObjOf","defaulted$1","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedObjOf","state$1","isSource","component","simulatedEvent","nu$4","fuse","can","all$1","abort","touchstart","touchmove","touchend","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","click","selectstart","alloy","tap","postBlur","postPaste","receive","execute","focusItem","tapOrClick","longpress","sandboxClose","typeaheadCancel","systemInit","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight","dehighlight","dispatchWith","emitWith","emitExecute","getSystem","triggerEvent","dispatchEvent","EventConfiguration","child_1","transform","derive","configs","prevent","runActionExtra","runOnSourceName","redirectToPart","partName","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute","runOnName","sort$1","validateStrArr","MixedBag","optional","everything","sorted","checkDupes","req","reqMessage","unsuppMessage","shallow$1","getHtml","originator","isRecursive","DefaultEvents","generate$1","idAttr","prefix$1","idAttr$1","writeOnly","read$1","generate$2","NoContextApi","getComp","debugInfo","triggerFocus","triggerEscape","build","addToWorld","removeFromWorld","addToGui","removeFromGui","broadcast","broadcastOn","broadcastEvent","isConnected","singleton","cleanParameters","parameters","endsWith","markAsExtraApi","extraName","openBracketIndex","toFunctionAnnotation","premadeTag","premade","comp","makeApi","apiFunction","markAsSketchApi","getApis","NoState","nu$5","readState","byInnerKey","indexKey","chain","nu$6","curryArgs","descHandler","extraArgs","purpose","cHandler","getCurried","behaviourTuple","groupByEvents","behaviours","behaviourEvents","behaviour","nameToHandlers","assemble","rawHandler","fuse$1","tuples","eventOrder","keyName","sliced","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","missingOrderError","combineGroups","byEventName","assembled","uncurried","toEvents","read$2","internalSet","internalRemove","set$2","setAll$1","get$4","isValidValue","reflow","set$3","generateFrom$1","validated","optBlobThunk","config","generateFrom","generate$3","getBehaviours$1","getDomDefinition","bList","bData","defnA","mod","definition","domChildren","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine","getEvents","baseEvents","combine$1","getMe","systemApi","toInfo","bBlob","getBehaviours","subject","innerHtml","renderToDom","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","subs","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","external","extSpec","uids","getPremade","userSpecWithUid","prebuilt","premade$1","descendant$1","closest$3","manager","ariaId","unlink","isAriaPartOf","queryElem","_isPartOf","cat","findMap","eventConfig","processEvent","initialTarget","NORMAL","noLogger","LOGGING","logger","sequence","logEventCut","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema","_initSize","tieredMenuMarkers","onPresenceHandler","lines","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","snapshot","initSize","loadEvent","bConfig","bState","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","_name2","getConfig","wrappedApis","apiF","wrappedExtra","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","modeSchema","createModes$1","modes","createModes","branchKey","ActiveReceiving","receiveConfig","channelMap","channels","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","Receiving","ActivePosition","posConfig","useFixed","get$6","getOuter$1","getOuter$2","paths","pointed","bounds","xy","allAlignments","nu$7","yoffset","getClasses","xDelta","yDelta","alignmentsOn","alignmentsOff","classesOn","classesOff","southeast","southwest","south","northeast","northwest","north","east","west","innerNorthwest","innerNortheast","innerNorth","innerSouthwest","innerSoutheast","innerSouth","innerWest","innerEast","nu$8","adt$2","eastX","middleX","westX","northY","southY","centreY","southeast$1","southwest$1","northeast$1","northwest$1","north$1","south$1","east$1","eastEdgeX","west$1","westEdgeX","all$2","allRtl","decision","adt$3","positionWithDirection","posName","decisionX","decisionY","decisionRight","decisionBottom","cata","toBox","origin","viewport$1","getBounds","nu$9","onDirection","isLtr","getDirection","schema$1","get$9","defaultLtr","defaultRtl","ltr","layouts","ls","onLtr","rtl","onRtl","HotspotAnchor","anchorInfo","hotspot","anchorBox","overrides","placer","MakeshiftAnchor","adt$4","adt$5","relativeToNative","setFinish","exactToNative","toRect","adt$6","fromRange","diagnose","rev","doDiagnose","inRect","api$2","get$a","locateOffset","textnode","rangeForOffset","rectForOffset","curDeltaX","searchForPoint","searchInChildren","locateNode","locate","elementsWithCursorPosition","isCursorPosition","last$1","descendantRtl","getCollapseDirection","createCollapsedNode","collapseDirection","locateInElement","cursorRange","locateInEmpty","searchTextNodes","boundedX","boundedY","locate$1","after$2","makeRange","same","doGetExact","firstRng","getFirstRect$1","getFirstRect","asLtrRange","adt$7","screen","toFixed","points","sumAsAbsolute","absolute$1","getRootPoint","outerScroll","frame","frameOwner","compOwner","ContentAnchorCommon","newLeft","newTop","newWidth","newHeight","optBox","rootPoint","onNone","onRelative","onFixed","topLeft","sumAsFixed","showAbove","point$1","descendOnce$1","descendOnce","getAnchorSelection","getExact","modStart","modFinish","SelectionAnchor","selectionBox","rawRect","NodeAnchor","nodeBox","eastX$1","westX$1","northY$1","southY$1","southeast$2","southwest$2","northeast$2","northwest$2","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","box$1","adt$8","fit","nofit","attempts","elementBox","panelWidth","panelHeight","attemptBestFit","layout","deltaW","deltaH","candidateX","candidateY","bubbleLeft","bubbleTop","boundsX","boundsY","boundsWidth","boundsHeight","newX","newY","xInBounds","yInBounds","originInBounds","sizeInBounds","minX","limitX","limitY","upAvailable","downAvailable","maxHeight","cataVertical","candidateYforTest","attempt","newReposition","newDeltaW","newDeltaH","bestNext","preference","addPx","num","setOptions","setMaxHeight","absMax","setMax","anchored","available","expandable","reparteeOptions","go","classInfo","setClasses","maxHeightFunction","setHeight","place","anchoring","placee","overrideOptions","dephault","defaultOr","positionWithin","posState","boxElement","boundsBox","positionWithinBounds","anchorage","oldVisibility","getRelativeOrigin","placement","doPlace","vis","PositionApis","getMode","pConfig","pState","PositionSchema","Positioning","fireDetaching","fireAttaching","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemInternal","inserter","detachSystem","sandbox","sConfig","sState","newState","getAttachPoint","built","rebuild","onOpen","onClose","isOpen","cloak","sink","cssKey","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","openWhileCloaked","transaction","isPartOf","getState","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","Sandboxing","dismissPopups","mouseReleased","schema$2","receivingConfig","rawSpec","receiving","isExtraPart","fireEventInstead","field$1","forbidden","get$b","dump","augment","SketchBehaviours","adt$9","single","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substituteAll","substitute","valueThunk","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","replacements","used","oneReplace","placeholder","adt$a","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","name$1","convert","adtConstructor","partSchema","external$1","PartType","asCommon","combine$2","partSpec","partValidated","generate$4","np","doGenerateOne","pname","generateOne","schemas","substitutes","internals","externals","factory","_partSpec","_partValidated","units","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","asRawOrDie$1","partSchemas","partUidsSchemas","baseS","composite","specWithUid","supplyUid","partUidsSchema","FocusInsideModes","singleSchema","compositeSchema","single$2","rawConfig","extraApis","partFields","configFields","single$1","composite$1","inside","ComposeApis","getCurrent","composeConfig","composeState","ComposeSchema","Composing","cycleBy","cap","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight$1","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","getLast","getDelta","dest","getCandidates","HighlightApis","dehighlightAll","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","HighlightSchema","Highlighting","cyclePrev","tryPrev","cycleNext","tryNext","inSet","and","preds","isShift","isControl","isNotShift","classification","focus$1","search$1","reportFocusShifting","prevFocus","newFocus","focusee","highlights","initialState","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","onFocusHandler","focusInside","OnFocusMode","focusIn","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$3","cyclicField","tabbingConfig","visibilitySelector","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","tabbingState","onEscape","onEnter","AcyclicType","CyclicType","defaultExecute","focused","doDefaultExecute","stopEventForFirefox","schema$3","execute$1","executeConfig","ExecutionType","executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid","dimensions","numRows","numColumns","setGridSize","getNumRows","getNumColumns","KeyingState","useH","use","west$2","moveLeft","moveRight","east$2","useV","north$2","south$2","indexInfo","locateVisible","locate$2","withGrid","numCols","address","newIndex","column","cycleHorizontal","oldRow","oldColumn","colsInRow","newColumn","cycleVertical","newRow","newCol","schema$4","gridConfig","gridState","doMove","identified","handleTab","captureTab","moveNorth","moveSouth","getKeydownRules$1","getKeyupRules$1","FlatgridType","horizontal","tryCycle","schema$5","execute$3","flowConfig","findCurrent$1","focusIn$1","getInitial","moveLeft$1","moveRight$1","doMove$1","executeOnMove","doEscape$1","_flowState","getKeyupRules$2","FlowType","_component","_se","westMovers","allowVertical","eastMovers","matrix","rowIndex","columnIndex","cycleHorizontal$1","startCol","deltaCol","newColIndex","cycleVertical$1","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$6","focusIn$2","matrixConfig","previousSelector","doMove$2","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","toMatrix","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$3","getKeyupRules$3","MatrixType","schema$7","execute$5","menuConfig","focusIn$3","moveUp$1","moveDown$1","getKeydownRules$4","moveOnTab","getKeyupRules$4","MenuType","schema$8","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","flatgrid$1","execution","menu","Keying","keyConfig","keyState","sendFocusIn","replaceConfig","childSpec","remove$7","replaceState","removee","replaceAt","replaceeIndex","replacer","replacee","appendAt","Replacing","appendee","prependee","replaceBy","replaceePred","ownerDoc","refocus","oldFocus","preserve","onLoad","repConfig","repState","onUnload","RepresentApis","ActiveRepresenting","resetOnDom","memory","isNotSet","dataset","dataByValue","dataByText","itemString","update","currentDataByValue","currentDataByText","newDataByValue","newDataByText","RepresentState","manual","setValue$1","onSetValue","DatasetStore","getDataKey","getFallbackEntry","ManualStore","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","eventHandlers","events$4","focus$2","focusConfig","FocusApis","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","set$6","on$1","onLoad$4","ToggleApis","isOn","ActiveToggle","executor","toggleOnExecute","updateExpanded","ToggleSchema","pressed","syncWithExpanded","expanded","Toggling","onHover","_onFocus","hover","focus$3","schema$9","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$a","schema$b","components$1","focusWidget","widget","onHorizontalArrow","autofocus","setSource","widgetBehaviours","itemSchema$1","separator","parts$1","itemInfo","builder","fakeFocus","schema$c","grid","movementInfo","rowSelector","focus$4","menuBehaviours","selectedItem","role","generate$5","menus","expansions","byItem","byMenu","menuPaths","_triggerItem","trace","triggerItem","triggerMenu","LayeredState","primary","lookupMenu","menuValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","itemValue","refresh","otherMenus","menuValues","getPrimary","primaryName","prep","getMenus","isClear","collapseItem","tieredMenu","collapseMenu","tmenu","highlightPrimary","rawUiSpec","ExpandHighlightDecision","submenuParentItems","layeredState","componentMap","makeSketch","nbMenu","buildMenus","toDirectory","getItemValue","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","itemComp","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","updateView","HighlightParent","currentMenu","currentItem","tmenuBehaviours","keyInfo","selectedMenu","tieredData","singleData","InlineView","showWithin","thing","lazySink","showAt","showWithinBounds","showMenuAt","menuSpec","menuSandbox","makeMenu","inlineBehaviours","getRelated","isPartOfRelated","fireDismissalEventInstead","events$7","optAction","pointerEvents","Button","lookupAttr","buttonBehaviours","roleAttrs","getModAttributes","isSketchSpec","anyInSystem","getOpt","asSpec","defaultIcon","get$c","getFirst$1","notificationIconMap","warning","Notification","memBannerText","translationProvider","renderPercentBar","renderPercentText","memBannerProgress","updateProgress","updateText","text$1","banner","iconChoices","iconProvider","onAction","global$2","extras","uiMothership","backstage","closeCallback","notificationWrapper","shared","providers","getSink","moveTo","anchors","nuText","getEl","prePositionNotifications","firstItem","getEditorContainer","positionNotifications","ItemResponse","global$3","outcome$1","aborted","phase","kontinue","recent","terminate","repeatLeft","detect$4","whiteSpace","findStart","initRange","minChars","optOffset","_char","triggerChar","AutocompleterEditorEvents","onKeypress","redirectKeyToItem","getView","isActive","cancelIfNecessary","isMenuOpen","global$4","point$2","toLast","toLeaf","getDatabase","database","triggerChars","getTriggerContext","lookupWithContext","fetchOptions","startText","autocompleters","lookupByChar","autocompleter","isStartOfWord","lookupData","fetch","maxResults","matchText","separatorMenuItemSchema","autocompleterItemSchema","autocompleterSchema","popup","createAutocompleter","stringArray","datasetValues","dv","commonMenuItemFields","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","choiceMenuItemSchema","fancyMenuItemSchema","detectSize","selectorClass","columnLength","thisTop","cTop","namedEvents","SimpleBehaviours","TooltippingSchema","TooltippingState","clearTimer","getTooltip","isShowing","setTooltip","clearTooltip","resetTimer","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","tState","TooltippingApis","setComponents","specs","tooltip","Tooltipping","tooltipConfig","tooltipDom","tooltipComponents","fromHtml$2","getAttrs","global$5","navClass","selectableClass","presetClasses","normal","textClass","activeClass","classForPreset","presets","global$6","ConvertShortcut","updated","segment","renderIcon","iconHtml","renderText","renderStyledText","styleAttr","renderShortcut","renderCheckmark","renderNormalItemStructure","renderIcons","textRender","rtlClass","leftIcon","checkMark","domTitle","ariaLabel","optComponents","htmlContent","renderHtml","shortcutContent","rtlIcon","rtlTransform","renderItemStructure","providersBackstage","fallbackIcon","iconName","itemText","iconSvg","providerBackstage","needRtlClass","iconContent","getDom","nativeDisabled","onLoad$5","disableConfig","disableState","disable","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","disableClass","onDisabled","enable","onEnabled","nativeIsDisabled","ariaIsDisabled","DisableApis","ActiveDisable","DisableSchema","Disabling","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onSetup","onControlDetached","ItemResponse$1","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","structure","buildData","global$7","tooltipBehaviour","sharedBackstage","tooltipWorker","_tooltip","replaceText","encoded","encodeText","escapedMatchRegex","escapeRegExp","parts$2","cellOverEvent","cellExecuteEvent","makeCell","labelId","makeCells","selectCells","selectedRow","selectedColumn","makeComponents","cellRow","makeLabelText","hexColour","hexString","shorthandRegex","longformRegex","isHexString","extractValues","longForm","getLongForm","splitForm","fromRgba","rgbaColour","red","green","blue","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","fromHex","fromStringValues","rgba","redColour","global$8","storageName","choiceItem","defaultColors","colorCache","storageString","localstorage","ColorCache","mapColors","colorMap","colors","canvas","ctx","byteAsHex","colorByte","alphaByte","asHexColor","clearRect","fillStyle","fillRect","getImageData","getColorMap","defaultCols","unmapped","getCurrentColor","calcCols","getColorCols$1","applyColor","onChoice","colorPickerDialog","colorOpt","getMenuColors","hasCustom","getAdditionalColors","getFetch","setIconColor","splitButtonApi","newColor","pathId","setIconFill","setIconStroke","registerTextColorButton","lastColor","currentRgb","rgbaString","rgbMatch","rgbaMatch","fromString","currentHex","onItemAction","registerTextColorMenuItem","getSubmenuItems","fancytype","initialData","colorpicker","getOnSubmit","onCancel","ColorSwatch","registerCommands","lastForeColor","lastBackColor","getColors","getColorCols","chunk$1","rowDom","chunks","forCollection","initItems","hasIcons","isSeparator","allSplits","currentSplit","preprocessCollection","forMenu","markers$1","menuClasses","dom$1","hasIcon","handleError","createPartialMenuWithAlloyItems","forSwatch","forToolbar","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","createChoiceMenuItem","useText","isSelected","setDisabled","_api","renderChoiceItem","deriveMenuMovement","menuMarkers","FocusMode","fancyMenuItems","inserttable","sizeLabelId","memLabel","colorswatch","colorinput","hasCustomColors","widgetSpec","autocomplete","nested","toggle$1","fancy","hasIcon$1","menuHasIcons$1","createMenuItemFromBridge","menuHasIcons","createMenuItem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createSeparatorItem","createAutocompleterItem","createPartialMenu","createItem","createTieredDataFrom","partialMenu","Autocompleter","activeAutocompleter","hideIfNecessary","lastElement","getAutocompleters","getCombinedItems","choices","itemMeta","nr","autocompleterApi","reload","BUBBLE_TO_SANDBOX","focusMode","ContentFocus","createMenuFrom","doLookup","lookupInfo","commenceIfNecessary","combinedItems","rawEvent","kill","mkEvent","binder","useCapture","filter$1","bind$3","bind$2","capture$1","closest$4","DelayedFunction","schedule","getTouch","monitor","startData","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","settingsSchema","rawSettings","tapEvent","simpleEvents","tapStopped","pasteTimeout","onKeydown","stopBackspace","isDangerous","bindFocus","focusoutTimeout","bindBlur","derive$2","rawTarget","getTarget","adt$b","stopped","resume","doTriggerHandler","eventType","isStopped","isCut","fromSource","handlerInfo","eventHandler","fromExternal","triggerOnUntilStopped","doTriggerOnUntilStopped","broadcastHandler","EventRegistry","registerId","unregisterId","handlersById","filterByType","isAboveRoot","readType","findHandler","Registry","tagId","readOrTag","conflict","failOnDuplicate","ToolbarDrawer","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","_getByUid","_getByDom","_addToWorld","_removeFromWorld","broadcast$1","_broadcastOn","_broadcastEvent","broadcastData","receivers","receiver","global$9","getMinWidthSetting","min_width","getMinHeightSetting","min_height","isMenubarEnabled","isToolbarEnabled","isToolbarTrue","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsSetting","toolbarKeys","toolbars","toolbarArray","getToolbarDrawer","fixedContainerElement","fixedContainerSelector","useFixedContainer","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","schema$d","parts$3","excludeFactory","FormField","fieldBehaviours","descriptorId","getField","getLabel","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingSchema","Coupling","coupled","ActiveStreaming","streamConfig","streamState","processor","stream","streams","cancelEvent","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","HighlightOnOpen","nu$a","make$3","partType","getAnchor","getHotspot","getAnchorOverrides","open$1","mapFetch","onOpenSync","highlightOnOpen","futureData","fetcher","getLazySink","tdata","HighlightFirst","openF","close$1","_externals","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$4","sinkDetail","internalSink","lazySinkFn","makeSandbox","ariaOwner","sandboxClasses","sandboxBehaviours","setValueFromItem","model","itemData","setCursorAtEnd","setSelectionOn","setSelectionRange","attemptSelectOver","selectsOver","currentValue","inputDisplay_1","getDisplayText","setSelectionToEnd","schema$e","focusBehaviours","selectOnFocus","inputBehaviours","dom$2","inputAttributes","inputStyles","inputClasses","itemExecute","sandboxFields","schema$f","parts$4","previewing","populateFromBrowse","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","responseTime","previousValue_1","_sandbox","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeaheadBehaviours","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormField","renderFormFieldDomWith","renderLabel","separator$1","unwrapReferences","realItems","isMenuItemReference","getFromItem","isExpandingMenuItem","submenuItems","getFromExpandingItem","itemWithValue","generateValueIfRequired","newData","build$2","mainMenu","submenus","Input","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","validHtml","onValid","markInvalid","invalidState","onInvalid","validatorInfo","run$1","onValidate","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","schema$g","parts$5","Dropdown","_spec","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","ActiveUnselecting","unselectConfig","unselectable","Unselecting","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","hsvColour","fieldsUpdate","sliderUpdate","paletteUpdate","platform","labelPart","edgePart","edgeActions","touchEvents","mouseEvents","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","SliderParts","getValueFromEvent","spectrum","isTouch$1","sliderChangeEvent","getEventSource","touchEvent","mouseEvent","minY","min1X","min1Y","max1X","max1Y","range$2","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","xValue","yValue","xyValue","fireSliderChange","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$1","sliderValue","findValueOfOffset","handleMovement","moveBy","findPositionOfValue","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","HorizontalModel","sliderVal","setToMin","setToMax","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$2","sliderValue$1","findValueOfOffset$1","handleMovement$1","moveBy$1","findPositionOfValue$1","findOffsetOfValue$2","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange$3","sliderValue$2","handleMovement$2","isVerticalMovement","moveBy$2","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","isTouch$2","SliderSchema","isTouch$3","Slider","getThumb","modelDetail","changeValue","_simulatedEvent","onDragStart","uiEventsArr","sliderBehaviours","wasDown","onChoose","getInitialValue","resetToMin","resetToMax","HueSlider","getClass","_thumb","schema$h","getPartName","make$5","formBehaviours","resPs","resPThunk","pName","Form","fSpec","_record","fieldParts","validInput","invalidInput","validatingInput","RgbForm","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","translatePrefix","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","SaturationBrightnessPalette","_translate","spectrumPart","thumbPart","setColour","grdWhite","createLinearGradient","addColorStop","grdBlack","_detail","_slider","setRgba","_apis","setSliderColour","ColourPicker","rgbForm","onInvalidHex","sbPalette","paletteRgba","memPalette","memRgb","updatePalette","palette","updateFields","runUpdates","updates","hsvColour$1","fromRgb","newHsvColour","nuHex","paletteUpdates","calcHex","sliderUpdates","ComposingConfigs","mem","english","getEnglishText","global$a","processors","withComp","optInitialValue","getter","setter","RepresentingConfigs","rawProcessors","other","postprocess","renderDropZone","actions","transferEvent","handleFiles","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","triggerTab","NavigableObject","targetComp","platformNeedsSandboxing","renderIFrame","isSandbox","sandboxed","sourcing","cachedValue","frameComponent","getDynamicSource","resize","tCanvas","get2dContext","drawImage","naturalWidth","getHeight","naturalHeight","Promise$1","dataUriToBlob","mimetype","byteCharacters","bytesLength","slicesCount","byteArrays","sliceIndex","begin","bytes","dataUriToBlobSync","canvasToBlob","quality","HTMLCanvasElement","toBlob","toDataURL","blobToCanvas","blobUrl","Image","blobToImage","revokeImageUrl","getCanvas","initialType","toAdjustedDataURL","canvasToDataURL","getType","toBase64","toAdjustedBlob","toAdjustedBase64","dataurl","toCanvas","fromBlob","blobToDataUri","fromCanvas","parsedValue","DELTA_INDEX","multiply","matrix1","matrix2","colorFilter","ir","pixels","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","applyMatrix","putImageData","applyColorFilter","convoluteFilter","pixelsIn","pixelsOut","pIn","pOut","aMatrix","halfSide","drgba","cy","cx","scx","innerOffset","wt","applyConvoluteFilter","complexAdjustableColorFilter","matrixAdjustFn","adjust","kernel","colorFn","invert","basicColorFilter","contrast","colorize","adjustR","adjustG","adjustB","adjustColors","sharpen","gamma","applyLookup","filterImpl","scale","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","rotate","angle","translateX","translateY","PI","applyRotate","axis","applyFlip","crop","applyCrop","invert$1","sharpen$1","gamma$1","brightness$1","contrast$1","flip$1","resize$2","newCanvas","resize$1","rotate$1","renderIcon$1","renderIconFromPack","iconsProvider","renderReplacableIconFromPack","renderLabel$1","internalToolbarButtonExecute","toolbarButtonEventOrder","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","displayText","displayIcon","getMenuButtonApi","renderMenuButton","renderCommonSpec","actionOpt","common","domFinal","renderIconButtonSpec","renderIconButton","iconButtonSpec","renderButtonSpec","translatedText","borderless","renderButton","buttonSpec","buttonType","renderFooterButton","isMenuFooterButtonSpec","isNormalFooterButtonSpec","schema$i","coupledPart","selfName","otherName","lock","onLockedChange","parts$6","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","supported","noSizeConversion","makeRatioConverter","currentFieldText","otherFieldText","cSize","oSize","ratioSizeConversion","renderSizeInput","converter","ratioEvent","pLock","formGroup","getFieldPart","isField1","widthField","heightField","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","back","swap","tempTransform","transformApply","saveState","disable$1","enable$1","external$2","renderEditPanel","imagePanel","createButton","createIconButton","disableAllComponents","eventcomp","enableAllComponents","panelDom","noop$1","emit$1","emitDisable","emitEnable","emitTransform","getBackSwap","memContainer","ButtonPanel","emitTransformApply","createBackButton","createSpacer","createApplyButton","makeCropTransform","crop$1","cropPanelComponents","hideCrop","CropPanel","memSize","constrain","resizePanelComponents","sizeInput","makeResizeTransform","ResizePanel","makeValueTransform","horizontalFlip","verticalFlip","counterclockwiseRotate","clockwiseRotate","flipRotateOnAction","operation","emitTempTransform","flipRotateComponents","FlipRotatePanel","makeSlider","makeVariableSlider","valTransform","createVariableFilterPanel","filterPanelComponents","variableFilterPanelComponents","FilterPanel","BrightnessPanel","ContrastPanel","GammaPanel","makeColorTransform","colorize$1","makeColorSlider","redOpt","memRed","blueOpt","memBlue","greenOpt","memGreen","colorizePanelComponents","ColorizePanel","getTransformPanelEvent","panel","sharpenTransform","invertTransform","buttonPanelComponents","_anyInSystem","showCrop","measurements","getMeasurements","getApplyButton","global$b","global$c","global$d","global$e","global$f","updateWithTouchData","DragHelper","$eventOverlay","downButton","_stop","drag","handleElement","cursor","docSize","getDocumentSize","runtimeStyle","renderImagePanel","initialUrl","memBg","zoomState","rectState","viewRectState","repaintImg","panelW","panelH","cRect","setRect","setClampRect","setViewPortRect","updateSrc","aImg","lastViewRect","viewRect","zoomFit","currentRect","viewPortRect","handles","dragHelpers","blockers","getRelativeRect","outerRect","innerRect","moveRect","startRect","setInnerRect","repaint","updateElementRect","xMul","yMul","relativeRect","blocker","activeHandle","moveAndBlock","toggleVisibility","getInnerRect","helper","CropRect","currentZoom","newZoom","setButtonEnabled","Delimiter","makeState","blobState","tempState","undoStack","canUndo","canRedo","UndoStack","setBlobState","createState","destroyState","destroyTempState","addBlobState","getBlobState","getTempState","updateTempState","newTempState","addTempState","applyTempState","postApply","currentState","getHistoryStates","undoEnabled","redoEnabled","renderImageTools","updateButtonUndoStates","historyStates","sideBar","imageResultToBlob","unblock","editPanel","applyButton","blobManipulate","blobToImageResult","oImg","manipulate","currentUrl","memUndo","memRedo","renderSideBar","tempManipulate","manipulateApply","disableUndoRedo","HtmlSelect","initialValues","selectClasses","selectAttributes","selectBehaviours","baseInputBehaviours","multiline","validatingBehaviours","vl","classname","extraClasses2","maximized","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$c","worker","FutureResult","separator$2","toMenuItem","staticMenuItem","filteredTargets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","renderCollection","runOnItem","collectionEvents","tgt","currentActive","htmlLines","mapItemName","make$6","factories","bar","interpreter","renderBar","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","listbox","renderListbox","backstageShared","renderLabel$2","iframeSpec","makeIframe","renderAutocomplete","renderDialogButton","repBehaviour","toggleCheckboxHandler","makeIcon","memIcons","renderCheckbox","colourPickerFactory","memPicker","picker","dropzone","renderGrid","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","urlinput","updateHistory","urlEntry","addToHistory","filetype","memUrlBox","getValidationHandler","memInvalidIcon","invalidComp","_menu","_entry","_item","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","urlData","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","isOldCustomEditor","cvalue","htmlpanel","imagetools","renderTh","renderTd","renderTr","renderTable","renderPanel","noFormParts","_name","interpretInForm","oldBackstage","newBackstage","interpretParts","westEdgeX$1","middleX$1","eastEdgeX$1","northY$2","southY$2","southeast$3","southwest$3","northeast$3","northwest$3","north$3","south$3","bubbleAlignments","valignCentre","alignCentre","alignLeft","alignRight","getToolbarAnchor","lazyAnchorbar","useFixedToolbarContainer","getBannerAnchor","getToolbarOverflowAnchor","lazyMoreButton","getCursorAnchor","getNodeAnchor","Anchors","toolbarOverflow","hasCustomColors$1","getColors$1","getColorCols$2","ColorInputBackstage","defaultStyleFormats","mapFormats","userFormats","customFormats","isInlineFormat","isBlockFormat","isSelectorFormat","formatName","getStyleFormats","getUserStyleFormats","registeredUserFormats","registerFormats","registerCustomFormats","isMergeStyleFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","doEnrich","newItems_1","submenuSpec","enrichMenu","getStyleItems","enrichSupported","customSpec","newItem","enrichCustom","init$7","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","getElementText","isValidAnchor","isAnchor","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","find$1","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","getTextSetting","getPicker","file_picker_callback","getPickerSetting","pickerTypes","optFileTypes","file_picker_types","optLegacyTypes","file_browser_callback_types","optTypes","_picker","getPickerTypes","UrlInputBackstage","typeahead_urls","_getLinkInformation","file_picker_validator_handler","filepicker_validator_handler","_getValidationHandler","_getUrlPicker","isDraggableModal$1","isDraggableModal","DialogBackstage","init$8","interpretWithoutForm","styleselect","schema$j","parts$7","Toolbar","getGroupContainer","shell","toolbarBehaviours","setGroups","output$1","apportion","parray","within","withinWidth","toUnit","partition$3","overflower","divide","tryFit","fits","fitLast","fitAll","setStoredGroups","storedGroups","bGroups","overflowButton","overflowGroup","focusedComp","overf","focusedElm","findFocusedComp","builtGroups","overflows","schema$k","parts$8","ToolbarGroup","tgroupBehaviours","itemSelector","schema$l","_spec2","splitToolbarBehaviours","coupling","_button","toggleToolbar","doSetGroups","getMoreButton","_getMoreButton","getOverflow","_getOverflow","schema$m","parts$9","overflowToggledClass","isOpen$1","over","refresh$1","SplitFloatingToolbar","spec$1","makeSandbox$1","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isTransitioning","toggleGrow","ActiveSliding","onGrown","SlidingSchema","Sliding","schema$n","parts$a","toggleToolbar$1","refresh$3","isOpen$2","SplitSlidingToolbar","ReadOnlyDataSchema","toggleToReadOnly","uiComponents","outerContainer","mothership","broadcastReadonly","setupReadonlyModeSwitch","createReadonlyReceivingForOverflow","setDisabledAll","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","renderSlidingMoreToolbar","renderToolbar","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","ReflectingApis","reflectState","ActiveReflecting","reflectingConfig","reflectingState","updateState","renderComponents","newComponents","rawData","ReflectingState","optS","ReflectingSchema","Reflecting","schema$o","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$b","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","rtlIcon$1","rtlTransform$1","renderCommonStructure","getIconName","needsRtlClass","renderCommonToolbarButton","specialisation","itemApi","buttonApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","runOnExecute$1","formApi","getFormApi","generateOne$1","bridged","renderContextToggleButton","renderContextButton","ContextForm","findPrimary","mementos","asSpecs","compInSystem","generate$7","forwardSlideEvent","backSlideEvent","changeSlideEvent","getHorizontalBounds","contentAreaBox","contentBoxWidth","maxViewportWidth","matchTargetWith","toolbarApi","ToolbarLookup","scopes","inNodeScope","inEditorScope","transformed","ancestor$2","ToolbarScopes","formNavigators","lookupTable","registerForm","contextForm","createContextForm","launch","registerToolbar","createContextToolbar","contextToolbar","onSetupFormatToggle","unbindCell","onActionToggleFormat","rawItem","generateSelectItems","generateItem","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","setInitialValue","getComponent","nodeChangeHandler","ResizeTypes","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec","updateSelectMenuIcon","alignment","systemStackFonts","splitFonts","getSpec$1","getMatchingValue","getFirstFont","matchOpt","matchesSystemStack","isSystemFontStack","updateSelectMenuText","legacyFontSizes","getSpec$2","px","_loop_1","pt","legacy","Space","findNearest","getStyles","getCurrentSelectionParents","getSpec$3","getSpec$4","flattenedItems","getFormatItems","defaultToolbar","renderFromBridge","bridgeBuilder","renderToolbarButton","togglebutton","renderToolbarToggleButton","menubutton","splitbutton","displayChannel","underlinePath","buttonComp","renderSplitButton","styleSelectButton","createStyleSelect","fontsizeSelectButton","createFontsizeSelect","fontSelectButton","createFontSelect","formatButton","createFormatSelect","alignMenuButton","createAlignSelect","bespokeButtons","fontsizeselect","fontselect","formatselect","createToolbar","toolbarConfig","filteredItemGroups","subItem","removeUnusedDefaults","strToolbar","groupsStrings","convertStringToolbar","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","identifyButtons","toolbarGroups","ContextToolbar","registryContextToolbars","contextbar","currentWidth","newContents","oldContents","forwardContents","renderContextToolbar","toolbarOrMenubarEnabled","getDistractionFreeBounds","containerBox","windowHeight","getInlineBounds","contentBoxHeight","maxViewportHeight","getIframeBounds","shouldContextToolbarHide","nodeBounds","ele","viewportHeight","aboveViewport","isToolbarDocked","getViewportTop","belowViewport","hideOrRepositionIfNecessary","lastAnchor","contextBarEle","scroller","onScroll_1","wrapInPopDialog","getScopes","alloySpec","buildToolbar","allButtons","toolbarKey","launchContext","anchorOverrides","lineAnchorSpec","anchorSpec","sElem","launchContextToolbar","Events$1","onMousedown","ship","onTouchstart","onMouseup","onContentMousedown","onContentMouseup","onWindowScroll","onWindowResize","schema$p","itemsPart","parts$c","CustomList","name$2","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","parts$d","partType$1","SilverMenubar","setMenus","newMenus","activeButton","hoveredButton","activeComp","hoveredComp","schema$q","getPartName$1","make$7","getSlotNames","onSlot","def","slot","doShowing","hideSlot","visible","hideSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","slotApis","SlotContainer","sSpec","_record2","sidebarSchema","makePanels","panelConfigs","createSidebar","sidepanel","sidePanelSpec","makeSidebar","slotContainer","_whichSidebar","sidebar","fixSize","autoSize","renderSpinner","lazyThrobber","throbberState","toggleThrobber","timerId","partMenubar","partMultipleToolbar","mToolbar","partToolbar","sliding","floating","toolbarFactory","renderer","moreDrawerData","lazyToolbar","partSocket","partSidebar","partThrobber","OuterContainer","getSocket","setSidebar","_setSidebar","toggleSidebar","_toggleSidebar","whichSidebar","getToolbar","setToolbar","setToolbars","refreshToolbar","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","grps","grp","ts","renderedToolbars","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","menuData","removedMenuItems","getRemovedMenuItems","removedMenuItem","make$8","SkinLoaded","loadSkin","skinUiCss","skin","skin_url","skinName","getSkinUrl","isSkinDisabled","rawUiConfig","toolbarButtonsConfig","isTouch$4","Iframe","lastToolbarWidth","attachSystemAfter","initialDocEle","lastWindowDimensions","lastDocumentDimensions","docEle","outer","elementLoad","setupEvents","socket","drawer","getOrigin","offsetParent$1","offsetP","adt$c","subtract","transform$1","asFixed","coord","asAbsolute","asOffset","toStyles","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","absolute$2","fixed$1","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isCompletelyVisible","morphToAbsolute","dockInfo","leftAttr","topAttr","getPrior","clearPrior","morphToFixed","absLeft","absTop","setPrior","asFixed$1","viewportPt","fixedViewport","fixedY","refresh$4","lazyViewport","contextInfo","lazyContext","isPartiallyVisible","getMorph","morph","DockingApis","ActiveDocking","dockState","DockingSchema","Docking","Inline","floatContainer","splitSetting","setChromePosition","isDocked","calcPosition","tbar","updateChromeUi","uiContainer","getUiContainer","AlignmentButtons","alignNoneToolbarButton","registerButtons","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","SimpleControls","registerMenuItems","toggleUndoRedoState","checkState","onUndoStateChange","UndoRedo","registerMenuItems$1","registerButtons$1","VisualAid","registerToolbarButton","toggleVisualAidState","registerMenuItems$2","IndentOutdent","toggleOutdentState","registerButtons$2","ComplexControls","alignSelectMenu","fontSelectMenu","styleSelectMenu","formatSelectMenu","fontsizeSelectMenu","FormatControls","nu$d","transposeContentAreaContainer","containerPos","dx","dy","transpose$1","getPointAnchor","fromPageXY","fromClientXY","getSelectionAnchor","patchPipeConfig","Settings$1","contextmenu_never_use_native","defaultItems","getMenuItems","isSeparator$1","separator$3","makeContextItem","addContextMenuGroup","groupItems","setup$7","contextmenu","isNativeOverrideKeyEvent","isTriggeredByKeyboardEvent","getNodeAnchor$1","selectedElement","items_1","allItems","generateContextMenu","Utils","instigate","anyComponent","zindex","changeZIndex","discard","initZIndex","resetZIndex","getCoords","snapInfo","snapsInfo","get$d","moveOrSnap","newCoord","findSnap","fixedCoord","set$8","spanned","stopDrag","snaps","getSnapPoints","sensor","coord1","coord2","withinRange","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","snapping","onSensor","dragBy","dragConfig","repositionTarget","getCurrentCoord","calcStartData","SnapSchema","init$b","dragApi","forceDrop","delayDrop","MouseData","schema$r","dragState","updateStartState","setStartData","_delayDrop","dragStartData","getStartData","dlt","blockerClass","TouchData","getDataFrom","mouse","DraggingBranches","DragState","dragEvent","nuData","calculateDelta","Dragging","dragger","calcCappedSize","originalSize","minSize","maxSize","minOverride","maxOverride","getDimensions","deltas","resizeType","originalHeight","originalWidth","getMaxHeightSetting","Both","getMaxWidthSetting","isHidden$1","ElementPath","newPath","updatePath","newPathElements","divider","newAcc","getDataPath","renderStatusbar","renderResizeHandlerIcon","dim","resize$3","getTextComponents","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","renderBranding","None","Vertical","getResizeType","getComponents","lazyOuterContainer","platformClasses","dirAttributes","memAnchorBar","toolbarDrawer","throbber","statusbar","socketSidebarContainer","hasMultipleToolbar","hasToolbar","hasMenubar","hasToolbarDrawer","editorComponents","containerComponents","setEditorSize","baseWidth","baseHeight","getHeightSetting","minWidth","minHeight","parsedWidth","mw","parsedHeight","stringWidth","stringHeight","handleToggle","setup$4","toolbarOpt","getUi","broadcastAll","AriaLabel","labelledElement","labelElement","schema$t","basic","parts$e","dragBlockClass","getDragBounds","ModalDialog","dialogBusyEvent","dialogIdleEvent","busyBehaviours","modalEventsId","busyComp","externalBlocker","getBusySpec","busySpec","busy","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","describedElement","describeElement","describeId","describedBy","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","checkboxFields","checkboxSchema","checkboxDataProcessor","formComponentFields","formComponentWithLabelFields","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","iframeFields","iframeSchema","iframeDataProcessor","inputFields","inputSchema","inputDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","htmlPanelFields","htmlPanelSchema","imageToolsFields","imageToolsSchema","collectionFields","collectionSchema","collectionDataProcessor","createLabelFields","tableFields","tableSchema","createItemsField","itemSchema$2","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","baseButtonFields","dialogButtonFields","normalButtonFields","menuButtonFields","dialogButtonSchema","dialogSchema","tabpanel","isNamedItem","dataProcessors","getNamedItems","getAllObjects","createDataValidator","getDataProcessor","urlDialogButtonSchema","urlDialogSchema","optionArrayOf","extract$1","internalDialog","createDialog","dataValidator","DialogManager","createUrlDialog","redial","toValidValues","renderBodyPanel","memForm","formValue","vals","TabButton","tabButtonBehaviours","schema$u","tabsPart","barDetail","tabSpec","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$f","Tabbar","tabbarBehaviours","selectedClass","tab","Tabview","tabviewBehaviours","schema$v","barPart","tabs","viewPart","parts$g","TabSection","changeTabBy","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","getMaxHeight","heights","updateTabviewHeight","dialogBody","maxTabHeight","getMaxTabviewHeight","allTabs","smartTabHeight","extraEvents","tabviewComp","measureHeights","maxTabHeightOpt","oldHeight","naiveTabHeight","renderTabPanel","storedValue","updateDataWithForm","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","ariaAttrs","_comp","incoming","isTabPanel","initCommonEvents","fireApiEvent","_event","onUnblock","onBlock","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","onTabChange","newTabName","oldTabName","_data","buttonGroups","footerButtons","makeGroup","memento","renderFooter","initSpec","memButton","makeButton","lookupByName","buttonName","lookup$2","renderModalFooter","footer","getCompByName","form_1","getFormWrapper","getDialogApi","doRedial","withRoot","instanceApi","valueComp","prevData","mergedData","newInternalData","dialogState","validateData","tabSection","dialogInit","renderClose","renderTitle","renderDragHandle","getHeader","pTitle","pHandle","draghandle","pClose","draggable","renderModalHeader","getEventExtras","lazyDialog","closeWindow","blockEvent","bs","renderModalDialog","dialogEvents","extraStyles","renderDialog","bodySpec","renderModalBody","dialogSize","outerForm","global$g","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","iframeDomain","messageHandlerUnbinder","handleMessage","isCustomMessage","onMessage","unbinder","iframeEle","sendMessage","getUrlDialogApi","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","titleId","renderInlineHeader","memBody","contentId","renderInlineBody","memFooter","renderInlineFooter","hiddenHeader","defaultHeader","pUntitled","pBodyMessage","pFooter","pFooterGroup","startButtons","endButtons","renderDialog$1","headerOverride","partSpecs","alertDialog","memFooterClose","footerCloseButton","setup$9","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$a","openModalUrlDialog","_closeWindow","openModalDialog","_closeWindow2","internalInitialData","openInlineDialog","config$1","_closeWindow3","dialogUi","inlineDialog","windowMgr","DetectProPlugin","hasProPlugin","Api","clipboard","isWordHtml","wordContent","ieFake","Actions","pasteFormat","Commands","pasteHtml","pasteText","mapM","internalMark","InternalHtml","unmark","isMarked","internalHtmlMime","toBRs","toBlockElements","rootTag","rootAttrs","tagOpen","openContainer","tagClose","paragraphs","Newlines","isPlainText","shouldBlockDrop","shouldPasteDataImages","shouldFilterDrop","getPreProcess","getPostProcess","getWebkitStyles","shouldRemoveWebKitStyles","shouldMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getRetainStyleProps","getWordValidElements","shouldConvertWordFakeLists","shouldUseDefaultFilters","ignoreElements","s1","s2","createIdGenerator","isMsEdge","isNumericList","convertFakeListsToProperLists","currentListNode","prevListNode","txt","trimListStart","convertParagraphToLi","paragraphNode","listName","_listLevel","removeIgnoredNodes","_listIgnore","nodeText","filterStyles","outputStyles","WordFilter","retainStyleProperties","spaces","filterWordContent","isWordContent","processResult","cancelled","filterContent","preProcessArgs","tempBody","postProcessArgs","postProcessFilter","ProcessFilters","removeMeta","isAbsoluteUrl","isImageUrl","linkSelection","pasteHtmlFn","createLink","insertImage","createImage","SmartPaste","smartInsertContent","isNewLineChar","pcIsSpace","isNewline","pasteHtml$1","internalFlag","_pasteText","encodedText","normalizedText","getDataTransferItems","legacyText","contentType","hasContentType","clipboardContent","mimeType","hasHtmlOrText","_pasteImageData","paste_data_images","getAsFile","getImagesFromDataTransfer","blobResults","imageItem","getBase64FromUri","images_reuse_filename","extractFilename","images_dataimg_filter","existingBlobInfo","pasteImage","isKeyboardPasteEvent","registerEventHandlers","pasteBin","keyboardPastePlainTextState","keyboardPasteEvent","isSet","insertClipboardContent","isKeyBoardPaste","plainTextMode","isPlainTextHtml","isDefaultContent","removePasteBinOnKeyUp","clipboardEvent","getClipboardContent","isBrokenAndroidClipboardEvent","getLastRng","getPasteBinParent","delegatePasteEvents","pasteBinElm","pasteBinDefaultContent","isExternalPasteBin","_isDefault","_getEl","_isDefaultContent","PasteBin","lastRngCell","_create","pasteBinClone","_remove","pasteBinClones","dirtyWrappers","cleanWrapper","copyAndRemove","toElm","fromElm","_getHtml","_getLastRng","isDefault","Clipboard","isWebKitFakeUrl","isDataUri","isPasteInsert","registerEventsAndFilters","pasteImageData","setHtml5Clipboard","hasWorkingClipboardApi","setClipboardData","markedHtml","contenteditable","offscreenRange","hasSelectedContent","isTableSelection","CutCopy","getCaretRangeFromEvent","setFocusedRange","DragDrop","draggingInternallyState","dropContent","plainTextContent","isPlainTextFileUrl","content_1","PrePostProcess","postProcess","addPreProcessFilter","filterFunc","removeExplorerBrElementsAfterBlocks","explorerBlocksRegExp","removeWebKitStyles","webKitStyles","webKitStylesSetting","dom_1","node_1","removeUnderlineAndFontInAnchor","addPostProcessFilter","makeSetupHandler","pastePlainTextToggleHandler","Buttons","externalTargets","OpenUrl","createEvent","initMouseEvent","appendClickRemove","opener","hasProtocol","applyRelTargetRules","isUnsafe","removeTargetRules","newRels","addTargetRules","getAnchorElement","isImageFigure","isLink","getLinkAttrs","unlinkImageFigure","fig","linkImageFigure","attachState","anchorElm","linkAttrs","assumeExternalTargets","handleExternalTargets","updateLink","trimCaretContainers","sanitizeWith","extracter","extractValue","sanitizeList","ListOptions","sanitize","createUi","persistentText","catalog","hasPersistentText","findTextByValue","DialogChanges","linkSettings","onCatalogChange","catalogs","urlText","onUrlChange","tryEmailTransform","oldData","tryProtocolTransform","DialogConfirms","delayedConfirm","AnchorListOptions","anchorNodes","ClassListOptions","LinkListOptions","extractor","linkList","parseJson","optItems","RelOptions","isTargetBlank_1","fallbacks","TargetOptions","nonEmptyAttr","DialogInfo","linkNode","linkClass","extractFromAnchor","optNode","flags","titleEnabled","Dialog","collectData","getChangedValue","changedData","pData","handleSubmit","titleText","getInitialData","dialogDelta","makeDialog","getLink","getSelectedLink","gotoLink","targetEl","gotoSelectedLink","leftClickedOnAHref","setupGotoLinks","hasOnlyAltModifier","toggleActiveState","toggleEnabledState","Keyboard","Controls","setupButtons","setupMenuItems","setupContextMenu","setupContextToolbars","onSetupLink","collapseSelectionToEnd","fluid","Tag","noGutters","Row","stringOrNumberProp","columnProps","sm","xl","widths","getColumnSizeClass","isXs","colWidth","colSize","Col","colClasses","columnProp","_classNames","colSizeInterfix","colClass","_colClass","innerRef","_Component","getRef","_proto","_this$props","bsSize","plaintext","addon","_React$Component","checkInput","isNotaNumber","formControlClass","btnOutlineColor","defaultAriaLabel"],"mappings":"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","file":"static/js/2.b8e35fcc.chunk.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is'); // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}","import isFunction from 'lodash.isfunction';\nimport PropTypes from 'prop-types'; // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L436-L443\n\nexport function getScrollbarWidth() {\n  var scrollDiv = document.createElement('div'); // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\nexport function setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? padding + \"px\" : null;\n}\nexport function isBodyOverflowing() {\n  return document.body.clientWidth < window.innerWidth;\n}\nexport function getOriginalBodyPadding() {\n  var style = window.getComputedStyle(document.body, null);\n  return parseInt(style && style.getPropertyValue('padding-right') || 0, 10);\n}\nexport function conditionallyUpdateScrollbar() {\n  var scrollbarWidth = getScrollbarWidth(); // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.6/js/src/modal.js#L433\n\n  var fixedContent = document.querySelectorAll('.fixed-top, .fixed-bottom, .is-fixed, .sticky-top')[0];\n  var bodyPadding = fixedContent ? parseInt(fixedContent.style.paddingRight || 0, 10) : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\nvar globalCssModule;\nexport function setGlobalCssModule(cssModule) {\n  globalCssModule = cssModule;\n}\nexport function mapToCssModules(className, cssModule) {\n  if (className === void 0) {\n    className = '';\n  }\n\n  if (cssModule === void 0) {\n    cssModule = globalCssModule;\n  }\n\n  if (!cssModule) return className;\n  return className.split(' ').map(function (c) {\n    return cssModule[c] || c;\n  }).join(' ');\n}\n/**\n * Returns a new object with the key/value pairs from `obj` that are not in the array `omitKeys`.\n */\n\nexport function omit(obj, omitKeys) {\n  var result = {};\n  Object.keys(obj).forEach(function (key) {\n    if (omitKeys.indexOf(key) === -1) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n}\n/**\n * Returns a filtered copy of an object with only the specified keys.\n */\n\nexport function pick(obj, keys) {\n  var pickKeys = Array.isArray(keys) ? keys : [keys];\n  var length = pickKeys.length;\n  var key;\n  var result = {};\n\n  while (length > 0) {\n    length -= 1;\n    key = pickKeys[length];\n    result[key] = obj[key];\n  }\n\n  return result;\n}\nvar warned = {};\nexport function warnOnce(message) {\n  if (!warned[message]) {\n    /* istanbul ignore else */\n    if (typeof console !== 'undefined') {\n      console.error(message); // eslint-disable-line no-console\n    }\n\n    warned[message] = true;\n  }\n}\nexport function deprecated(propType, explanation) {\n  return function validate(props, propName, componentName) {\n    if (props[propName] !== null && typeof props[propName] !== 'undefined') {\n      warnOnce(\"\\\"\" + propName + \"\\\" property of \\\"\" + componentName + \"\\\" has been deprecated.\\n\" + explanation);\n    }\n\n    for (var _len = arguments.length, rest = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n      rest[_key - 3] = arguments[_key];\n    }\n\n    return propType.apply(void 0, [props, propName, componentName].concat(rest));\n  };\n} // Shim Element if needed (e.g. in Node environment)\n\nvar Element = typeof window === 'object' && window.Element || function () {};\n\nexport function DOMElement(props, propName, componentName) {\n  if (!(props[propName] instanceof Element)) {\n    return new Error('Invalid prop `' + propName + '` supplied to `' + componentName + '`. Expected prop to be an instance of Element. Validation failed.');\n  }\n}\nexport var targetPropType = PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement, PropTypes.shape({\n  current: PropTypes.any\n})]);\nexport var tagPropType = PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.shape({\n  $$typeof: PropTypes.symbol,\n  render: PropTypes.func\n}), PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.shape({\n  $$typeof: PropTypes.symbol,\n  render: PropTypes.func\n})]))]);\n/* eslint key-spacing: [\"error\", { afterColon: true, align: \"value\" }] */\n// These are all setup to match what is in the bootstrap _variables.scss\n// https://github.com/twbs/bootstrap/blob/v4-dev/scss/_variables.scss\n\nexport var TransitionTimeouts = {\n  Fade: 150,\n  // $transition-fade\n  Collapse: 350,\n  // $transition-collapse\n  Modal: 300,\n  // $modal-transition\n  Carousel: 600 // $carousel-transition\n\n}; // Duplicated Transition.propType keys to ensure that Reactstrap builds\n// for distribution properly exclude these keys for nested child HTML attributes\n// since `react-transition-group` removes propTypes in production builds.\n\nexport var TransitionPropTypeKeys = ['in', 'mountOnEnter', 'unmountOnExit', 'appear', 'enter', 'exit', 'timeout', 'onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'];\nexport var TransitionStatuses = {\n  ENTERING: 'entering',\n  ENTERED: 'entered',\n  EXITING: 'exiting',\n  EXITED: 'exited'\n};\nexport var keyCodes = {\n  esc: 27,\n  space: 32,\n  enter: 13,\n  tab: 9,\n  up: 38,\n  down: 40,\n  home: 36,\n  end: 35,\n  n: 78,\n  p: 80\n};\nexport var PopperPlacements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\nexport var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexport function isReactRefObj(target) {\n  if (target && typeof target === 'object') {\n    return 'current' in target;\n  }\n\n  return false;\n}\nexport function findDOMElements(target) {\n  if (isReactRefObj(target)) {\n    return target.current;\n  }\n\n  if (isFunction(target)) {\n    return target();\n  }\n\n  if (typeof target === 'string' && canUseDOM) {\n    var selection = document.querySelectorAll(target);\n\n    if (!selection.length) {\n      selection = document.querySelectorAll(\"#\" + target);\n    }\n\n    if (!selection.length) {\n      throw new Error(\"The target '\" + target + \"' could not be identified in the dom, tip: check spelling\");\n    }\n\n    return selection;\n  }\n\n  return target;\n}\nexport function isArrayOrNodeList(els) {\n  if (els === null) {\n    return false;\n  }\n\n  return Array.isArray(els) || canUseDOM && typeof els.length === 'number';\n}\nexport function getTarget(target) {\n  var els = findDOMElements(target);\n\n  if (isArrayOrNodeList(els)) {\n    return els[0];\n  }\n\n  return els;\n}\nexport var defaultToggleEvents = ['touchstart', 'click'];\nexport function addMultipleEventListeners(_els, handler, _events, useCapture) {\n  var els = _els;\n\n  if (!isArrayOrNodeList(els)) {\n    els = [els];\n  }\n\n  var events = _events;\n\n  if (typeof events === 'string') {\n    events = events.split(/\\s+/);\n  }\n\n  if (!isArrayOrNodeList(els) || typeof handler !== 'function' || !Array.isArray(events)) {\n    throw new Error(\"\\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\\n      The second must be a function.\\n      The third is a string or an array of strings that represents DOM events\\n    \");\n  }\n\n  Array.prototype.forEach.call(events, function (event) {\n    Array.prototype.forEach.call(els, function (el) {\n      el.addEventListener(event, handler, useCapture);\n    });\n  });\n  return function removeEvents() {\n    Array.prototype.forEach.call(events, function (event) {\n      Array.prototype.forEach.call(els, function (el) {\n        el.removeEventListener(event, handler, useCapture);\n      });\n    });\n  };\n}\nexport var focusableElements = ['a[href]', 'area[href]', 'input:not([disabled]):not([type=hidden])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', 'object', 'embed', '[tabindex]:not(.modal)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])'];","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","var g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function getGlobal() {\n  return typeof window !== 'undefined' ? window : global;\n};\n\nvar getTinymce = function getTinymce() {\n  var global = getGlobal();\n  return global && global.tinymce ? global.tinymce : null;\n};\n\nexport { getTinymce };","module.exports = require(\"regenerator-runtime\");\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n'use strict';\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function') {\n    return;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.0.15 (2019-09-02)\n */\n(function (domGlobals) {\n  'use strict';\n\n  var noop = function noop() {};\n\n  var compose = function compose(fa, fb) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return fa(fb.apply(null, args));\n    };\n  };\n\n  var constant = function constant(value) {\n    return function () {\n      return value;\n    };\n  };\n\n  var identity = function identity(x) {\n    return x;\n  };\n\n  function curry(fn) {\n    var initialArgs = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      initialArgs[_i - 1] = arguments[_i];\n    }\n\n    return function () {\n      var restArgs = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        restArgs[_i] = arguments[_i];\n      }\n\n      var all = initialArgs.concat(restArgs);\n      return fn.apply(null, all);\n    };\n  }\n\n  var not = function not(f) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return !f.apply(null, args);\n    };\n  };\n\n  var die = function die(msg) {\n    return function () {\n      throw new Error(msg);\n    };\n  };\n\n  var never = constant(false);\n  var always = constant(true);\n  var never$1 = never;\n  var always$1 = always;\n\n  var none = function none() {\n    return NONE;\n  };\n\n  var NONE = function () {\n    var eq = function eq(o) {\n      return o.isNone();\n    };\n\n    var call = function call(thunk) {\n      return thunk();\n    };\n\n    var id = function id(n) {\n      return n;\n    };\n\n    var noop = function noop() {};\n\n    var nul = function nul() {\n      return null;\n    };\n\n    var undef = function undef() {\n      return undefined;\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return n();\n      },\n      is: never$1,\n      isSome: never$1,\n      isNone: always$1,\n      getOr: id,\n      getOrThunk: call,\n      getOrDie: function getOrDie(msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: nul,\n      getOrUndefined: undef,\n      or: id,\n      orThunk: call,\n      map: none,\n      ap: none,\n      each: noop,\n      bind: none,\n      flatten: none,\n      exists: never$1,\n      forall: always$1,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function toArray() {\n        return [];\n      },\n      toString: constant('none()')\n    };\n\n    if (Object.freeze) {\n      Object.freeze(me);\n    }\n\n    return me;\n  }();\n\n  var some = function some(a) {\n    var constant_a = function constant_a() {\n      return a;\n    };\n\n    var self = function self() {\n      return me;\n    };\n\n    var map = function map(f) {\n      return some(f(a));\n    };\n\n    var bind = function bind(f) {\n      return f(a);\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return s(a);\n      },\n      is: function is(v) {\n        return a === v;\n      },\n      isSome: always$1,\n      isNone: never$1,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: map,\n      ap: function ap(optfab) {\n        return optfab.fold(none, function (fab) {\n          return some(fab(a));\n        });\n      },\n      each: function each(f) {\n        f(a);\n      },\n      bind: bind,\n      flatten: constant_a,\n      exists: bind,\n      forall: bind,\n      filter: function filter(f) {\n        return f(a) ? me : NONE;\n      },\n      equals: function equals(o) {\n        return o.is(a);\n      },\n      equals_: function equals_(o, elementEq) {\n        return o.fold(never$1, function (b) {\n          return elementEq(a, b);\n        });\n      },\n      toArray: function toArray() {\n        return [a];\n      },\n      toString: function toString() {\n        return 'some(' + a + ')';\n      }\n    };\n    return me;\n  };\n\n  var from = function from(value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n\n  var Option = {\n    some: some,\n    none: none,\n    from: from\n  };\n\n  var typeOf = function typeOf(x) {\n    if (x === null) {\n      return 'null';\n    }\n\n    var t = typeof x;\n\n    if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n      return 'array';\n    }\n\n    if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n      return 'string';\n    }\n\n    return t;\n  };\n\n  var isType = function isType(type) {\n    return function (value) {\n      return typeOf(value) === type;\n    };\n  };\n\n  var isString = isType('string');\n  var isObject = isType('object');\n  var isArray = isType('array');\n  var isNull = isType('null');\n  var isBoolean = isType('boolean');\n  var isFunction = isType('function');\n  var isNumber = isType('number');\n  var slice = Array.prototype.slice;\n\n  var rawIndexOf = function () {\n    var pIndexOf = Array.prototype.indexOf;\n\n    var fastIndex = function fastIndex(xs, x) {\n      return pIndexOf.call(xs, x);\n    };\n\n    var slowIndex = function slowIndex(xs, x) {\n      return slowIndexOf(xs, x);\n    };\n\n    return pIndexOf === undefined ? slowIndex : fastIndex;\n  }();\n\n  var indexOf = function indexOf(xs, x) {\n    var r = rawIndexOf(xs, x);\n    return r === -1 ? Option.none() : Option.some(r);\n  };\n\n  var contains = function contains(xs, x) {\n    return rawIndexOf(xs, x) > -1;\n  };\n\n  var exists = function exists(xs, pred) {\n    return findIndex(xs, pred).isSome();\n  };\n\n  var map = function map(xs, f) {\n    var len = xs.length;\n    var r = new Array(len);\n\n    for (var i = 0; i < len; i++) {\n      var x = xs[i];\n      r[i] = f(x, i, xs);\n    }\n\n    return r;\n  };\n\n  var each = function each(xs, f) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n\n  var eachr = function eachr(xs, f) {\n    for (var i = xs.length - 1; i >= 0; i--) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n\n  var partition = function partition(xs, pred) {\n    var pass = [];\n    var fail = [];\n\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      var arr = pred(x, i, xs) ? pass : fail;\n      arr.push(x);\n    }\n\n    return {\n      pass: pass,\n      fail: fail\n    };\n  };\n\n  var filter = function filter(xs, pred) {\n    var r = [];\n\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n\n      if (pred(x, i, xs)) {\n        r.push(x);\n      }\n    }\n\n    return r;\n  };\n\n  var foldr = function foldr(xs, f, acc) {\n    eachr(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n\n  var foldl = function foldl(xs, f, acc) {\n    each(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n\n  var find = function find(xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n\n      if (pred(x, i, xs)) {\n        return Option.some(x);\n      }\n    }\n\n    return Option.none();\n  };\n\n  var findIndex = function findIndex(xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n\n      if (pred(x, i, xs)) {\n        return Option.some(i);\n      }\n    }\n\n    return Option.none();\n  };\n\n  var slowIndexOf = function slowIndexOf(xs, x) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (xs[i] === x) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var push = Array.prototype.push;\n\n  var flatten = function flatten(xs) {\n    var r = [];\n\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (!isArray(xs[i])) {\n        throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n      }\n\n      push.apply(r, xs[i]);\n    }\n\n    return r;\n  };\n\n  var bind = function bind(xs, f) {\n    var output = map(xs, f);\n    return flatten(output);\n  };\n\n  var forall = function forall(xs, pred) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      var x = xs[i];\n\n      if (pred(x, i, xs) !== true) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  var reverse = function reverse(xs) {\n    var r = slice.call(xs, 0);\n    r.reverse();\n    return r;\n  };\n\n  var difference = function difference(a1, a2) {\n    return filter(a1, function (x) {\n      return !contains(a2, x);\n    });\n  };\n\n  var mapToObject = function mapToObject(xs, f) {\n    var r = {};\n\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      r[String(x)] = f(x, i);\n    }\n\n    return r;\n  };\n\n  var sort = function sort(xs, comparator) {\n    var copy = slice.call(xs, 0);\n    copy.sort(comparator);\n    return copy;\n  };\n\n  var head = function head(xs) {\n    return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n  };\n\n  var last = function last(xs) {\n    return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n  };\n\n  var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n    return slice.call(x);\n  };\n\n  var _assign = function __assign() {\n    _assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return _assign.apply(this, arguments);\n  };\n\n  function __rest(s, e) {\n    var t = {};\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }\n\n    if (s != null && typeof Object.getOwnPropertySymbols === 'function') for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n  }\n\n  var nav = domGlobals.navigator,\n      userAgent = nav.userAgent;\n  var opera, webkit, ie, ie11, ie12, gecko, mac, iDevice, android, fileApi, phone, tablet, windowsPhone;\n\n  var matchMediaQuery = function matchMediaQuery(query) {\n    return 'matchMedia' in domGlobals.window ? domGlobals.matchMedia(query).matches : false;\n  };\n\n  opera = false;\n  android = /Android/.test(userAgent);\n  webkit = /WebKit/.test(userAgent);\n  ie = !webkit && !opera && /MSIE/gi.test(userAgent) && /Explorer/gi.test(nav.appName);\n  ie = ie && /MSIE (\\w+)\\./.exec(userAgent)[1];\n  ie11 = userAgent.indexOf('Trident/') !== -1 && (userAgent.indexOf('rv:') !== -1 || nav.appName.indexOf('Netscape') !== -1) ? 11 : false;\n  ie12 = userAgent.indexOf('Edge/') !== -1 && !ie && !ie11 ? 12 : false;\n  ie = ie || ie11 || ie12;\n  gecko = !webkit && !ie11 && /Gecko/.test(userAgent);\n  mac = userAgent.indexOf('Mac') !== -1;\n  iDevice = /(iPad|iPhone)/.test(userAgent);\n  fileApi = 'FormData' in domGlobals.window && 'FileReader' in domGlobals.window && 'URL' in domGlobals.window && !!domGlobals.URL.createObjectURL;\n  phone = matchMediaQuery('only screen and (max-device-width: 480px)') && (android || iDevice);\n  tablet = matchMediaQuery('only screen and (min-width: 800px)') && (android || iDevice);\n  windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n\n  if (ie12) {\n    webkit = false;\n  }\n\n  var contentEditable = !iDevice || fileApi || parseInt(userAgent.match(/AppleWebKit\\/(\\d*)/)[1], 10) >= 534;\n  var Env = {\n    opera: opera,\n    webkit: webkit,\n    ie: ie,\n    gecko: gecko,\n    mac: mac,\n    iOS: iDevice,\n    android: android,\n    contentEditable: contentEditable,\n    transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n    caretAfter: ie !== 8,\n    range: domGlobals.window.getSelection && 'Range' in domGlobals.window,\n    documentMode: ie && !ie12 ? domGlobals.document.documentMode || 7 : 10,\n    fileApi: fileApi,\n    ceFalse: ie === false || ie > 8,\n    cacheSuffix: null,\n    container: null,\n    experimentalShadowDom: false,\n    canHaveCSP: ie === false || ie > 11,\n    desktop: !phone && !tablet,\n    windowsPhone: windowsPhone\n  };\n\n  var promise = function promise() {\n    function bind(fn, thisArg) {\n      return function () {\n        fn.apply(thisArg, arguments);\n      };\n    }\n\n    var isArray = Array.isArray || function (value) {\n      return Object.prototype.toString.call(value) === '[object Array]';\n    };\n\n    var Promise = function Promise(fn) {\n      if (typeof this !== 'object') {\n        throw new TypeError('Promises must be constructed via new');\n      }\n\n      if (typeof fn !== 'function') {\n        throw new TypeError('not a function');\n      }\n\n      this._state = null;\n      this._value = null;\n      this._deferreds = [];\n      doResolve(fn, bind(resolve, this), bind(reject, this));\n    };\n\n    var asap = Promise.immediateFn || typeof domGlobals.setImmediate === 'function' && domGlobals.setImmediate || function (fn) {\n      domGlobals.setTimeout(fn, 1);\n    };\n\n    function handle(deferred) {\n      var me = this;\n\n      if (this._state === null) {\n        this._deferreds.push(deferred);\n\n        return;\n      }\n\n      asap(function () {\n        var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n\n        if (cb === null) {\n          (me._state ? deferred.resolve : deferred.reject)(me._value);\n          return;\n        }\n\n        var ret;\n\n        try {\n          ret = cb(me._value);\n        } catch (e) {\n          deferred.reject(e);\n          return;\n        }\n\n        deferred.resolve(ret);\n      });\n    }\n\n    function resolve(newValue) {\n      try {\n        if (newValue === this) {\n          throw new TypeError('A promise cannot be resolved with itself.');\n        }\n\n        if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n          var then = newValue.then;\n\n          if (typeof then === 'function') {\n            doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n            return;\n          }\n        }\n\n        this._state = true;\n        this._value = newValue;\n        finale.call(this);\n      } catch (e) {\n        reject.call(this, e);\n      }\n    }\n\n    function reject(newValue) {\n      this._state = false;\n      this._value = newValue;\n      finale.call(this);\n    }\n\n    function finale() {\n      for (var i = 0, len = this._deferreds.length; i < len; i++) {\n        handle.call(this, this._deferreds[i]);\n      }\n\n      this._deferreds = null;\n    }\n\n    function Handler(onFulfilled, onRejected, resolve, reject) {\n      this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n      this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n      this.resolve = resolve;\n      this.reject = reject;\n    }\n\n    function doResolve(fn, onFulfilled, onRejected) {\n      var done = false;\n\n      try {\n        fn(function (value) {\n          if (done) {\n            return;\n          }\n\n          done = true;\n          onFulfilled(value);\n        }, function (reason) {\n          if (done) {\n            return;\n          }\n\n          done = true;\n          onRejected(reason);\n        });\n      } catch (ex) {\n        if (done) {\n          return;\n        }\n\n        done = true;\n        onRejected(ex);\n      }\n    }\n\n    Promise.prototype.catch = function (onRejected) {\n      return this.then(null, onRejected);\n    };\n\n    Promise.prototype.then = function (onFulfilled, onRejected) {\n      var me = this;\n      return new Promise(function (resolve, reject) {\n        handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n      });\n    };\n\n    Promise.all = function () {\n      var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n      return new Promise(function (resolve, reject) {\n        if (args.length === 0) {\n          return resolve([]);\n        }\n\n        var remaining = args.length;\n\n        function res(i, val) {\n          try {\n            if (val && (typeof val === 'object' || typeof val === 'function')) {\n              var then = val.then;\n\n              if (typeof then === 'function') {\n                then.call(val, function (val) {\n                  res(i, val);\n                }, reject);\n                return;\n              }\n            }\n\n            args[i] = val;\n\n            if (--remaining === 0) {\n              resolve(args);\n            }\n          } catch (ex) {\n            reject(ex);\n          }\n        }\n\n        for (var i = 0; i < args.length; i++) {\n          res(i, args[i]);\n        }\n      });\n    };\n\n    Promise.resolve = function (value) {\n      if (value && typeof value === 'object' && value.constructor === Promise) {\n        return value;\n      }\n\n      return new Promise(function (resolve) {\n        resolve(value);\n      });\n    };\n\n    Promise.reject = function (value) {\n      return new Promise(function (resolve, reject) {\n        reject(value);\n      });\n    };\n\n    Promise.race = function (values) {\n      return new Promise(function (resolve, reject) {\n        for (var i = 0, len = values.length; i < len; i++) {\n          values[i].then(resolve, reject);\n        }\n      });\n    };\n\n    return Promise;\n  };\n\n  var promiseObj = window.Promise ? window.Promise : promise();\n  var requestAnimationFramePromise;\n\n  var _requestAnimationFrame = function requestAnimationFrame(callback, element) {\n    var i,\n        requestAnimationFrameFunc = domGlobals.window.requestAnimationFrame;\n    var vendors = ['ms', 'moz', 'webkit'];\n\n    var featurefill = function featurefill(callback) {\n      domGlobals.window.setTimeout(callback, 0);\n    };\n\n    for (i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n      requestAnimationFrameFunc = domGlobals.window[vendors[i] + 'RequestAnimationFrame'];\n    }\n\n    if (!requestAnimationFrameFunc) {\n      requestAnimationFrameFunc = featurefill;\n    }\n\n    requestAnimationFrameFunc(callback, element);\n  };\n\n  var wrappedSetTimeout = function wrappedSetTimeout(callback, time) {\n    if (typeof time !== 'number') {\n      time = 0;\n    }\n\n    return domGlobals.setTimeout(callback, time);\n  };\n\n  var wrappedSetInterval = function wrappedSetInterval(callback, time) {\n    if (typeof time !== 'number') {\n      time = 1;\n    }\n\n    return domGlobals.setInterval(callback, time);\n  };\n\n  var wrappedClearTimeout = function wrappedClearTimeout(id) {\n    return domGlobals.clearTimeout(id);\n  };\n\n  var wrappedClearInterval = function wrappedClearInterval(id) {\n    return domGlobals.clearInterval(id);\n  };\n\n  var debounce = function debounce(callback, time) {\n    var timer, func;\n\n    func = function func() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      domGlobals.clearTimeout(timer);\n      timer = wrappedSetTimeout(function () {\n        callback.apply(this, args);\n      }, time);\n    };\n\n    func.stop = function () {\n      domGlobals.clearTimeout(timer);\n    };\n\n    return func;\n  };\n\n  var Delay = {\n    requestAnimationFrame: function requestAnimationFrame(callback, element) {\n      if (requestAnimationFramePromise) {\n        requestAnimationFramePromise.then(callback);\n        return;\n      }\n\n      requestAnimationFramePromise = new promiseObj(function (resolve) {\n        if (!element) {\n          element = domGlobals.document.body;\n        }\n\n        _requestAnimationFrame(resolve, element);\n      }).then(callback);\n    },\n    setTimeout: wrappedSetTimeout,\n    setInterval: wrappedSetInterval,\n    setEditorTimeout: function setEditorTimeout(editor, callback, time) {\n      return wrappedSetTimeout(function () {\n        if (!editor.removed) {\n          callback();\n        }\n      }, time);\n    },\n    setEditorInterval: function setEditorInterval(editor, callback, time) {\n      var timer;\n      timer = wrappedSetInterval(function () {\n        if (!editor.removed) {\n          callback();\n        } else {\n          domGlobals.clearInterval(timer);\n        }\n      }, time);\n      return timer;\n    },\n    debounce: debounce,\n    throttle: debounce,\n    clearInterval: wrappedClearInterval,\n    clearTimeout: wrappedClearTimeout\n  };\n  var eventExpandoPrefix = 'mce-data-';\n  var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n  var deprecated = {\n    keyLocation: 1,\n    layerX: 1,\n    layerY: 1,\n    returnValue: 1,\n    webkitMovementX: 1,\n    webkitMovementY: 1,\n    keyIdentifier: 1,\n    mozPressure: 1\n  };\n\n  var hasIsDefaultPrevented = function hasIsDefaultPrevented(event) {\n    return event.isDefaultPrevented === returnTrue || event.isDefaultPrevented === returnFalse;\n  };\n\n  var returnFalse = function returnFalse() {\n    return false;\n  };\n\n  var returnTrue = function returnTrue() {\n    return true;\n  };\n\n  var addEvent = function addEvent(target, name, callback, capture) {\n    if (target.addEventListener) {\n      target.addEventListener(name, callback, capture || false);\n    } else if (target.attachEvent) {\n      target.attachEvent('on' + name, callback);\n    }\n  };\n\n  var removeEvent = function removeEvent(target, name, callback, capture) {\n    if (target.removeEventListener) {\n      target.removeEventListener(name, callback, capture || false);\n    } else if (target.detachEvent) {\n      target.detachEvent('on' + name, callback);\n    }\n  };\n\n  var getTargetFromShadowDom = function getTargetFromShadowDom(event, defaultTarget) {\n    if (event.composedPath) {\n      var composedPath = event.composedPath();\n\n      if (composedPath && composedPath.length > 0) {\n        return composedPath[0];\n      }\n    }\n\n    return defaultTarget;\n  };\n\n  var fix = function fix(originalEvent, data) {\n    var name;\n    var event = data || {};\n\n    for (name in originalEvent) {\n      if (!deprecated[name]) {\n        event[name] = originalEvent[name];\n      }\n    }\n\n    if (!event.target) {\n      event.target = event.srcElement || domGlobals.document;\n    }\n\n    if (Env.experimentalShadowDom) {\n      event.target = getTargetFromShadowDom(originalEvent, event.target);\n    }\n\n    if (originalEvent && mouseEventRe.test(originalEvent.type) && originalEvent.pageX === undefined && originalEvent.clientX !== undefined) {\n      var eventDoc = event.target.ownerDocument || domGlobals.document;\n      var doc = eventDoc.documentElement;\n      var body = eventDoc.body;\n      event.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    }\n\n    event.preventDefault = function () {\n      event.isDefaultPrevented = returnTrue;\n\n      if (originalEvent) {\n        if (originalEvent.preventDefault) {\n          originalEvent.preventDefault();\n        } else {\n          originalEvent.returnValue = false;\n        }\n      }\n    };\n\n    event.stopPropagation = function () {\n      event.isPropagationStopped = returnTrue;\n\n      if (originalEvent) {\n        if (originalEvent.stopPropagation) {\n          originalEvent.stopPropagation();\n        } else {\n          originalEvent.cancelBubble = true;\n        }\n      }\n    };\n\n    event.stopImmediatePropagation = function () {\n      event.isImmediatePropagationStopped = returnTrue;\n      event.stopPropagation();\n    };\n\n    if (hasIsDefaultPrevented(event) === false) {\n      event.isDefaultPrevented = returnFalse;\n      event.isPropagationStopped = returnFalse;\n      event.isImmediatePropagationStopped = returnFalse;\n    }\n\n    if (typeof event.metaKey === 'undefined') {\n      event.metaKey = false;\n    }\n\n    return event;\n  };\n\n  var bindOnReady = function bindOnReady(win, callback, eventUtils) {\n    var doc = win.document,\n        event = {\n      type: 'ready'\n    };\n\n    if (eventUtils.domLoaded) {\n      callback(event);\n      return;\n    }\n\n    var isDocReady = function isDocReady() {\n      return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n    };\n\n    var readyHandler = function readyHandler() {\n      removeEvent(win, 'DOMContentLoaded', readyHandler);\n      removeEvent(win, 'load', readyHandler);\n\n      if (!eventUtils.domLoaded) {\n        eventUtils.domLoaded = true;\n        callback(event);\n      }\n    };\n\n    var waitForDomLoaded = function waitForDomLoaded() {\n      if (isDocReady()) {\n        removeEvent(doc, 'readystatechange', waitForDomLoaded);\n        readyHandler();\n      }\n    };\n\n    var tryScroll = function tryScroll() {\n      try {\n        doc.documentElement.doScroll('left');\n      } catch (ex) {\n        Delay.setTimeout(tryScroll);\n        return;\n      }\n\n      readyHandler();\n    };\n\n    if (doc.addEventListener && !(Env.ie && Env.ie < 11)) {\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n    } else {\n      addEvent(doc, 'readystatechange', waitForDomLoaded);\n\n      if (doc.documentElement.doScroll && win.self === win.top) {\n        tryScroll();\n      }\n    }\n\n    addEvent(win, 'load', readyHandler);\n  };\n\n  var EventUtils = function () {\n    function EventUtils() {\n      this.domLoaded = false;\n      this.events = {};\n      this.count = 1;\n      this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n      this.hasMouseEnterLeave = 'onmouseenter' in domGlobals.document.documentElement;\n      this.hasFocusIn = 'onfocusin' in domGlobals.document.documentElement;\n      this.count = 1;\n    }\n\n    EventUtils.prototype.bind = function (target, names, callback, scope) {\n      var self = this;\n      var id, callbackList, i, name, fakeName, nativeHandler, capture;\n      var win = domGlobals.window;\n\n      var defaultNativeHandler = function defaultNativeHandler(evt) {\n        self.executeHandlers(fix(evt || win.event), id);\n      };\n\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return;\n      }\n\n      if (!target[self.expando]) {\n        id = self.count++;\n        target[self.expando] = id;\n        self.events[id] = {};\n      } else {\n        id = target[self.expando];\n      }\n\n      scope = scope || target;\n      var namesList = names.split(' ');\n      i = namesList.length;\n\n      while (i--) {\n        name = namesList[i];\n        nativeHandler = defaultNativeHandler;\n        fakeName = capture = false;\n\n        if (name === 'DOMContentLoaded') {\n          name = 'ready';\n        }\n\n        if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n          callback.call(scope, fix({\n            type: name\n          }));\n          continue;\n        }\n\n        if (!self.hasMouseEnterLeave) {\n          fakeName = self.mouseEnterLeave[name];\n\n          if (fakeName) {\n            nativeHandler = function nativeHandler(evt) {\n              var current, related;\n              current = evt.currentTarget;\n              related = evt.relatedTarget;\n\n              if (related && current.contains) {\n                related = current.contains(related);\n              } else {\n                while (related && related !== current) {\n                  related = related.parentNode;\n                }\n              }\n\n              if (!related) {\n                evt = fix(evt || win.event);\n                evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                evt.target = current;\n                self.executeHandlers(evt, id);\n              }\n            };\n          }\n        }\n\n        if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n          capture = true;\n          fakeName = name === 'focusin' ? 'focus' : 'blur';\n\n          nativeHandler = function nativeHandler(evt) {\n            evt = fix(evt || win.event);\n            evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n            self.executeHandlers(evt, id);\n          };\n        }\n\n        callbackList = self.events[id][name];\n\n        if (!callbackList) {\n          self.events[id][name] = callbackList = [{\n            func: callback,\n            scope: scope\n          }];\n          callbackList.fakeName = fakeName;\n          callbackList.capture = capture;\n          callbackList.nativeHandler = nativeHandler;\n\n          if (name === 'ready') {\n            bindOnReady(target, nativeHandler, self);\n          } else {\n            addEvent(target, fakeName || name, nativeHandler, capture);\n          }\n        } else {\n          if (name === 'ready' && self.domLoaded) {\n            callback(fix({\n              type: name\n            }));\n          } else {\n            callbackList.push({\n              func: callback,\n              scope: scope\n            });\n          }\n        }\n      }\n\n      target = callbackList = 0;\n      return callback;\n    };\n\n    EventUtils.prototype.unbind = function (target, names, callback) {\n      var id, callbackList, i, ci, name, eventMap;\n\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return this;\n      }\n\n      id = target[this.expando];\n\n      if (id) {\n        eventMap = this.events[id];\n\n        if (names) {\n          var namesList = names.split(' ');\n          i = namesList.length;\n\n          while (i--) {\n            name = namesList[i];\n            callbackList = eventMap[name];\n\n            if (callbackList) {\n              if (callback) {\n                ci = callbackList.length;\n\n                while (ci--) {\n                  if (callbackList[ci].func === callback) {\n                    var nativeHandler = callbackList.nativeHandler;\n                    var fakeName = callbackList.fakeName,\n                        capture = callbackList.capture;\n                    callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                    callbackList.nativeHandler = nativeHandler;\n                    callbackList.fakeName = fakeName;\n                    callbackList.capture = capture;\n                    eventMap[name] = callbackList;\n                  }\n                }\n              }\n\n              if (!callback || callbackList.length === 0) {\n                delete eventMap[name];\n                removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n              }\n            }\n          }\n        } else {\n          for (name in eventMap) {\n            callbackList = eventMap[name];\n            removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n          }\n\n          eventMap = {};\n        }\n\n        for (name in eventMap) {\n          return this;\n        }\n\n        delete this.events[id];\n\n        try {\n          delete target[this.expando];\n        } catch (ex) {\n          target[this.expando] = null;\n        }\n      }\n\n      return this;\n    };\n\n    EventUtils.prototype.fire = function (target, name, args) {\n      var id;\n\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return this;\n      }\n\n      var event = fix(null, args);\n      event.type = name;\n      event.target = target;\n\n      do {\n        id = target[this.expando];\n\n        if (id) {\n          this.executeHandlers(event, id);\n        }\n\n        target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n      } while (target && !event.isPropagationStopped());\n\n      return this;\n    };\n\n    EventUtils.prototype.clean = function (target) {\n      var i, children;\n\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return this;\n      }\n\n      if (target[this.expando]) {\n        this.unbind(target);\n      }\n\n      if (!target.getElementsByTagName) {\n        target = target.document;\n      }\n\n      if (target && target.getElementsByTagName) {\n        this.unbind(target);\n        children = target.getElementsByTagName('*');\n        i = children.length;\n\n        while (i--) {\n          target = children[i];\n\n          if (target[this.expando]) {\n            this.unbind(target);\n          }\n        }\n      }\n\n      return this;\n    };\n\n    EventUtils.prototype.destroy = function () {\n      this.events = {};\n    };\n\n    EventUtils.prototype.cancel = function (e) {\n      if (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      }\n\n      return false;\n    };\n\n    EventUtils.prototype.executeHandlers = function (evt, id) {\n      var callbackList, i, l, callback;\n      var container = this.events[id];\n      callbackList = container && container[evt.type];\n\n      if (callbackList) {\n        for (i = 0, l = callbackList.length; i < l; i++) {\n          callback = callbackList[i];\n\n          if (callback && callback.func.call(callback.scope, evt) === false) {\n            evt.preventDefault();\n          }\n\n          if (evt.isImmediatePropagationStopped()) {\n            return;\n          }\n        }\n      }\n    };\n\n    EventUtils.Event = new EventUtils();\n    return EventUtils;\n  }();\n\n  var i,\n      support,\n      Expr,\n      getText,\n      isXML,\n      tokenize,\n      compile,\n      select,\n      outermostContext,\n      sortInput,\n      hasDuplicate,\n      setDocument,\n      document,\n      docElem,\n      documentIsHTML,\n      rbuggyQSA,\n      rbuggyMatches,\n      matches,\n      contains$1,\n      expando = 'sizzle' + -new Date(),\n      preferredDoc = domGlobals.window.document,\n      dirruns = 0,\n      done = 0,\n      classCache = createCache(),\n      tokenCache = createCache(),\n      compilerCache = createCache(),\n      sortOrder = function sortOrder(a, b) {\n    if (a === b) {\n      hasDuplicate = true;\n    }\n\n    return 0;\n  },\n      strundefined = typeof undefined,\n      MAX_NEGATIVE = 1 << 31,\n      hasOwn = {}.hasOwnProperty,\n      arr = [],\n      pop = arr.pop,\n      push_native = arr.push,\n      push$1 = arr.push,\n      slice$1 = arr.slice,\n      indexOf$1 = arr.indexOf || function (elem) {\n    var i = 0,\n        len = this.length;\n\n    for (; i < len; i++) {\n      if (this[i] === elem) {\n        return i;\n      }\n    }\n\n    return -1;\n  },\n      booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',\n      whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\n      identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+',\n      attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]',\n      pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)',\n      rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'),\n      rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'),\n      rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'),\n      rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'),\n      rpseudo = new RegExp(pseudos),\n      ridentifier = new RegExp('^' + identifier + '$'),\n      matchExpr = {\n    ID: new RegExp('^#(' + identifier + ')'),\n    CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n    TAG: new RegExp('^(' + identifier + '|[*])'),\n    ATTR: new RegExp('^' + attributes),\n    PSEUDO: new RegExp('^' + pseudos),\n    CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n    bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n    needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n  },\n      rinputs = /^(?:input|select|textarea|button)$/i,\n      rheader = /^h\\d$/i,\n      rnative = /^[^{]+\\{\\s*\\[native \\w/,\n      rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n      rsibling = /[+~]/,\n      rescape = /'|\\\\/g,\n      runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'),\n      funescape = function funescape(_, escaped, escapedWhitespace) {\n    var high = '0x' + escaped - 65536;\n    return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n  };\n\n  try {\n    push$1.apply(arr = slice$1.call(preferredDoc.childNodes), preferredDoc.childNodes);\n    arr[preferredDoc.childNodes.length].nodeType;\n  } catch (e) {\n    push$1 = {\n      apply: arr.length ? function (target, els) {\n        push_native.apply(target, slice$1.call(els));\n      } : function (target, els) {\n        var j = target.length,\n            i = 0;\n\n        while (target[j++] = els[i++]) {}\n\n        target.length = j - 1;\n      }\n    };\n  }\n\n  var Sizzle = function Sizzle(selector, context, results, seed) {\n    var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n\n    if ((context ? context.ownerDocument || context : preferredDoc) !== document) {\n      setDocument(context);\n    }\n\n    context = context || document;\n    results = results || [];\n\n    if (!selector || typeof selector !== 'string') {\n      return results;\n    }\n\n    if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n      return [];\n    }\n\n    if (documentIsHTML && !seed) {\n      if (match = rquickExpr.exec(selector)) {\n        if (m = match[1]) {\n          if (nodeType === 9) {\n            elem = context.getElementById(m);\n\n            if (elem && elem.parentNode) {\n              if (elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            } else {\n              return results;\n            }\n          } else {\n            if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains$1(context, elem) && elem.id === m) {\n              results.push(elem);\n              return results;\n            }\n          }\n        } else if (match[2]) {\n          push$1.apply(results, context.getElementsByTagName(selector));\n          return results;\n        } else if ((m = match[3]) && support.getElementsByClassName) {\n          push$1.apply(results, context.getElementsByClassName(m));\n          return results;\n        }\n      }\n\n      if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n        nid = old = expando;\n        newContext = context;\n        newSelector = nodeType === 9 && selector;\n\n        if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n          groups = tokenize(selector);\n\n          if (old = context.getAttribute('id')) {\n            nid = old.replace(rescape, '\\\\$&');\n          } else {\n            context.setAttribute('id', nid);\n          }\n\n          nid = '[id=\\'' + nid + '\\'] ';\n          i = groups.length;\n\n          while (i--) {\n            groups[i] = nid + toSelector(groups[i]);\n          }\n\n          newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n          newSelector = groups.join(',');\n        }\n\n        if (newSelector) {\n          try {\n            push$1.apply(results, newContext.querySelectorAll(newSelector));\n            return results;\n          } catch (qsaError) {} finally {\n            if (!old) {\n              context.removeAttribute('id');\n            }\n          }\n        }\n      }\n    }\n\n    return select(selector.replace(rtrim, '$1'), context, results, seed);\n  };\n\n  function createCache() {\n    var keys = [];\n\n    function cache(key, value) {\n      if (keys.push(key + ' ') > Expr.cacheLength) {\n        delete cache[keys.shift()];\n      }\n\n      return cache[key + ' '] = value;\n    }\n\n    return cache;\n  }\n\n  function markFunction(fn) {\n    fn[expando] = true;\n    return fn;\n  }\n\n  function siblingCheck(a, b) {\n    var cur = b && a,\n        diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n\n    if (diff) {\n      return diff;\n    }\n\n    if (cur) {\n      while (cur = cur.nextSibling) {\n        if (cur === b) {\n          return -1;\n        }\n      }\n    }\n\n    return a ? 1 : -1;\n  }\n\n  function createInputPseudo(type) {\n    return function (elem) {\n      var name = elem.nodeName.toLowerCase();\n      return name === 'input' && elem.type === type;\n    };\n  }\n\n  function createButtonPseudo(type) {\n    return function (elem) {\n      var name = elem.nodeName.toLowerCase();\n      return (name === 'input' || name === 'button') && elem.type === type;\n    };\n  }\n\n  function createPositionalPseudo(fn) {\n    return markFunction(function (argument) {\n      argument = +argument;\n      return markFunction(function (seed, matches) {\n        var j,\n            matchIndexes = fn([], seed.length, argument),\n            i = matchIndexes.length;\n\n        while (i--) {\n          if (seed[j = matchIndexes[i]]) {\n            seed[j] = !(matches[j] = seed[j]);\n          }\n        }\n      });\n    });\n  }\n\n  function testContext(context) {\n    return context && typeof context.getElementsByTagName !== strundefined && context;\n  }\n\n  support = Sizzle.support = {};\n\n  isXML = Sizzle.isXML = function (elem) {\n    var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n    return documentElement ? documentElement.nodeName !== 'HTML' : false;\n  };\n\n  setDocument = Sizzle.setDocument = function (node) {\n    var hasCompare,\n        doc = node ? node.ownerDocument || node : preferredDoc,\n        parent = doc.defaultView;\n\n    function getTop(win) {\n      try {\n        return win.top;\n      } catch (ex) {}\n\n      return null;\n    }\n\n    if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {\n      return document;\n    }\n\n    document = doc;\n    docElem = doc.documentElement;\n    documentIsHTML = !isXML(doc);\n\n    if (parent && parent !== getTop(parent)) {\n      if (parent.addEventListener) {\n        parent.addEventListener('unload', function () {\n          setDocument();\n        }, false);\n      } else if (parent.attachEvent) {\n        parent.attachEvent('onunload', function () {\n          setDocument();\n        });\n      }\n    }\n\n    support.attributes = true;\n    support.getElementsByTagName = true;\n    support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n    support.getById = true;\n\n    Expr.find.ID = function (id, context) {\n      if (typeof context.getElementById !== strundefined && documentIsHTML) {\n        var m = context.getElementById(id);\n        return m && m.parentNode ? [m] : [];\n      }\n    };\n\n    Expr.filter.ID = function (id) {\n      var attrId = id.replace(runescape, funescape);\n      return function (elem) {\n        return elem.getAttribute('id') === attrId;\n      };\n    };\n\n    Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n      if (typeof context.getElementsByTagName !== strundefined) {\n        return context.getElementsByTagName(tag);\n      }\n    } : function (tag, context) {\n      var elem,\n          tmp = [],\n          i = 0,\n          results = context.getElementsByTagName(tag);\n\n      if (tag === '*') {\n        while (elem = results[i++]) {\n          if (elem.nodeType === 1) {\n            tmp.push(elem);\n          }\n        }\n\n        return tmp;\n      }\n\n      return results;\n    };\n\n    Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n      if (documentIsHTML) {\n        return context.getElementsByClassName(className);\n      }\n    };\n\n    rbuggyMatches = [];\n    rbuggyQSA = [];\n    support.disconnectedMatch = true;\n    rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n    rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n    hasCompare = rnative.test(docElem.compareDocumentPosition);\n    contains$1 = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n      var adown = a.nodeType === 9 ? a.documentElement : a,\n          bup = b && b.parentNode;\n      return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n    } : function (a, b) {\n      if (b) {\n        while (b = b.parentNode) {\n          if (b === a) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n    sortOrder = hasCompare ? function (a, b) {\n      if (a === b) {\n        hasDuplicate = true;\n        return 0;\n      }\n\n      var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\n      if (compare) {\n        return compare;\n      }\n\n      compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n\n      if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n        if (a === doc || a.ownerDocument === preferredDoc && contains$1(preferredDoc, a)) {\n          return -1;\n        }\n\n        if (b === doc || b.ownerDocument === preferredDoc && contains$1(preferredDoc, b)) {\n          return 1;\n        }\n\n        return sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\n      }\n\n      return compare & 4 ? -1 : 1;\n    } : function (a, b) {\n      if (a === b) {\n        hasDuplicate = true;\n        return 0;\n      }\n\n      var cur,\n          i = 0,\n          aup = a.parentNode,\n          bup = b.parentNode,\n          ap = [a],\n          bp = [b];\n\n      if (!aup || !bup) {\n        return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\n      } else if (aup === bup) {\n        return siblingCheck(a, b);\n      }\n\n      cur = a;\n\n      while (cur = cur.parentNode) {\n        ap.unshift(cur);\n      }\n\n      cur = b;\n\n      while (cur = cur.parentNode) {\n        bp.unshift(cur);\n      }\n\n      while (ap[i] === bp[i]) {\n        i++;\n      }\n\n      return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n    };\n    return doc;\n  };\n\n  Sizzle.matches = function (expr, elements) {\n    return Sizzle(expr, null, null, elements);\n  };\n\n  Sizzle.matchesSelector = function (elem, expr) {\n    if ((elem.ownerDocument || elem) !== document) {\n      setDocument(elem);\n    }\n\n    expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n\n    if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n      try {\n        var ret = matches.call(elem, expr);\n\n        if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n          return ret;\n        }\n      } catch (e) {}\n    }\n\n    return Sizzle(expr, document, null, [elem]).length > 0;\n  };\n\n  Sizzle.contains = function (context, elem) {\n    if ((context.ownerDocument || context) !== document) {\n      setDocument(context);\n    }\n\n    return contains$1(context, elem);\n  };\n\n  Sizzle.attr = function (elem, name) {\n    if ((elem.ownerDocument || elem) !== document) {\n      setDocument(elem);\n    }\n\n    var fn = Expr.attrHandle[name.toLowerCase()],\n        val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n    return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n  };\n\n  Sizzle.error = function (msg) {\n    throw new Error('Syntax error, unrecognized expression: ' + msg);\n  };\n\n  Sizzle.uniqueSort = function (results) {\n    var elem,\n        duplicates = [],\n        j = 0,\n        i = 0;\n    hasDuplicate = !support.detectDuplicates;\n    sortInput = !support.sortStable && results.slice(0);\n    results.sort(sortOrder);\n\n    if (hasDuplicate) {\n      while (elem = results[i++]) {\n        if (elem === results[i]) {\n          j = duplicates.push(i);\n        }\n      }\n\n      while (j--) {\n        results.splice(duplicates[j], 1);\n      }\n    }\n\n    sortInput = null;\n    return results;\n  };\n\n  getText = Sizzle.getText = function (elem) {\n    var node,\n        ret = '',\n        i = 0,\n        nodeType = elem.nodeType;\n\n    if (!nodeType) {\n      while (node = elem[i++]) {\n        ret += getText(node);\n      }\n    } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n      if (typeof elem.textContent === 'string') {\n        return elem.textContent;\n      } else {\n        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n          ret += getText(elem);\n        }\n      }\n    } else if (nodeType === 3 || nodeType === 4) {\n      return elem.nodeValue;\n    }\n\n    return ret;\n  };\n\n  Expr = Sizzle.selectors = {\n    cacheLength: 50,\n    createPseudo: markFunction,\n    match: matchExpr,\n    attrHandle: {},\n    find: {},\n    relative: {\n      '>': {\n        dir: 'parentNode',\n        first: true\n      },\n      ' ': {\n        dir: 'parentNode'\n      },\n      '+': {\n        dir: 'previousSibling',\n        first: true\n      },\n      '~': {\n        dir: 'previousSibling'\n      }\n    },\n    preFilter: {\n      ATTR: function ATTR(match) {\n        match[1] = match[1].replace(runescape, funescape);\n        match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n\n        if (match[2] === '~=') {\n          match[3] = ' ' + match[3] + ' ';\n        }\n\n        return match.slice(0, 4);\n      },\n      CHILD: function CHILD(match) {\n        match[1] = match[1].toLowerCase();\n\n        if (match[1].slice(0, 3) === 'nth') {\n          if (!match[3]) {\n            Sizzle.error(match[0]);\n          }\n\n          match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n          match[5] = +(match[7] + match[8] || match[3] === 'odd');\n        } else if (match[3]) {\n          Sizzle.error(match[0]);\n        }\n\n        return match;\n      },\n      PSEUDO: function PSEUDO(match) {\n        var excess,\n            unquoted = !match[6] && match[2];\n\n        if (matchExpr.CHILD.test(match[0])) {\n          return null;\n        }\n\n        if (match[3]) {\n          match[2] = match[4] || match[5] || '';\n        } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n          match[0] = match[0].slice(0, excess);\n          match[2] = unquoted.slice(0, excess);\n        }\n\n        return match.slice(0, 3);\n      }\n    },\n    filter: {\n      TAG: function TAG(nodeNameSelector) {\n        var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n        return nodeNameSelector === '*' ? function () {\n          return true;\n        } : function (elem) {\n          return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n        };\n      },\n      CLASS: function CLASS(className) {\n        var pattern = classCache[className + ' '];\n        return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n          return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n        });\n      },\n      ATTR: function ATTR(name, operator, check) {\n        return function (elem) {\n          var result = Sizzle.attr(elem, name);\n\n          if (result == null) {\n            return operator === '!=';\n          }\n\n          if (!operator) {\n            return true;\n          }\n\n          result += '';\n          return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n        };\n      },\n      CHILD: function CHILD(type, what, argument, first, last) {\n        var simple = type.slice(0, 3) !== 'nth',\n            forward = type.slice(-4) !== 'last',\n            ofType = what === 'of-type';\n        return first === 1 && last === 0 ? function (elem) {\n          return !!elem.parentNode;\n        } : function (elem, context, xml) {\n          var cache,\n              outerCache,\n              node,\n              diff,\n              nodeIndex,\n              start,\n              dir = simple !== forward ? 'nextSibling' : 'previousSibling',\n              parent = elem.parentNode,\n              name = ofType && elem.nodeName.toLowerCase(),\n              useCache = !xml && !ofType;\n\n          if (parent) {\n            if (simple) {\n              while (dir) {\n                node = elem;\n\n                while (node = node[dir]) {\n                  if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                    return false;\n                  }\n                }\n\n                start = dir = type === 'only' && !start && 'nextSibling';\n              }\n\n              return true;\n            }\n\n            start = [forward ? parent.firstChild : parent.lastChild];\n\n            if (forward && useCache) {\n              outerCache = parent[expando] || (parent[expando] = {});\n              cache = outerCache[type] || [];\n              nodeIndex = cache[0] === dirruns && cache[1];\n              diff = cache[0] === dirruns && cache[2];\n              node = nodeIndex && parent.childNodes[nodeIndex];\n\n              while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                if (node.nodeType === 1 && ++diff && node === elem) {\n                  outerCache[type] = [dirruns, nodeIndex, diff];\n                  break;\n                }\n              }\n            } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n              diff = cache[1];\n            } else {\n              while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                  if (useCache) {\n                    (node[expando] || (node[expando] = {}))[type] = [dirruns, diff];\n                  }\n\n                  if (node === elem) {\n                    break;\n                  }\n                }\n              }\n            }\n\n            diff -= last;\n            return diff === first || diff % first === 0 && diff / first >= 0;\n          }\n        };\n      },\n      PSEUDO: function PSEUDO(pseudo, argument) {\n        var args,\n            fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n\n        if (fn[expando]) {\n          return fn(argument);\n        }\n\n        if (fn.length > 1) {\n          args = [pseudo, pseudo, '', argument];\n          return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n            var idx,\n                matched = fn(seed, argument),\n                i = matched.length;\n\n            while (i--) {\n              idx = indexOf$1.call(seed, matched[i]);\n              seed[idx] = !(matches[idx] = matched[i]);\n            }\n          }) : function (elem) {\n            return fn(elem, 0, args);\n          };\n        }\n\n        return fn;\n      }\n    },\n    pseudos: {\n      not: markFunction(function (selector) {\n        var input = [],\n            results = [],\n            matcher = compile(selector.replace(rtrim, '$1'));\n        return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n          var elem,\n              unmatched = matcher(seed, null, xml, []),\n              i = seed.length;\n\n          while (i--) {\n            if (elem = unmatched[i]) {\n              seed[i] = !(matches[i] = elem);\n            }\n          }\n        }) : function (elem, context, xml) {\n          input[0] = elem;\n          matcher(input, null, xml, results);\n          return !results.pop();\n        };\n      }),\n      has: markFunction(function (selector) {\n        return function (elem) {\n          return Sizzle(selector, elem).length > 0;\n        };\n      }),\n      contains: markFunction(function (text) {\n        text = text.replace(runescape, funescape);\n        return function (elem) {\n          return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n        };\n      }),\n      lang: markFunction(function (lang) {\n        if (!ridentifier.test(lang || '')) {\n          Sizzle.error('unsupported lang: ' + lang);\n        }\n\n        lang = lang.replace(runescape, funescape).toLowerCase();\n        return function (elem) {\n          var elemLang;\n\n          do {\n            if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n              elemLang = elemLang.toLowerCase();\n              return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n            }\n          } while ((elem = elem.parentNode) && elem.nodeType === 1);\n\n          return false;\n        };\n      }),\n      target: function target(elem) {\n        var hash = domGlobals.window.location && domGlobals.window.location.hash;\n        return hash && hash.slice(1) === elem.id;\n      },\n      root: function root(elem) {\n        return elem === docElem;\n      },\n      focus: function focus(elem) {\n        return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n      },\n      enabled: function enabled(elem) {\n        return elem.disabled === false;\n      },\n      disabled: function disabled(elem) {\n        return elem.disabled === true;\n      },\n      checked: function checked(elem) {\n        var nodeName = elem.nodeName.toLowerCase();\n        return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n      },\n      selected: function selected(elem) {\n        if (elem.parentNode) {\n          elem.parentNode.selectedIndex;\n        }\n\n        return elem.selected === true;\n      },\n      empty: function empty(elem) {\n        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n          if (elem.nodeType < 6) {\n            return false;\n          }\n        }\n\n        return true;\n      },\n      parent: function parent(elem) {\n        return !Expr.pseudos.empty(elem);\n      },\n      header: function header(elem) {\n        return rheader.test(elem.nodeName);\n      },\n      input: function input(elem) {\n        return rinputs.test(elem.nodeName);\n      },\n      button: function button(elem) {\n        var name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === 'button' || name === 'button';\n      },\n      text: function text(elem) {\n        var attr;\n        return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n      },\n      first: createPositionalPseudo(function () {\n        return [0];\n      }),\n      last: createPositionalPseudo(function (matchIndexes, length) {\n        return [length - 1];\n      }),\n      eq: createPositionalPseudo(function (matchIndexes, length, argument) {\n        return [argument < 0 ? argument + length : argument];\n      }),\n      even: createPositionalPseudo(function (matchIndexes, length) {\n        var i = 0;\n\n        for (; i < length; i += 2) {\n          matchIndexes.push(i);\n        }\n\n        return matchIndexes;\n      }),\n      odd: createPositionalPseudo(function (matchIndexes, length) {\n        var i = 1;\n\n        for (; i < length; i += 2) {\n          matchIndexes.push(i);\n        }\n\n        return matchIndexes;\n      }),\n      lt: createPositionalPseudo(function (matchIndexes, length, argument) {\n        var i = argument < 0 ? argument + length : argument;\n\n        for (; --i >= 0;) {\n          matchIndexes.push(i);\n        }\n\n        return matchIndexes;\n      }),\n      gt: createPositionalPseudo(function (matchIndexes, length, argument) {\n        var i = argument < 0 ? argument + length : argument;\n\n        for (; ++i < length;) {\n          matchIndexes.push(i);\n        }\n\n        return matchIndexes;\n      })\n    }\n  };\n  Expr.pseudos.nth = Expr.pseudos.eq;\n\n  for (i in {\n    radio: true,\n    checkbox: true,\n    file: true,\n    password: true,\n    image: true\n  }) {\n    Expr.pseudos[i] = createInputPseudo(i);\n  }\n\n  for (i in {\n    submit: true,\n    reset: true\n  }) {\n    Expr.pseudos[i] = createButtonPseudo(i);\n  }\n\n  function setFilters() {}\n\n  setFilters.prototype = Expr.filters = Expr.pseudos;\n  Expr.setFilters = new setFilters();\n\n  tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n    var matched,\n        match,\n        tokens,\n        type,\n        soFar,\n        groups,\n        preFilters,\n        cached = tokenCache[selector + ' '];\n\n    if (cached) {\n      return parseOnly ? 0 : cached.slice(0);\n    }\n\n    soFar = selector;\n    groups = [];\n    preFilters = Expr.preFilter;\n\n    while (soFar) {\n      if (!matched || (match = rcomma.exec(soFar))) {\n        if (match) {\n          soFar = soFar.slice(match[0].length) || soFar;\n        }\n\n        groups.push(tokens = []);\n      }\n\n      matched = false;\n\n      if (match = rcombinators.exec(soFar)) {\n        matched = match.shift();\n        tokens.push({\n          value: matched,\n          type: match[0].replace(rtrim, ' ')\n        });\n        soFar = soFar.slice(matched.length);\n      }\n\n      for (type in Expr.filter) {\n        if (!Expr.filter.hasOwnProperty(type)) continue;\n\n        if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: type,\n            matches: match\n          });\n          soFar = soFar.slice(matched.length);\n        }\n      }\n\n      if (!matched) {\n        break;\n      }\n    }\n\n    return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n  };\n\n  function toSelector(tokens) {\n    var i = 0,\n        len = tokens.length,\n        selector = '';\n\n    for (; i < len; i++) {\n      selector += tokens[i].value;\n    }\n\n    return selector;\n  }\n\n  function addCombinator(matcher, combinator, base) {\n    var dir = combinator.dir,\n        checkNonElements = base && dir === 'parentNode',\n        doneName = done++;\n    return combinator.first ? function (elem, context, xml) {\n      while (elem = elem[dir]) {\n        if (elem.nodeType === 1 || checkNonElements) {\n          return matcher(elem, context, xml);\n        }\n      }\n    } : function (elem, context, xml) {\n      var oldCache,\n          outerCache,\n          newCache = [dirruns, doneName];\n\n      if (xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            if (matcher(elem, context, xml)) {\n              return true;\n            }\n          }\n        }\n      } else {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            outerCache = elem[expando] || (elem[expando] = {});\n\n            if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n              return newCache[2] = oldCache[2];\n            } else {\n              outerCache[dir] = newCache;\n\n              if (newCache[2] = matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        }\n      }\n    };\n  }\n\n  function elementMatcher(matchers) {\n    return matchers.length > 1 ? function (elem, context, xml) {\n      var i = matchers.length;\n\n      while (i--) {\n        if (!matchers[i](elem, context, xml)) {\n          return false;\n        }\n      }\n\n      return true;\n    } : matchers[0];\n  }\n\n  function multipleContexts(selector, contexts, results) {\n    var i = 0,\n        len = contexts.length;\n\n    for (; i < len; i++) {\n      Sizzle(selector, contexts[i], results);\n    }\n\n    return results;\n  }\n\n  function condense(unmatched, map, filter, context, xml) {\n    var elem,\n        newUnmatched = [],\n        i = 0,\n        len = unmatched.length,\n        mapped = map != null;\n\n    for (; i < len; i++) {\n      if (elem = unmatched[i]) {\n        if (!filter || filter(elem, context, xml)) {\n          newUnmatched.push(elem);\n\n          if (mapped) {\n            map.push(i);\n          }\n        }\n      }\n    }\n\n    return newUnmatched;\n  }\n\n  function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n    if (postFilter && !postFilter[expando]) {\n      postFilter = setMatcher(postFilter);\n    }\n\n    if (postFinder && !postFinder[expando]) {\n      postFinder = setMatcher(postFinder, postSelector);\n    }\n\n    return markFunction(function (seed, results, context, xml) {\n      var temp,\n          i,\n          elem,\n          preMap = [],\n          postMap = [],\n          preexisting = results.length,\n          elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []),\n          matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems,\n          matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n\n      if (matcher) {\n        matcher(matcherIn, matcherOut, context, xml);\n      }\n\n      if (postFilter) {\n        temp = condense(matcherOut, postMap);\n        postFilter(temp, [], context, xml);\n        i = temp.length;\n\n        while (i--) {\n          if (elem = temp[i]) {\n            matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n          }\n        }\n      }\n\n      if (seed) {\n        if (postFinder || preFilter) {\n          if (postFinder) {\n            temp = [];\n            i = matcherOut.length;\n\n            while (i--) {\n              if (elem = matcherOut[i]) {\n                temp.push(matcherIn[i] = elem);\n              }\n            }\n\n            postFinder(null, matcherOut = [], temp, xml);\n          }\n\n          i = matcherOut.length;\n\n          while (i--) {\n            if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf$1.call(seed, elem) : preMap[i]) > -1) {\n              seed[temp] = !(results[temp] = elem);\n            }\n          }\n        }\n      } else {\n        matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n\n        if (postFinder) {\n          postFinder(null, results, matcherOut, xml);\n        } else {\n          push$1.apply(results, matcherOut);\n        }\n      }\n    });\n  }\n\n  function matcherFromTokens(tokens) {\n    var checkContext,\n        matcher,\n        j,\n        len = tokens.length,\n        leadingRelative = Expr.relative[tokens[0].type],\n        implicitRelative = leadingRelative || Expr.relative[' '],\n        i = leadingRelative ? 1 : 0,\n        matchContext = addCombinator(function (elem) {\n      return elem === checkContext;\n    }, implicitRelative, true),\n        matchAnyContext = addCombinator(function (elem) {\n      return indexOf$1.call(checkContext, elem) > -1;\n    }, implicitRelative, true),\n        matchers = [function (elem, context, xml) {\n      return !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n    }];\n\n    for (; i < len; i++) {\n      if (matcher = Expr.relative[tokens[i].type]) {\n        matchers = [addCombinator(elementMatcher(matchers), matcher)];\n      } else {\n        matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n\n        if (matcher[expando]) {\n          j = ++i;\n\n          for (; j < len; j++) {\n            if (Expr.relative[tokens[j].type]) {\n              break;\n            }\n          }\n\n          return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({\n            value: tokens[i - 2].type === ' ' ? '*' : ''\n          })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n        }\n\n        matchers.push(matcher);\n      }\n    }\n\n    return elementMatcher(matchers);\n  }\n\n  function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n    var bySet = setMatchers.length > 0,\n        byElement = elementMatchers.length > 0,\n        superMatcher = function superMatcher(seed, context, xml, results, outermost) {\n      var elem,\n          j,\n          matcher,\n          matchedCount = 0,\n          i = '0',\n          unmatched = seed && [],\n          setMatched = [],\n          contextBackup = outermostContext,\n          elems = seed || byElement && Expr.find.TAG('*', outermost),\n          dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1,\n          len = elems.length;\n\n      if (outermost) {\n        outermostContext = context !== document && context;\n      }\n\n      for (; i !== len && (elem = elems[i]) != null; i++) {\n        if (byElement && elem) {\n          j = 0;\n\n          while (matcher = elementMatchers[j++]) {\n            if (matcher(elem, context, xml)) {\n              results.push(elem);\n              break;\n            }\n          }\n\n          if (outermost) {\n            dirruns = dirrunsUnique;\n          }\n        }\n\n        if (bySet) {\n          if (elem = !matcher && elem) {\n            matchedCount--;\n          }\n\n          if (seed) {\n            unmatched.push(elem);\n          }\n        }\n      }\n\n      matchedCount += i;\n\n      if (bySet && i !== matchedCount) {\n        j = 0;\n\n        while (matcher = setMatchers[j++]) {\n          matcher(unmatched, setMatched, context, xml);\n        }\n\n        if (seed) {\n          if (matchedCount > 0) {\n            while (i--) {\n              if (!(unmatched[i] || setMatched[i])) {\n                setMatched[i] = pop.call(results);\n              }\n            }\n          }\n\n          setMatched = condense(setMatched);\n        }\n\n        push$1.apply(results, setMatched);\n\n        if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n          Sizzle.uniqueSort(results);\n        }\n      }\n\n      if (outermost) {\n        dirruns = dirrunsUnique;\n        outermostContext = contextBackup;\n      }\n\n      return unmatched;\n    };\n\n    return bySet ? markFunction(superMatcher) : superMatcher;\n  }\n\n  compile = Sizzle.compile = function (selector, match) {\n    var i,\n        setMatchers = [],\n        elementMatchers = [],\n        cached = compilerCache[selector + ' '];\n\n    if (!cached) {\n      if (!match) {\n        match = tokenize(selector);\n      }\n\n      i = match.length;\n\n      while (i--) {\n        cached = matcherFromTokens(match[i]);\n\n        if (cached[expando]) {\n          setMatchers.push(cached);\n        } else {\n          elementMatchers.push(cached);\n        }\n      }\n\n      cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n      cached.selector = selector;\n    }\n\n    return cached;\n  };\n\n  select = Sizzle.select = function (selector, context, results, seed) {\n    var i,\n        tokens,\n        token,\n        type,\n        find,\n        compiled = typeof selector === 'function' && selector,\n        match = !seed && tokenize(selector = compiled.selector || selector);\n    results = results || [];\n\n    if (match.length === 1) {\n      tokens = match[0] = match[0].slice(0);\n\n      if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n        context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n\n        if (!context) {\n          return results;\n        } else if (compiled) {\n          context = context.parentNode;\n        }\n\n        selector = selector.slice(tokens.shift().value.length);\n      }\n\n      i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n\n      while (i--) {\n        token = tokens[i];\n\n        if (Expr.relative[type = token.type]) {\n          break;\n        }\n\n        if (find = Expr.find[type]) {\n          if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n            tokens.splice(i, 1);\n            selector = seed.length && toSelector(tokens);\n\n            if (!selector) {\n              push$1.apply(results, seed);\n              return results;\n            }\n\n            break;\n          }\n        }\n      }\n    }\n\n    (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n    return results;\n  };\n\n  support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n  support.detectDuplicates = !!hasDuplicate;\n  setDocument();\n  support.sortDetached = true;\n  var isArray$1 = Array.isArray;\n\n  var toArray = function toArray(obj) {\n    var array = obj,\n        i,\n        l;\n\n    if (!isArray$1(obj)) {\n      array = [];\n\n      for (i = 0, l = obj.length; i < l; i++) {\n        array[i] = obj[i];\n      }\n    }\n\n    return array;\n  };\n\n  var each$1 = function each$1(o, cb, s) {\n    var n, l;\n\n    if (!o) {\n      return 0;\n    }\n\n    s = s || o;\n\n    if (o.length !== undefined) {\n      for (n = 0, l = o.length; n < l; n++) {\n        if (cb.call(s, o[n], n, o) === false) {\n          return 0;\n        }\n      }\n    } else {\n      for (n in o) {\n        if (o.hasOwnProperty(n)) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return 0;\n          }\n        }\n      }\n    }\n\n    return 1;\n  };\n\n  var map$1 = function map$1(array, callback) {\n    var out = [];\n    each$1(array, function (item, index) {\n      out.push(callback(item, index, array));\n    });\n    return out;\n  };\n\n  var filter$1 = function filter$1(a, f) {\n    var o = [];\n    each$1(a, function (v, index) {\n      if (!f || f(v, index, a)) {\n        o.push(v);\n      }\n    });\n    return o;\n  };\n\n  var indexOf$2 = function indexOf$2(a, v) {\n    var i, l;\n\n    if (a) {\n      for (i = 0, l = a.length; i < l; i++) {\n        if (a[i] === v) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  };\n\n  var reduce = function reduce(collection, iteratee, accumulator, thisArg) {\n    var i = 0;\n\n    if (arguments.length < 3) {\n      accumulator = collection[0];\n    }\n\n    for (; i < collection.length; i++) {\n      accumulator = iteratee.call(thisArg, accumulator, collection[i], i);\n    }\n\n    return accumulator;\n  };\n\n  var findIndex$1 = function findIndex$1(array, predicate, thisArg) {\n    var i, l;\n\n    for (i = 0, l = array.length; i < l; i++) {\n      if (predicate.call(thisArg, array[i], i, array)) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var find$1 = function find$1(array, predicate, thisArg) {\n    var idx = findIndex$1(array, predicate, thisArg);\n\n    if (idx !== -1) {\n      return array[idx];\n    }\n\n    return undefined;\n  };\n\n  var last$1 = function last$1(collection) {\n    return collection[collection.length - 1];\n  };\n\n  var ArrUtils = {\n    isArray: isArray$1,\n    toArray: toArray,\n    each: each$1,\n    map: map$1,\n    filter: filter$1,\n    indexOf: indexOf$2,\n    reduce: reduce,\n    findIndex: findIndex$1,\n    find: find$1,\n    last: last$1\n  };\n  var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n\n  var trim = function trim(str) {\n    return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n  };\n\n  var is = function is(obj, type) {\n    if (!type) {\n      return obj !== undefined;\n    }\n\n    if (type === 'array' && ArrUtils.isArray(obj)) {\n      return true;\n    }\n\n    return typeof obj === type;\n  };\n\n  var makeMap = function makeMap(items, delim, map) {\n    var i;\n    items = items || [];\n    delim = delim || ',';\n\n    if (typeof items === 'string') {\n      items = items.split(delim);\n    }\n\n    map = map || {};\n    i = items.length;\n\n    while (i--) {\n      map[items[i]] = {};\n    }\n\n    return map;\n  };\n\n  var hasOwnProperty = function hasOwnProperty(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n  };\n\n  var create = function create(s, p, root) {\n    var self = this;\n    var sp,\n        ns,\n        cn,\n        scn,\n        c,\n        de = 0;\n    s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n    cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n    ns = self.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n\n    if (ns[cn]) {\n      return;\n    }\n\n    if (s[2] === 'static') {\n      ns[cn] = p;\n\n      if (this.onCreate) {\n        this.onCreate(s[2], s[3], ns[cn]);\n      }\n\n      return;\n    }\n\n    if (!p[cn]) {\n      p[cn] = function () {};\n\n      de = 1;\n    }\n\n    ns[cn] = p[cn];\n    self.extend(ns[cn].prototype, p);\n\n    if (s[5]) {\n      sp = self.resolve(s[5]).prototype;\n      scn = s[5].match(/\\.(\\w+)$/i)[1];\n      c = ns[cn];\n\n      if (de) {\n        ns[cn] = function () {\n          return sp[scn].apply(this, arguments);\n        };\n      } else {\n        ns[cn] = function () {\n          this.parent = sp[scn];\n          return c.apply(this, arguments);\n        };\n      }\n\n      ns[cn].prototype[cn] = ns[cn];\n      self.each(sp, function (f, n) {\n        ns[cn].prototype[n] = sp[n];\n      });\n      self.each(p, function (f, n) {\n        if (sp[n]) {\n          ns[cn].prototype[n] = function () {\n            this.parent = sp[n];\n            return f.apply(this, arguments);\n          };\n        } else {\n          if (n !== cn) {\n            ns[cn].prototype[n] = f;\n          }\n        }\n      });\n    }\n\n    self.each(p.static, function (f, n) {\n      ns[cn][n] = f;\n    });\n  };\n\n  var extend = function extend(obj, ext) {\n    var x = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      x[_i - 2] = arguments[_i];\n    }\n\n    var i, l, name;\n    var args = arguments;\n    var value;\n\n    for (i = 1, l = args.length; i < l; i++) {\n      ext = args[i];\n\n      for (name in ext) {\n        if (ext.hasOwnProperty(name)) {\n          value = ext[name];\n\n          if (value !== undefined) {\n            obj[name] = value;\n          }\n        }\n      }\n    }\n\n    return obj;\n  };\n\n  var walk = function walk(o, f, n, s) {\n    s = s || this;\n\n    if (o) {\n      if (n) {\n        o = o[n];\n      }\n\n      ArrUtils.each(o, function (o, i) {\n        if (f.call(s, o, i, n) === false) {\n          return false;\n        }\n\n        walk(o, f, n, s);\n      });\n    }\n  };\n\n  var createNS = function createNS(n, o) {\n    var i, v;\n    o = o || domGlobals.window;\n    n = n.split('.');\n\n    for (i = 0; i < n.length; i++) {\n      v = n[i];\n\n      if (!o[v]) {\n        o[v] = {};\n      }\n\n      o = o[v];\n    }\n\n    return o;\n  };\n\n  var resolve = function resolve(n, o) {\n    var i, l;\n    o = o || domGlobals.window;\n    n = n.split('.');\n\n    for (i = 0, l = n.length; i < l; i++) {\n      o = o[n[i]];\n\n      if (!o) {\n        break;\n      }\n    }\n\n    return o;\n  };\n\n  var explode = function explode(s, d) {\n    if (!s || is(s, 'array')) {\n      return s;\n    }\n\n    return ArrUtils.map(s.split(d || ','), trim);\n  };\n\n  var _addCacheSuffix = function _addCacheSuffix(url) {\n    var cacheSuffix = Env.cacheSuffix;\n\n    if (cacheSuffix) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n    }\n\n    return url;\n  };\n\n  var Tools = {\n    trim: trim,\n    isArray: ArrUtils.isArray,\n    is: is,\n    toArray: ArrUtils.toArray,\n    makeMap: makeMap,\n    each: ArrUtils.each,\n    map: ArrUtils.map,\n    grep: ArrUtils.filter,\n    inArray: ArrUtils.indexOf,\n    hasOwn: hasOwnProperty,\n    extend: extend,\n    create: create,\n    walk: walk,\n    createNS: createNS,\n    resolve: resolve,\n    explode: explode,\n    _addCacheSuffix: _addCacheSuffix\n  };\n  var doc = domGlobals.document,\n      push$2 = Array.prototype.push,\n      slice$2 = Array.prototype.slice;\n  var rquickExpr$1 = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n  var Event = EventUtils.Event;\n  var skipUniques = Tools.makeMap('children,contents,next,prev');\n\n  var isDefined = function isDefined(obj) {\n    return typeof obj !== 'undefined';\n  };\n\n  var isString$1 = function isString$1(obj) {\n    return typeof obj === 'string';\n  };\n\n  var isWindow = function isWindow(obj) {\n    return obj && obj === obj.window;\n  };\n\n  var createFragment = function createFragment(html, fragDoc) {\n    var frag, node, container;\n    fragDoc = fragDoc || doc;\n    container = fragDoc.createElement('div');\n    frag = fragDoc.createDocumentFragment();\n    container.innerHTML = html;\n\n    while (node = container.firstChild) {\n      frag.appendChild(node);\n    }\n\n    return frag;\n  };\n\n  var domManipulate = function domManipulate(targetNodes, sourceItem, callback, reverse) {\n    var i;\n\n    if (isString$1(sourceItem)) {\n      sourceItem = createFragment(sourceItem, getElementDocument(targetNodes[0]));\n    } else if (sourceItem.length && !sourceItem.nodeType) {\n      sourceItem = DomQuery.makeArray(sourceItem);\n\n      if (reverse) {\n        for (i = sourceItem.length - 1; i >= 0; i--) {\n          domManipulate(targetNodes, sourceItem[i], callback, reverse);\n        }\n      } else {\n        for (i = 0; i < sourceItem.length; i++) {\n          domManipulate(targetNodes, sourceItem[i], callback, reverse);\n        }\n      }\n\n      return targetNodes;\n    }\n\n    if (sourceItem.nodeType) {\n      i = targetNodes.length;\n\n      while (i--) {\n        callback.call(targetNodes[i], sourceItem);\n      }\n    }\n\n    return targetNodes;\n  };\n\n  var _hasClass = function hasClass(node, className) {\n    return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n  };\n\n  var _wrap = function wrap(elements, wrapper, all) {\n    var lastParent, newWrapper;\n    wrapper = DomQuery(wrapper)[0];\n    elements.each(function () {\n      var self = this;\n\n      if (!all || lastParent !== self.parentNode) {\n        lastParent = self.parentNode;\n        newWrapper = wrapper.cloneNode(false);\n        self.parentNode.insertBefore(newWrapper, self);\n        newWrapper.appendChild(self);\n      } else {\n        newWrapper.appendChild(self);\n      }\n    });\n    return elements;\n  };\n\n  var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n  var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n  var propFix = {\n    for: 'htmlFor',\n    class: 'className',\n    readonly: 'readOnly'\n  };\n  var cssFix = {\n    float: 'cssFloat'\n  };\n  var attrHooks = {},\n      cssHooks = {};\n\n  var DomQueryConstructor = function DomQueryConstructor(selector, context) {\n    return new DomQuery.fn.init(selector, context);\n  };\n\n  var inArray = function inArray(item, array) {\n    var i;\n\n    if (array.indexOf) {\n      return array.indexOf(item);\n    }\n\n    i = array.length;\n\n    while (i--) {\n      if (array[i] === item) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\n\n  var trim$1 = function trim$1(str) {\n    return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\n  };\n\n  var each$2 = function each$2(obj, callback) {\n    var length, key, i, value;\n\n    if (obj) {\n      length = obj.length;\n\n      if (length === undefined) {\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            value = obj[key];\n\n            if (callback.call(value, key, value) === false) {\n              break;\n            }\n          }\n        }\n      } else {\n        for (i = 0; i < length; i++) {\n          value = obj[i];\n\n          if (callback.call(value, i, value) === false) {\n            break;\n          }\n        }\n      }\n    }\n\n    return obj;\n  };\n\n  var grep = function grep(array, callback) {\n    var out = [];\n    each$2(array, function (i, item) {\n      if (callback(item, i)) {\n        out.push(item);\n      }\n    });\n    return out;\n  };\n\n  var getElementDocument = function getElementDocument(element) {\n    if (!element) {\n      return doc;\n    }\n\n    if (element.nodeType === 9) {\n      return element;\n    }\n\n    return element.ownerDocument;\n  };\n\n  DomQueryConstructor.fn = DomQueryConstructor.prototype = {\n    constructor: DomQueryConstructor,\n    selector: '',\n    context: null,\n    length: 0,\n    init: function init(selector, context) {\n      var self = this;\n      var match, node;\n\n      if (!selector) {\n        return self;\n      }\n\n      if (selector.nodeType) {\n        self.context = self[0] = selector;\n        self.length = 1;\n        return self;\n      }\n\n      if (context && context.nodeType) {\n        self.context = context;\n      } else {\n        if (context) {\n          return DomQuery(selector).attr(context);\n        }\n\n        self.context = context = domGlobals.document;\n      }\n\n      if (isString$1(selector)) {\n        self.selector = selector;\n\n        if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n          match = [null, selector, null];\n        } else {\n          match = rquickExpr$1.exec(selector);\n        }\n\n        if (match) {\n          if (match[1]) {\n            node = createFragment(selector, getElementDocument(context)).firstChild;\n\n            while (node) {\n              push$2.call(self, node);\n              node = node.nextSibling;\n            }\n          } else {\n            node = getElementDocument(context).getElementById(match[2]);\n\n            if (!node) {\n              return self;\n            }\n\n            if (node.id !== match[2]) {\n              return self.find(selector);\n            }\n\n            self.length = 1;\n            self[0] = node;\n          }\n        } else {\n          return DomQuery(context).find(selector);\n        }\n      } else {\n        this.add(selector, false);\n      }\n\n      return self;\n    },\n    toArray: function toArray() {\n      return Tools.toArray(this);\n    },\n    add: function add(items, sort) {\n      var self = this;\n      var nodes, i;\n\n      if (isString$1(items)) {\n        return self.add(DomQuery(items));\n      }\n\n      if (sort !== false) {\n        nodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\n        self.length = nodes.length;\n\n        for (i = 0; i < nodes.length; i++) {\n          self[i] = nodes[i];\n        }\n      } else {\n        push$2.apply(self, DomQuery.makeArray(items));\n      }\n\n      return self;\n    },\n    attr: function attr(name, value) {\n      var self = this;\n      var hook;\n\n      if (typeof name === 'object') {\n        each$2(name, function (name, value) {\n          self.attr(name, value);\n        });\n      } else if (isDefined(value)) {\n        this.each(function () {\n          var hook;\n\n          if (this.nodeType === 1) {\n            hook = attrHooks[name];\n\n            if (hook && hook.set) {\n              hook.set(this, value);\n              return;\n            }\n\n            if (value === null) {\n              this.removeAttribute(name, 2);\n            } else {\n              this.setAttribute(name, value, 2);\n            }\n          }\n        });\n      } else {\n        if (self[0] && self[0].nodeType === 1) {\n          hook = attrHooks[name];\n\n          if (hook && hook.get) {\n            return hook.get(self[0], name);\n          }\n\n          if (booleanMap[name]) {\n            return self.prop(name) ? name : undefined;\n          }\n\n          value = self[0].getAttribute(name, 2);\n\n          if (value === null) {\n            value = undefined;\n          }\n        }\n\n        return value;\n      }\n\n      return self;\n    },\n    removeAttr: function removeAttr(name) {\n      return this.attr(name, null);\n    },\n    prop: function prop(name, value) {\n      var self = this;\n      name = propFix[name] || name;\n\n      if (typeof name === 'object') {\n        each$2(name, function (name, value) {\n          self.prop(name, value);\n        });\n      } else if (isDefined(value)) {\n        this.each(function () {\n          if (this.nodeType === 1) {\n            this[name] = value;\n          }\n        });\n      } else {\n        if (self[0] && self[0].nodeType && name in self[0]) {\n          return self[0][name];\n        }\n\n        return value;\n      }\n\n      return self;\n    },\n    css: function css(name, value) {\n      var self = this;\n      var elm, hook;\n\n      var camel = function camel(name) {\n        return name.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n      };\n\n      var dashed = function dashed(name) {\n        return name.replace(/[A-Z]/g, function (a) {\n          return '-' + a;\n        });\n      };\n\n      if (typeof name === 'object') {\n        each$2(name, function (name, value) {\n          self.css(name, value);\n        });\n      } else {\n        if (isDefined(value)) {\n          name = camel(name);\n\n          if (typeof value === 'number' && !numericCssMap[name]) {\n            value = value.toString() + 'px';\n          }\n\n          self.each(function () {\n            var style = this.style;\n            hook = cssHooks[name];\n\n            if (hook && hook.set) {\n              hook.set(this, value);\n              return;\n            }\n\n            try {\n              this.style[cssFix[name] || name] = value;\n            } catch (ex) {}\n\n            if (value === null || value === '') {\n              if (style.removeProperty) {\n                style.removeProperty(dashed(name));\n              } else {\n                style.removeAttribute(name);\n              }\n            }\n          });\n        } else {\n          elm = self[0];\n          hook = cssHooks[name];\n\n          if (hook && hook.get) {\n            return hook.get(elm);\n          }\n\n          if (elm.ownerDocument.defaultView) {\n            try {\n              return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\n            } catch (ex) {\n              return undefined;\n            }\n          } else if (elm.currentStyle) {\n            return elm.currentStyle[camel(name)];\n          } else {\n            return '';\n          }\n        }\n      }\n\n      return self;\n    },\n    remove: function remove() {\n      var self = this;\n      var node,\n          i = this.length;\n\n      while (i--) {\n        node = self[i];\n        Event.clean(node);\n\n        if (node.parentNode) {\n          node.parentNode.removeChild(node);\n        }\n      }\n\n      return this;\n    },\n    empty: function empty() {\n      var self = this;\n      var node,\n          i = this.length;\n\n      while (i--) {\n        node = self[i];\n\n        while (node.firstChild) {\n          node.removeChild(node.firstChild);\n        }\n      }\n\n      return this;\n    },\n    html: function html(value) {\n      var self = this;\n      var i;\n\n      if (isDefined(value)) {\n        i = self.length;\n\n        try {\n          while (i--) {\n            self[i].innerHTML = value;\n          }\n        } catch (ex) {\n          DomQuery(self[i]).empty().append(value);\n        }\n\n        return self;\n      }\n\n      return self[0] ? self[0].innerHTML : '';\n    },\n    text: function text(value) {\n      var self = this;\n      var i;\n\n      if (isDefined(value)) {\n        i = self.length;\n\n        while (i--) {\n          if ('innerText' in self[i]) {\n            self[i].innerText = value;\n          } else {\n            self[0].textContent = value;\n          }\n        }\n\n        return self;\n      }\n\n      return self[0] ? self[0].innerText || self[0].textContent : '';\n    },\n    append: function append() {\n      return domManipulate(this, arguments, function (node) {\n        if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n          this.appendChild(node);\n        }\n      });\n    },\n    prepend: function prepend() {\n      return domManipulate(this, arguments, function (node) {\n        if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n          this.insertBefore(node, this.firstChild);\n        }\n      }, true);\n    },\n    before: function before() {\n      var self = this;\n\n      if (self[0] && self[0].parentNode) {\n        return domManipulate(self, arguments, function (node) {\n          this.parentNode.insertBefore(node, this);\n        });\n      }\n\n      return self;\n    },\n    after: function after() {\n      var self = this;\n\n      if (self[0] && self[0].parentNode) {\n        return domManipulate(self, arguments, function (node) {\n          this.parentNode.insertBefore(node, this.nextSibling);\n        }, true);\n      }\n\n      return self;\n    },\n    appendTo: function appendTo(val) {\n      DomQuery(val).append(this);\n      return this;\n    },\n    prependTo: function prependTo(val) {\n      DomQuery(val).prepend(this);\n      return this;\n    },\n    replaceWith: function replaceWith(content) {\n      return this.before(content).remove();\n    },\n    wrap: function wrap(content) {\n      return _wrap(this, content);\n    },\n    wrapAll: function wrapAll(content) {\n      return _wrap(this, content, true);\n    },\n    wrapInner: function wrapInner(content) {\n      this.each(function () {\n        DomQuery(this).contents().wrapAll(content);\n      });\n      return this;\n    },\n    unwrap: function unwrap() {\n      return this.parent().each(function () {\n        DomQuery(this).replaceWith(this.childNodes);\n      });\n    },\n    clone: function clone() {\n      var result = [];\n      this.each(function () {\n        result.push(this.cloneNode(true));\n      });\n      return DomQuery(result);\n    },\n    addClass: function addClass(className) {\n      return this.toggleClass(className, true);\n    },\n    removeClass: function removeClass(className) {\n      return this.toggleClass(className, false);\n    },\n    toggleClass: function toggleClass(className, state) {\n      var self = this;\n\n      if (typeof className !== 'string') {\n        return self;\n      }\n\n      if (className.indexOf(' ') !== -1) {\n        each$2(className.split(' '), function () {\n          self.toggleClass(this, state);\n        });\n      } else {\n        self.each(function (index, node) {\n          var existingClassName, classState;\n          classState = _hasClass(node, className);\n\n          if (classState !== state) {\n            existingClassName = node.className;\n\n            if (classState) {\n              node.className = trim$1((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n            } else {\n              node.className += existingClassName ? ' ' + className : className;\n            }\n          }\n        });\n      }\n\n      return self;\n    },\n    hasClass: function hasClass(className) {\n      return _hasClass(this[0], className);\n    },\n    each: function each(callback) {\n      return each$2(this, callback);\n    },\n    on: function on(name, callback) {\n      return this.each(function () {\n        Event.bind(this, name, callback);\n      });\n    },\n    off: function off(name, callback) {\n      return this.each(function () {\n        Event.unbind(this, name, callback);\n      });\n    },\n    trigger: function trigger(name) {\n      return this.each(function () {\n        if (typeof name === 'object') {\n          Event.fire(this, name.type, name);\n        } else {\n          Event.fire(this, name);\n        }\n      });\n    },\n    show: function show() {\n      return this.css('display', '');\n    },\n    hide: function hide() {\n      return this.css('display', 'none');\n    },\n    slice: function slice() {\n      return new DomQuery(slice$2.apply(this, arguments));\n    },\n    eq: function eq(index) {\n      return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n    },\n    first: function first() {\n      return this.eq(0);\n    },\n    last: function last() {\n      return this.eq(-1);\n    },\n    find: function find(selector) {\n      var i, l;\n      var ret = [];\n\n      for (i = 0, l = this.length; i < l; i++) {\n        DomQuery.find(selector, this[i], ret);\n      }\n\n      return DomQuery(ret);\n    },\n    filter: function filter(selector) {\n      if (typeof selector === 'function') {\n        return DomQuery(grep(this.toArray(), function (item, i) {\n          return selector(i, item);\n        }));\n      }\n\n      return DomQuery(DomQuery.filter(selector, this.toArray()));\n    },\n    closest: function closest(selector) {\n      var result = [];\n\n      if (selector instanceof DomQuery) {\n        selector = selector[0];\n      }\n\n      this.each(function (i, node) {\n        while (node) {\n          if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n            result.push(node);\n            break;\n          } else if (node === selector) {\n            result.push(node);\n            break;\n          }\n\n          node = node.parentNode;\n        }\n      });\n      return DomQuery(result);\n    },\n    offset: function offset(_offset) {\n      var elm, doc, docElm;\n      var x = 0,\n          y = 0,\n          pos;\n\n      if (!_offset) {\n        elm = this[0];\n\n        if (elm) {\n          doc = elm.ownerDocument;\n          docElm = doc.documentElement;\n\n          if (elm.getBoundingClientRect) {\n            pos = elm.getBoundingClientRect();\n            x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n            y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n          }\n        }\n\n        return {\n          left: x,\n          top: y\n        };\n      }\n\n      return this.css(_offset);\n    },\n    push: push$2,\n    sort: Array.prototype.sort,\n    splice: Array.prototype.splice\n  };\n  Tools.extend(DomQueryConstructor, {\n    extend: Tools.extend,\n    makeArray: function makeArray(object) {\n      if (isWindow(object) || object.nodeType) {\n        return [object];\n      }\n\n      return Tools.toArray(object);\n    },\n    inArray: inArray,\n    isArray: Tools.isArray,\n    each: each$2,\n    trim: trim$1,\n    grep: grep,\n    find: Sizzle,\n    expr: Sizzle.selectors,\n    unique: Sizzle.uniqueSort,\n    text: Sizzle.getText,\n    contains: Sizzle.contains,\n    filter: function filter(expr, elems, not) {\n      var i = elems.length;\n\n      if (not) {\n        expr = ':not(' + expr + ')';\n      }\n\n      while (i--) {\n        if (elems[i].nodeType !== 1) {\n          elems.splice(i, 1);\n        }\n      }\n\n      if (elems.length === 1) {\n        elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n      } else {\n        elems = DomQuery.find.matches(expr, elems);\n      }\n\n      return elems;\n    }\n  });\n\n  var dir = function dir(el, prop, until) {\n    var matched = [];\n    var cur = el[prop];\n\n    if (typeof until !== 'string' && until instanceof DomQuery) {\n      until = until[0];\n    }\n\n    while (cur && cur.nodeType !== 9) {\n      if (until !== undefined) {\n        if (cur === until) {\n          break;\n        }\n\n        if (typeof until === 'string' && DomQuery(cur).is(until)) {\n          break;\n        }\n      }\n\n      if (cur.nodeType === 1) {\n        matched.push(cur);\n      }\n\n      cur = cur[prop];\n    }\n\n    return matched;\n  };\n\n  var sibling = function sibling(node, siblingName, nodeType, until) {\n    var result = [];\n\n    if (until instanceof DomQuery) {\n      until = until[0];\n    }\n\n    for (; node; node = node[siblingName]) {\n      if (nodeType && node.nodeType !== nodeType) {\n        continue;\n      }\n\n      if (until !== undefined) {\n        if (node === until) {\n          break;\n        }\n\n        if (typeof until === 'string' && DomQuery(node).is(until)) {\n          break;\n        }\n      }\n\n      result.push(node);\n    }\n\n    return result;\n  };\n\n  var firstSibling = function firstSibling(node, siblingName, nodeType) {\n    for (node = node[siblingName]; node; node = node[siblingName]) {\n      if (node.nodeType === nodeType) {\n        return node;\n      }\n    }\n\n    return null;\n  };\n\n  each$2({\n    parent: function parent(node) {\n      var parent = node.parentNode;\n      return parent && parent.nodeType !== 11 ? parent : null;\n    },\n    parents: function parents(node) {\n      return dir(node, 'parentNode');\n    },\n    next: function next(node) {\n      return firstSibling(node, 'nextSibling', 1);\n    },\n    prev: function prev(node) {\n      return firstSibling(node, 'previousSibling', 1);\n    },\n    children: function children(node) {\n      return sibling(node.firstChild, 'nextSibling', 1);\n    },\n    contents: function contents(node) {\n      return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n    }\n  }, function (name, fn) {\n    DomQueryConstructor.fn[name] = function (selector) {\n      var self = this;\n      var result = [];\n      self.each(function () {\n        var nodes = fn.call(result, this, selector, result);\n\n        if (nodes) {\n          if (DomQuery.isArray(nodes)) {\n            result.push.apply(result, nodes);\n          } else {\n            result.push(nodes);\n          }\n        }\n      });\n\n      if (this.length > 1) {\n        if (!skipUniques[name]) {\n          result = DomQuery.unique(result);\n        }\n\n        if (name.indexOf('parents') === 0) {\n          result = result.reverse();\n        }\n      }\n\n      var wrappedResult = DomQuery(result);\n\n      if (selector) {\n        return wrappedResult.filter(selector);\n      }\n\n      return wrappedResult;\n    };\n  });\n  each$2({\n    parentsUntil: function parentsUntil(node, until) {\n      return dir(node, 'parentNode', until);\n    },\n    nextUntil: function nextUntil(node, until) {\n      return sibling(node, 'nextSibling', 1, until).slice(1);\n    },\n    prevUntil: function prevUntil(node, until) {\n      return sibling(node, 'previousSibling', 1, until).slice(1);\n    }\n  }, function (name, fn) {\n    DomQueryConstructor.fn[name] = function (selector, filter) {\n      var self = this;\n      var result = [];\n      self.each(function () {\n        var nodes = fn.call(result, this, selector, result);\n\n        if (nodes) {\n          if (DomQuery.isArray(nodes)) {\n            result.push.apply(result, nodes);\n          } else {\n            result.push(nodes);\n          }\n        }\n      });\n\n      if (this.length > 1) {\n        result = DomQuery.unique(result);\n\n        if (name.indexOf('parents') === 0 || name === 'prevUntil') {\n          result = result.reverse();\n        }\n      }\n\n      var wrappedResult = DomQuery(result);\n\n      if (filter) {\n        return wrappedResult.filter(filter);\n      }\n\n      return wrappedResult;\n    };\n  });\n\n  DomQueryConstructor.fn.is = function (selector) {\n    return !!selector && this.filter(selector).length > 0;\n  };\n\n  DomQueryConstructor.fn.init.prototype = DomQueryConstructor.fn;\n\n  DomQueryConstructor.overrideDefaults = function (callback) {\n    var defaults;\n\n    var sub = function sub(selector, context) {\n      defaults = defaults || callback();\n\n      if (arguments.length === 0) {\n        selector = defaults.element;\n      }\n\n      if (!context) {\n        context = defaults.context;\n      }\n\n      return new sub.fn.init(selector, context);\n    };\n\n    DomQuery.extend(sub, this);\n    return sub;\n  };\n\n  var appendHooks = function appendHooks(targetHooks, prop, hooks) {\n    each$2(hooks, function (name, func) {\n      targetHooks[name] = targetHooks[name] || {};\n      targetHooks[name][prop] = func;\n    });\n  };\n\n  if (Env.ie && Env.ie < 8) {\n    appendHooks(attrHooks, 'get', {\n      maxlength: function maxlength(elm) {\n        var value = elm.maxLength;\n\n        if (value === 2147483647) {\n          return undefined;\n        }\n\n        return value;\n      },\n      size: function size(elm) {\n        var value = elm.size;\n\n        if (value === 20) {\n          return undefined;\n        }\n\n        return value;\n      },\n      class: function _class(elm) {\n        return elm.className;\n      },\n      style: function style(elm) {\n        var value = elm.style.cssText;\n\n        if (value.length === 0) {\n          return undefined;\n        }\n\n        return value;\n      }\n    });\n    appendHooks(attrHooks, 'set', {\n      class: function _class(elm, value) {\n        elm.className = value;\n      },\n      style: function style(elm, value) {\n        elm.style.cssText = value;\n      }\n    });\n  }\n\n  if (Env.ie && Env.ie < 9) {\n    cssFix.float = 'styleFloat';\n    appendHooks(cssHooks, 'set', {\n      opacity: function opacity(elm, value) {\n        var style = elm.style;\n\n        if (value === null || value === '') {\n          style.removeAttribute('filter');\n        } else {\n          style.zoom = 1;\n          style.filter = 'alpha(opacity=' + value * 100 + ')';\n        }\n      }\n    });\n  }\n\n  DomQueryConstructor.attrHooks = attrHooks;\n  DomQueryConstructor.cssHooks = cssHooks;\n  var DomQuery = DomQueryConstructor;\n\n  var cached = function cached(f) {\n    var called = false;\n    var r;\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      if (!called) {\n        called = true;\n        r = f.apply(null, args);\n      }\n\n      return r;\n    };\n  };\n\n  var firstMatch = function firstMatch(regexes, s) {\n    for (var i = 0; i < regexes.length; i++) {\n      var x = regexes[i];\n\n      if (x.test(s)) {\n        return x;\n      }\n    }\n\n    return undefined;\n  };\n\n  var find$2 = function find$2(regexes, agent) {\n    var r = firstMatch(regexes, agent);\n\n    if (!r) {\n      return {\n        major: 0,\n        minor: 0\n      };\n    }\n\n    var group = function group(i) {\n      return Number(agent.replace(r, '$' + i));\n    };\n\n    return nu(group(1), group(2));\n  };\n\n  var detect = function detect(versionRegexes, agent) {\n    var cleanedAgent = String(agent).toLowerCase();\n\n    if (versionRegexes.length === 0) {\n      return unknown();\n    }\n\n    return find$2(versionRegexes, cleanedAgent);\n  };\n\n  var unknown = function unknown() {\n    return nu(0, 0);\n  };\n\n  var nu = function nu(major, minor) {\n    return {\n      major: major,\n      minor: minor\n    };\n  };\n\n  var Version = {\n    nu: nu,\n    detect: detect,\n    unknown: unknown\n  };\n  var edge = 'Edge';\n  var chrome = 'Chrome';\n  var ie$1 = 'IE';\n  var opera$1 = 'Opera';\n  var firefox = 'Firefox';\n  var safari = 'Safari';\n\n  var isBrowser = function isBrowser(name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n\n  var unknown$1 = function unknown$1() {\n    return nu$1({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n\n  var nu$1 = function nu$1(info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isEdge: isBrowser(edge, current),\n      isChrome: isBrowser(chrome, current),\n      isIE: isBrowser(ie$1, current),\n      isOpera: isBrowser(opera$1, current),\n      isFirefox: isBrowser(firefox, current),\n      isSafari: isBrowser(safari, current)\n    };\n  };\n\n  var Browser = {\n    unknown: unknown$1,\n    nu: nu$1,\n    edge: constant(edge),\n    chrome: constant(chrome),\n    ie: constant(ie$1),\n    opera: constant(opera$1),\n    firefox: constant(firefox),\n    safari: constant(safari)\n  };\n  var windows = 'Windows';\n  var ios = 'iOS';\n  var android$1 = 'Android';\n  var linux = 'Linux';\n  var osx = 'OSX';\n  var solaris = 'Solaris';\n  var freebsd = 'FreeBSD';\n\n  var isOS = function isOS(name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n\n  var unknown$2 = function unknown$2() {\n    return nu$2({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n\n  var nu$2 = function nu$2(info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isWindows: isOS(windows, current),\n      isiOS: isOS(ios, current),\n      isAndroid: isOS(android$1, current),\n      isOSX: isOS(osx, current),\n      isLinux: isOS(linux, current),\n      isSolaris: isOS(solaris, current),\n      isFreeBSD: isOS(freebsd, current)\n    };\n  };\n\n  var OperatingSystem = {\n    unknown: unknown$2,\n    nu: nu$2,\n    windows: constant(windows),\n    ios: constant(ios),\n    android: constant(android$1),\n    linux: constant(linux),\n    osx: constant(osx),\n    solaris: constant(solaris),\n    freebsd: constant(freebsd)\n  };\n\n  var DeviceType = function DeviceType(os, browser, userAgent) {\n    var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n    var isiPhone = os.isiOS() && !isiPad;\n    var isAndroid3 = os.isAndroid() && os.version.major === 3;\n    var isAndroid4 = os.isAndroid() && os.version.major === 4;\n    var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n    var isTouch = os.isiOS() || os.isAndroid();\n    var isPhone = isTouch && !isTablet;\n    var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n    return {\n      isiPad: constant(isiPad),\n      isiPhone: constant(isiPhone),\n      isTablet: constant(isTablet),\n      isPhone: constant(isPhone),\n      isTouch: constant(isTouch),\n      isAndroid: os.isAndroid,\n      isiOS: os.isiOS,\n      isWebView: constant(iOSwebview)\n    };\n  };\n\n  var detect$1 = function detect$1(candidates, userAgent) {\n    var agent = String(userAgent).toLowerCase();\n    return find(candidates, function (candidate) {\n      return candidate.search(agent);\n    });\n  };\n\n  var detectBrowser = function detectBrowser(browsers, userAgent) {\n    return detect$1(browsers, userAgent).map(function (browser) {\n      var version = Version.detect(browser.versionRegexes, userAgent);\n      return {\n        current: browser.name,\n        version: version\n      };\n    });\n  };\n\n  var detectOs = function detectOs(oses, userAgent) {\n    return detect$1(oses, userAgent).map(function (os) {\n      var version = Version.detect(os.versionRegexes, userAgent);\n      return {\n        current: os.name,\n        version: version\n      };\n    });\n  };\n\n  var UaString = {\n    detectBrowser: detectBrowser,\n    detectOs: detectOs\n  };\n\n  var checkRange = function checkRange(str, substr, start) {\n    if (substr === '') {\n      return true;\n    }\n\n    if (str.length < substr.length) {\n      return false;\n    }\n\n    var x = str.substr(start, start + substr.length);\n    return x === substr;\n  };\n\n  var contains$2 = function contains$2(str, substr) {\n    return str.indexOf(substr) !== -1;\n  };\n\n  var startsWith = function startsWith(str, prefix) {\n    return checkRange(str, prefix, 0);\n  };\n\n  var trim$2 = function trim$2(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  };\n\n  var lTrim = function lTrim(str) {\n    return str.replace(/^\\s+/g, '');\n  };\n\n  var rTrim = function rTrim(str) {\n    return str.replace(/\\s+$/g, '');\n  };\n\n  var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n\n  var checkContains = function checkContains(target) {\n    return function (uastring) {\n      return contains$2(uastring, target);\n    };\n  };\n\n  var browsers = [{\n    name: 'Edge',\n    versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n    search: function search(uastring) {\n      return contains$2(uastring, 'edge/') && contains$2(uastring, 'chrome') && contains$2(uastring, 'safari') && contains$2(uastring, 'applewebkit');\n    }\n  }, {\n    name: 'Chrome',\n    versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/, normalVersionRegex],\n    search: function search(uastring) {\n      return contains$2(uastring, 'chrome') && !contains$2(uastring, 'chromeframe');\n    }\n  }, {\n    name: 'IE',\n    versionRegexes: [/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/, /.*?rv:([0-9]+)\\.([0-9]+).*/],\n    search: function search(uastring) {\n      return contains$2(uastring, 'msie') || contains$2(uastring, 'trident');\n    }\n  }, {\n    name: 'Opera',\n    versionRegexes: [normalVersionRegex, /.*?opera\\/([0-9]+)\\.([0-9]+).*/],\n    search: checkContains('opera')\n  }, {\n    name: 'Firefox',\n    versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n    search: checkContains('firefox')\n  }, {\n    name: 'Safari',\n    versionRegexes: [normalVersionRegex, /.*?cpu os ([0-9]+)_([0-9]+).*/],\n    search: function search(uastring) {\n      return (contains$2(uastring, 'safari') || contains$2(uastring, 'mobile/')) && contains$2(uastring, 'applewebkit');\n    }\n  }];\n  var oses = [{\n    name: 'Windows',\n    search: checkContains('win'),\n    versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n  }, {\n    name: 'iOS',\n    search: function search(uastring) {\n      return contains$2(uastring, 'iphone') || contains$2(uastring, 'ipad');\n    },\n    versionRegexes: [/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]\n  }, {\n    name: 'Android',\n    search: checkContains('android'),\n    versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n  }, {\n    name: 'OSX',\n    search: checkContains('os x'),\n    versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n  }, {\n    name: 'Linux',\n    search: checkContains('linux'),\n    versionRegexes: []\n  }, {\n    name: 'Solaris',\n    search: checkContains('sunos'),\n    versionRegexes: []\n  }, {\n    name: 'FreeBSD',\n    search: checkContains('freebsd'),\n    versionRegexes: []\n  }];\n  var PlatformInfo = {\n    browsers: constant(browsers),\n    oses: constant(oses)\n  };\n\n  var detect$2 = function detect$2(userAgent) {\n    var browsers = PlatformInfo.browsers();\n    var oses = PlatformInfo.oses();\n    var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n    var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n    var deviceType = DeviceType(os, browser, userAgent);\n    return {\n      browser: browser,\n      os: os,\n      deviceType: deviceType\n    };\n  };\n\n  var PlatformDetection = {\n    detect: detect$2\n  };\n  var detect$3 = cached(function () {\n    var userAgent = domGlobals.navigator.userAgent;\n    return PlatformDetection.detect(userAgent);\n  });\n  var PlatformDetection$1 = {\n    detect: detect$3\n  };\n\n  var fromHtml = function fromHtml(html, scope) {\n    var doc = scope || domGlobals.document;\n    var div = doc.createElement('div');\n    div.innerHTML = html;\n\n    if (!div.hasChildNodes() || div.childNodes.length > 1) {\n      domGlobals.console.error('HTML does not have a single root node', html);\n      throw new Error('HTML must have a single root node');\n    }\n\n    return fromDom(div.childNodes[0]);\n  };\n\n  var fromTag = function fromTag(tag, scope) {\n    var doc = scope || domGlobals.document;\n    var node = doc.createElement(tag);\n    return fromDom(node);\n  };\n\n  var fromText = function fromText(text, scope) {\n    var doc = scope || domGlobals.document;\n    var node = doc.createTextNode(text);\n    return fromDom(node);\n  };\n\n  var fromDom = function fromDom(node) {\n    if (node === null || node === undefined) {\n      throw new Error('Node cannot be null or undefined');\n    }\n\n    return {\n      dom: constant(node)\n    };\n  };\n\n  var fromPoint = function fromPoint(docElm, x, y) {\n    var doc = docElm.dom();\n    return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n  };\n\n  var Element = {\n    fromHtml: fromHtml,\n    fromTag: fromTag,\n    fromText: fromText,\n    fromDom: fromDom,\n    fromPoint: fromPoint\n  };\n  var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n  var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n  var COMMENT = domGlobals.Node.COMMENT_NODE;\n  var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n  var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n  var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n  var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n  var TEXT = domGlobals.Node.TEXT_NODE;\n  var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n  var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n  var ENTITY = domGlobals.Node.ENTITY_NODE;\n  var NOTATION = domGlobals.Node.NOTATION_NODE;\n  var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n  var name = function name(element) {\n    var r = element.dom().nodeName;\n    return r.toLowerCase();\n  };\n\n  var type = function type(element) {\n    return element.dom().nodeType;\n  };\n\n  var isType$1 = function isType$1(t) {\n    return function (element) {\n      return type(element) === t;\n    };\n  };\n\n  var isElement = isType$1(ELEMENT);\n  var isText = isType$1(TEXT);\n  var keys = Object.keys;\n  var hasOwnProperty$1 = Object.hasOwnProperty;\n\n  var each$3 = function each$3(obj, f) {\n    var props = keys(obj);\n\n    for (var k = 0, len = props.length; k < len; k++) {\n      var i = props[k];\n      var x = obj[i];\n      f(x, i, obj);\n    }\n  };\n\n  var map$2 = function map$2(obj, f) {\n    return tupleMap(obj, function (x, i, obj) {\n      return {\n        k: i,\n        v: f(x, i, obj)\n      };\n    });\n  };\n\n  var tupleMap = function tupleMap(obj, f) {\n    var r = {};\n    each$3(obj, function (x, i) {\n      var tuple = f(x, i, obj);\n      r[tuple.k] = tuple.v;\n    });\n    return r;\n  };\n\n  var bifilter = function bifilter(obj, pred) {\n    var t = {};\n    var f = {};\n    each$3(obj, function (x, i) {\n      var branch = pred(x, i) ? t : f;\n      branch[i] = x;\n    });\n    return {\n      t: t,\n      f: f\n    };\n  };\n\n  var get = function get(obj, key) {\n    return has(obj, key) ? Option.from(obj[key]) : Option.none();\n  };\n\n  var has = function has(obj, key) {\n    return hasOwnProperty$1.call(obj, key);\n  };\n\n  var isSupported = function isSupported(dom) {\n    return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n  };\n\n  var inBody = function inBody(element) {\n    var dom = isText(element) ? element.dom().parentNode : element.dom();\n    return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n  };\n\n  var rawSet = function rawSet(dom, key, value) {\n    if (isString(value) || isBoolean(value) || isNumber(value)) {\n      dom.setAttribute(key, value + '');\n    } else {\n      domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n      throw new Error('Attribute value was not simple');\n    }\n  };\n\n  var set = function set(element, key, value) {\n    rawSet(element.dom(), key, value);\n  };\n\n  var setAll = function setAll(element, attrs) {\n    var dom = element.dom();\n    each$3(attrs, function (v, k) {\n      rawSet(dom, k, v);\n    });\n  };\n\n  var get$1 = function get$1(element, key) {\n    var v = element.dom().getAttribute(key);\n    return v === null ? undefined : v;\n  };\n\n  var has$1 = function has$1(element, key) {\n    var dom = element.dom();\n    return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n  };\n\n  var remove = function remove(element, key) {\n    element.dom().removeAttribute(key);\n  };\n\n  var get$2 = function get$2(element, property) {\n    var dom = element.dom();\n    var styles = domGlobals.window.getComputedStyle(dom);\n    var r = styles.getPropertyValue(property);\n    var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    return v === null ? undefined : v;\n  };\n\n  var getUnsafeProperty = function getUnsafeProperty(dom, property) {\n    return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n  };\n\n  var getRaw = function getRaw(element, property) {\n    var dom = element.dom();\n    var raw = getUnsafeProperty(dom, property);\n    return Option.from(raw).filter(function (r) {\n      return r.length > 0;\n    });\n  };\n\n  var reflow = function reflow(e) {\n    return e.dom().offsetWidth;\n  };\n\n  var Immutable = function Immutable() {\n    var fields = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      fields[_i] = arguments[_i];\n    }\n\n    return function () {\n      var values = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n      }\n\n      if (fields.length !== values.length) {\n        throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n      }\n\n      var struct = {};\n      each(fields, function (name, i) {\n        struct[name] = constant(values[i]);\n      });\n      return struct;\n    };\n  };\n\n  var toArray$1 = function toArray$1(target, f) {\n    var r = [];\n\n    var recurse = function recurse(e) {\n      r.push(e);\n      return f(e);\n    };\n\n    var cur = f(target);\n\n    do {\n      cur = cur.bind(recurse);\n    } while (cur.isSome());\n\n    return r;\n  };\n\n  var Recurse = {\n    toArray: toArray$1\n  };\n\n  var compareDocumentPosition = function compareDocumentPosition(a, b, match) {\n    return (a.compareDocumentPosition(b) & match) !== 0;\n  };\n\n  var documentPositionPreceding = function documentPositionPreceding(a, b) {\n    return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_PRECEDING);\n  };\n\n  var documentPositionContainedBy = function documentPositionContainedBy(a, b) {\n    return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_CONTAINED_BY);\n  };\n\n  var Node = {\n    documentPositionPreceding: documentPositionPreceding,\n    documentPositionContainedBy: documentPositionContainedBy\n  };\n  var ELEMENT$1 = ELEMENT;\n  var DOCUMENT$1 = DOCUMENT;\n\n  var is$1 = function is$1(element, selector) {\n    var dom = element.dom();\n\n    if (dom.nodeType !== ELEMENT$1) {\n      return false;\n    } else {\n      var elem = dom;\n\n      if (elem.matches !== undefined) {\n        return elem.matches(selector);\n      } else if (elem.msMatchesSelector !== undefined) {\n        return elem.msMatchesSelector(selector);\n      } else if (elem.webkitMatchesSelector !== undefined) {\n        return elem.webkitMatchesSelector(selector);\n      } else if (elem.mozMatchesSelector !== undefined) {\n        return elem.mozMatchesSelector(selector);\n      } else {\n        throw new Error('Browser lacks native selectors');\n      }\n    }\n  };\n\n  var bypassSelector = function bypassSelector(dom) {\n    return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\n  };\n\n  var all = function all(selector, scope) {\n    var base = scope === undefined ? domGlobals.document : scope.dom();\n    return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);\n  };\n\n  var one = function one(selector, scope) {\n    var base = scope === undefined ? domGlobals.document : scope.dom();\n    return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);\n  };\n\n  var eq = function eq(e1, e2) {\n    return e1.dom() === e2.dom();\n  };\n\n  var regularContains = function regularContains(e1, e2) {\n    var d1 = e1.dom();\n    var d2 = e2.dom();\n    return d1 === d2 ? false : d1.contains(d2);\n  };\n\n  var ieContains = function ieContains(e1, e2) {\n    return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n  };\n\n  var browser = PlatformDetection$1.detect().browser;\n  var contains$3 = browser.isIE() ? ieContains : regularContains;\n\n  var owner = function owner(element) {\n    return Element.fromDom(element.dom().ownerDocument);\n  };\n\n  var documentElement = function documentElement(element) {\n    return Element.fromDom(element.dom().ownerDocument.documentElement);\n  };\n\n  var defaultView = function defaultView(element) {\n    return Element.fromDom(element.dom().ownerDocument.defaultView);\n  };\n\n  var parent = function parent(element) {\n    return Option.from(element.dom().parentNode).map(Element.fromDom);\n  };\n\n  var parents = function parents(element, isRoot) {\n    var stop = isFunction(isRoot) ? isRoot : never;\n    var dom = element.dom();\n    var ret = [];\n\n    while (dom.parentNode !== null && dom.parentNode !== undefined) {\n      var rawParent = dom.parentNode;\n      var p = Element.fromDom(rawParent);\n      ret.push(p);\n\n      if (stop(p) === true) {\n        break;\n      } else {\n        dom = rawParent;\n      }\n    }\n\n    return ret;\n  };\n\n  var prevSibling = function prevSibling(element) {\n    return Option.from(element.dom().previousSibling).map(Element.fromDom);\n  };\n\n  var nextSibling = function nextSibling(element) {\n    return Option.from(element.dom().nextSibling).map(Element.fromDom);\n  };\n\n  var prevSiblings = function prevSiblings(element) {\n    return reverse(Recurse.toArray(element, prevSibling));\n  };\n\n  var nextSiblings = function nextSiblings(element) {\n    return Recurse.toArray(element, nextSibling);\n  };\n\n  var children = function children(element) {\n    return map(element.dom().childNodes, Element.fromDom);\n  };\n\n  var child = function child(element, index) {\n    var cs = element.dom().childNodes;\n    return Option.from(cs[index]).map(Element.fromDom);\n  };\n\n  var firstChild = function firstChild(element) {\n    return child(element, 0);\n  };\n\n  var lastChild = function lastChild(element) {\n    return child(element, element.dom().childNodes.length - 1);\n  };\n\n  var childNodesCount = function childNodesCount(element) {\n    return element.dom().childNodes.length;\n  };\n\n  var spot = Immutable('element', 'offset');\n  var browser$1 = PlatformDetection$1.detect().browser;\n\n  var firstElement = function firstElement(nodes) {\n    return find(nodes, isElement);\n  };\n\n  var getTableCaptionDeltaY = function getTableCaptionDeltaY(elm) {\n    if (browser$1.isFirefox() && name(elm) === 'table') {\n      return firstElement(children(elm)).filter(function (elm) {\n        return name(elm) === 'caption';\n      }).bind(function (caption) {\n        return firstElement(nextSiblings(caption)).map(function (body) {\n          var bodyTop = body.dom().offsetTop;\n          var captionTop = caption.dom().offsetTop;\n          var captionHeight = caption.dom().offsetHeight;\n          return bodyTop <= captionTop ? -captionHeight : 0;\n        });\n      }).getOr(0);\n    } else {\n      return 0;\n    }\n  };\n\n  var hasChild = function hasChild(elm, child) {\n    return elm.children && contains(elm.children, child);\n  };\n\n  var getPos = function getPos(body, elm, rootElm) {\n    var x = 0,\n        y = 0,\n        offsetParent;\n    var doc = body.ownerDocument;\n    var pos;\n    rootElm = rootElm ? rootElm : body;\n\n    if (elm) {\n      if (rootElm === body && elm.getBoundingClientRect && get$2(Element.fromDom(body), 'position') === 'static') {\n        pos = elm.getBoundingClientRect();\n        x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n        y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n        return {\n          x: x,\n          y: y\n        };\n      }\n\n      offsetParent = elm;\n\n      while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n        x += offsetParent.offsetLeft || 0;\n        y += offsetParent.offsetTop || 0;\n        offsetParent = offsetParent.offsetParent;\n      }\n\n      offsetParent = elm.parentNode;\n\n      while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n        x -= offsetParent.scrollLeft || 0;\n        y -= offsetParent.scrollTop || 0;\n        offsetParent = offsetParent.parentNode;\n      }\n\n      y += getTableCaptionDeltaY(Element.fromDom(elm));\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var Position = {\n    getPos: getPos\n  };\n  var exports$1 = {},\n      module$1 = {\n    exports: exports$1\n  };\n\n  (function (define, exports, module, require) {\n    (function (f) {\n      if (typeof exports === 'object' && typeof module !== 'undefined') {\n        module.exports = f();\n      } else if (typeof define === 'function' && define.amd) {\n        define([], f);\n      } else {\n        var g;\n\n        if (typeof window !== 'undefined') {\n          g = window;\n        } else if (typeof global !== 'undefined') {\n          g = global;\n        } else if (typeof self !== 'undefined') {\n          g = self;\n        } else {\n          g = this;\n        }\n\n        g.EphoxContactWrapper = f();\n      }\n    })(function () {\n      return function () {\n        function r(e, n, t) {\n          function o(i, f) {\n            if (!n[i]) {\n              if (!e[i]) {\n                var c = 'function' == typeof require && require;\n                if (!f && c) return c(i, !0);\n                if (u) return u(i, !0);\n                var a = new Error('Cannot find module \\'' + i + '\\'');\n                throw a.code = 'MODULE_NOT_FOUND', a;\n              }\n\n              var p = n[i] = {\n                exports: {}\n              };\n              e[i][0].call(p.exports, function (r) {\n                var n = e[i][1][r];\n                return o(n || r);\n              }, p, p.exports, r, e, n, t);\n            }\n\n            return n[i].exports;\n          }\n\n          for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++) {\n            o(t[i]);\n          }\n\n          return o;\n        }\n\n        return r;\n      }()({\n        1: [function (require, module, exports) {\n          var process = module.exports = {};\n          var cachedSetTimeout;\n          var cachedClearTimeout;\n\n          function defaultSetTimout() {\n            throw new Error('setTimeout has not been defined');\n          }\n\n          function defaultClearTimeout() {\n            throw new Error('clearTimeout has not been defined');\n          }\n\n          (function () {\n            try {\n              if (typeof setTimeout === 'function') {\n                cachedSetTimeout = setTimeout;\n              } else {\n                cachedSetTimeout = defaultSetTimout;\n              }\n            } catch (e) {\n              cachedSetTimeout = defaultSetTimout;\n            }\n\n            try {\n              if (typeof clearTimeout === 'function') {\n                cachedClearTimeout = clearTimeout;\n              } else {\n                cachedClearTimeout = defaultClearTimeout;\n              }\n            } catch (e) {\n              cachedClearTimeout = defaultClearTimeout;\n            }\n          })();\n\n          function runTimeout(fun) {\n            if (cachedSetTimeout === setTimeout) {\n              return setTimeout(fun, 0);\n            }\n\n            if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n              cachedSetTimeout = setTimeout;\n              return setTimeout(fun, 0);\n            }\n\n            try {\n              return cachedSetTimeout(fun, 0);\n            } catch (e) {\n              try {\n                return cachedSetTimeout.call(null, fun, 0);\n              } catch (e) {\n                return cachedSetTimeout.call(this, fun, 0);\n              }\n            }\n          }\n\n          function runClearTimeout(marker) {\n            if (cachedClearTimeout === clearTimeout) {\n              return clearTimeout(marker);\n            }\n\n            if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n              cachedClearTimeout = clearTimeout;\n              return clearTimeout(marker);\n            }\n\n            try {\n              return cachedClearTimeout(marker);\n            } catch (e) {\n              try {\n                return cachedClearTimeout.call(null, marker);\n              } catch (e) {\n                return cachedClearTimeout.call(this, marker);\n              }\n            }\n          }\n\n          var queue = [];\n          var draining = false;\n          var currentQueue;\n          var queueIndex = -1;\n\n          function cleanUpNextTick() {\n            if (!draining || !currentQueue) {\n              return;\n            }\n\n            draining = false;\n\n            if (currentQueue.length) {\n              queue = currentQueue.concat(queue);\n            } else {\n              queueIndex = -1;\n            }\n\n            if (queue.length) {\n              drainQueue();\n            }\n          }\n\n          function drainQueue() {\n            if (draining) {\n              return;\n            }\n\n            var timeout = runTimeout(cleanUpNextTick);\n            draining = true;\n            var len = queue.length;\n\n            while (len) {\n              currentQueue = queue;\n              queue = [];\n\n              while (++queueIndex < len) {\n                if (currentQueue) {\n                  currentQueue[queueIndex].run();\n                }\n              }\n\n              queueIndex = -1;\n              len = queue.length;\n            }\n\n            currentQueue = null;\n            draining = false;\n            runClearTimeout(timeout);\n          }\n\n          process.nextTick = function (fun) {\n            var args = new Array(arguments.length - 1);\n\n            if (arguments.length > 1) {\n              for (var i = 1; i < arguments.length; i++) {\n                args[i - 1] = arguments[i];\n              }\n            }\n\n            queue.push(new Item(fun, args));\n\n            if (queue.length === 1 && !draining) {\n              runTimeout(drainQueue);\n            }\n          };\n\n          function Item(fun, array) {\n            this.fun = fun;\n            this.array = array;\n          }\n\n          Item.prototype.run = function () {\n            this.fun.apply(null, this.array);\n          };\n\n          process.title = 'browser';\n          process.browser = true;\n          process.env = {};\n          process.argv = [];\n          process.version = '';\n          process.versions = {};\n\n          function noop() {}\n\n          process.on = noop;\n          process.addListener = noop;\n          process.once = noop;\n          process.off = noop;\n          process.removeListener = noop;\n          process.removeAllListeners = noop;\n          process.emit = noop;\n          process.prependListener = noop;\n          process.prependOnceListener = noop;\n\n          process.listeners = function (name) {\n            return [];\n          };\n\n          process.binding = function (name) {\n            throw new Error('process.binding is not supported');\n          };\n\n          process.cwd = function () {\n            return '/';\n          };\n\n          process.chdir = function (dir) {\n            throw new Error('process.chdir is not supported');\n          };\n\n          process.umask = function () {\n            return 0;\n          };\n        }, {}],\n        2: [function (require, module, exports) {\n          (function (setImmediate) {\n            (function (root) {\n              var setTimeoutFunc = setTimeout;\n\n              function noop() {}\n\n              function bind(fn, thisArg) {\n                return function () {\n                  fn.apply(thisArg, arguments);\n                };\n              }\n\n              function Promise(fn) {\n                if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n                if (typeof fn !== 'function') throw new TypeError('not a function');\n                this._state = 0;\n                this._handled = false;\n                this._value = undefined;\n                this._deferreds = [];\n                doResolve(fn, this);\n              }\n\n              function handle(self, deferred) {\n                while (self._state === 3) {\n                  self = self._value;\n                }\n\n                if (self._state === 0) {\n                  self._deferreds.push(deferred);\n\n                  return;\n                }\n\n                self._handled = true;\n\n                Promise._immediateFn(function () {\n                  var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\n                  if (cb === null) {\n                    (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                    return;\n                  }\n\n                  var ret;\n\n                  try {\n                    ret = cb(self._value);\n                  } catch (e) {\n                    reject(deferred.promise, e);\n                    return;\n                  }\n\n                  resolve(deferred.promise, ret);\n                });\n              }\n\n              function resolve(self, newValue) {\n                try {\n                  if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n\n                  if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                    var then = newValue.then;\n\n                    if (newValue instanceof Promise) {\n                      self._state = 3;\n                      self._value = newValue;\n                      finale(self);\n                      return;\n                    } else if (typeof then === 'function') {\n                      doResolve(bind(then, newValue), self);\n                      return;\n                    }\n                  }\n\n                  self._state = 1;\n                  self._value = newValue;\n                  finale(self);\n                } catch (e) {\n                  reject(self, e);\n                }\n              }\n\n              function reject(self, newValue) {\n                self._state = 2;\n                self._value = newValue;\n                finale(self);\n              }\n\n              function finale(self) {\n                if (self._state === 2 && self._deferreds.length === 0) {\n                  Promise._immediateFn(function () {\n                    if (!self._handled) {\n                      Promise._unhandledRejectionFn(self._value);\n                    }\n                  });\n                }\n\n                for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                  handle(self, self._deferreds[i]);\n                }\n\n                self._deferreds = null;\n              }\n\n              function Handler(onFulfilled, onRejected, promise) {\n                this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                this.promise = promise;\n              }\n\n              function doResolve(fn, self) {\n                var done = false;\n\n                try {\n                  fn(function (value) {\n                    if (done) return;\n                    done = true;\n                    resolve(self, value);\n                  }, function (reason) {\n                    if (done) return;\n                    done = true;\n                    reject(self, reason);\n                  });\n                } catch (ex) {\n                  if (done) return;\n                  done = true;\n                  reject(self, ex);\n                }\n              }\n\n              Promise.prototype['catch'] = function (onRejected) {\n                return this.then(null, onRejected);\n              };\n\n              Promise.prototype.then = function (onFulfilled, onRejected) {\n                var prom = new this.constructor(noop);\n                handle(this, new Handler(onFulfilled, onRejected, prom));\n                return prom;\n              };\n\n              Promise.all = function (arr) {\n                var args = Array.prototype.slice.call(arr);\n                return new Promise(function (resolve, reject) {\n                  if (args.length === 0) return resolve([]);\n                  var remaining = args.length;\n\n                  function res(i, val) {\n                    try {\n                      if (val && (typeof val === 'object' || typeof val === 'function')) {\n                        var then = val.then;\n\n                        if (typeof then === 'function') {\n                          then.call(val, function (val) {\n                            res(i, val);\n                          }, reject);\n                          return;\n                        }\n                      }\n\n                      args[i] = val;\n\n                      if (--remaining === 0) {\n                        resolve(args);\n                      }\n                    } catch (ex) {\n                      reject(ex);\n                    }\n                  }\n\n                  for (var i = 0; i < args.length; i++) {\n                    res(i, args[i]);\n                  }\n                });\n              };\n\n              Promise.resolve = function (value) {\n                if (value && typeof value === 'object' && value.constructor === Promise) {\n                  return value;\n                }\n\n                return new Promise(function (resolve) {\n                  resolve(value);\n                });\n              };\n\n              Promise.reject = function (value) {\n                return new Promise(function (resolve, reject) {\n                  reject(value);\n                });\n              };\n\n              Promise.race = function (values) {\n                return new Promise(function (resolve, reject) {\n                  for (var i = 0, len = values.length; i < len; i++) {\n                    values[i].then(resolve, reject);\n                  }\n                });\n              };\n\n              Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                setImmediate(fn);\n              } : function (fn) {\n                setTimeoutFunc(fn, 0);\n              };\n\n              Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                if (typeof console !== 'undefined' && console) {\n                  console.warn('Possible Unhandled Promise Rejection:', err);\n                }\n              };\n\n              Promise._setImmediateFn = function _setImmediateFn(fn) {\n                Promise._immediateFn = fn;\n              };\n\n              Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                Promise._unhandledRejectionFn = fn;\n              };\n\n              if (typeof module !== 'undefined' && module.exports) {\n                module.exports = Promise;\n              } else if (!root.Promise) {\n                root.Promise = Promise;\n              }\n            })(this);\n          }).call(this, require('timers').setImmediate);\n        }, {\n          'timers': 3\n        }],\n        3: [function (require, module, exports) {\n          (function (setImmediate, clearImmediate) {\n            var nextTick = require('process/browser.js').nextTick;\n\n            var apply = Function.prototype.apply;\n            var slice = Array.prototype.slice;\n            var immediateIds = {};\n            var nextImmediateId = 0;\n\n            exports.setTimeout = function () {\n              return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n            };\n\n            exports.setInterval = function () {\n              return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n            };\n\n            exports.clearTimeout = exports.clearInterval = function (timeout) {\n              timeout.close();\n            };\n\n            function Timeout(id, clearFn) {\n              this._id = id;\n              this._clearFn = clearFn;\n            }\n\n            Timeout.prototype.unref = Timeout.prototype.ref = function () {};\n\n            Timeout.prototype.close = function () {\n              this._clearFn.call(window, this._id);\n            };\n\n            exports.enroll = function (item, msecs) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = msecs;\n            };\n\n            exports.unenroll = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = -1;\n            };\n\n            exports._unrefActive = exports.active = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              var msecs = item._idleTimeout;\n\n              if (msecs >= 0) {\n                item._idleTimeoutId = setTimeout(function onTimeout() {\n                  if (item._onTimeout) item._onTimeout();\n                }, msecs);\n              }\n            };\n\n            exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n              var id = nextImmediateId++;\n              var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n              immediateIds[id] = true;\n              nextTick(function onNextTick() {\n                if (immediateIds[id]) {\n                  if (args) {\n                    fn.apply(null, args);\n                  } else {\n                    fn.call(null);\n                  }\n\n                  exports.clearImmediate(id);\n                }\n              });\n              return id;\n            };\n            exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n              delete immediateIds[id];\n            };\n          }).call(this, require('timers').setImmediate, require('timers').clearImmediate);\n        }, {\n          'process/browser.js': 1,\n          'timers': 3\n        }],\n        4: [function (require, module, exports) {\n          var promisePolyfill = require('promise-polyfill');\n\n          var Global = function () {\n            if (typeof window !== 'undefined') {\n              return window;\n            } else {\n              return Function('return this;')();\n            }\n          }();\n\n          module.exports = {\n            boltExport: Global.Promise || promisePolyfill\n          };\n        }, {\n          'promise-polyfill': 2\n        }]\n      }, {}, [4])(4);\n    });\n  })(undefined, exports$1, module$1, undefined);\n\n  var Promise = module$1.exports.boltExport;\n\n  var nu$3 = function nu$3(baseFn) {\n    var data = Option.none();\n    var callbacks = [];\n\n    var map = function map(f) {\n      return nu$3(function (nCallback) {\n        get(function (data) {\n          nCallback(f(data));\n        });\n      });\n    };\n\n    var get = function get(nCallback) {\n      if (isReady()) {\n        call(nCallback);\n      } else {\n        callbacks.push(nCallback);\n      }\n    };\n\n    var set = function set(x) {\n      data = Option.some(x);\n      run(callbacks);\n      callbacks = [];\n    };\n\n    var isReady = function isReady() {\n      return data.isSome();\n    };\n\n    var run = function run(cbs) {\n      each(cbs, call);\n    };\n\n    var call = function call(cb) {\n      data.each(function (x) {\n        domGlobals.setTimeout(function () {\n          cb(x);\n        }, 0);\n      });\n    };\n\n    baseFn(set);\n    return {\n      get: get,\n      map: map,\n      isReady: isReady\n    };\n  };\n\n  var pure = function pure(a) {\n    return nu$3(function (callback) {\n      callback(a);\n    });\n  };\n\n  var LazyValue = {\n    nu: nu$3,\n    pure: pure\n  };\n\n  var errorReporter = function errorReporter(err) {\n    domGlobals.setTimeout(function () {\n      throw err;\n    }, 0);\n  };\n\n  var make = function make(run) {\n    var get = function get(callback) {\n      run().then(callback, errorReporter);\n    };\n\n    var map = function map(fab) {\n      return make(function () {\n        return run().then(fab);\n      });\n    };\n\n    var bind = function bind(aFutureB) {\n      return make(function () {\n        return run().then(function (v) {\n          return aFutureB(v).toPromise();\n        });\n      });\n    };\n\n    var anonBind = function anonBind(futureB) {\n      return make(function () {\n        return run().then(function () {\n          return futureB.toPromise();\n        });\n      });\n    };\n\n    var toLazy = function toLazy() {\n      return LazyValue.nu(get);\n    };\n\n    var toCached = function toCached() {\n      var cache = null;\n      return make(function () {\n        if (cache === null) {\n          cache = run();\n        }\n\n        return cache;\n      });\n    };\n\n    var toPromise = run;\n    return {\n      map: map,\n      bind: bind,\n      anonBind: anonBind,\n      toLazy: toLazy,\n      toCached: toCached,\n      toPromise: toPromise,\n      get: get\n    };\n  };\n\n  var nu$4 = function nu$4(baseFn) {\n    return make(function () {\n      return new Promise(baseFn);\n    });\n  };\n\n  var pure$1 = function pure$1(a) {\n    return make(function () {\n      return Promise.resolve(a);\n    });\n  };\n\n  var Future = {\n    nu: nu$4,\n    pure: pure$1\n  };\n\n  var par = function par(asyncValues, nu) {\n    return nu(function (callback) {\n      var r = [];\n      var count = 0;\n\n      var cb = function cb(i) {\n        return function (value) {\n          r[i] = value;\n          count++;\n\n          if (count >= asyncValues.length) {\n            callback(r);\n          }\n        };\n      };\n\n      if (asyncValues.length === 0) {\n        callback([]);\n      } else {\n        each(asyncValues, function (asyncValue, i) {\n          asyncValue.get(cb(i));\n        });\n      }\n    });\n  };\n\n  var par$1 = function par$1(futures) {\n    return par(futures, Future.nu);\n  };\n\n  var value = function value(o) {\n    var is = function is(v) {\n      return o === v;\n    };\n\n    var or = function or(opt) {\n      return value(o);\n    };\n\n    var orThunk = function orThunk(f) {\n      return value(o);\n    };\n\n    var map = function map(f) {\n      return value(f(o));\n    };\n\n    var mapError = function mapError(f) {\n      return value(o);\n    };\n\n    var each = function each(f) {\n      f(o);\n    };\n\n    var bind = function bind(f) {\n      return f(o);\n    };\n\n    var fold = function fold(_, onValue) {\n      return onValue(o);\n    };\n\n    var exists = function exists(f) {\n      return f(o);\n    };\n\n    var forall = function forall(f) {\n      return f(o);\n    };\n\n    var toOption = function toOption() {\n      return Option.some(o);\n    };\n\n    return {\n      is: is,\n      isValue: always,\n      isError: never,\n      getOr: constant(o),\n      getOrThunk: constant(o),\n      getOrDie: constant(o),\n      or: or,\n      orThunk: orThunk,\n      fold: fold,\n      map: map,\n      mapError: mapError,\n      each: each,\n      bind: bind,\n      exists: exists,\n      forall: forall,\n      toOption: toOption\n    };\n  };\n\n  var error = function error(message) {\n    var getOrThunk = function getOrThunk(f) {\n      return f();\n    };\n\n    var getOrDie = function getOrDie() {\n      return die(String(message))();\n    };\n\n    var or = function or(opt) {\n      return opt;\n    };\n\n    var orThunk = function orThunk(f) {\n      return f();\n    };\n\n    var map = function map(f) {\n      return error(message);\n    };\n\n    var mapError = function mapError(f) {\n      return error(f(message));\n    };\n\n    var bind = function bind(f) {\n      return error(message);\n    };\n\n    var fold = function fold(onError, _) {\n      return onError(message);\n    };\n\n    return {\n      is: never,\n      isValue: never,\n      isError: always,\n      getOr: identity,\n      getOrThunk: getOrThunk,\n      getOrDie: getOrDie,\n      or: or,\n      orThunk: orThunk,\n      fold: fold,\n      map: map,\n      mapError: mapError,\n      each: noop,\n      bind: bind,\n      exists: never,\n      forall: always,\n      toOption: Option.none\n    };\n  };\n\n  var fromOption = function fromOption(opt, err) {\n    return opt.fold(function () {\n      return error(err);\n    }, value);\n  };\n\n  var Result = {\n    value: value,\n    error: error,\n    fromOption: fromOption\n  };\n\n  function StyleSheetLoader(document, settings) {\n    if (settings === void 0) {\n      settings = {};\n    }\n\n    var idCount = 0;\n    var loadedStates = {};\n    var maxLoadTime;\n    maxLoadTime = settings.maxLoadTime || 5000;\n\n    var appendToHead = function appendToHead(node) {\n      document.getElementsByTagName('head')[0].appendChild(node);\n    };\n\n    var load = function load(url, loadedCallback, errorCallback) {\n      var link, style, startTime, state;\n\n      var resolve = function resolve(status) {\n        state.status = status;\n        state.passed = [];\n        state.failed = [];\n\n        if (link) {\n          link.onload = null;\n          link.onerror = null;\n          link = null;\n        }\n      };\n\n      var passed = function passed() {\n        var callbacks = state.passed;\n        var i = callbacks.length;\n\n        while (i--) {\n          callbacks[i]();\n        }\n\n        resolve(2);\n      };\n\n      var failed = function failed() {\n        var callbacks = state.failed;\n        var i = callbacks.length;\n\n        while (i--) {\n          callbacks[i]();\n        }\n\n        resolve(3);\n      };\n\n      var isOldWebKit = function isOldWebKit() {\n        var webKitChunks = domGlobals.navigator.userAgent.match(/WebKit\\/(\\d*)/);\n        return !!(webKitChunks && parseInt(webKitChunks[1], 10) < 536);\n      };\n\n      var wait = function wait(testCallback, waitCallback) {\n        if (!testCallback()) {\n          if (new Date().getTime() - startTime < maxLoadTime) {\n            Delay.setTimeout(waitCallback);\n          } else {\n            failed();\n          }\n        }\n      };\n\n      var waitForWebKitLinkLoaded = function waitForWebKitLinkLoaded() {\n        wait(function () {\n          var styleSheets = document.styleSheets;\n          var styleSheet,\n              i = styleSheets.length,\n              owner;\n\n          while (i--) {\n            styleSheet = styleSheets[i];\n            owner = styleSheet.ownerNode ? styleSheet.ownerNode : styleSheet.owningElement;\n\n            if (owner && owner.id === link.id) {\n              passed();\n              return true;\n            }\n          }\n        }, waitForWebKitLinkLoaded);\n      };\n\n      var waitForGeckoLinkLoaded = function waitForGeckoLinkLoaded() {\n        wait(function () {\n          try {\n            var cssRules = style.sheet.cssRules;\n            passed();\n            return !!cssRules;\n          } catch (ex) {}\n        }, waitForGeckoLinkLoaded);\n      };\n\n      url = Tools._addCacheSuffix(url);\n\n      if (!loadedStates[url]) {\n        state = {\n          passed: [],\n          failed: []\n        };\n        loadedStates[url] = state;\n      } else {\n        state = loadedStates[url];\n      }\n\n      if (loadedCallback) {\n        state.passed.push(loadedCallback);\n      }\n\n      if (errorCallback) {\n        state.failed.push(errorCallback);\n      }\n\n      if (state.status === 1) {\n        return;\n      }\n\n      if (state.status === 2) {\n        passed();\n        return;\n      }\n\n      if (state.status === 3) {\n        failed();\n        return;\n      }\n\n      state.status = 1;\n      link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.id = 'u' + idCount++;\n      link.async = false;\n      link.defer = false;\n      startTime = new Date().getTime();\n\n      if (settings.contentCssCors) {\n        link.crossOrigin = 'anonymous';\n      }\n\n      if ('onload' in link && !isOldWebKit()) {\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n      } else {\n        if (domGlobals.navigator.userAgent.indexOf('Firefox') > 0) {\n          style = document.createElement('style');\n          style.textContent = '@import \"' + url + '\"';\n          waitForGeckoLinkLoaded();\n          appendToHead(style);\n          return;\n        }\n\n        waitForWebKitLinkLoaded();\n      }\n\n      appendToHead(link);\n      link.href = url;\n    };\n\n    var loadF = function loadF(url) {\n      return Future.nu(function (resolve) {\n        load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n      });\n    };\n\n    var unbox = function unbox(result) {\n      return result.fold(identity, identity);\n    };\n\n    var loadAll = function loadAll(urls, success, failure) {\n      par$1(map(urls, loadF)).get(function (result) {\n        var parts = partition(result, function (r) {\n          return r.isValue();\n        });\n\n        if (parts.fail.length > 0) {\n          failure(parts.fail.map(unbox));\n        } else {\n          success(parts.pass.map(unbox));\n        }\n      });\n    };\n\n    return {\n      load: load,\n      loadAll: loadAll\n    };\n  }\n\n  var isNodeType = function isNodeType(type) {\n    return function (node) {\n      return !!node && node.nodeType === type;\n    };\n  };\n\n  var isRestrictedNode = function isRestrictedNode(node) {\n    return !!node && !Object.getPrototypeOf(node);\n  };\n\n  var isElement$1 = isNodeType(1);\n\n  var matchNodeNames = function matchNodeNames(names) {\n    var lowercasedNames = names.map(function (s) {\n      return s.toLowerCase();\n    });\n    return function (node) {\n      if (node && node.nodeName) {\n        var nodeName = node.nodeName.toLowerCase();\n        return contains(lowercasedNames, nodeName);\n      }\n\n      return false;\n    };\n  };\n\n  var matchStyleValues = function matchStyleValues(name, values) {\n    var items = values.toLowerCase().split(' ');\n    return function (node) {\n      var i, cssValue;\n\n      if (isElement$1(node)) {\n        for (i = 0; i < items.length; i++) {\n          var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n          cssValue = computed ? computed.getPropertyValue(name) : null;\n\n          if (cssValue === items[i]) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n  };\n\n  var hasPropValue = function hasPropValue(propName, propValue) {\n    return function (node) {\n      return isElement$1(node) && node[propName] === propValue;\n    };\n  };\n\n  var hasAttribute = function hasAttribute(attrName, attrValue) {\n    return function (node) {\n      return isElement$1(node) && node.hasAttribute(attrName);\n    };\n  };\n\n  var hasAttributeValue = function hasAttributeValue(attrName, attrValue) {\n    return function (node) {\n      return isElement$1(node) && node.getAttribute(attrName) === attrValue;\n    };\n  };\n\n  var isBogus = function isBogus(node) {\n    return isElement$1(node) && node.hasAttribute('data-mce-bogus');\n  };\n\n  var isBogusAll = function isBogusAll(node) {\n    return isElement$1(node) && node.getAttribute('data-mce-bogus') === 'all';\n  };\n\n  var isTable = function isTable(node) {\n    return isElement$1(node) && node.tagName === 'TABLE';\n  };\n\n  var hasContentEditableState = function hasContentEditableState(value) {\n    return function (node) {\n      if (isElement$1(node)) {\n        if (node.contentEditable === value) {\n          return true;\n        }\n\n        if (node.getAttribute('data-mce-contenteditable') === value) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  };\n\n  var isTextareaOrInput = matchNodeNames(['textarea', 'input']);\n  var isText$1 = isNodeType(3);\n  var isComment = isNodeType(8);\n  var isDocument = isNodeType(9);\n  var isDocumentFragment = isNodeType(11);\n  var isBr = matchNodeNames(['br']);\n  var isContentEditableTrue = hasContentEditableState('true');\n  var isContentEditableFalse = hasContentEditableState('false');\n  var NodeType = {\n    isText: isText$1,\n    isElement: isElement$1,\n    isComment: isComment,\n    isDocument: isDocument,\n    isDocumentFragment: isDocumentFragment,\n    isBr: isBr,\n    isContentEditableTrue: isContentEditableTrue,\n    isContentEditableFalse: isContentEditableFalse,\n    isRestrictedNode: isRestrictedNode,\n    matchNodeNames: matchNodeNames,\n    hasPropValue: hasPropValue,\n    hasAttribute: hasAttribute,\n    hasAttributeValue: hasAttributeValue,\n    matchStyleValues: matchStyleValues,\n    isBogus: isBogus,\n    isBogusAll: isBogusAll,\n    isTable: isTable,\n    isTextareaOrInput: isTextareaOrInput\n  };\n\n  var TreeWalker = function () {\n    function TreeWalker(startNode, rootNode) {\n      this.node = startNode;\n      this.rootNode = rootNode;\n      this.current = this.current.bind(this);\n      this.next = this.next.bind(this);\n      this.prev = this.prev.bind(this);\n      this.prev2 = this.prev2.bind(this);\n    }\n\n    TreeWalker.prototype.current = function () {\n      return this.node;\n    };\n\n    TreeWalker.prototype.next = function (shallow) {\n      this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n      return this.node;\n    };\n\n    TreeWalker.prototype.prev = function (shallow) {\n      this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n      return this.node;\n    };\n\n    TreeWalker.prototype.prev2 = function (shallow) {\n      this.node = this.findPreviousNode(this.node, 'lastChild', 'previousSibling', shallow);\n      return this.node;\n    };\n\n    TreeWalker.prototype.findSibling = function (node, startName, siblingName, shallow) {\n      var sibling, parent;\n\n      if (node) {\n        if (!shallow && node[startName]) {\n          return node[startName];\n        }\n\n        if (node !== this.rootNode) {\n          sibling = node[siblingName];\n\n          if (sibling) {\n            return sibling;\n          }\n\n          for (parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n            sibling = parent[siblingName];\n\n            if (sibling) {\n              return sibling;\n            }\n          }\n        }\n      }\n    };\n\n    TreeWalker.prototype.findPreviousNode = function (node, startName, siblingName, shallow) {\n      var sibling, parent, child;\n\n      if (node) {\n        sibling = node[siblingName];\n\n        if (this.rootNode && sibling === this.rootNode) {\n          return;\n        }\n\n        if (sibling) {\n          if (!shallow) {\n            for (child = sibling[startName]; child; child = child[startName]) {\n              if (!child[startName]) {\n                return child;\n              }\n            }\n          }\n\n          return sibling;\n        }\n\n        parent = node.parentNode;\n\n        if (parent && parent !== this.rootNode) {\n          return parent;\n        }\n      }\n    };\n\n    return TreeWalker;\n  }();\n\n  var blocks = ['article', 'aside', 'details', 'div', 'dt', 'figcaption', 'footer', 'form', 'fieldset', 'header', 'hgroup', 'html', 'main', 'nav', 'section', 'summary', 'body', 'p', 'dl', 'multicol', 'dd', 'figure', 'address', 'center', 'blockquote', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'listing', 'xmp', 'pre', 'plaintext', 'menu', 'dir', 'ul', 'ol', 'li', 'hr', 'table', 'tbody', 'thead', 'tfoot', 'th', 'tr', 'td', 'caption'];\n  var voids = ['area', 'base', 'basefont', 'br', 'col', 'frame', 'hr', 'img', 'input', 'isindex', 'link', 'meta', 'param', 'embed', 'source', 'wbr', 'track'];\n  var tableCells = ['td', 'th'];\n  var tableSections = ['thead', 'tbody', 'tfoot'];\n  var textBlocks = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'div', 'address', 'pre', 'form', 'blockquote', 'center', 'dir', 'fieldset', 'header', 'footer', 'article', 'section', 'hgroup', 'aside', 'nav', 'figure'];\n  var headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n  var listItems = ['li', 'dd', 'dt'];\n  var lists = ['ul', 'ol', 'dl'];\n  var wsElements = ['pre', 'script', 'textarea', 'style'];\n\n  var lazyLookup = function lazyLookup(items) {\n    var lookup;\n    return function (node) {\n      lookup = lookup ? lookup : mapToObject(items, constant(true));\n      return lookup.hasOwnProperty(name(node));\n    };\n  };\n\n  var isHeading = lazyLookup(headings);\n  var isBlock = lazyLookup(blocks);\n\n  var isTable$1 = function isTable$1(node) {\n    return name(node) === 'table';\n  };\n\n  var isInline = function isInline(node) {\n    return isElement(node) && !isBlock(node);\n  };\n\n  var isBr$1 = function isBr$1(node) {\n    return isElement(node) && name(node) === 'br';\n  };\n\n  var isTextBlock = lazyLookup(textBlocks);\n  var isList = lazyLookup(lists);\n  var isListItem = lazyLookup(listItems);\n  var isVoid = lazyLookup(voids);\n  var isTableSection = lazyLookup(tableSections);\n  var isTableCell = lazyLookup(tableCells);\n  var isWsPreserveElement = lazyLookup(wsElements);\n\n  var surroundedBySpans = function surroundedBySpans(node) {\n    var previousIsSpan = node.previousSibling && node.previousSibling.nodeName === 'SPAN';\n    var nextIsSpan = node.nextSibling && node.nextSibling.nodeName === 'SPAN';\n    return previousIsSpan && nextIsSpan;\n  };\n\n  var isBookmarkNode = function isBookmarkNode(node) {\n    return node && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n  };\n\n  var trimNode = function trimNode(dom, node) {\n    var i,\n        children = node.childNodes;\n\n    if (NodeType.isElement(node) && isBookmarkNode(node)) {\n      return;\n    }\n\n    for (i = children.length - 1; i >= 0; i--) {\n      trimNode(dom, children[i]);\n    }\n\n    if (NodeType.isDocument(node) === false) {\n      if (NodeType.isText(node) && node.nodeValue.length > 0) {\n        var trimmedLength = Tools.trim(node.nodeValue).length;\n\n        if (dom.isBlock(node.parentNode) || trimmedLength > 0) {\n          return;\n        }\n\n        if (trimmedLength === 0 && surroundedBySpans(node)) {\n          return;\n        }\n      } else if (NodeType.isElement(node)) {\n        children = node.childNodes;\n\n        if (children.length === 1 && isBookmarkNode(children[0])) {\n          node.parentNode.insertBefore(children[0], node);\n        }\n\n        if (children.length || isVoid(Element.fromDom(node))) {\n          return;\n        }\n      }\n\n      dom.remove(node);\n    }\n\n    return node;\n  };\n\n  var TrimNode = {\n    trimNode: trimNode\n  };\n  var makeMap$1 = Tools.makeMap;\n  var namedEntities, baseEntities, reverseEntities;\n  var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var rawCharsRegExp = /[<>&\\\"\\']/g;\n  var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n  var asciiMap = {\n    128: \"\\u20AC\",\n    130: \"\\u201A\",\n    131: \"\\u0192\",\n    132: \"\\u201E\",\n    133: \"\\u2026\",\n    134: \"\\u2020\",\n    135: \"\\u2021\",\n    136: \"\\u02C6\",\n    137: \"\\u2030\",\n    138: \"\\u0160\",\n    139: \"\\u2039\",\n    140: \"\\u0152\",\n    142: \"\\u017D\",\n    145: \"\\u2018\",\n    146: \"\\u2019\",\n    147: \"\\u201C\",\n    148: \"\\u201D\",\n    149: \"\\u2022\",\n    150: \"\\u2013\",\n    151: \"\\u2014\",\n    152: \"\\u02DC\",\n    153: \"\\u2122\",\n    154: \"\\u0161\",\n    155: \"\\u203A\",\n    156: \"\\u0153\",\n    158: \"\\u017E\",\n    159: \"\\u0178\"\n  };\n  baseEntities = {\n    '\"': '&quot;',\n    '\\'': '&#39;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '`': '&#96;'\n  };\n  reverseEntities = {\n    '&lt;': '<',\n    '&gt;': '>',\n    '&amp;': '&',\n    '&quot;': '\"',\n    '&apos;': '\\''\n  };\n\n  var nativeDecode = function nativeDecode(text) {\n    var elm;\n    elm = Element.fromTag('div').dom();\n    elm.innerHTML = text;\n    return elm.textContent || elm.innerText || text;\n  };\n\n  var buildEntitiesLookup = function buildEntitiesLookup(items, radix) {\n    var i, chr, entity;\n    var lookup = {};\n\n    if (items) {\n      items = items.split(',');\n      radix = radix || 10;\n\n      for (i = 0; i < items.length; i += 2) {\n        chr = String.fromCharCode(parseInt(items[i], radix));\n\n        if (!baseEntities[chr]) {\n          entity = '&' + items[i + 1] + ';';\n          lookup[chr] = entity;\n          lookup[entity] = chr;\n        }\n      }\n\n      return lookup;\n    }\n  };\n\n  namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n\n  var encodeRaw = function encodeRaw(text, attr) {\n    return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n      return baseEntities[chr] || chr;\n    });\n  };\n\n  var encodeAllRaw = function encodeAllRaw(text) {\n    return ('' + text).replace(rawCharsRegExp, function (chr) {\n      return baseEntities[chr] || chr;\n    });\n  };\n\n  var encodeNumeric = function encodeNumeric(text, attr) {\n    return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n      if (chr.length > 1) {\n        return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n      }\n\n      return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n    });\n  };\n\n  var encodeNamed = function encodeNamed(text, attr, entities) {\n    entities = entities || namedEntities;\n    return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n      return baseEntities[chr] || entities[chr] || chr;\n    });\n  };\n\n  var getEncodeFunc = function getEncodeFunc(name, entities) {\n    var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n\n    var encodeNamedAndNumeric = function encodeNamedAndNumeric(text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (baseEntities[chr] !== undefined) {\n          return baseEntities[chr];\n        }\n\n        if (entitiesMap[chr] !== undefined) {\n          return entitiesMap[chr];\n        }\n\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n\n        return '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n\n    var encodeCustomNamed = function encodeCustomNamed(text, attr) {\n      return encodeNamed(text, attr, entitiesMap);\n    };\n\n    var nameMap = makeMap$1(name.replace(/\\+/g, ','));\n\n    if (nameMap.named && nameMap.numeric) {\n      return encodeNamedAndNumeric;\n    }\n\n    if (nameMap.named) {\n      if (entities) {\n        return encodeCustomNamed;\n      }\n\n      return encodeNamed;\n    }\n\n    if (nameMap.numeric) {\n      return encodeNumeric;\n    }\n\n    return encodeRaw;\n  };\n\n  var decode = function decode(text) {\n    return text.replace(entityRegExp, function (all, numeric) {\n      if (numeric) {\n        if (numeric.charAt(0).toLowerCase() === 'x') {\n          numeric = parseInt(numeric.substr(1), 16);\n        } else {\n          numeric = parseInt(numeric, 10);\n        }\n\n        if (numeric > 65535) {\n          numeric -= 65536;\n          return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n        }\n\n        return asciiMap[numeric] || String.fromCharCode(numeric);\n      }\n\n      return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n    });\n  };\n\n  var Entities = {\n    encodeRaw: encodeRaw,\n    encodeAllRaw: encodeAllRaw,\n    encodeNumeric: encodeNumeric,\n    encodeNamed: encodeNamed,\n    getEncodeFunc: getEncodeFunc,\n    decode: decode\n  };\n  var mapCache = {},\n      dummyObj = {};\n  var makeMap$2 = Tools.makeMap,\n      each$4 = Tools.each,\n      extend$1 = Tools.extend,\n      explode$1 = Tools.explode,\n      inArray$1 = Tools.inArray;\n\n  var split = function split(items, delim) {\n    items = Tools.trim(items);\n    return items ? items.split(delim || ' ') : [];\n  };\n\n  var compileSchema = function compileSchema(type) {\n    var schema = {};\n    var globalAttributes, blockContent;\n    var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n\n    var add = function add(name, attributes, children) {\n      var ni, attributesOrder, element;\n\n      var arrayToMap = function arrayToMap(array, obj) {\n        var map = {};\n        var i, l;\n\n        for (i = 0, l = array.length; i < l; i++) {\n          map[array[i]] = obj || {};\n        }\n\n        return map;\n      };\n\n      children = children || [];\n      attributes = attributes || '';\n\n      if (typeof children === 'string') {\n        children = split(children);\n      }\n\n      name = split(name);\n      ni = name.length;\n\n      while (ni--) {\n        attributesOrder = split([globalAttributes, attributes].join(' '));\n        element = {\n          attributes: arrayToMap(attributesOrder),\n          attributesOrder: attributesOrder,\n          children: arrayToMap(children, dummyObj)\n        };\n        schema[name[ni]] = element;\n      }\n    };\n\n    var addAttrs = function addAttrs(name, attributes) {\n      var ni, schemaItem, i, l;\n      name = split(name);\n      ni = name.length;\n      attributes = split(attributes);\n\n      while (ni--) {\n        schemaItem = schema[name[ni]];\n\n        for (i = 0, l = attributes.length; i < l; i++) {\n          schemaItem.attributes[attributes[i]] = {};\n          schemaItem.attributesOrder.push(attributes[i]);\n        }\n      }\n    };\n\n    if (mapCache[type]) {\n      return mapCache[type];\n    }\n\n    globalAttributes = 'id accesskey class dir lang style tabindex title role';\n    blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n    phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n\n    if (type !== 'html4') {\n      globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n      blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n      phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n    }\n\n    if (type !== 'html5-strict') {\n      globalAttributes += ' xml:lang';\n      html4PhrasingContent = 'acronym applet basefont big font strike tt';\n      phrasingContent = [phrasingContent, html4PhrasingContent].join(' ');\n      each$4(split(html4PhrasingContent), function (name) {\n        add(name, '', phrasingContent);\n      });\n      html4BlockContent = 'center dir isindex noframes';\n      blockContent = [blockContent, html4BlockContent].join(' ');\n      flowContent = [blockContent, phrasingContent].join(' ');\n      each$4(split(html4BlockContent), function (name) {\n        add(name, '', flowContent);\n      });\n    }\n\n    flowContent = flowContent || [blockContent, phrasingContent].join(' ');\n    add('html', 'manifest', 'head body');\n    add('head', '', 'base command link meta noscript script style title');\n    add('title hr noscript br');\n    add('base', 'href target');\n    add('link', 'href rel media hreflang type sizes hreflang');\n    add('meta', 'name http-equiv content charset');\n    add('style', 'media type scoped');\n    add('script', 'src async defer type charset');\n    add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n    add('address dt dd div caption', '', flowContent);\n    add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n    add('blockquote', 'cite', flowContent);\n    add('ol', 'reversed start type', 'li');\n    add('ul', '', 'li');\n    add('li', 'value', flowContent);\n    add('dl', '', 'dt dd');\n    add('a', 'href target rel media hreflang type', phrasingContent);\n    add('q', 'cite', phrasingContent);\n    add('ins del', 'cite datetime', flowContent);\n    add('img', 'src sizes srcset alt usemap ismap width height');\n    add('iframe', 'src name width height', flowContent);\n    add('embed', 'src type width height');\n    add('object', 'data type typemustmatch name usemap form width height', [flowContent, 'param'].join(' '));\n    add('param', 'name value');\n    add('map', 'name', [flowContent, 'area'].join(' '));\n    add('area', 'alt coords shape href target rel media hreflang type');\n    add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n    add('colgroup', 'span', 'col');\n    add('col', 'span');\n    add('tbody thead tfoot', '', 'tr');\n    add('tr', '', 'td th');\n    add('td', 'colspan rowspan headers', flowContent);\n    add('th', 'colspan rowspan headers scope abbr', flowContent);\n    add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n    add('fieldset', 'disabled form name', [flowContent, 'legend'].join(' '));\n    add('label', 'form for', phrasingContent);\n    add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n    add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n    add('select', 'disabled form multiple name required size', 'option optgroup');\n    add('optgroup', 'disabled label', 'option');\n    add('option', 'disabled label selected value');\n    add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n    add('menu', 'type label', [flowContent, 'li'].join(' '));\n    add('noscript', '', flowContent);\n\n    if (type !== 'html4') {\n      add('wbr');\n      add('ruby', '', [phrasingContent, 'rt rp'].join(' '));\n      add('figcaption', '', flowContent);\n      add('mark rt rp summary bdi', '', phrasingContent);\n      add('canvas', 'width height', flowContent);\n      add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [flowContent, 'track source'].join(' '));\n      add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [flowContent, 'track source'].join(' '));\n      add('picture', '', 'img source');\n      add('source', 'src srcset type media sizes');\n      add('track', 'kind src srclang label default');\n      add('datalist', '', [phrasingContent, 'option'].join(' '));\n      add('article section nav aside main header footer', '', flowContent);\n      add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n      add('figure', '', [flowContent, 'figcaption'].join(' '));\n      add('time', 'datetime', phrasingContent);\n      add('dialog', 'open', flowContent);\n      add('command', 'type label icon disabled checked radiogroup command');\n      add('output', 'for form name', phrasingContent);\n      add('progress', 'value max', phrasingContent);\n      add('meter', 'value min max low high optimum', phrasingContent);\n      add('details', 'open', [flowContent, 'summary'].join(' '));\n      add('keygen', 'autofocus challenge disabled form keytype name');\n    }\n\n    if (type !== 'html5-strict') {\n      addAttrs('script', 'language xml:space');\n      addAttrs('style', 'xml:space');\n      addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n      addAttrs('embed', 'align name hspace vspace');\n      addAttrs('param', 'valuetype type');\n      addAttrs('a', 'charset name rev shape coords');\n      addAttrs('br', 'clear');\n      addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n      addAttrs('img', 'name longdesc align border hspace vspace');\n      addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n      addAttrs('font basefont', 'size color face');\n      addAttrs('input', 'usemap align');\n      addAttrs('select', 'onchange');\n      addAttrs('textarea');\n      addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n      addAttrs('ul', 'type compact');\n      addAttrs('li', 'type');\n      addAttrs('ol dl menu dir', 'compact');\n      addAttrs('pre', 'width xml:space');\n      addAttrs('hr', 'align noshade size width');\n      addAttrs('isindex', 'prompt');\n      addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n      addAttrs('col', 'width align char charoff valign');\n      addAttrs('colgroup', 'width align char charoff valign');\n      addAttrs('thead', 'align char charoff valign');\n      addAttrs('tr', 'align char charoff valign bgcolor');\n      addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n      addAttrs('form', 'accept');\n      addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n      addAttrs('tfoot', 'align char charoff valign');\n      addAttrs('tbody', 'align char charoff valign');\n      addAttrs('area', 'nohref');\n      addAttrs('body', 'background bgcolor text link vlink alink');\n    }\n\n    if (type !== 'html4') {\n      addAttrs('input button select textarea', 'autofocus');\n      addAttrs('input textarea', 'placeholder');\n      addAttrs('a', 'download');\n      addAttrs('link script img', 'crossorigin');\n      addAttrs('iframe', 'sandbox seamless allowfullscreen');\n    }\n\n    each$4(split('a form meter progress dfn'), function (name) {\n      if (schema[name]) {\n        delete schema[name].children[name];\n      }\n    });\n    delete schema.caption.children.table;\n    delete schema.script;\n    mapCache[type] = schema;\n    return schema;\n  };\n\n  var compileElementMap = function compileElementMap(value, mode) {\n    var styles;\n\n    if (value) {\n      styles = {};\n\n      if (typeof value === 'string') {\n        value = {\n          '*': value\n        };\n      }\n\n      each$4(value, function (value, key) {\n        styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$1(value, /[, ]/);\n      });\n    }\n\n    return styles;\n  };\n\n  function Schema(settings) {\n    var elements = {};\n    var children = {};\n    var patternElements = [];\n    var validStyles;\n    var invalidStyles;\n    var schemaItems;\n    var whiteSpaceElementsMap, selfClosingElementsMap, shortEndedElementsMap, boolAttrMap, validClasses;\n    var blockElementsMap, nonEmptyElementsMap, moveCaretBeforeOnEnterElementsMap, textBlockElementsMap, textInlineElementsMap;\n    var customElementsMap = {},\n        specialElements = {};\n\n    var createLookupTable = function createLookupTable(option, defaultValue, extendWith) {\n      var value = settings[option];\n\n      if (!value) {\n        value = mapCache[option];\n\n        if (!value) {\n          value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n          value = extend$1(value, extendWith);\n          mapCache[option] = value;\n        }\n      } else {\n        value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n      }\n\n      return value;\n    };\n\n    settings = settings || {};\n    schemaItems = compileSchema(settings.schema);\n\n    if (settings.verify_html === false) {\n      settings.valid_elements = '*[*]';\n    }\n\n    validStyles = compileElementMap(settings.valid_styles);\n    invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n    validClasses = compileElementMap(settings.valid_classes, 'map');\n    whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n    selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n    shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n    boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n    nonEmptyElementsMap = createLookupTable('non_empty_elements', 'td th iframe video audio object ' + 'script pre code', shortEndedElementsMap);\n    moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', 'table', nonEmptyElementsMap);\n    textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n    blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n    textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\n    each$4((settings.special || 'script noscript noframes noembed title style textarea xmp').split(' '), function (name) {\n      specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n    });\n\n    var patternToRegExp = function patternToRegExp(str) {\n      return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n    };\n\n    var addValidElements = function addValidElements(validElements) {\n      var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, key, value;\n      var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/,\n          attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,\n          hasPatternsRegExp = /[*?+]/;\n\n      if (validElements) {\n        validElements = split(validElements, ',');\n\n        if (elements['@']) {\n          globalAttributes = elements['@'].attributes;\n          globalAttributesOrder = elements['@'].attributesOrder;\n        }\n\n        for (ei = 0, el = validElements.length; ei < el; ei++) {\n          matches = elementRuleRegExp.exec(validElements[ei]);\n\n          if (matches) {\n            prefix = matches[1];\n            elementName = matches[2];\n            outputName = matches[3];\n            attrData = matches[5];\n            attributes = {};\n            attributesOrder = [];\n            element = {\n              attributes: attributes,\n              attributesOrder: attributesOrder\n            };\n\n            if (prefix === '#') {\n              element.paddEmpty = true;\n            }\n\n            if (prefix === '-') {\n              element.removeEmpty = true;\n            }\n\n            if (matches[4] === '!') {\n              element.removeEmptyAttrs = true;\n            }\n\n            if (globalAttributes) {\n              for (key in globalAttributes) {\n                attributes[key] = globalAttributes[key];\n              }\n\n              attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n            }\n\n            if (attrData) {\n              attrData = split(attrData, '|');\n\n              for (ai = 0, al = attrData.length; ai < al; ai++) {\n                matches = attrRuleRegExp.exec(attrData[ai]);\n\n                if (matches) {\n                  attr = {};\n                  attrType = matches[1];\n                  attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                  prefix = matches[3];\n                  value = matches[4];\n\n                  if (attrType === '!') {\n                    element.attributesRequired = element.attributesRequired || [];\n                    element.attributesRequired.push(attrName);\n                    attr.required = true;\n                  }\n\n                  if (attrType === '-') {\n                    delete attributes[attrName];\n                    attributesOrder.splice(inArray$1(attributesOrder, attrName), 1);\n                    continue;\n                  }\n\n                  if (prefix) {\n                    if (prefix === '=') {\n                      element.attributesDefault = element.attributesDefault || [];\n                      element.attributesDefault.push({\n                        name: attrName,\n                        value: value\n                      });\n                      attr.defaultValue = value;\n                    }\n\n                    if (prefix === ':') {\n                      element.attributesForced = element.attributesForced || [];\n                      element.attributesForced.push({\n                        name: attrName,\n                        value: value\n                      });\n                      attr.forcedValue = value;\n                    }\n\n                    if (prefix === '<') {\n                      attr.validValues = makeMap$2(value, '?');\n                    }\n                  }\n\n                  if (hasPatternsRegExp.test(attrName)) {\n                    element.attributePatterns = element.attributePatterns || [];\n                    attr.pattern = patternToRegExp(attrName);\n                    element.attributePatterns.push(attr);\n                  } else {\n                    if (!attributes[attrName]) {\n                      attributesOrder.push(attrName);\n                    }\n\n                    attributes[attrName] = attr;\n                  }\n                }\n              }\n            }\n\n            if (!globalAttributes && elementName === '@') {\n              globalAttributes = attributes;\n              globalAttributesOrder = attributesOrder;\n            }\n\n            if (outputName) {\n              element.outputName = elementName;\n              elements[outputName] = element;\n            }\n\n            if (hasPatternsRegExp.test(elementName)) {\n              element.pattern = patternToRegExp(elementName);\n              patternElements.push(element);\n            } else {\n              elements[elementName] = element;\n            }\n          }\n        }\n      }\n    };\n\n    var setValidElements = function setValidElements(validElements) {\n      elements = {};\n      patternElements = [];\n      addValidElements(validElements);\n      each$4(schemaItems, function (element, name) {\n        children[name] = element.children;\n      });\n    };\n\n    var addCustomElements = function addCustomElements(customElements) {\n      var customElementRegExp = /^(~)?(.+)$/;\n\n      if (customElements) {\n        mapCache.text_block_elements = mapCache.block_elements = null;\n        each$4(split(customElements, ','), function (rule) {\n          var matches = customElementRegExp.exec(rule),\n              inline = matches[1] === '~',\n              cloneName = inline ? 'span' : 'div',\n              name = matches[2];\n          children[name] = children[cloneName];\n          customElementsMap[name] = cloneName;\n\n          if (!inline) {\n            blockElementsMap[name.toUpperCase()] = {};\n            blockElementsMap[name] = {};\n          }\n\n          if (!elements[name]) {\n            var customRule = elements[cloneName];\n            customRule = extend$1({}, customRule);\n            delete customRule.removeEmptyAttrs;\n            delete customRule.removeEmpty;\n            elements[name] = customRule;\n          }\n\n          each$4(children, function (element, elmName) {\n            if (element[cloneName]) {\n              children[elmName] = element = extend$1({}, children[elmName]);\n              element[name] = element[cloneName];\n            }\n          });\n        });\n      }\n    };\n\n    var addValidChildren = function addValidChildren(validChildren) {\n      var childRuleRegExp = /^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;\n      mapCache[settings.schema] = null;\n\n      if (validChildren) {\n        each$4(split(validChildren, ','), function (rule) {\n          var matches = childRuleRegExp.exec(rule);\n          var parent, prefix;\n\n          if (matches) {\n            prefix = matches[1];\n\n            if (prefix) {\n              parent = children[matches[2]];\n            } else {\n              parent = children[matches[2]] = {\n                '#comment': {}\n              };\n            }\n\n            parent = children[matches[2]];\n            each$4(split(matches[3], '|'), function (child) {\n              if (prefix === '-') {\n                delete parent[child];\n              } else {\n                parent[child] = {};\n              }\n            });\n          }\n        });\n      }\n    };\n\n    var getElementRule = function getElementRule(name) {\n      var element = elements[name],\n          i;\n\n      if (element) {\n        return element;\n      }\n\n      i = patternElements.length;\n\n      while (i--) {\n        element = patternElements[i];\n\n        if (element.pattern.test(name)) {\n          return element;\n        }\n      }\n    };\n\n    if (!settings.valid_elements) {\n      each$4(schemaItems, function (element, name) {\n        elements[name] = {\n          attributes: element.attributes,\n          attributesOrder: element.attributesOrder\n        };\n        children[name] = element.children;\n      });\n\n      if (settings.schema !== 'html5') {\n        each$4(split('strong/b em/i'), function (item) {\n          item = split(item, '/');\n          elements[item[1]].outputName = item[0];\n        });\n      }\n\n      each$4(split('ol ul sub sup blockquote span font a table tbody tr strong em b i'), function (name) {\n        if (elements[name]) {\n          elements[name].removeEmpty = true;\n        }\n      });\n      each$4(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n        elements[name].paddEmpty = true;\n      });\n      each$4(split('span'), function (name) {\n        elements[name].removeEmptyAttrs = true;\n      });\n    } else {\n      setValidElements(settings.valid_elements);\n    }\n\n    addCustomElements(settings.custom_elements);\n    addValidChildren(settings.valid_children);\n    addValidElements(settings.extended_valid_elements);\n    addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n    each$4({\n      dd: 'dl',\n      dt: 'dl',\n      li: 'ul ol',\n      td: 'tr',\n      th: 'tr',\n      tr: 'tbody thead tfoot',\n      tbody: 'table',\n      thead: 'table',\n      tfoot: 'table',\n      legend: 'fieldset',\n      area: 'map',\n      param: 'video audio object'\n    }, function (parents, item) {\n      if (elements[item]) {\n        elements[item].parentsRequired = split(parents);\n      }\n    });\n\n    if (settings.invalid_elements) {\n      each$4(explode$1(settings.invalid_elements), function (item) {\n        if (elements[item]) {\n          delete elements[item];\n        }\n      });\n    }\n\n    if (!getElementRule('span')) {\n      addValidElements('span[!data-mce-type|*]');\n    }\n\n    var getValidStyles = function getValidStyles() {\n      return validStyles;\n    };\n\n    var getInvalidStyles = function getInvalidStyles() {\n      return invalidStyles;\n    };\n\n    var getValidClasses = function getValidClasses() {\n      return validClasses;\n    };\n\n    var getBoolAttrs = function getBoolAttrs() {\n      return boolAttrMap;\n    };\n\n    var getBlockElements = function getBlockElements() {\n      return blockElementsMap;\n    };\n\n    var getTextBlockElements = function getTextBlockElements() {\n      return textBlockElementsMap;\n    };\n\n    var getTextInlineElements = function getTextInlineElements() {\n      return textInlineElementsMap;\n    };\n\n    var getShortEndedElements = function getShortEndedElements() {\n      return shortEndedElementsMap;\n    };\n\n    var getSelfClosingElements = function getSelfClosingElements() {\n      return selfClosingElementsMap;\n    };\n\n    var getNonEmptyElements = function getNonEmptyElements() {\n      return nonEmptyElementsMap;\n    };\n\n    var getMoveCaretBeforeOnEnterElements = function getMoveCaretBeforeOnEnterElements() {\n      return moveCaretBeforeOnEnterElementsMap;\n    };\n\n    var getWhiteSpaceElements = function getWhiteSpaceElements() {\n      return whiteSpaceElementsMap;\n    };\n\n    var getSpecialElements = function getSpecialElements() {\n      return specialElements;\n    };\n\n    var isValidChild = function isValidChild(name, child) {\n      var parent = children[name.toLowerCase()];\n      return !!(parent && parent[child.toLowerCase()]);\n    };\n\n    var isValid = function isValid(name, attr) {\n      var attrPatterns, i;\n      var rule = getElementRule(name);\n\n      if (rule) {\n        if (attr) {\n          if (rule.attributes[attr]) {\n            return true;\n          }\n\n          attrPatterns = rule.attributePatterns;\n\n          if (attrPatterns) {\n            i = attrPatterns.length;\n\n            while (i--) {\n              if (attrPatterns[i].pattern.test(name)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    var getCustomElements = function getCustomElements() {\n      return customElementsMap;\n    };\n\n    return {\n      children: children,\n      elements: elements,\n      getValidStyles: getValidStyles,\n      getValidClasses: getValidClasses,\n      getBlockElements: getBlockElements,\n      getInvalidStyles: getInvalidStyles,\n      getShortEndedElements: getShortEndedElements,\n      getTextBlockElements: getTextBlockElements,\n      getTextInlineElements: getTextInlineElements,\n      getBoolAttrs: getBoolAttrs,\n      getElementRule: getElementRule,\n      getSelfClosingElements: getSelfClosingElements,\n      getNonEmptyElements: getNonEmptyElements,\n      getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n      getWhiteSpaceElements: getWhiteSpaceElements,\n      getSpecialElements: getSpecialElements,\n      isValidChild: isValidChild,\n      isValid: isValid,\n      getCustomElements: getCustomElements,\n      addValidElements: addValidElements,\n      setValidElements: setValidElements,\n      addCustomElements: addCustomElements,\n      addValidChildren: addValidChildren\n    };\n  }\n\n  var _toHex = function toHex(match, r, g, b) {\n    var hex = function hex(val) {\n      val = parseInt(val, 10).toString(16);\n      return val.length > 1 ? val : '0' + val;\n    };\n\n    return '#' + hex(r) + hex(g) + hex(b);\n  };\n\n  var Styles = function Styles(settings, schema) {\n    var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n    var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n    var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n    var trimRightRegExp = /\\s+$/;\n    var i;\n    var encodingLookup = {};\n    var encodingItems;\n    var validStyles;\n    var invalidStyles;\n    var invisibleChar = \"\\uFEFF\";\n    settings = settings || {};\n\n    if (schema) {\n      validStyles = schema.getValidStyles();\n      invalidStyles = schema.getInvalidStyles();\n    }\n\n    encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n\n    for (i = 0; i < encodingItems.length; i++) {\n      encodingLookup[encodingItems[i]] = invisibleChar + i;\n      encodingLookup[invisibleChar + i] = encodingItems[i];\n    }\n\n    return {\n      toHex: function toHex(color) {\n        return color.replace(rgbRegExp, _toHex);\n      },\n      parse: function parse(css) {\n        var styles = {};\n        var matches, name, value, isEncoded;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope || this;\n\n        var compress = function compress(prefix, suffix, noJoin) {\n          var top, right, bottom, left;\n          top = styles[prefix + '-top' + suffix];\n\n          if (!top) {\n            return;\n          }\n\n          right = styles[prefix + '-right' + suffix];\n\n          if (!right) {\n            return;\n          }\n\n          bottom = styles[prefix + '-bottom' + suffix];\n\n          if (!bottom) {\n            return;\n          }\n\n          left = styles[prefix + '-left' + suffix];\n\n          if (!left) {\n            return;\n          }\n\n          var box = [top, right, bottom, left];\n          i = box.length - 1;\n\n          while (i--) {\n            if (box[i] !== box[i + 1]) {\n              break;\n            }\n          }\n\n          if (i > -1 && noJoin) {\n            return;\n          }\n\n          styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n          delete styles[prefix + '-top' + suffix];\n          delete styles[prefix + '-right' + suffix];\n          delete styles[prefix + '-bottom' + suffix];\n          delete styles[prefix + '-left' + suffix];\n        };\n\n        var canCompress = function canCompress(key) {\n          var value = styles[key],\n              i;\n\n          if (!value) {\n            return;\n          }\n\n          value = value.split(' ');\n          i = value.length;\n\n          while (i--) {\n            if (value[i] !== value[0]) {\n              return false;\n            }\n          }\n\n          styles[key] = value[0];\n          return true;\n        };\n\n        var compress2 = function compress2(target, a, b, c) {\n          if (!canCompress(a)) {\n            return;\n          }\n\n          if (!canCompress(b)) {\n            return;\n          }\n\n          if (!canCompress(c)) {\n            return;\n          }\n\n          styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n          delete styles[a];\n          delete styles[b];\n          delete styles[c];\n        };\n\n        var encode = function encode(str) {\n          isEncoded = true;\n          return encodingLookup[str];\n        };\n\n        var decode = function decode(str, keepSlashes) {\n          if (isEncoded) {\n            str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n              return encodingLookup[str];\n            });\n          }\n\n          if (!keepSlashes) {\n            str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n          }\n\n          return str;\n        };\n\n        var decodeSingleHexSequence = function decodeSingleHexSequence(escSeq) {\n          return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n        };\n\n        var decodeHexSequences = function decodeHexSequences(value) {\n          return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n        };\n\n        var processUrl = function processUrl(match, url, url2, url3, str, str2) {\n          str = str || str2;\n\n          if (str) {\n            str = decode(str);\n            return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n          }\n\n          url = decode(url || url2 || url3);\n\n          if (!settings.allow_script_urls) {\n            var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n\n            if (/(java|vb)script:/i.test(scriptUrl)) {\n              return '';\n            }\n\n            if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n              return '';\n            }\n          }\n\n          if (urlConverter) {\n            url = urlConverter.call(urlConverterScope, url, 'style');\n          }\n\n          return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n        };\n\n        if (css) {\n          css = css.replace(/[\\u0000-\\u001F]/g, '');\n          css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n            return str.replace(/[;:]/g, encode);\n          });\n\n          while (matches = styleRegExp.exec(css)) {\n            styleRegExp.lastIndex = matches.index + matches[0].length;\n            name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n            value = matches[2].replace(trimRightRegExp, '');\n\n            if (name && value) {\n              name = decodeHexSequences(name);\n              value = decodeHexSequences(value);\n\n              if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                continue;\n              }\n\n              if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                continue;\n              }\n\n              if (name === 'font-weight' && value === '700') {\n                value = 'bold';\n              } else if (name === 'color' || name === 'background-color') {\n                value = value.toLowerCase();\n              }\n\n              value = value.replace(rgbRegExp, _toHex);\n              value = value.replace(urlOrStrRegExp, processUrl);\n              styles[name] = isEncoded ? decode(value, true) : value;\n            }\n          }\n\n          compress('border', '', true);\n          compress('border', '-width');\n          compress('border', '-color');\n          compress('border', '-style');\n          compress('padding', '');\n          compress('margin', '');\n          compress2('border', 'border-width', 'border-style', 'border-color');\n\n          if (styles.border === 'medium none') {\n            delete styles.border;\n          }\n\n          if (styles['border-image'] === 'none') {\n            delete styles['border-image'];\n          }\n        }\n\n        return styles;\n      },\n      serialize: function serialize(styles, elementName) {\n        var css = '',\n            name,\n            value;\n\n        var serializeStyles = function serializeStyles(name) {\n          var styleList, i, l, value;\n          styleList = validStyles[name];\n\n          if (styleList) {\n            for (i = 0, l = styleList.length; i < l; i++) {\n              name = styleList[i];\n              value = styles[name];\n\n              if (value) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            }\n          }\n        };\n\n        var isValid = function isValid(name, elementName) {\n          var styleMap;\n          styleMap = invalidStyles['*'];\n\n          if (styleMap && styleMap[name]) {\n            return false;\n          }\n\n          styleMap = invalidStyles[elementName];\n\n          if (styleMap && styleMap[name]) {\n            return false;\n          }\n\n          return true;\n        };\n\n        if (elementName && validStyles) {\n          serializeStyles('*');\n          serializeStyles(elementName);\n        } else {\n          for (name in styles) {\n            value = styles[name];\n\n            if (value && (!invalidStyles || isValid(name, elementName))) {\n              css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n            }\n          }\n        }\n\n        return css;\n      }\n    };\n  };\n\n  var each$5 = Tools.each;\n  var grep$1 = Tools.grep;\n  var isIE = Env.ie;\n  var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n  var whiteSpaceRegExp$2 = /^[ \\t\\r\\n]*$/;\n\n  var setupAttrHooks = function setupAttrHooks(styles, settings, getContext) {\n    var keepValues = settings.keep_values;\n    var keepUrlHook = {\n      set: function set($elm, value, name) {\n        if (settings.url_converter) {\n          value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, $elm[0]);\n        }\n\n        $elm.attr('data-mce-' + name, value).attr(name, value);\n      },\n      get: function get($elm, name) {\n        return $elm.attr('data-mce-' + name) || $elm.attr(name);\n      }\n    };\n    var attrHooks = {\n      style: {\n        set: function set($elm, value) {\n          if (value !== null && typeof value === 'object') {\n            $elm.css(value);\n            return;\n          }\n\n          if (keepValues) {\n            $elm.attr('data-mce-style', value);\n          }\n\n          $elm.attr('style', value);\n        },\n        get: function get($elm) {\n          var value = $elm.attr('data-mce-style') || $elm.attr('style');\n          value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n          return value;\n        }\n      }\n    };\n\n    if (keepValues) {\n      attrHooks.href = attrHooks.src = keepUrlHook;\n    }\n\n    return attrHooks;\n  };\n\n  var updateInternalStyleAttr = function updateInternalStyleAttr(styles, $elm) {\n    var rawValue = $elm.attr('style');\n    var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n\n    if (!value) {\n      value = null;\n    }\n\n    $elm.attr('data-mce-style', value);\n  };\n\n  var findNodeIndex = function findNodeIndex(node, normalized) {\n    var idx = 0,\n        lastNodeType,\n        nodeType;\n\n    if (node) {\n      for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n        nodeType = node.nodeType;\n\n        if (normalized && nodeType === 3) {\n          if (nodeType === lastNodeType || !node.nodeValue.length) {\n            continue;\n          }\n        }\n\n        idx++;\n        lastNodeType = nodeType;\n      }\n    }\n\n    return idx;\n  };\n\n  function DOMUtils(doc, settings) {\n    var _this = this;\n\n    if (settings === void 0) {\n      settings = {};\n    }\n\n    var attrHooks;\n    var addedStyles = {};\n    var win = domGlobals.window;\n    var files = {};\n    var counter = 0;\n    var stdMode = true;\n    var boxModel = true;\n    var styleSheetLoader = StyleSheetLoader(doc, {\n      contentCssCors: settings.contentCssCors\n    });\n    var boundEvents = [];\n    var schema = settings.schema ? settings.schema : Schema({});\n    var styles = Styles({\n      url_converter: settings.url_converter,\n      url_converter_scope: settings.url_converter_scope\n    }, settings.schema);\n    var events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n    var blockElementsMap = schema.getBlockElements();\n    var $ = DomQuery.overrideDefaults(function () {\n      return {\n        context: doc,\n        element: self.getRoot()\n      };\n    });\n\n    var isBlock = function isBlock(node) {\n      if (typeof node === 'string') {\n        return !!blockElementsMap[node];\n      } else if (node) {\n        var type = node.nodeType;\n\n        if (type) {\n          return !!(type === 1 && blockElementsMap[node.nodeName]);\n        }\n      }\n\n      return false;\n    };\n\n    var get = function get(elm) {\n      if (elm && doc && typeof elm === 'string') {\n        var node = doc.getElementById(elm);\n\n        if (node && node.id !== elm) {\n          return doc.getElementsByName(elm)[1];\n        } else {\n          return node;\n        }\n      }\n\n      return elm;\n    };\n\n    var $$ = function $$(elm) {\n      if (typeof elm === 'string') {\n        elm = get(elm);\n      }\n\n      return $(elm);\n    };\n\n    var getAttrib = function getAttrib(elm, name, defaultVal) {\n      var hook, value;\n      var $elm = $$(elm);\n\n      if ($elm.length) {\n        hook = attrHooks[name];\n\n        if (hook && hook.get) {\n          value = hook.get($elm, name);\n        } else {\n          value = $elm.attr(name);\n        }\n      }\n\n      if (typeof value === 'undefined') {\n        value = defaultVal || '';\n      }\n\n      return value;\n    };\n\n    var getAttribs = function getAttribs(elm) {\n      var node = get(elm);\n\n      if (!node) {\n        return [];\n      }\n\n      return node.attributes;\n    };\n\n    var setAttrib = function setAttrib(elm, name, value) {\n      var originalValue, hook;\n\n      if (value === '') {\n        value = null;\n      }\n\n      var $elm = $$(elm);\n      originalValue = $elm.attr(name);\n\n      if (!$elm.length) {\n        return;\n      }\n\n      hook = attrHooks[name];\n\n      if (hook && hook.set) {\n        hook.set($elm, value, name);\n      } else {\n        $elm.attr(name, value);\n      }\n\n      if (originalValue !== value && settings.onSetAttrib) {\n        settings.onSetAttrib({\n          attrElm: $elm,\n          attrName: name,\n          attrValue: value\n        });\n      }\n    };\n\n    var clone = function clone(node, deep) {\n      if (!isIE || node.nodeType !== 1 || deep) {\n        return node.cloneNode(deep);\n      }\n\n      if (!deep) {\n        var clone_1 = doc.createElement(node.nodeName);\n        each$5(getAttribs(node), function (attr) {\n          setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n        });\n        return clone_1;\n      }\n\n      return null;\n    };\n\n    var getRoot = function getRoot() {\n      return settings.root_element || doc.body;\n    };\n\n    var getViewPort = function getViewPort(argWin) {\n      var actWin = !argWin ? win : argWin;\n      var doc = actWin.document;\n      var rootElm = doc.documentElement;\n      return {\n        x: actWin.pageXOffset || rootElm.scrollLeft,\n        y: actWin.pageYOffset || rootElm.scrollTop,\n        w: actWin.innerWidth || rootElm.clientWidth,\n        h: actWin.innerHeight || rootElm.clientHeight\n      };\n    };\n\n    var getPos = function getPos(elm, rootElm) {\n      return Position.getPos(doc.body, get(elm), rootElm);\n    };\n\n    var setStyle = function setStyle(elm, name, value) {\n      var $elm = isString(name) ? $$(elm).css(name, value) : $$(elm).css(name);\n\n      if (settings.update_styles) {\n        updateInternalStyleAttr(styles, $elm);\n      }\n    };\n\n    var setStyles = function setStyles(elm, stylesArg) {\n      var $elm = $$(elm).css(stylesArg);\n\n      if (settings.update_styles) {\n        updateInternalStyleAttr(styles, $elm);\n      }\n    };\n\n    var getStyle = function getStyle(elm, name, computed) {\n      var $elm = $$(elm);\n\n      if (computed) {\n        return $elm.css(name);\n      }\n\n      name = name.replace(/-(\\D)/g, function (a, b) {\n        return b.toUpperCase();\n      });\n\n      if (name === 'float') {\n        name = Env.ie && Env.ie < 12 ? 'styleFloat' : 'cssFloat';\n      }\n\n      return $elm[0] && $elm[0].style ? $elm[0].style[name] : undefined;\n    };\n\n    var getSize = function getSize(elm) {\n      var w, h;\n      elm = get(elm);\n      w = getStyle(elm, 'width');\n      h = getStyle(elm, 'height');\n\n      if (w.indexOf('px') === -1) {\n        w = 0;\n      }\n\n      if (h.indexOf('px') === -1) {\n        h = 0;\n      }\n\n      return {\n        w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n        h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n      };\n    };\n\n    var getRect = function getRect(elm) {\n      var pos, size;\n      elm = get(elm);\n      pos = getPos(elm);\n      size = getSize(elm);\n      return {\n        x: pos.x,\n        y: pos.y,\n        w: size.w,\n        h: size.h\n      };\n    };\n\n    var is = function is(elm, selector) {\n      var i;\n\n      if (!elm) {\n        return false;\n      }\n\n      if (!Array.isArray(elm)) {\n        if (selector === '*') {\n          return elm.nodeType === 1;\n        }\n\n        if (simpleSelectorRe.test(selector)) {\n          var selectors = selector.toLowerCase().split(/,/);\n          var elmName = elm.nodeName.toLowerCase();\n\n          for (i = selectors.length - 1; i >= 0; i--) {\n            if (selectors[i] === elmName) {\n              return true;\n            }\n          }\n\n          return false;\n        }\n\n        if (elm.nodeType && elm.nodeType !== 1) {\n          return false;\n        }\n      }\n\n      var elms = !Array.isArray(elm) ? [elm] : elm;\n      return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n    };\n\n    var getParents = function getParents(elm, selector, root, collect) {\n      var result = [];\n      var selectorVal;\n      var node = get(elm);\n      collect = collect === undefined;\n      root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n\n      if (Tools.is(selector, 'string')) {\n        selectorVal = selector;\n\n        if (selector === '*') {\n          selector = function selector(node) {\n            return node.nodeType === 1;\n          };\n        } else {\n          selector = function selector(node) {\n            return is(node, selectorVal);\n          };\n        }\n      }\n\n      while (node) {\n        if (node === root || !node.nodeType || node.nodeType === 9) {\n          break;\n        }\n\n        if (!selector || typeof selector === 'function' && selector(node)) {\n          if (collect) {\n            result.push(node);\n          } else {\n            return [node];\n          }\n        }\n\n        node = node.parentNode;\n      }\n\n      return collect ? result : null;\n    };\n\n    var getParent = function getParent(node, selector, root) {\n      var parents = getParents(node, selector, root, false);\n      return parents && parents.length > 0 ? parents[0] : null;\n    };\n\n    var _findSib = function _findSib(node, selector, name) {\n      var func = selector;\n\n      if (node) {\n        if (typeof selector === 'string') {\n          func = function func(node) {\n            return is(node, selector);\n          };\n        }\n\n        for (node = node[name]; node; node = node[name]) {\n          if (typeof func === 'function' && func(node)) {\n            return node;\n          }\n        }\n      }\n\n      return null;\n    };\n\n    var getNext = function getNext(node, selector) {\n      return _findSib(node, selector, 'nextSibling');\n    };\n\n    var getPrev = function getPrev(node, selector) {\n      return _findSib(node, selector, 'previousSibling');\n    };\n\n    var select = function select(selector, scope) {\n      return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n    };\n\n    var run = function run(elm, func, scope) {\n      var result;\n      var node = typeof elm === 'string' ? get(elm) : elm;\n\n      if (!node) {\n        return false;\n      }\n\n      if (Tools.isArray(node) && (node.length || node.length === 0)) {\n        result = [];\n        each$5(node, function (elm, i) {\n          if (elm) {\n            if (typeof elm === 'string') {\n              elm = get(elm);\n            }\n\n            result.push(func.call(scope, elm, i));\n          }\n        });\n        return result;\n      }\n\n      var context = scope ? scope : _this;\n      return func.call(context, node);\n    };\n\n    var setAttribs = function setAttribs(elm, attrs) {\n      $$(elm).each(function (i, node) {\n        each$5(attrs, function (value, name) {\n          setAttrib(node, name, value);\n        });\n      });\n    };\n\n    var setHTML = function setHTML(elm, html) {\n      var $elm = $$(elm);\n\n      if (isIE) {\n        $elm.each(function (i, target) {\n          if (target.canHaveHTML === false) {\n            return;\n          }\n\n          while (target.firstChild) {\n            target.removeChild(target.firstChild);\n          }\n\n          try {\n            target.innerHTML = '<br>' + html;\n            target.removeChild(target.firstChild);\n          } catch (ex) {\n            DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n          }\n\n          return html;\n        });\n      } else {\n        $elm.html(html);\n      }\n    };\n\n    var add = function add(parentElm, name, attrs, html, create) {\n      return run(parentElm, function (parentElm) {\n        var newElm = typeof name === 'string' ? doc.createElement(name) : name;\n        setAttribs(newElm, attrs);\n\n        if (html) {\n          if (typeof html !== 'string' && html.nodeType) {\n            newElm.appendChild(html);\n          } else if (typeof html === 'string') {\n            setHTML(newElm, html);\n          }\n        }\n\n        return !create ? parentElm.appendChild(newElm) : newElm;\n      });\n    };\n\n    var create = function create(name, attrs, html) {\n      return add(doc.createElement(name), name, attrs, html, true);\n    };\n\n    var decode = Entities.decode;\n    var encode = Entities.encodeAllRaw;\n\n    var createHTML = function createHTML(name, attrs, html) {\n      var outHtml = '',\n          key;\n      outHtml += '<' + name;\n\n      for (key in attrs) {\n        if (attrs.hasOwnProperty(key) && attrs[key] !== null && typeof attrs[key] !== 'undefined') {\n          outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n        }\n      }\n\n      if (typeof html !== 'undefined') {\n        return outHtml + '>' + html + '</' + name + '>';\n      }\n\n      return outHtml + ' />';\n    };\n\n    var createFragment = function createFragment(html) {\n      var node;\n      var container = doc.createElement('div');\n      var frag = doc.createDocumentFragment();\n\n      if (html) {\n        container.innerHTML = html;\n      }\n\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n\n      return frag;\n    };\n\n    var remove = function remove(node, keepChildren) {\n      var $node = $$(node);\n\n      if (keepChildren) {\n        $node.each(function () {\n          var child;\n\n          while (child = this.firstChild) {\n            if (child.nodeType === 3 && child.data.length === 0) {\n              this.removeChild(child);\n            } else {\n              this.parentNode.insertBefore(child, this);\n            }\n          }\n        }).remove();\n      } else {\n        $node.remove();\n      }\n\n      return $node.length > 1 ? $node.toArray() : $node[0];\n    };\n\n    var removeAllAttribs = function removeAllAttribs(e) {\n      return run(e, function (e) {\n        var i;\n        var attrs = e.attributes;\n\n        for (i = attrs.length - 1; i >= 0; i--) {\n          e.removeAttributeNode(attrs.item(i));\n        }\n      });\n    };\n\n    var parseStyle = function parseStyle(cssText) {\n      return styles.parse(cssText);\n    };\n\n    var serializeStyle = function serializeStyle(stylesArg, name) {\n      return styles.serialize(stylesArg, name);\n    };\n\n    var addStyle = function addStyle(cssText) {\n      var head, styleElm;\n\n      if (self !== DOMUtils.DOM && doc === domGlobals.document) {\n        if (addedStyles[cssText]) {\n          return;\n        }\n\n        addedStyles[cssText] = true;\n      }\n\n      styleElm = doc.getElementById('mceDefaultStyles');\n\n      if (!styleElm) {\n        styleElm = doc.createElement('style');\n        styleElm.id = 'mceDefaultStyles';\n        styleElm.type = 'text/css';\n        head = doc.getElementsByTagName('head')[0];\n\n        if (head.firstChild) {\n          head.insertBefore(styleElm, head.firstChild);\n        } else {\n          head.appendChild(styleElm);\n        }\n      }\n\n      if (styleElm.styleSheet) {\n        styleElm.styleSheet.cssText += cssText;\n      } else {\n        styleElm.appendChild(doc.createTextNode(cssText));\n      }\n    };\n\n    var loadCSS = function loadCSS(url) {\n      var head;\n\n      if (self !== DOMUtils.DOM && doc === domGlobals.document) {\n        DOMUtils.DOM.loadCSS(url);\n        return;\n      }\n\n      if (!url) {\n        url = '';\n      }\n\n      head = doc.getElementsByTagName('head')[0];\n      each$5(url.split(','), function (url) {\n        var link;\n        url = Tools._addCacheSuffix(url);\n\n        if (files[url]) {\n          return;\n        }\n\n        files[url] = true;\n        link = create('link', _assign({\n          rel: 'stylesheet',\n          type: 'text/css',\n          href: url\n        }, settings.contentCssCors ? {\n          crossOrigin: 'anonymous'\n        } : {}));\n        head.appendChild(link);\n      });\n    };\n\n    var toggleClass = function toggleClass(elm, cls, state) {\n      $$(elm).toggleClass(cls, state).each(function () {\n        if (this.className === '') {\n          DomQuery(this).attr('class', null);\n        }\n      });\n    };\n\n    var addClass = function addClass(elm, cls) {\n      $$(elm).addClass(cls);\n    };\n\n    var removeClass = function removeClass(elm, cls) {\n      toggleClass(elm, cls, false);\n    };\n\n    var hasClass = function hasClass(elm, cls) {\n      return $$(elm).hasClass(cls);\n    };\n\n    var show = function show(elm) {\n      $$(elm).show();\n    };\n\n    var hide = function hide(elm) {\n      $$(elm).hide();\n    };\n\n    var isHidden = function isHidden(elm) {\n      return $$(elm).css('display') === 'none';\n    };\n\n    var uniqueId = function uniqueId(prefix) {\n      return (!prefix ? 'mce_' : prefix) + counter++;\n    };\n\n    var getOuterHTML = function getOuterHTML(elm) {\n      var node = typeof elm === 'string' ? get(elm) : elm;\n      return NodeType.isElement(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n    };\n\n    var setOuterHTML = function setOuterHTML(elm, html) {\n      $$(elm).each(function () {\n        try {\n          if ('outerHTML' in this) {\n            this.outerHTML = html;\n            return;\n          }\n        } catch (ex) {}\n\n        remove(DomQuery(this).html(html), true);\n      });\n    };\n\n    var insertAfter = function insertAfter(node, reference) {\n      var referenceNode = get(reference);\n      return run(node, function (node) {\n        var parent, nextSibling;\n        parent = referenceNode.parentNode;\n        nextSibling = referenceNode.nextSibling;\n\n        if (nextSibling) {\n          parent.insertBefore(node, nextSibling);\n        } else {\n          parent.appendChild(node);\n        }\n\n        return node;\n      });\n    };\n\n    var replace = function replace(newElm, oldElm, keepChildren) {\n      return run(oldElm, function (oldElm) {\n        if (Tools.is(oldElm, 'array')) {\n          newElm = newElm.cloneNode(true);\n        }\n\n        if (keepChildren) {\n          each$5(grep$1(oldElm.childNodes), function (node) {\n            newElm.appendChild(node);\n          });\n        }\n\n        return oldElm.parentNode.replaceChild(newElm, oldElm);\n      });\n    };\n\n    var rename = function rename(elm, name) {\n      var newElm;\n\n      if (elm.nodeName !== name.toUpperCase()) {\n        newElm = create(name);\n        each$5(getAttribs(elm), function (attrNode) {\n          setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n        });\n        replace(newElm, elm, true);\n      }\n\n      return newElm || elm;\n    };\n\n    var findCommonAncestor = function findCommonAncestor(a, b) {\n      var ps = a,\n          pe;\n\n      while (ps) {\n        pe = b;\n\n        while (pe && ps !== pe) {\n          pe = pe.parentNode;\n        }\n\n        if (ps === pe) {\n          break;\n        }\n\n        ps = ps.parentNode;\n      }\n\n      if (!ps && a.ownerDocument) {\n        return a.ownerDocument.documentElement;\n      }\n\n      return ps;\n    };\n\n    var toHex = function toHex(rgbVal) {\n      return styles.toHex(Tools.trim(rgbVal));\n    };\n\n    var isEmpty = function isEmpty(node, elements) {\n      var i,\n          attributes,\n          type,\n          name,\n          brCount = 0;\n      node = node.firstChild;\n\n      if (node) {\n        var walker = new TreeWalker(node, node.parentNode);\n        var whitespace = schema ? schema.getWhiteSpaceElements() : {};\n        elements = elements || (schema ? schema.getNonEmptyElements() : null);\n\n        do {\n          type = node.nodeType;\n\n          if (NodeType.isElement(node)) {\n            var bogusVal = node.getAttribute('data-mce-bogus');\n\n            if (bogusVal) {\n              node = walker.next(bogusVal === 'all');\n              continue;\n            }\n\n            name = node.nodeName.toLowerCase();\n\n            if (elements && elements[name]) {\n              if (name === 'br') {\n                brCount++;\n                node = walker.next();\n                continue;\n              }\n\n              return false;\n            }\n\n            attributes = getAttribs(node);\n            i = attributes.length;\n\n            while (i--) {\n              name = attributes[i].nodeName;\n\n              if (name === 'name' || name === 'data-mce-bookmark') {\n                return false;\n              }\n            }\n          }\n\n          if (type === 8) {\n            return false;\n          }\n\n          if (type === 3 && !whiteSpaceRegExp$2.test(node.nodeValue)) {\n            return false;\n          }\n\n          if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && whiteSpaceRegExp$2.test(node.nodeValue)) {\n            return false;\n          }\n\n          node = walker.next();\n        } while (node);\n      }\n\n      return brCount <= 1;\n    };\n\n    var createRng = function createRng() {\n      return doc.createRange();\n    };\n\n    var split = function split(parentElm, splitElm, replacementElm) {\n      var r = createRng(),\n          bef,\n          aft,\n          pa;\n\n      if (parentElm && splitElm) {\n        r.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n        r.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n        bef = r.extractContents();\n        r = createRng();\n        r.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n        r.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n        aft = r.extractContents();\n        pa = parentElm.parentNode;\n        pa.insertBefore(TrimNode.trimNode(self, bef), parentElm);\n\n        if (replacementElm) {\n          pa.insertBefore(replacementElm, parentElm);\n        } else {\n          pa.insertBefore(splitElm, parentElm);\n        }\n\n        pa.insertBefore(TrimNode.trimNode(self, aft), parentElm);\n        remove(parentElm);\n        return replacementElm || splitElm;\n      }\n    };\n\n    var bind = function bind(target, name, func, scope) {\n      if (Tools.isArray(target)) {\n        var i = target.length;\n        var rv = [];\n\n        while (i--) {\n          rv[i] = bind(target[i], name, func, scope);\n        }\n\n        return rv;\n      }\n\n      if (settings.collect && (target === doc || target === win)) {\n        boundEvents.push([target, name, func, scope]);\n      }\n\n      return events.bind(target, name, func, scope || self);\n    };\n\n    var unbind = function unbind(target, name, func) {\n      var i;\n\n      if (Tools.isArray(target)) {\n        i = target.length;\n        var rv = [];\n\n        while (i--) {\n          rv[i] = unbind(target[i], name, func);\n        }\n\n        return rv;\n      }\n\n      if (boundEvents && (target === doc || target === win)) {\n        i = boundEvents.length;\n\n        while (i--) {\n          var item = boundEvents[i];\n\n          if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n      }\n\n      return events.unbind(target, name, func);\n    };\n\n    var fire = function fire(target, name, evt) {\n      return events.fire(target, name, evt);\n    };\n\n    var getContentEditable = function getContentEditable(node) {\n      if (node && NodeType.isElement(node)) {\n        var contentEditable = node.getAttribute('data-mce-contenteditable');\n\n        if (contentEditable && contentEditable !== 'inherit') {\n          return contentEditable;\n        }\n\n        return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n      } else {\n        return null;\n      }\n    };\n\n    var getContentEditableParent = function getContentEditableParent(node) {\n      var root = getRoot();\n      var state = null;\n\n      for (; node && node !== root; node = node.parentNode) {\n        state = getContentEditable(node);\n\n        if (state !== null) {\n          break;\n        }\n      }\n\n      return state;\n    };\n\n    var destroy = function destroy() {\n      if (boundEvents) {\n        var i = boundEvents.length;\n\n        while (i--) {\n          var item = boundEvents[i];\n          events.unbind(item[0], item[1], item[2]);\n        }\n      }\n\n      if (Sizzle.setDocument) {\n        Sizzle.setDocument();\n      }\n    };\n\n    var isChildOf = function isChildOf(node, parent) {\n      while (node) {\n        if (parent === node) {\n          return true;\n        }\n\n        node = node.parentNode;\n      }\n\n      return false;\n    };\n\n    var dumpRng = function dumpRng(r) {\n      return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n    };\n\n    var self = {\n      doc: doc,\n      settings: settings,\n      win: win,\n      files: files,\n      stdMode: stdMode,\n      boxModel: boxModel,\n      styleSheetLoader: styleSheetLoader,\n      boundEvents: boundEvents,\n      styles: styles,\n      schema: schema,\n      events: events,\n      isBlock: isBlock,\n      $: $,\n      $$: $$,\n      root: null,\n      clone: clone,\n      getRoot: getRoot,\n      getViewPort: getViewPort,\n      getRect: getRect,\n      getSize: getSize,\n      getParent: getParent,\n      getParents: getParents,\n      get: get,\n      getNext: getNext,\n      getPrev: getPrev,\n      select: select,\n      is: is,\n      add: add,\n      create: create,\n      createHTML: createHTML,\n      createFragment: createFragment,\n      remove: remove,\n      setStyle: setStyle,\n      getStyle: getStyle,\n      setStyles: setStyles,\n      removeAllAttribs: removeAllAttribs,\n      setAttrib: setAttrib,\n      setAttribs: setAttribs,\n      getAttrib: getAttrib,\n      getPos: getPos,\n      parseStyle: parseStyle,\n      serializeStyle: serializeStyle,\n      addStyle: addStyle,\n      loadCSS: loadCSS,\n      addClass: addClass,\n      removeClass: removeClass,\n      hasClass: hasClass,\n      toggleClass: toggleClass,\n      show: show,\n      hide: hide,\n      isHidden: isHidden,\n      uniqueId: uniqueId,\n      setHTML: setHTML,\n      getOuterHTML: getOuterHTML,\n      setOuterHTML: setOuterHTML,\n      decode: decode,\n      encode: encode,\n      insertAfter: insertAfter,\n      replace: replace,\n      rename: rename,\n      findCommonAncestor: findCommonAncestor,\n      toHex: toHex,\n      run: run,\n      getAttribs: getAttribs,\n      isEmpty: isEmpty,\n      createRng: createRng,\n      nodeIndex: findNodeIndex,\n      split: split,\n      bind: bind,\n      unbind: unbind,\n      fire: fire,\n      getContentEditable: getContentEditable,\n      getContentEditableParent: getContentEditableParent,\n      destroy: destroy,\n      isChildOf: isChildOf,\n      dumpRng: dumpRng\n    };\n    attrHooks = setupAttrHooks(styles, settings, function () {\n      return self;\n    });\n    return self;\n  }\n\n  (function (DOMUtils) {\n    DOMUtils.DOM = DOMUtils(domGlobals.document);\n    DOMUtils.nodeIndex = findNodeIndex;\n  })(DOMUtils || (DOMUtils = {}));\n\n  var DOMUtils$1 = DOMUtils;\n  var DOM = DOMUtils$1.DOM;\n  var each$6 = Tools.each,\n      grep$2 = Tools.grep;\n  var QUEUED = 0;\n  var LOADING = 1;\n  var LOADED = 2;\n  var FAILED = 3;\n\n  var ScriptLoader = function () {\n    function ScriptLoader() {\n      this.states = {};\n      this.queue = [];\n      this.scriptLoadedCallbacks = {};\n      this.queueLoadedCallbacks = [];\n      this.loading = 0;\n    }\n\n    ScriptLoader.prototype.loadScript = function (url, success, failure) {\n      var dom = DOM;\n      var elm, id;\n\n      var done = function done() {\n        dom.remove(id);\n\n        if (elm) {\n          elm.onreadystatechange = elm.onload = elm = null;\n        }\n\n        success();\n      };\n\n      var error = function error() {\n        if (isFunction(failure)) {\n          failure();\n        } else {\n          if (typeof domGlobals.console !== 'undefined' && domGlobals.console.log) {\n            domGlobals.console.log('Failed to load script: ' + url);\n          }\n        }\n      };\n\n      id = dom.uniqueId();\n      elm = domGlobals.document.createElement('script');\n      elm.id = id;\n      elm.type = 'text/javascript';\n      elm.src = Tools._addCacheSuffix(url);\n      elm.onload = done;\n      elm.onerror = error;\n      (domGlobals.document.getElementsByTagName('head')[0] || domGlobals.document.body).appendChild(elm);\n    };\n\n    ScriptLoader.prototype.isDone = function (url) {\n      return this.states[url] === LOADED;\n    };\n\n    ScriptLoader.prototype.markDone = function (url) {\n      this.states[url] = LOADED;\n    };\n\n    ScriptLoader.prototype.add = function (url, success, scope, failure) {\n      var state = this.states[url];\n\n      if (state === undefined) {\n        this.queue.push(url);\n        this.states[url] = QUEUED;\n      }\n\n      if (success) {\n        if (!this.scriptLoadedCallbacks[url]) {\n          this.scriptLoadedCallbacks[url] = [];\n        }\n\n        this.scriptLoadedCallbacks[url].push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n      }\n    };\n\n    ScriptLoader.prototype.load = function (url, success, scope, failure) {\n      return this.add(url, success, scope, failure);\n    };\n\n    ScriptLoader.prototype.remove = function (url) {\n      delete this.states[url];\n      delete this.scriptLoadedCallbacks[url];\n    };\n\n    ScriptLoader.prototype.loadQueue = function (success, scope, failure) {\n      this.loadScripts(this.queue, success, scope, failure);\n    };\n\n    ScriptLoader.prototype.loadScripts = function (scripts, success, scope, failure) {\n      var self = this;\n\n      var _loadScripts;\n\n      var failures = [];\n\n      var execCallbacks = function execCallbacks(name, url) {\n        each$6(self.scriptLoadedCallbacks[url], function (callback) {\n          if (isFunction(callback[name])) {\n            callback[name].call(callback.scope);\n          }\n        });\n        self.scriptLoadedCallbacks[url] = undefined;\n      };\n\n      self.queueLoadedCallbacks.push({\n        success: success,\n        failure: failure,\n        scope: scope || this\n      });\n\n      _loadScripts = function loadScripts() {\n        var loadingScripts = grep$2(scripts);\n        scripts.length = 0;\n        each$6(loadingScripts, function (url) {\n          if (self.states[url] === LOADED) {\n            execCallbacks('success', url);\n            return;\n          }\n\n          if (self.states[url] === FAILED) {\n            execCallbacks('failure', url);\n            return;\n          }\n\n          if (self.states[url] !== LOADING) {\n            self.states[url] = LOADING;\n            self.loading++;\n            self.loadScript(url, function () {\n              self.states[url] = LOADED;\n              self.loading--;\n              execCallbacks('success', url);\n\n              _loadScripts();\n            }, function () {\n              self.states[url] = FAILED;\n              self.loading--;\n              failures.push(url);\n              execCallbacks('failure', url);\n\n              _loadScripts();\n            });\n          }\n        });\n\n        if (!self.loading) {\n          var notifyCallbacks = self.queueLoadedCallbacks.slice(0);\n          self.queueLoadedCallbacks.length = 0;\n          each$6(notifyCallbacks, function (callback) {\n            if (failures.length === 0) {\n              if (isFunction(callback.success)) {\n                callback.success.call(callback.scope);\n              }\n            } else {\n              if (isFunction(callback.failure)) {\n                callback.failure.call(callback.scope, failures);\n              }\n            }\n          });\n        }\n      };\n\n      _loadScripts();\n    };\n\n    ScriptLoader.ScriptLoader = new ScriptLoader();\n    return ScriptLoader;\n  }();\n\n  var Cell = function Cell(initial) {\n    var value = initial;\n\n    var get = function get() {\n      return value;\n    };\n\n    var set = function set(v) {\n      value = v;\n    };\n\n    var clone = function clone() {\n      return Cell(get());\n    };\n\n    return {\n      get: get,\n      set: set,\n      clone: clone\n    };\n  };\n\n  var isRaw = function isRaw(str) {\n    return isObject(str) && has(str, 'raw');\n  };\n\n  var isTokenised = function isTokenised(str) {\n    return isArray(str) && str.length > 1;\n  };\n\n  var data = {};\n  var currentCode = Cell('en');\n\n  var getData = function getData() {\n    return map$2(data, function (value) {\n      return _assign({}, value);\n    });\n  };\n\n  var setCode = function setCode(newCode) {\n    if (newCode) {\n      currentCode.set(newCode);\n    }\n  };\n\n  var getCode = function getCode() {\n    return currentCode.get();\n  };\n\n  var add = function add(code, items) {\n    var langData = data[code];\n\n    if (!langData) {\n      data[code] = langData = {};\n    }\n\n    for (var name in items) {\n      langData[name.toLowerCase()] = items[name];\n    }\n  };\n\n  var translate = function translate(text) {\n    var langData = data[currentCode.get()] || {};\n\n    var toString = function toString(obj) {\n      if (isFunction(obj)) {\n        return Object.prototype.toString.call(obj);\n      }\n\n      return !isEmpty(obj) ? '' + obj : '';\n    };\n\n    var isEmpty = function isEmpty(text) {\n      return text === '' || text === null || text === undefined;\n    };\n\n    var getLangData = function getLangData(text) {\n      var textstr = toString(text);\n      var lowercaseTextstr = textstr.toLowerCase();\n      return has(langData, lowercaseTextstr) ? toString(langData[lowercaseTextstr]) : textstr;\n    };\n\n    var removeContext = function removeContext(str) {\n      return str.replace(/{context:\\w+}$/, '');\n    };\n\n    var translated = function translated(text) {\n      return text;\n    };\n\n    if (isEmpty(text)) {\n      return translated('');\n    }\n\n    if (isRaw(text)) {\n      return translated(toString(text.raw));\n    }\n\n    if (isTokenised(text)) {\n      var values_1 = text.slice(1);\n      var substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n        return has(values_1, $2) ? toString(values_1[$2]) : $1;\n      });\n      return translated(removeContext(substitued));\n    }\n\n    return translated(removeContext(getLangData(text)));\n  };\n\n  var isRtl = function isRtl() {\n    return get(data, currentCode.get()).bind(function (items) {\n      return get(items, '_dir');\n    }).exists(function (dir) {\n      return dir === 'rtl';\n    });\n  };\n\n  var hasCode = function hasCode(code) {\n    return has(data, code);\n  };\n\n  var I18n = {\n    getData: getData,\n    setCode: setCode,\n    getCode: getCode,\n    add: add,\n    translate: translate,\n    isRtl: isRtl,\n    hasCode: hasCode\n  };\n  var each$7 = Tools.each;\n\n  function AddOnManager() {\n    var _this = this;\n\n    var items = [];\n    var urls = {};\n    var lookup = {};\n    var _listeners = [];\n\n    var get = function get(name) {\n      if (lookup[name]) {\n        return lookup[name].instance;\n      }\n\n      return undefined;\n    };\n\n    var dependencies = function dependencies(name) {\n      var result;\n\n      if (lookup[name]) {\n        result = lookup[name].dependencies;\n      }\n\n      return result || [];\n    };\n\n    var requireLangPack = function requireLangPack(name, languages) {\n      var language = I18n.getCode();\n\n      if (language && AddOnManager.languageLoad !== false) {\n        if (languages) {\n          languages = ',' + languages + ',';\n\n          if (languages.indexOf(',' + language.substr(0, 2) + ',') !== -1) {\n            language = language.substr(0, 2);\n          } else if (languages.indexOf(',' + language + ',') === -1) {\n            return;\n          }\n        }\n\n        ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n      }\n    };\n\n    var add = function add(id, addOn, dependencies) {\n      items.push(addOn);\n      lookup[id] = {\n        instance: addOn,\n        dependencies: dependencies\n      };\n      var result = partition(_listeners, function (listener) {\n        return listener.name === id;\n      });\n      _listeners = result.fail;\n      each$7(result.pass, function (listener) {\n        listener.callback();\n      });\n      return addOn;\n    };\n\n    var remove = function remove(name) {\n      delete urls[name];\n      delete lookup[name];\n    };\n\n    var createUrl = function createUrl(baseUrl, dep) {\n      if (typeof dep === 'object') {\n        return dep;\n      }\n\n      return typeof baseUrl === 'string' ? {\n        prefix: '',\n        resource: dep,\n        suffix: ''\n      } : {\n        prefix: baseUrl.prefix,\n        resource: dep,\n        suffix: baseUrl.suffix\n      };\n    };\n\n    var addComponents = function addComponents(pluginName, scripts) {\n      var pluginUrl = _this.urls[pluginName];\n      each$7(scripts, function (script) {\n        ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n      });\n    };\n\n    var loadDependencies = function loadDependencies(name, addOnUrl, success, scope) {\n      var deps = dependencies(name);\n      each$7(deps, function (dep) {\n        var newUrl = createUrl(addOnUrl, dep);\n        load(newUrl.resource, newUrl, undefined, undefined);\n      });\n\n      if (success) {\n        if (scope) {\n          success.call(scope);\n        } else {\n          success.call(ScriptLoader);\n        }\n      }\n    };\n\n    var load = function load(name, addOnUrl, success, scope, failure) {\n      if (urls[name]) {\n        return;\n      }\n\n      var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n\n      if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n        urlString = AddOnManager.baseURL + '/' + urlString;\n      }\n\n      urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n\n      if (lookup[name]) {\n        loadDependencies(name, addOnUrl, success, scope);\n      } else {\n        ScriptLoader.ScriptLoader.add(urlString, function () {\n          return loadDependencies(name, addOnUrl, success, scope);\n        }, scope, failure);\n      }\n    };\n\n    var waitFor = function waitFor(name, callback) {\n      if (lookup.hasOwnProperty(name)) {\n        callback();\n      } else {\n        _listeners.push({\n          name: name,\n          callback: callback\n        });\n      }\n    };\n\n    return {\n      items: items,\n      urls: urls,\n      lookup: lookup,\n      _listeners: _listeners,\n      get: get,\n      dependencies: dependencies,\n      requireLangPack: requireLangPack,\n      add: add,\n      remove: remove,\n      createUrl: createUrl,\n      addComponents: addComponents,\n      load: load,\n      waitFor: waitFor\n    };\n  }\n\n  (function (AddOnManager) {\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n  })(AddOnManager || (AddOnManager = {}));\n\n  var AddOnManager$1 = AddOnManager;\n\n  var before = function before(marker, element) {\n    var parent$1 = parent(marker);\n    parent$1.each(function (v) {\n      v.dom().insertBefore(element.dom(), marker.dom());\n    });\n  };\n\n  var after = function after(marker, element) {\n    var sibling = nextSibling(marker);\n    sibling.fold(function () {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        append(v, element);\n      });\n    }, function (v) {\n      before(v, element);\n    });\n  };\n\n  var prepend = function prepend(parent, element) {\n    var firstChild$1 = firstChild(parent);\n    firstChild$1.fold(function () {\n      append(parent, element);\n    }, function (v) {\n      parent.dom().insertBefore(element.dom(), v.dom());\n    });\n  };\n\n  var append = function append(parent, element) {\n    parent.dom().appendChild(element.dom());\n  };\n\n  var wrap$1 = function wrap$1(element, wrapper) {\n    before(element, wrapper);\n    append(wrapper, element);\n  };\n\n  var before$1 = function before$1(marker, elements) {\n    each(elements, function (x) {\n      before(marker, x);\n    });\n  };\n\n  var append$1 = function append$1(parent, elements) {\n    each(elements, function (x) {\n      append(parent, x);\n    });\n  };\n\n  var empty = function empty(element) {\n    element.dom().textContent = '';\n    each(children(element), function (rogue) {\n      remove$1(rogue);\n    });\n  };\n\n  var remove$1 = function remove$1(element) {\n    var dom = element.dom();\n\n    if (dom.parentNode !== null) {\n      dom.parentNode.removeChild(dom);\n    }\n  };\n\n  var unwrap = function unwrap(wrapper) {\n    var children$1 = children(wrapper);\n\n    if (children$1.length > 0) {\n      before$1(wrapper, children$1);\n    }\n\n    remove$1(wrapper);\n  };\n\n  var first = function first(fn, rate) {\n    var timer = null;\n\n    var cancel = function cancel() {\n      if (timer !== null) {\n        domGlobals.clearTimeout(timer);\n        timer = null;\n      }\n    };\n\n    var throttle = function throttle() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      if (timer === null) {\n        timer = domGlobals.setTimeout(function () {\n          fn.apply(null, args);\n          timer = null;\n        }, rate);\n      }\n    };\n\n    return {\n      cancel: cancel,\n      throttle: throttle\n    };\n  };\n\n  var last$2 = function last$2(fn, rate) {\n    var timer = null;\n\n    var cancel = function cancel() {\n      if (timer !== null) {\n        domGlobals.clearTimeout(timer);\n        timer = null;\n      }\n    };\n\n    var throttle = function throttle() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      if (timer !== null) {\n        domGlobals.clearTimeout(timer);\n      }\n\n      timer = domGlobals.setTimeout(function () {\n        fn.apply(null, args);\n        timer = null;\n      }, rate);\n    };\n\n    return {\n      cancel: cancel,\n      throttle: throttle\n    };\n  };\n\n  var read = function read(element, attr) {\n    var value = get$1(element, attr);\n    return value === undefined || value === '' ? [] : value.split(' ');\n  };\n\n  var add$1 = function add$1(element, attr, id) {\n    var old = read(element, attr);\n    var nu = old.concat([id]);\n    set(element, attr, nu.join(' '));\n    return true;\n  };\n\n  var remove$2 = function remove$2(element, attr, id) {\n    var nu = filter(read(element, attr), function (v) {\n      return v !== id;\n    });\n\n    if (nu.length > 0) {\n      set(element, attr, nu.join(' '));\n    } else {\n      remove(element, attr);\n    }\n\n    return false;\n  };\n\n  var supports = function supports(element) {\n    return element.dom().classList !== undefined;\n  };\n\n  var get$3 = function get$3(element) {\n    return read(element, 'class');\n  };\n\n  var add$2 = function add$2(element, clazz) {\n    return add$1(element, 'class', clazz);\n  };\n\n  var remove$3 = function remove$3(element, clazz) {\n    return remove$2(element, 'class', clazz);\n  };\n\n  var add$3 = function add$3(element, clazz) {\n    if (supports(element)) {\n      element.dom().classList.add(clazz);\n    } else {\n      add$2(element, clazz);\n    }\n  };\n\n  var cleanClass = function cleanClass(element) {\n    var classList = supports(element) ? element.dom().classList : get$3(element);\n\n    if (classList.length === 0) {\n      remove(element, 'class');\n    }\n  };\n\n  var remove$4 = function remove$4(element, clazz) {\n    if (supports(element)) {\n      var classList = element.dom().classList;\n      classList.remove(clazz);\n    } else {\n      remove$3(element, clazz);\n    }\n\n    cleanClass(element);\n  };\n\n  var has$2 = function has$2(element, clazz) {\n    return supports(element) && element.dom().classList.contains(clazz);\n  };\n\n  var descendants = function descendants(scope, predicate) {\n    var result = [];\n    each(children(scope), function (x) {\n      if (predicate(x)) {\n        result = result.concat([x]);\n      }\n\n      result = result.concat(descendants(x, predicate));\n    });\n    return result;\n  };\n\n  var descendants$1 = function descendants$1(scope, selector) {\n    return all(selector, scope);\n  };\n\n  function ClosestOrAncestor(is, ancestor, scope, a, isRoot) {\n    return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n  }\n\n  var ancestor = function ancestor(scope, predicate, isRoot) {\n    var element = scope.dom();\n    var stop = isFunction(isRoot) ? isRoot : constant(false);\n\n    while (element.parentNode) {\n      element = element.parentNode;\n      var el = Element.fromDom(element);\n\n      if (predicate(el)) {\n        return Option.some(el);\n      } else if (stop(el)) {\n        break;\n      }\n    }\n\n    return Option.none();\n  };\n\n  var closest = function closest(scope, predicate, isRoot) {\n    var is = function is(s, test) {\n      return test(s);\n    };\n\n    return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n  };\n\n  var ancestor$1 = function ancestor$1(scope, selector, isRoot) {\n    return ancestor(scope, function (e) {\n      return is$1(e, selector);\n    }, isRoot);\n  };\n\n  var descendant = function descendant(scope, selector) {\n    return one(selector, scope);\n  };\n\n  var closest$1 = function closest$1(scope, selector, isRoot) {\n    return ClosestOrAncestor(is$1, ancestor$1, scope, selector, isRoot);\n  };\n\n  var annotation = constant('mce-annotation');\n  var dataAnnotation = constant('data-mce-annotation');\n  var dataAnnotationId = constant('data-mce-annotation-uid');\n\n  var identify = function identify(editor, annotationName) {\n    var rng = editor.selection.getRng();\n    var start = Element.fromDom(rng.startContainer);\n    var root = Element.fromDom(editor.getBody());\n    var selector = annotationName.fold(function () {\n      return '.' + annotation();\n    }, function (an) {\n      return '[' + dataAnnotation() + '=\"' + an + '\"]';\n    });\n    var newStart = child(start, rng.startOffset).getOr(start);\n    var closest = closest$1(newStart, selector, function (n) {\n      return eq(n, root);\n    });\n\n    var getAttr = function getAttr(c, property) {\n      if (has$1(c, property)) {\n        return Option.some(get$1(c, property));\n      } else {\n        return Option.none();\n      }\n    };\n\n    return closest.bind(function (c) {\n      return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n        return getAttr(c, '' + dataAnnotation()).map(function (name) {\n          var elements = findMarkers(editor, uid);\n          return {\n            uid: uid,\n            name: name,\n            elements: elements\n          };\n        });\n      });\n    });\n  };\n\n  var isAnnotation = function isAnnotation(elem) {\n    return isElement(elem) && has$2(elem, annotation());\n  };\n\n  var findMarkers = function findMarkers(editor, uid) {\n    var body = Element.fromDom(editor.getBody());\n    return descendants$1(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n  };\n\n  var findAll = function findAll(editor, name) {\n    var body = Element.fromDom(editor.getBody());\n    var markers = descendants$1(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n    var directory = {};\n    each(markers, function (m) {\n      var uid = get$1(m, dataAnnotationId());\n      var nodesAlready = directory.hasOwnProperty(uid) ? directory[uid] : [];\n      directory[uid] = nodesAlready.concat([m]);\n    });\n    return directory;\n  };\n\n  var setup = function setup(editor, registry) {\n    var changeCallbacks = Cell({});\n\n    var initData = function initData() {\n      return {\n        listeners: [],\n        previous: Cell(Option.none())\n      };\n    };\n\n    var withCallbacks = function withCallbacks(name, f) {\n      updateCallbacks(name, function (data) {\n        f(data);\n        return data;\n      });\n    };\n\n    var updateCallbacks = function updateCallbacks(name, f) {\n      var callbackMap = changeCallbacks.get();\n      var data = callbackMap.hasOwnProperty(name) ? callbackMap[name] : initData();\n      var outputData = f(data);\n      callbackMap[name] = outputData;\n      changeCallbacks.set(callbackMap);\n    };\n\n    var fireCallbacks = function fireCallbacks(name, uid, elements) {\n      withCallbacks(name, function (data) {\n        each(data.listeners, function (f) {\n          return f(true, name, {\n            uid: uid,\n            nodes: map(elements, function (elem) {\n              return elem.dom();\n            })\n          });\n        });\n      });\n    };\n\n    var fireNoAnnotation = function fireNoAnnotation(name) {\n      withCallbacks(name, function (data) {\n        each(data.listeners, function (f) {\n          return f(false, name);\n        });\n      });\n    };\n\n    var onNodeChange = last$2(function () {\n      var callbackMap = changeCallbacks.get();\n      var annotations = sort(keys(callbackMap));\n      each(annotations, function (name) {\n        updateCallbacks(name, function (data) {\n          var prev = data.previous.get();\n          identify(editor, Option.some(name)).fold(function () {\n            if (prev.isSome()) {\n              fireNoAnnotation(name);\n              data.previous.set(Option.none());\n            }\n          }, function (_a) {\n            var uid = _a.uid,\n                name = _a.name,\n                elements = _a.elements;\n\n            if (!prev.is(uid)) {\n              fireCallbacks(name, uid, elements);\n              data.previous.set(Option.some(uid));\n            }\n          });\n          return {\n            previous: data.previous,\n            listeners: data.listeners\n          };\n        });\n      });\n    }, 30);\n    editor.on('remove', function () {\n      onNodeChange.cancel();\n    });\n    editor.on('NodeChange', function () {\n      onNodeChange.throttle();\n    });\n\n    var addListener = function addListener(name, f) {\n      updateCallbacks(name, function (data) {\n        return {\n          previous: data.previous,\n          listeners: data.listeners.concat([f])\n        };\n      });\n    };\n\n    return {\n      addListener: addListener\n    };\n  };\n\n  var setup$1 = function setup$1(editor, registry) {\n    var identifyParserNode = function identifyParserNode(span) {\n      return Option.from(span.attr(dataAnnotation())).bind(registry.lookup);\n    };\n\n    editor.on('init', function () {\n      editor.serializer.addNodeFilter('span', function (spans) {\n        each(spans, function (span) {\n          identifyParserNode(span).each(function (settings) {\n            if (settings.persistent === false) {\n              span.unwrap();\n            }\n          });\n        });\n      });\n    });\n  };\n\n  var create$1 = function create$1() {\n    var annotations = {};\n\n    var register = function register(name, settings) {\n      annotations[name] = {\n        name: name,\n        settings: settings\n      };\n    };\n\n    var lookup = function lookup(name) {\n      return annotations.hasOwnProperty(name) ? Option.from(annotations[name]).map(function (a) {\n        return a.settings;\n      }) : Option.none();\n    };\n\n    return {\n      register: register,\n      lookup: lookup\n    };\n  };\n\n  var unique = 0;\n\n  var generate = function generate(prefix) {\n    var date = new Date();\n    var time = date.getTime();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n  };\n\n  var add$4 = function add$4(element, classes) {\n    each(classes, function (x) {\n      add$3(element, x);\n    });\n  };\n\n  var clone = function clone(original, isDeep) {\n    return Element.fromDom(original.dom().cloneNode(isDeep));\n  };\n\n  var shallow = function shallow(original) {\n    return clone(original, false);\n  };\n\n  var deep = function deep(original) {\n    return clone(original, true);\n  };\n\n  var fromHtml$1 = function fromHtml$1(html, scope) {\n    var doc = scope || domGlobals.document;\n    var div = doc.createElement('div');\n    div.innerHTML = html;\n    return children(Element.fromDom(div));\n  };\n\n  var get$4 = function get$4(element) {\n    return element.dom().innerHTML;\n  };\n\n  var set$1 = function set$1(element, content) {\n    var owner$1 = owner(element);\n    var docDom = owner$1.dom();\n    var fragment = Element.fromDom(docDom.createDocumentFragment());\n    var contentElements = fromHtml$1(content, docDom);\n    append$1(fragment, contentElements);\n    empty(element);\n    append(element, fragment);\n  };\n\n  var ZWSP = \"\\uFEFF\";\n\n  var isZwsp = function isZwsp(chr) {\n    return chr === ZWSP;\n  };\n\n  var trim$3 = function trim$3(text) {\n    return text.replace(new RegExp(ZWSP, 'g'), '');\n  };\n\n  var Zwsp = {\n    isZwsp: isZwsp,\n    ZWSP: ZWSP,\n    trim: trim$3\n  };\n  var isElement$2 = NodeType.isElement;\n  var isText$2 = NodeType.isText;\n\n  var isCaretContainerBlock = function isCaretContainerBlock(node) {\n    if (isText$2(node)) {\n      node = node.parentNode;\n    }\n\n    return isElement$2(node) && node.hasAttribute('data-mce-caret');\n  };\n\n  var isCaretContainerInline = function isCaretContainerInline(node) {\n    return isText$2(node) && Zwsp.isZwsp(node.data);\n  };\n\n  var isCaretContainer = function isCaretContainer(node) {\n    return isCaretContainerBlock(node) || isCaretContainerInline(node);\n  };\n\n  var hasContent = function hasContent(node) {\n    return node.firstChild !== node.lastChild || !NodeType.isBr(node.firstChild);\n  };\n\n  var insertInline = function insertInline(node, before) {\n    var doc, sibling, textNode, parentNode;\n    doc = node.ownerDocument;\n    textNode = doc.createTextNode(Zwsp.ZWSP);\n    parentNode = node.parentNode;\n\n    if (!before) {\n      sibling = node.nextSibling;\n\n      if (isText$2(sibling)) {\n        if (isCaretContainer(sibling)) {\n          return sibling;\n        }\n\n        if (startsWithCaretContainer(sibling)) {\n          sibling.splitText(1);\n          return sibling;\n        }\n      }\n\n      if (node.nextSibling) {\n        parentNode.insertBefore(textNode, node.nextSibling);\n      } else {\n        parentNode.appendChild(textNode);\n      }\n    } else {\n      sibling = node.previousSibling;\n\n      if (isText$2(sibling)) {\n        if (isCaretContainer(sibling)) {\n          return sibling;\n        }\n\n        if (endsWithCaretContainer(sibling)) {\n          return sibling.splitText(sibling.data.length - 1);\n        }\n      }\n\n      parentNode.insertBefore(textNode, node);\n    }\n\n    return textNode;\n  };\n\n  var isBeforeInline = function isBeforeInline(pos) {\n    var container = pos.container();\n\n    if (!pos || !NodeType.isText(container)) {\n      return false;\n    }\n\n    return container.data.charAt(pos.offset()) === Zwsp.ZWSP || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n  };\n\n  var isAfterInline = function isAfterInline(pos) {\n    var container = pos.container();\n\n    if (!pos || !NodeType.isText(container)) {\n      return false;\n    }\n\n    return container.data.charAt(pos.offset() - 1) === Zwsp.ZWSP || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n  };\n\n  var createBogusBr = function createBogusBr() {\n    var br = domGlobals.document.createElement('br');\n    br.setAttribute('data-mce-bogus', '1');\n    return br;\n  };\n\n  var insertBlock = function insertBlock(blockName, node, before) {\n    var doc, blockNode, parentNode;\n    doc = node.ownerDocument;\n    blockNode = doc.createElement(blockName);\n    blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n    blockNode.setAttribute('data-mce-bogus', 'all');\n    blockNode.appendChild(createBogusBr());\n    parentNode = node.parentNode;\n\n    if (!before) {\n      if (node.nextSibling) {\n        parentNode.insertBefore(blockNode, node.nextSibling);\n      } else {\n        parentNode.appendChild(blockNode);\n      }\n    } else {\n      parentNode.insertBefore(blockNode, node);\n    }\n\n    return blockNode;\n  };\n\n  var startsWithCaretContainer = function startsWithCaretContainer(node) {\n    return isText$2(node) && node.data[0] === Zwsp.ZWSP;\n  };\n\n  var endsWithCaretContainer = function endsWithCaretContainer(node) {\n    return isText$2(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\n  };\n\n  var trimBogusBr = function trimBogusBr(elm) {\n    var brs = elm.getElementsByTagName('br');\n    var lastBr = brs[brs.length - 1];\n\n    if (NodeType.isBogus(lastBr)) {\n      lastBr.parentNode.removeChild(lastBr);\n    }\n  };\n\n  var showCaretContainerBlock = function showCaretContainerBlock(caretContainer) {\n    if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n      trimBogusBr(caretContainer);\n      caretContainer.removeAttribute('data-mce-caret');\n      caretContainer.removeAttribute('data-mce-bogus');\n      caretContainer.removeAttribute('style');\n      caretContainer.removeAttribute('_moz_abspos');\n      return caretContainer;\n    }\n\n    return null;\n  };\n\n  var isRangeInCaretContainerBlock = function isRangeInCaretContainerBlock(range) {\n    return isCaretContainerBlock(range.startContainer);\n  };\n\n  var isContentEditableTrue$1 = NodeType.isContentEditableTrue;\n  var isContentEditableFalse$1 = NodeType.isContentEditableFalse;\n  var isBr$2 = NodeType.isBr;\n  var isText$3 = NodeType.isText;\n  var isInvalidTextElement = NodeType.matchNodeNames(['script', 'style', 'textarea']);\n  var isAtomicInline = NodeType.matchNodeNames(['img', 'input', 'textarea', 'hr', 'iframe', 'video', 'audio', 'object']);\n  var isTable$2 = NodeType.matchNodeNames(['table']);\n  var isCaretContainer$1 = isCaretContainer;\n\n  var isCaretCandidate = function isCaretCandidate(node) {\n    if (isCaretContainer$1(node)) {\n      return false;\n    }\n\n    if (isText$3(node)) {\n      if (isInvalidTextElement(node.parentNode)) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return isAtomicInline(node) || isBr$2(node) || isTable$2(node) || isNonUiContentEditableFalse(node);\n  };\n\n  var isUnselectable = function isUnselectable(node) {\n    return NodeType.isElement(node) && node.getAttribute('unselectable') === 'true';\n  };\n\n  var isNonUiContentEditableFalse = function isNonUiContentEditableFalse(node) {\n    return isUnselectable(node) === false && isContentEditableFalse$1(node);\n  };\n\n  var isInEditable = function isInEditable(node, root) {\n    for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n      if (isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n\n      if (isContentEditableTrue$1(node)) {\n        return true;\n      }\n    }\n\n    return true;\n  };\n\n  var isAtomicContentEditableFalse = function isAtomicContentEditableFalse(node) {\n    if (!isNonUiContentEditableFalse(node)) {\n      return false;\n    }\n\n    return foldl(from$1(node.getElementsByTagName('*')), function (result, elm) {\n      return result || isContentEditableTrue$1(elm);\n    }, false) !== true;\n  };\n\n  var isAtomic = function isAtomic(node) {\n    return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n  };\n\n  var isEditableCaretCandidate = function isEditableCaretCandidate(node, root) {\n    return isCaretCandidate(node) && isInEditable(node, root);\n  };\n\n  var round = Math.round;\n\n  var clone$1 = function clone$1(rect) {\n    if (!rect) {\n      return {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    return {\n      left: round(rect.left),\n      top: round(rect.top),\n      bottom: round(rect.bottom),\n      right: round(rect.right),\n      width: round(rect.width),\n      height: round(rect.height)\n    };\n  };\n\n  var collapse = function collapse(rect, toStart) {\n    rect = clone$1(rect);\n\n    if (toStart) {\n      rect.right = rect.left;\n    } else {\n      rect.left = rect.left + rect.width;\n      rect.right = rect.left;\n    }\n\n    rect.width = 0;\n    return rect;\n  };\n\n  var isEqual = function isEqual(rect1, rect2) {\n    return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n  };\n\n  var isValidOverflow = function isValidOverflow(overflowY, rect1, rect2) {\n    return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n  };\n\n  var isAbove = function isAbove(rect1, rect2) {\n    if (rect1.bottom - rect1.height / 2 < rect2.top) {\n      return true;\n    }\n\n    if (rect1.top > rect2.bottom) {\n      return false;\n    }\n\n    return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n  };\n\n  var isBelow = function isBelow(rect1, rect2) {\n    if (rect1.top > rect2.bottom) {\n      return true;\n    }\n\n    if (rect1.bottom < rect2.top) {\n      return false;\n    }\n\n    return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n  };\n\n  var containsXY = function containsXY(rect, clientX, clientY) {\n    return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n  };\n\n  var getSelectedNode = function getSelectedNode(range) {\n    var startContainer = range.startContainer,\n        startOffset = range.startOffset;\n\n    if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n      return startContainer.childNodes[startOffset];\n    }\n\n    return null;\n  };\n\n  var getNode = function getNode(container, offset) {\n    if (container.nodeType === 1 && container.hasChildNodes()) {\n      if (offset >= container.childNodes.length) {\n        offset = container.childNodes.length - 1;\n      }\n\n      container = container.childNodes[offset];\n    }\n\n    return container;\n  };\n\n  var extendingChars = new RegExp(\"[\\u0300-\\u036F\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\" + \"\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\" + \"\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E3-\\u0902\\u093A\\u093C\" + \"\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2-\\u09E3\" + \"\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\" + \"\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B57\" + \"\\u0B62-\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\" + \"\\u0C62-\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC-\\u0CCD\\u0CD5-\\u0CD6\\u0CE2-\\u0CE3\\u0D01\\u0D3E\\u0D41-\\u0D44\" + \"\\u0D4D\\u0D57\\u0D62-\\u0D63\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\" + \"\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\" + \"\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\" + \"\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\" + \"\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\" + \"\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1ABD\\u1ABE\\u1B00-\\u1B03\\u1B34\" + \"\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8-\\u1BE9\" + \"\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8-\\u1CF9\" + \"\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u200C-\\u200D\\u20D0-\\u20DC\\u20DD-\\u20E0\\u20E1\\u20E2-\\u20E4\\u20E5-\\u20F0\\u2CEF-\\u2CF1\" + \"\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u302E-\\u302F\\u3099-\\u309A\\uA66F\\uA670-\\uA672\\uA674-\\uA67D\\uA69E-\\uA69F\\uA6F0-\\uA6F1\" + \"\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\" + \"\\uA9E5\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\" + \"\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E-\\uFF9F]\");\n\n  var isExtendingChar = function isExtendingChar(ch) {\n    return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n  };\n\n  var liftN = function liftN(arr, f) {\n    var r = [];\n\n    for (var i = 0; i < arr.length; i++) {\n      var x = arr[i];\n\n      if (x.isSome()) {\n        r.push(x.getOrDie());\n      } else {\n        return Option.none();\n      }\n    }\n\n    return Option.some(f.apply(null, r));\n  };\n\n  var slice$3 = [].slice;\n\n  var or = function or() {\n    var x = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      x[_i] = arguments[_i];\n    }\n\n    var args = slice$3.call(arguments);\n    return function (x) {\n      for (var i = 0; i < args.length; i++) {\n        if (args[i](x)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  };\n\n  var and = function and() {\n    var x = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      x[_i] = arguments[_i];\n    }\n\n    var args = slice$3.call(arguments);\n    return function (x) {\n      for (var i = 0; i < args.length; i++) {\n        if (!args[i](x)) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n  };\n\n  var Predicate = {\n    and: and,\n    or: or\n  };\n  var isElement$3 = NodeType.isElement;\n  var isCaretCandidate$1 = isCaretCandidate;\n  var isBlock$1 = NodeType.matchStyleValues('display', 'block table');\n  var isFloated = NodeType.matchStyleValues('float', 'left right');\n  var isValidElementCaretCandidate = Predicate.and(isElement$3, isCaretCandidate$1, not(isFloated));\n  var isNotPre = not(NodeType.matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n  var isText$4 = NodeType.isText;\n  var isBr$3 = NodeType.isBr;\n  var nodeIndex = DOMUtils$1.nodeIndex;\n  var resolveIndex = getNode;\n\n  var createRange = function createRange(doc) {\n    return 'createRange' in doc ? doc.createRange() : DOMUtils$1.DOM.createRng();\n  };\n\n  var isWhiteSpace = function isWhiteSpace(chr) {\n    return chr && /[\\r\\n\\t ]/.test(chr);\n  };\n\n  var isRange = function isRange(rng) {\n    return !!rng.setStart && !!rng.setEnd;\n  };\n\n  var isHiddenWhiteSpaceRange = function isHiddenWhiteSpaceRange(range) {\n    var container = range.startContainer;\n    var offset = range.startOffset;\n    var text;\n\n    if (isWhiteSpace(range.toString()) && isNotPre(container.parentNode) && NodeType.isText(container)) {\n      text = container.data;\n\n      if (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var getBrClientRect = function getBrClientRect(brNode) {\n    var doc = brNode.ownerDocument;\n    var rng = createRange(doc);\n    var nbsp = doc.createTextNode('\\xA0');\n    var parentNode = brNode.parentNode;\n    var clientRect;\n    parentNode.insertBefore(nbsp, brNode);\n    rng.setStart(nbsp, 0);\n    rng.setEnd(nbsp, 1);\n    clientRect = clone$1(rng.getBoundingClientRect());\n    parentNode.removeChild(nbsp);\n    return clientRect;\n  };\n\n  var getBoundingClientRectWebKitText = function getBoundingClientRectWebKitText(rng) {\n    var sc = rng.startContainer;\n    var ec = rng.endContainer;\n    var so = rng.startOffset;\n    var eo = rng.endOffset;\n\n    if (sc === ec && NodeType.isText(ec) && so === 0 && eo === 1) {\n      var newRng = rng.cloneRange();\n      newRng.setEndAfter(ec);\n      return getBoundingClientRect(newRng);\n    } else {\n      return null;\n    }\n  };\n\n  var isZeroRect = function isZeroRect(r) {\n    return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n  };\n\n  var getBoundingClientRect = function getBoundingClientRect(item) {\n    var clientRect, clientRects;\n    clientRects = item.getClientRects();\n\n    if (clientRects.length > 0) {\n      clientRect = clone$1(clientRects[0]);\n    } else {\n      clientRect = clone$1(item.getBoundingClientRect());\n    }\n\n    if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n      return getBrClientRect(item);\n    }\n\n    if (isZeroRect(clientRect) && isRange(item)) {\n      return getBoundingClientRectWebKitText(item);\n    }\n\n    return clientRect;\n  };\n\n  var collapseAndInflateWidth = function collapseAndInflateWidth(clientRect, toStart) {\n    var newClientRect = collapse(clientRect, toStart);\n    newClientRect.width = 1;\n    newClientRect.right = newClientRect.left + 1;\n    return newClientRect;\n  };\n\n  var getCaretPositionClientRects = function getCaretPositionClientRects(caretPosition) {\n    var clientRects = [];\n    var beforeNode, node;\n\n    var addUniqueAndValidRect = function addUniqueAndValidRect(clientRect) {\n      if (clientRect.height === 0) {\n        return;\n      }\n\n      if (clientRects.length > 0) {\n        if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n          return;\n        }\n      }\n\n      clientRects.push(clientRect);\n    };\n\n    var addCharacterOffset = function addCharacterOffset(container, offset) {\n      var range = createRange(container.ownerDocument);\n\n      if (offset < container.data.length) {\n        if (isExtendingChar(container.data[offset])) {\n          return clientRects;\n        }\n\n        if (isExtendingChar(container.data[offset - 1])) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n            return clientRects;\n          }\n        }\n      }\n\n      if (offset > 0) {\n        range.setStart(container, offset - 1);\n        range.setEnd(container, offset);\n\n        if (!isHiddenWhiteSpaceRange(range)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n        }\n      }\n\n      if (offset < container.data.length) {\n        range.setStart(container, offset);\n        range.setEnd(container, offset + 1);\n\n        if (!isHiddenWhiteSpaceRange(range)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), true));\n        }\n      }\n    };\n\n    if (isText$4(caretPosition.container())) {\n      addCharacterOffset(caretPosition.container(), caretPosition.offset());\n      return clientRects;\n    }\n\n    if (isElement$3(caretPosition.container())) {\n      if (caretPosition.isAtEnd()) {\n        node = resolveIndex(caretPosition.container(), caretPosition.offset());\n\n        if (isText$4(node)) {\n          addCharacterOffset(node, node.data.length);\n        }\n\n        if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n        }\n      } else {\n        node = resolveIndex(caretPosition.container(), caretPosition.offset());\n\n        if (isText$4(node)) {\n          addCharacterOffset(node, 0);\n        }\n\n        if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n          return clientRects;\n        }\n\n        beforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);\n\n        if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n          if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));\n          }\n        }\n\n        if (isValidElementCaretCandidate(node)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));\n        }\n      }\n    }\n\n    return clientRects;\n  };\n\n  function CaretPosition(container, offset, clientRects) {\n    var isAtStart = function isAtStart() {\n      if (isText$4(container)) {\n        return offset === 0;\n      }\n\n      return offset === 0;\n    };\n\n    var isAtEnd = function isAtEnd() {\n      if (isText$4(container)) {\n        return offset >= container.data.length;\n      }\n\n      return offset >= container.childNodes.length;\n    };\n\n    var toRange = function toRange() {\n      var range;\n      range = createRange(container.ownerDocument);\n      range.setStart(container, offset);\n      range.setEnd(container, offset);\n      return range;\n    };\n\n    var getClientRects = function getClientRects() {\n      if (!clientRects) {\n        clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n      }\n\n      return clientRects;\n    };\n\n    var isVisible = function isVisible() {\n      return getClientRects().length > 0;\n    };\n\n    var isEqual = function isEqual(caretPosition) {\n      return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n    };\n\n    var getNode = function getNode(before) {\n      return resolveIndex(container, before ? offset - 1 : offset);\n    };\n\n    return {\n      container: constant(container),\n      offset: constant(offset),\n      toRange: toRange,\n      getClientRects: getClientRects,\n      isVisible: isVisible,\n      isAtStart: isAtStart,\n      isAtEnd: isAtEnd,\n      isEqual: isEqual,\n      getNode: getNode\n    };\n  }\n\n  (function (CaretPosition) {\n    CaretPosition.fromRangeStart = function (range) {\n      return CaretPosition(range.startContainer, range.startOffset);\n    };\n\n    CaretPosition.fromRangeEnd = function (range) {\n      return CaretPosition(range.endContainer, range.endOffset);\n    };\n\n    CaretPosition.after = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex(node) + 1);\n    };\n\n    CaretPosition.before = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex(node));\n    };\n\n    CaretPosition.isAbove = function (pos1, pos2) {\n      return liftN([head(pos2.getClientRects()), last(pos1.getClientRects())], isAbove).getOr(false);\n    };\n\n    CaretPosition.isBelow = function (pos1, pos2) {\n      return liftN([last(pos2.getClientRects()), head(pos1.getClientRects())], isBelow).getOr(false);\n    };\n\n    CaretPosition.isAtStart = function (pos) {\n      return pos ? pos.isAtStart() : false;\n    };\n\n    CaretPosition.isAtEnd = function (pos) {\n      return pos ? pos.isAtEnd() : false;\n    };\n\n    CaretPosition.isTextPosition = function (pos) {\n      return pos ? NodeType.isText(pos.container()) : false;\n    };\n\n    CaretPosition.isElementPosition = function (pos) {\n      return CaretPosition.isTextPosition(pos) === false;\n    };\n  })(CaretPosition || (CaretPosition = {}));\n\n  var CaretPosition$1 = CaretPosition;\n  var isText$5 = NodeType.isText;\n  var isBogus$1 = NodeType.isBogus;\n  var nodeIndex$1 = DOMUtils$1.nodeIndex;\n\n  var normalizedParent = function normalizedParent(node) {\n    var parentNode = node.parentNode;\n\n    if (isBogus$1(parentNode)) {\n      return normalizedParent(parentNode);\n    }\n\n    return parentNode;\n  };\n\n  var getChildNodes = function getChildNodes(node) {\n    if (!node) {\n      return [];\n    }\n\n    return ArrUtils.reduce(node.childNodes, function (result, node) {\n      if (isBogus$1(node) && node.nodeName !== 'BR') {\n        result = result.concat(getChildNodes(node));\n      } else {\n        result.push(node);\n      }\n\n      return result;\n    }, []);\n  };\n\n  var normalizedTextOffset = function normalizedTextOffset(node, offset) {\n    while (node = node.previousSibling) {\n      if (!isText$5(node)) {\n        break;\n      }\n\n      offset += node.data.length;\n    }\n\n    return offset;\n  };\n\n  var equal = function equal(a) {\n    return function (b) {\n      return a === b;\n    };\n  };\n\n  var normalizedNodeIndex = function normalizedNodeIndex(node) {\n    var nodes, index, numTextFragments;\n    nodes = getChildNodes(normalizedParent(node));\n    index = ArrUtils.findIndex(nodes, equal(node), node);\n    nodes = nodes.slice(0, index + 1);\n    numTextFragments = ArrUtils.reduce(nodes, function (result, node, i) {\n      if (isText$5(node) && isText$5(nodes[i - 1])) {\n        result++;\n      }\n\n      return result;\n    }, 0);\n    nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames([node.nodeName]));\n    index = ArrUtils.findIndex(nodes, equal(node), node);\n    return index - numTextFragments;\n  };\n\n  var createPathItem = function createPathItem(node) {\n    var name;\n\n    if (isText$5(node)) {\n      name = 'text()';\n    } else {\n      name = node.nodeName.toLowerCase();\n    }\n\n    return name + '[' + normalizedNodeIndex(node) + ']';\n  };\n\n  var parentsUntil = function parentsUntil(root, node, predicate) {\n    var parents = [];\n\n    for (node = node.parentNode; node !== root; node = node.parentNode) {\n      if (predicate && predicate(node)) {\n        break;\n      }\n\n      parents.push(node);\n    }\n\n    return parents;\n  };\n\n  var create$2 = function create$2(root, caretPosition) {\n    var container,\n        offset,\n        path = [],\n        outputOffset,\n        childNodes,\n        parents;\n    container = caretPosition.container();\n    offset = caretPosition.offset();\n\n    if (isText$5(container)) {\n      outputOffset = normalizedTextOffset(container, offset);\n    } else {\n      childNodes = container.childNodes;\n\n      if (offset >= childNodes.length) {\n        outputOffset = 'after';\n        offset = childNodes.length - 1;\n      } else {\n        outputOffset = 'before';\n      }\n\n      container = childNodes[offset];\n    }\n\n    path.push(createPathItem(container));\n    parents = parentsUntil(root, container);\n    parents = ArrUtils.filter(parents, not(NodeType.isBogus));\n    path = path.concat(ArrUtils.map(parents, function (node) {\n      return createPathItem(node);\n    }));\n    return path.reverse().join('/') + ',' + outputOffset;\n  };\n\n  var resolvePathItem = function resolvePathItem(node, name, index) {\n    var nodes = getChildNodes(node);\n    nodes = ArrUtils.filter(nodes, function (node, index) {\n      return !isText$5(node) || !isText$5(nodes[index - 1]);\n    });\n    nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames([name]));\n    return nodes[index];\n  };\n\n  var findTextPosition = function findTextPosition(container, offset) {\n    var node = container,\n        targetOffset = 0,\n        dataLen;\n\n    while (isText$5(node)) {\n      dataLen = node.data.length;\n\n      if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n        container = node;\n        offset = offset - targetOffset;\n        break;\n      }\n\n      if (!isText$5(node.nextSibling)) {\n        container = node;\n        offset = dataLen;\n        break;\n      }\n\n      targetOffset += dataLen;\n      node = node.nextSibling;\n    }\n\n    if (isText$5(container) && offset > container.data.length) {\n      offset = container.data.length;\n    }\n\n    return CaretPosition$1(container, offset);\n  };\n\n  var resolve$1 = function resolve$1(root, path) {\n    var parts, container, offset;\n\n    if (!path) {\n      return null;\n    }\n\n    parts = path.split(',');\n    path = parts[0].split('/');\n    offset = parts.length > 1 ? parts[1] : 'before';\n    container = ArrUtils.reduce(path, function (result, value) {\n      value = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n\n      if (!value) {\n        return null;\n      }\n\n      if (value[1] === 'text()') {\n        value[1] = '#text';\n      }\n\n      return resolvePathItem(result, value[1], parseInt(value[2], 10));\n    }, root);\n\n    if (!container) {\n      return null;\n    }\n\n    if (!isText$5(container)) {\n      if (offset === 'after') {\n        offset = nodeIndex$1(container) + 1;\n      } else {\n        offset = nodeIndex$1(container);\n      }\n\n      return CaretPosition$1(container.parentNode, offset);\n    }\n\n    return findTextPosition(container, parseInt(offset, 10));\n  };\n\n  var trimEmptyTextNode = function trimEmptyTextNode(dom, node) {\n    if (NodeType.isText(node) && node.data.length === 0) {\n      dom.remove(node);\n    }\n  };\n\n  var insertNode = function insertNode(dom, rng, node) {\n    rng.insertNode(node);\n    trimEmptyTextNode(dom, node.previousSibling);\n    trimEmptyTextNode(dom, node.nextSibling);\n  };\n\n  var insertFragment = function insertFragment(dom, rng, frag) {\n    var firstChild = Option.from(frag.firstChild);\n    var lastChild = Option.from(frag.lastChild);\n    rng.insertNode(frag);\n    firstChild.each(function (child) {\n      return trimEmptyTextNode(dom, child.previousSibling);\n    });\n    lastChild.each(function (child) {\n      return trimEmptyTextNode(dom, child.nextSibling);\n    });\n  };\n\n  var rangeInsertNode = function rangeInsertNode(dom, rng, node) {\n    if (NodeType.isDocumentFragment(node)) {\n      insertFragment(dom, rng, node);\n    } else {\n      insertNode(dom, rng, node);\n    }\n  };\n\n  var isContentEditableFalse$2 = NodeType.isContentEditableFalse;\n\n  var getNormalizedTextOffset = function getNormalizedTextOffset(trim, container, offset) {\n    var node, trimmedOffset;\n    trimmedOffset = trim(container.data.slice(0, offset)).length;\n\n    for (node = container.previousSibling; node && NodeType.isText(node); node = node.previousSibling) {\n      trimmedOffset += trim(node.data).length;\n    }\n\n    return trimmedOffset;\n  };\n\n  var getPoint = function getPoint(dom, trim, normalized, rng, start) {\n    var container = rng[start ? 'startContainer' : 'endContainer'];\n    var offset = rng[start ? 'startOffset' : 'endOffset'];\n    var point = [];\n    var childNodes,\n        after = 0;\n    var root = dom.getRoot();\n\n    if (NodeType.isText(container)) {\n      point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n    } else {\n      childNodes = container.childNodes;\n\n      if (offset >= childNodes.length && childNodes.length) {\n        after = 1;\n        offset = Math.max(0, childNodes.length - 1);\n      }\n\n      point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n    }\n\n    for (; container && container !== root; container = container.parentNode) {\n      point.push(dom.nodeIndex(container, normalized));\n    }\n\n    return point;\n  };\n\n  var getLocation = function getLocation(trim, selection, normalized, rng) {\n    var dom = selection.dom,\n        bookmark = {};\n    bookmark.start = getPoint(dom, trim, normalized, rng, true);\n\n    if (!selection.isCollapsed()) {\n      bookmark.end = getPoint(dom, trim, normalized, rng, false);\n    }\n\n    return bookmark;\n  };\n\n  var findIndex$2 = function findIndex$2(dom, name, element) {\n    var count = 0;\n    Tools.each(dom.select(name), function (node) {\n      if (node.getAttribute('data-mce-bogus') === 'all') {\n        return;\n      }\n\n      if (node === element) {\n        return false;\n      }\n\n      count++;\n    });\n    return count;\n  };\n\n  var moveEndPoint = function moveEndPoint(rng, start) {\n    var container, offset, childNodes;\n    var prefix = start ? 'start' : 'end';\n    container = rng[prefix + 'Container'];\n    offset = rng[prefix + 'Offset'];\n\n    if (NodeType.isElement(container) && container.nodeName === 'TR') {\n      childNodes = container.childNodes;\n      container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n\n      if (container) {\n        offset = start ? 0 : container.childNodes.length;\n        rng['set' + (start ? 'Start' : 'End')](container, offset);\n      }\n    }\n  };\n\n  var normalizeTableCellSelection = function normalizeTableCellSelection(rng) {\n    moveEndPoint(rng, true);\n    moveEndPoint(rng, false);\n    return rng;\n  };\n\n  var findSibling = function findSibling(node, offset) {\n    var sibling;\n\n    if (NodeType.isElement(node)) {\n      node = getNode(node, offset);\n\n      if (isContentEditableFalse$2(node)) {\n        return node;\n      }\n    }\n\n    if (isCaretContainer(node)) {\n      if (NodeType.isText(node) && isCaretContainerBlock(node)) {\n        node = node.parentNode;\n      }\n\n      sibling = node.previousSibling;\n\n      if (isContentEditableFalse$2(sibling)) {\n        return sibling;\n      }\n\n      sibling = node.nextSibling;\n\n      if (isContentEditableFalse$2(sibling)) {\n        return sibling;\n      }\n    }\n  };\n\n  var findAdjacentContentEditableFalseElm = function findAdjacentContentEditableFalseElm(rng) {\n    return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n  };\n\n  var getOffsetBookmark = function getOffsetBookmark(trim, normalized, selection) {\n    var element = selection.getNode();\n    var name = element ? element.nodeName : null;\n    var rng = selection.getRng();\n\n    if (isContentEditableFalse$2(element) || name === 'IMG') {\n      return {\n        name: name,\n        index: findIndex$2(selection.dom, name, element)\n      };\n    }\n\n    var sibling = findAdjacentContentEditableFalseElm(rng);\n\n    if (sibling) {\n      name = sibling.tagName;\n      return {\n        name: name,\n        index: findIndex$2(selection.dom, name, sibling)\n      };\n    }\n\n    return getLocation(trim, selection, normalized, rng);\n  };\n\n  var getCaretBookmark = function getCaretBookmark(selection) {\n    var rng = selection.getRng();\n    return {\n      start: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeStart(rng)),\n      end: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeEnd(rng))\n    };\n  };\n\n  var getRangeBookmark = function getRangeBookmark(selection) {\n    return {\n      rng: selection.getRng()\n    };\n  };\n\n  var createBookmarkSpan = function createBookmarkSpan(dom, id, filled) {\n    var args = {\n      'data-mce-type': 'bookmark',\n      'id': id,\n      'style': 'overflow:hidden;line-height:0px'\n    };\n    return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n  };\n\n  var getPersistentBookmark = function getPersistentBookmark(selection, filled) {\n    var dom = selection.dom;\n    var rng = selection.getRng();\n    var id = dom.uniqueId();\n    var collapsed = selection.isCollapsed();\n    var element = selection.getNode();\n    var name = element.nodeName;\n\n    if (name === 'IMG') {\n      return {\n        name: name,\n        index: findIndex$2(dom, name, element)\n      };\n    }\n\n    var rng2 = normalizeTableCellSelection(rng.cloneRange());\n\n    if (!collapsed) {\n      rng2.collapse(false);\n      var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n      rangeInsertNode(dom, rng2, endBookmarkNode);\n    }\n\n    rng = normalizeTableCellSelection(rng);\n    rng.collapse(true);\n    var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n    rangeInsertNode(dom, rng, startBookmarkNode);\n    selection.moveToBookmark({\n      id: id,\n      keep: 1\n    });\n    return {\n      id: id\n    };\n  };\n\n  var getBookmark = function getBookmark(selection, type, normalized) {\n    if (type === 2) {\n      return getOffsetBookmark(Zwsp.trim, normalized, selection);\n    } else if (type === 3) {\n      return getCaretBookmark(selection);\n    } else if (type) {\n      return getRangeBookmark(selection);\n    } else {\n      return getPersistentBookmark(selection, false);\n    }\n  };\n\n  var GetBookmark = {\n    getBookmark: getBookmark,\n    getUndoBookmark: curry(getOffsetBookmark, identity, true),\n    getPersistentBookmark: getPersistentBookmark\n  };\n  var CARET_ID = '_mce_caret';\n\n  var isCaretNode = function isCaretNode(node) {\n    return NodeType.isElement(node) && node.id === CARET_ID;\n  };\n\n  var getParentCaretContainer = function getParentCaretContainer(body, node) {\n    while (node && node !== body) {\n      if (node.id === CARET_ID) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var isElement$4 = NodeType.isElement;\n  var isText$6 = NodeType.isText;\n\n  var removeNode = function removeNode(node) {\n    var parentNode = node.parentNode;\n\n    if (parentNode) {\n      parentNode.removeChild(node);\n    }\n  };\n\n  var getNodeValue = function getNodeValue(node) {\n    try {\n      return node.nodeValue;\n    } catch (ex) {\n      return '';\n    }\n  };\n\n  var setNodeValue = function setNodeValue(node, text) {\n    if (text.length === 0) {\n      removeNode(node);\n    } else {\n      node.nodeValue = text;\n    }\n  };\n\n  var trimCount = function trimCount(text) {\n    var trimmedText = Zwsp.trim(text);\n    return {\n      count: text.length - trimmedText.length,\n      text: trimmedText\n    };\n  };\n\n  var removeUnchanged = function removeUnchanged(caretContainer, pos) {\n    remove$5(caretContainer);\n    return pos;\n  };\n\n  var removeTextAndReposition = function removeTextAndReposition(caretContainer, pos) {\n    var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n    var after = trimCount(caretContainer.data.substr(pos.offset()));\n    var text = before.text + after.text;\n\n    if (text.length > 0) {\n      setNodeValue(caretContainer, text);\n      return CaretPosition$1(caretContainer, pos.offset() - before.count);\n    } else {\n      return pos;\n    }\n  };\n\n  var removeElementAndReposition = function removeElementAndReposition(caretContainer, pos) {\n    var parentNode = pos.container();\n    var newPosition = indexOf(from$1(parentNode.childNodes), caretContainer).map(function (index) {\n      return index < pos.offset() ? CaretPosition$1(parentNode, pos.offset() - 1) : pos;\n    }).getOr(pos);\n    remove$5(caretContainer);\n    return newPosition;\n  };\n\n  var removeTextCaretContainer = function removeTextCaretContainer(caretContainer, pos) {\n    return isText$6(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n  };\n\n  var removeElementCaretContainer = function removeElementCaretContainer(caretContainer, pos) {\n    return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n  };\n\n  var removeAndReposition = function removeAndReposition(container, pos) {\n    return CaretPosition$1.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n  };\n\n  var remove$5 = function remove$5(caretContainerNode) {\n    if (isElement$4(caretContainerNode) && isCaretContainer(caretContainerNode)) {\n      if (hasContent(caretContainerNode)) {\n        caretContainerNode.removeAttribute('data-mce-caret');\n      } else {\n        removeNode(caretContainerNode);\n      }\n    }\n\n    if (isText$6(caretContainerNode)) {\n      var text = Zwsp.trim(getNodeValue(caretContainerNode));\n      setNodeValue(caretContainerNode, text);\n    }\n  };\n\n  var CaretContainerRemove = {\n    removeAndReposition: removeAndReposition,\n    remove: remove$5\n  };\n  var browser$2 = PlatformDetection$1.detect().browser;\n  var isContentEditableFalse$3 = NodeType.isContentEditableFalse;\n\n  var isTableCell$1 = function isTableCell$1(node) {\n    return NodeType.isElement(node) && /^(TD|TH)$/i.test(node.tagName);\n  };\n\n  var getAbsoluteClientRect = function getAbsoluteClientRect(root, element, before) {\n    var clientRect = collapse(element.getBoundingClientRect(), before);\n    var docElm, scrollX, scrollY, margin, rootRect;\n\n    if (root.tagName === 'BODY') {\n      docElm = root.ownerDocument.documentElement;\n      scrollX = root.scrollLeft || docElm.scrollLeft;\n      scrollY = root.scrollTop || docElm.scrollTop;\n    } else {\n      rootRect = root.getBoundingClientRect();\n      scrollX = root.scrollLeft - rootRect.left;\n      scrollY = root.scrollTop - rootRect.top;\n    }\n\n    clientRect.left += scrollX;\n    clientRect.right += scrollX;\n    clientRect.top += scrollY;\n    clientRect.bottom += scrollY;\n    clientRect.width = 1;\n    margin = element.offsetWidth - element.clientWidth;\n\n    if (margin > 0) {\n      if (before) {\n        margin *= -1;\n      }\n\n      clientRect.left += margin;\n      clientRect.right += margin;\n    }\n\n    return clientRect;\n  };\n\n  var trimInlineCaretContainers = function trimInlineCaretContainers(root) {\n    var contentEditableFalseNodes, node, sibling, i, data;\n    contentEditableFalseNodes = DomQuery('*[contentEditable=false]', root);\n\n    for (i = 0; i < contentEditableFalseNodes.length; i++) {\n      node = contentEditableFalseNodes[i];\n      sibling = node.previousSibling;\n\n      if (endsWithCaretContainer(sibling)) {\n        data = sibling.data;\n\n        if (data.length === 1) {\n          sibling.parentNode.removeChild(sibling);\n        } else {\n          sibling.deleteData(data.length - 1, 1);\n        }\n      }\n\n      sibling = node.nextSibling;\n\n      if (startsWithCaretContainer(sibling)) {\n        data = sibling.data;\n\n        if (data.length === 1) {\n          sibling.parentNode.removeChild(sibling);\n        } else {\n          sibling.deleteData(0, 1);\n        }\n      }\n    }\n  };\n\n  var FakeCaret = function FakeCaret(root, isBlock, hasFocus) {\n    var lastVisualCaret = Cell(Option.none());\n    var cursorInterval, caretContainerNode;\n\n    var show = function show(before, element) {\n      var clientRect, rng;\n      hide();\n\n      if (isTableCell$1(element)) {\n        return null;\n      }\n\n      if (isBlock(element)) {\n        caretContainerNode = insertBlock('p', element, before);\n        clientRect = getAbsoluteClientRect(root, element, before);\n        DomQuery(caretContainerNode).css('top', clientRect.top);\n        var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(clientRect).appendTo(root)[0];\n        lastVisualCaret.set(Option.some({\n          caret: caret,\n          element: element,\n          before: before\n        }));\n        lastVisualCaret.get().each(function (caretState) {\n          if (before) {\n            DomQuery(caretState.caret).addClass('mce-visual-caret-before');\n          }\n        });\n        startBlink();\n        rng = element.ownerDocument.createRange();\n        rng.setStart(caretContainerNode, 0);\n        rng.setEnd(caretContainerNode, 0);\n      } else {\n        caretContainerNode = insertInline(element, before);\n        rng = element.ownerDocument.createRange();\n\n        if (isContentEditableFalse$3(caretContainerNode.nextSibling)) {\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          rng.setStart(caretContainerNode, 1);\n          rng.setEnd(caretContainerNode, 1);\n        }\n\n        return rng;\n      }\n\n      return rng;\n    };\n\n    var hide = function hide() {\n      trimInlineCaretContainers(root);\n\n      if (caretContainerNode) {\n        CaretContainerRemove.remove(caretContainerNode);\n        caretContainerNode = null;\n      }\n\n      lastVisualCaret.get().each(function (caretState) {\n        DomQuery(caretState.caret).remove();\n        lastVisualCaret.set(Option.none());\n      });\n      Delay.clearInterval(cursorInterval);\n    };\n\n    var startBlink = function startBlink() {\n      cursorInterval = Delay.setInterval(function () {\n        if (hasFocus()) {\n          DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n        } else {\n          DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n        }\n      }, 500);\n    };\n\n    var reposition = function reposition() {\n      lastVisualCaret.get().each(function (caretState) {\n        var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n        DomQuery(caretState.caret).css(_assign({}, clientRect));\n      });\n    };\n\n    var destroy = function destroy() {\n      return Delay.clearInterval(cursorInterval);\n    };\n\n    var getCss = function getCss() {\n      return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n    };\n\n    return {\n      show: show,\n      hide: hide,\n      getCss: getCss,\n      reposition: reposition,\n      destroy: destroy\n    };\n  };\n\n  var isFakeCaretTableBrowser = function isFakeCaretTableBrowser() {\n    return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\n  };\n\n  var isFakeCaretTarget = function isFakeCaretTarget(node) {\n    return isContentEditableFalse$3(node) || NodeType.isTable(node) && isFakeCaretTableBrowser();\n  };\n\n  var isContentEditableFalse$4 = NodeType.isContentEditableFalse;\n  var isBlockLike = NodeType.matchStyleValues('display', 'block table table-cell table-caption list-item');\n  var isCaretContainer$2 = isCaretContainer;\n  var isCaretContainerBlock$1 = isCaretContainerBlock;\n  var isElement$5 = NodeType.isElement;\n  var isCaretCandidate$2 = isCaretCandidate;\n\n  var isForwards = function isForwards(direction) {\n    return direction > 0;\n  };\n\n  var isBackwards = function isBackwards(direction) {\n    return direction < 0;\n  };\n\n  var skipCaretContainers = function skipCaretContainers(walk, shallow) {\n    var node;\n\n    while (node = walk(shallow)) {\n      if (!isCaretContainerBlock$1(node)) {\n        return node;\n      }\n    }\n\n    return null;\n  };\n\n  var findNode = function findNode(node, direction, predicateFn, rootNode, shallow) {\n    var walker = new TreeWalker(node, rootNode);\n\n    if (isBackwards(direction)) {\n      if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\n        node = skipCaretContainers(walker.prev, true);\n\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n\n      while (node = skipCaretContainers(walker.prev, shallow)) {\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n    }\n\n    if (isForwards(direction)) {\n      if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\n        node = skipCaretContainers(walker.next, true);\n\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n\n      while (node = skipCaretContainers(walker.next, shallow)) {\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  var getParentBlock = function getParentBlock(node, rootNode) {\n    while (node && node !== rootNode) {\n      if (isBlockLike(node)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var isInSameBlock = function isInSameBlock(caretPosition1, caretPosition2, rootNode) {\n    return getParentBlock(caretPosition1.container(), rootNode) === getParentBlock(caretPosition2.container(), rootNode);\n  };\n\n  var getChildNodeAtRelativeOffset = function getChildNodeAtRelativeOffset(relativeOffset, caretPosition) {\n    var container, offset;\n\n    if (!caretPosition) {\n      return null;\n    }\n\n    container = caretPosition.container();\n    offset = caretPosition.offset();\n\n    if (!isElement$5(container)) {\n      return null;\n    }\n\n    return container.childNodes[offset + relativeOffset];\n  };\n\n  var beforeAfter = function beforeAfter(before, node) {\n    var range = node.ownerDocument.createRange();\n\n    if (before) {\n      range.setStartBefore(node);\n      range.setEndBefore(node);\n    } else {\n      range.setStartAfter(node);\n      range.setEndAfter(node);\n    }\n\n    return range;\n  };\n\n  var isNodesInSameBlock = function isNodesInSameBlock(root, node1, node2) {\n    return getParentBlock(node1, root) === getParentBlock(node2, root);\n  };\n\n  var lean = function lean(left, root, node) {\n    var sibling, siblingName;\n\n    if (left) {\n      siblingName = 'previousSibling';\n    } else {\n      siblingName = 'nextSibling';\n    }\n\n    while (node && node !== root) {\n      sibling = node[siblingName];\n\n      if (isCaretContainer$2(sibling)) {\n        sibling = sibling[siblingName];\n      }\n\n      if (isContentEditableFalse$4(sibling)) {\n        if (isNodesInSameBlock(root, sibling, node)) {\n          return sibling;\n        }\n\n        break;\n      }\n\n      if (isCaretCandidate$2(sibling)) {\n        break;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var before$2 = curry(beforeAfter, true);\n  var after$1 = curry(beforeAfter, false);\n\n  var normalizeRange = function normalizeRange(direction, root, range) {\n    var node, container, offset, location;\n    var leanLeft = curry(lean, true, root);\n    var leanRight = curry(lean, false, root);\n    container = range.startContainer;\n    offset = range.startOffset;\n\n    if (isCaretContainerBlock(container)) {\n      if (!isElement$5(container)) {\n        container = container.parentNode;\n      }\n\n      location = container.getAttribute('data-mce-caret');\n\n      if (location === 'before') {\n        node = container.nextSibling;\n\n        if (isFakeCaretTarget(node)) {\n          return before$2(node);\n        }\n      }\n\n      if (location === 'after') {\n        node = container.previousSibling;\n\n        if (isFakeCaretTarget(node)) {\n          return after$1(node);\n        }\n      }\n    }\n\n    if (!range.collapsed) {\n      return range;\n    }\n\n    if (NodeType.isText(container)) {\n      if (isCaretContainer$2(container)) {\n        if (direction === 1) {\n          node = leanRight(container);\n\n          if (node) {\n            return before$2(node);\n          }\n\n          node = leanLeft(container);\n\n          if (node) {\n            return after$1(node);\n          }\n        }\n\n        if (direction === -1) {\n          node = leanLeft(container);\n\n          if (node) {\n            return after$1(node);\n          }\n\n          node = leanRight(container);\n\n          if (node) {\n            return before$2(node);\n          }\n        }\n\n        return range;\n      }\n\n      if (endsWithCaretContainer(container) && offset >= container.data.length - 1) {\n        if (direction === 1) {\n          node = leanRight(container);\n\n          if (node) {\n            return before$2(node);\n          }\n        }\n\n        return range;\n      }\n\n      if (startsWithCaretContainer(container) && offset <= 1) {\n        if (direction === -1) {\n          node = leanLeft(container);\n\n          if (node) {\n            return after$1(node);\n          }\n        }\n\n        return range;\n      }\n\n      if (offset === container.data.length) {\n        node = leanRight(container);\n\n        if (node) {\n          return before$2(node);\n        }\n\n        return range;\n      }\n\n      if (offset === 0) {\n        node = leanLeft(container);\n\n        if (node) {\n          return after$1(node);\n        }\n\n        return range;\n      }\n    }\n\n    return range;\n  };\n\n  var getRelativeCefElm = function getRelativeCefElm(forward, caretPosition) {\n    return Option.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$4);\n  };\n\n  var getNormalizedRangeEndPoint = function getNormalizedRangeEndPoint(direction, root, range) {\n    var normalizedRange = normalizeRange(direction, root, range);\n\n    if (direction === -1) {\n      return CaretPosition.fromRangeStart(normalizedRange);\n    }\n\n    return CaretPosition.fromRangeEnd(normalizedRange);\n  };\n\n  var getElementFromPosition = function getElementFromPosition(pos) {\n    return Option.from(pos.getNode()).map(Element.fromDom);\n  };\n\n  var getElementFromPrevPosition = function getElementFromPrevPosition(pos) {\n    return Option.from(pos.getNode(true)).map(Element.fromDom);\n  };\n\n  var getVisualCaretPosition = function getVisualCaretPosition(walkFn, caretPosition) {\n    while (caretPosition = walkFn(caretPosition)) {\n      if (caretPosition.isVisible()) {\n        return caretPosition;\n      }\n    }\n\n    return caretPosition;\n  };\n\n  var isMoveInsideSameBlock = function isMoveInsideSameBlock(from, to) {\n    var inSameBlock = isInSameBlock(from, to);\n\n    if (!inSameBlock && NodeType.isBr(from.getNode())) {\n      return true;\n    }\n\n    return inSameBlock;\n  };\n\n  var HDirection;\n\n  (function (HDirection) {\n    HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n    HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n  })(HDirection || (HDirection = {}));\n\n  var isContentEditableFalse$5 = NodeType.isContentEditableFalse;\n  var isText$7 = NodeType.isText;\n  var isElement$6 = NodeType.isElement;\n  var isBr$4 = NodeType.isBr;\n  var isCaretCandidate$3 = isCaretCandidate;\n  var isAtomic$1 = isAtomic;\n  var isEditableCaretCandidate$1 = isEditableCaretCandidate;\n\n  var getParents = function getParents(node, root) {\n    var parents = [];\n\n    while (node && node !== root) {\n      parents.push(node);\n      node = node.parentNode;\n    }\n\n    return parents;\n  };\n\n  var nodeAtIndex = function nodeAtIndex(container, offset) {\n    if (container.hasChildNodes() && offset < container.childNodes.length) {\n      return container.childNodes[offset];\n    }\n\n    return null;\n  };\n\n  var getCaretCandidatePosition = function getCaretCandidatePosition(direction, node) {\n    if (isForwards(direction)) {\n      if (isCaretCandidate$3(node.previousSibling) && !isText$7(node.previousSibling)) {\n        return CaretPosition$1.before(node);\n      }\n\n      if (isText$7(node)) {\n        return CaretPosition$1(node, 0);\n      }\n    }\n\n    if (isBackwards(direction)) {\n      if (isCaretCandidate$3(node.nextSibling) && !isText$7(node.nextSibling)) {\n        return CaretPosition$1.after(node);\n      }\n\n      if (isText$7(node)) {\n        return CaretPosition$1(node, node.data.length);\n      }\n    }\n\n    if (isBackwards(direction)) {\n      if (isBr$4(node)) {\n        return CaretPosition$1.before(node);\n      }\n\n      return CaretPosition$1.after(node);\n    }\n\n    return CaretPosition$1.before(node);\n  };\n\n  var moveForwardFromBr = function moveForwardFromBr(root, nextNode) {\n    var nextSibling = nextNode.nextSibling;\n\n    if (nextSibling && isCaretCandidate$3(nextSibling)) {\n      if (isText$7(nextSibling)) {\n        return CaretPosition$1(nextSibling, 0);\n      } else {\n        return CaretPosition$1.before(nextSibling);\n      }\n    } else {\n      return findCaretPosition(HDirection.Forwards, CaretPosition$1.after(nextNode), root);\n    }\n  };\n\n  var findCaretPosition = function findCaretPosition(direction, startPos, root) {\n    var node, nextNode, innerNode;\n    var rootContentEditableFalseElm, caretPosition;\n\n    if (!isElement$6(root) || !startPos) {\n      return null;\n    }\n\n    if (startPos.isEqual(CaretPosition$1.after(root)) && root.lastChild) {\n      caretPosition = CaretPosition$1.after(root.lastChild);\n\n      if (isBackwards(direction) && isCaretCandidate$3(root.lastChild) && isElement$6(root.lastChild)) {\n        return isBr$4(root.lastChild) ? CaretPosition$1.before(root.lastChild) : caretPosition;\n      }\n    } else {\n      caretPosition = startPos;\n    }\n\n    var container = caretPosition.container();\n    var offset = caretPosition.offset();\n\n    if (isText$7(container)) {\n      if (isBackwards(direction) && offset > 0) {\n        return CaretPosition$1(container, --offset);\n      }\n\n      if (isForwards(direction) && offset < container.length) {\n        return CaretPosition$1(container, ++offset);\n      }\n\n      node = container;\n    } else {\n      if (isBackwards(direction) && offset > 0) {\n        nextNode = nodeAtIndex(container, offset - 1);\n\n        if (isCaretCandidate$3(nextNode)) {\n          if (!isAtomic$1(nextNode)) {\n            innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n\n            if (innerNode) {\n              if (isText$7(innerNode)) {\n                return CaretPosition$1(innerNode, innerNode.data.length);\n              }\n\n              return CaretPosition$1.after(innerNode);\n            }\n          }\n\n          if (isText$7(nextNode)) {\n            return CaretPosition$1(nextNode, nextNode.data.length);\n          }\n\n          return CaretPosition$1.before(nextNode);\n        }\n      }\n\n      if (isForwards(direction) && offset < container.childNodes.length) {\n        nextNode = nodeAtIndex(container, offset);\n\n        if (isCaretCandidate$3(nextNode)) {\n          if (isBr$4(nextNode)) {\n            return moveForwardFromBr(root, nextNode);\n          }\n\n          if (!isAtomic$1(nextNode)) {\n            innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n\n            if (innerNode) {\n              if (isText$7(innerNode)) {\n                return CaretPosition$1(innerNode, 0);\n              }\n\n              return CaretPosition$1.before(innerNode);\n            }\n          }\n\n          if (isText$7(nextNode)) {\n            return CaretPosition$1(nextNode, 0);\n          }\n\n          return CaretPosition$1.after(nextNode);\n        }\n      }\n\n      node = nextNode ? nextNode : caretPosition.getNode();\n    }\n\n    if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n      node = findNode(node, direction, constant(true), root, true);\n\n      if (isEditableCaretCandidate$1(node, root)) {\n        return getCaretCandidatePosition(direction, node);\n      }\n    }\n\n    nextNode = findNode(node, direction, isEditableCaretCandidate$1, root);\n    rootContentEditableFalseElm = ArrUtils.last(filter(getParents(container, root), isContentEditableFalse$5));\n\n    if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n      if (isForwards(direction)) {\n        caretPosition = CaretPosition$1.after(rootContentEditableFalseElm);\n      } else {\n        caretPosition = CaretPosition$1.before(rootContentEditableFalseElm);\n      }\n\n      return caretPosition;\n    }\n\n    if (nextNode) {\n      return getCaretCandidatePosition(direction, nextNode);\n    }\n\n    return null;\n  };\n\n  var CaretWalker = function CaretWalker(root) {\n    return {\n      next: function next(caretPosition) {\n        return findCaretPosition(HDirection.Forwards, caretPosition, root);\n      },\n      prev: function prev(caretPosition) {\n        return findCaretPosition(HDirection.Backwards, caretPosition, root);\n      }\n    };\n  };\n\n  var walkToPositionIn = function walkToPositionIn(forward, root, start) {\n    var position = forward ? CaretPosition$1.before(start) : CaretPosition$1.after(start);\n    return fromPosition(forward, root, position);\n  };\n\n  var afterElement = function afterElement(node) {\n    return NodeType.isBr(node) ? CaretPosition$1.before(node) : CaretPosition$1.after(node);\n  };\n\n  var isBeforeOrStart = function isBeforeOrStart(position) {\n    if (CaretPosition$1.isTextPosition(position)) {\n      return position.offset() === 0;\n    } else {\n      return isCaretCandidate(position.getNode());\n    }\n  };\n\n  var isAfterOrEnd = function isAfterOrEnd(position) {\n    if (CaretPosition$1.isTextPosition(position)) {\n      var container = position.container();\n      return position.offset() === container.data.length;\n    } else {\n      return isCaretCandidate(position.getNode(true));\n    }\n  };\n\n  var isBeforeAfterSameElement = function isBeforeAfterSameElement(from, to) {\n    return !CaretPosition$1.isTextPosition(from) && !CaretPosition$1.isTextPosition(to) && from.getNode() === to.getNode(true);\n  };\n\n  var isAtBr = function isAtBr(position) {\n    return !CaretPosition$1.isTextPosition(position) && NodeType.isBr(position.getNode());\n  };\n\n  var shouldSkipPosition = function shouldSkipPosition(forward, from, to) {\n    if (forward) {\n      return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n    } else {\n      return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n    }\n  };\n\n  var fromPosition = function fromPosition(forward, root, pos) {\n    var walker = CaretWalker(root);\n    return Option.from(forward ? walker.next(pos) : walker.prev(pos));\n  };\n\n  var navigate = function navigate(forward, root, from) {\n    return fromPosition(forward, root, from).bind(function (to) {\n      if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n        return fromPosition(forward, root, to);\n      } else {\n        return Option.some(to);\n      }\n    });\n  };\n\n  var navigateIgnore = function navigateIgnore(forward, root, from, ignoreFilter) {\n    return navigate(forward, root, from).bind(function (pos) {\n      return ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Option.some(pos);\n    });\n  };\n\n  var positionIn = function positionIn(forward, element) {\n    var startNode = forward ? element.firstChild : element.lastChild;\n\n    if (NodeType.isText(startNode)) {\n      return Option.some(CaretPosition$1(startNode, forward ? 0 : startNode.data.length));\n    } else if (startNode) {\n      if (isCaretCandidate(startNode)) {\n        return Option.some(forward ? CaretPosition$1.before(startNode) : afterElement(startNode));\n      } else {\n        return walkToPositionIn(forward, element, startNode);\n      }\n    } else {\n      return Option.none();\n    }\n  };\n\n  var nextPosition = curry(fromPosition, true);\n  var prevPosition = curry(fromPosition, false);\n  var CaretFinder = {\n    fromPosition: fromPosition,\n    nextPosition: nextPosition,\n    prevPosition: prevPosition,\n    navigate: navigate,\n    navigateIgnore: navigateIgnore,\n    positionIn: positionIn,\n    firstPositionIn: curry(positionIn, true),\n    lastPositionIn: curry(positionIn, false)\n  };\n\n  var isStringPathBookmark = function isStringPathBookmark(bookmark) {\n    return typeof bookmark.start === 'string';\n  };\n\n  var isRangeBookmark = function isRangeBookmark(bookmark) {\n    return bookmark.hasOwnProperty('rng');\n  };\n\n  var isIdBookmark = function isIdBookmark(bookmark) {\n    return bookmark.hasOwnProperty('id');\n  };\n\n  var isIndexBookmark = function isIndexBookmark(bookmark) {\n    return bookmark.hasOwnProperty('name');\n  };\n\n  var isPathBookmark = function isPathBookmark(bookmark) {\n    return Tools.isArray(bookmark.start);\n  };\n\n  var addBogus = function addBogus(dom, node) {\n    if (dom.isBlock(node) && !node.innerHTML && !Env.ie) {\n      node.innerHTML = '<br data-mce-bogus=\"1\" />';\n    }\n\n    return node;\n  };\n\n  var resolveCaretPositionBookmark = function resolveCaretPositionBookmark(dom, bookmark) {\n    var rng, pos;\n    rng = dom.createRng();\n    pos = resolve$1(dom.getRoot(), bookmark.start);\n    rng.setStart(pos.container(), pos.offset());\n    pos = resolve$1(dom.getRoot(), bookmark.end);\n    rng.setEnd(pos.container(), pos.offset());\n    return rng;\n  };\n\n  var insertZwsp = function insertZwsp(node, rng) {\n    var textNode = node.ownerDocument.createTextNode(Zwsp.ZWSP);\n    node.appendChild(textNode);\n    rng.setStart(textNode, 0);\n    rng.setEnd(textNode, 0);\n  };\n\n  var isEmpty = function isEmpty(node) {\n    return node.hasChildNodes() === false;\n  };\n\n  var tryFindRangePosition = function tryFindRangePosition(node, rng) {\n    return CaretFinder.lastPositionIn(node).fold(function () {\n      return false;\n    }, function (pos) {\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      return true;\n    });\n  };\n\n  var padEmptyCaretContainer = function padEmptyCaretContainer(root, node, rng) {\n    if (isEmpty(node) && getParentCaretContainer(root, node)) {\n      insertZwsp(node, rng);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var setEndPoint = function setEndPoint(dom, start, bookmark, rng) {\n    var point = bookmark[start ? 'start' : 'end'];\n    var i, node, offset, children;\n    var root = dom.getRoot();\n\n    if (point) {\n      offset = point[0];\n\n      for (node = root, i = point.length - 1; i >= 1; i--) {\n        children = node.childNodes;\n\n        if (padEmptyCaretContainer(root, node, rng)) {\n          return true;\n        }\n\n        if (point[i] > children.length - 1) {\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n\n          return tryFindRangePosition(node, rng);\n        }\n\n        node = children[point[i]];\n      }\n\n      if (node.nodeType === 3) {\n        offset = Math.min(point[0], node.nodeValue.length);\n      }\n\n      if (node.nodeType === 1) {\n        offset = Math.min(point[0], node.childNodes.length);\n      }\n\n      if (start) {\n        rng.setStart(node, offset);\n      } else {\n        rng.setEnd(node, offset);\n      }\n    }\n\n    return true;\n  };\n\n  var isValidTextNode = function isValidTextNode(node) {\n    return NodeType.isText(node) && node.data.length > 0;\n  };\n\n  var restoreEndPoint = function restoreEndPoint(dom, suffix, bookmark) {\n    var marker = dom.get(bookmark.id + '_' + suffix),\n        node,\n        idx,\n        next,\n        prev;\n    var keep = bookmark.keep;\n    var container, offset;\n\n    if (marker) {\n      node = marker.parentNode;\n\n      if (suffix === 'start') {\n        if (!keep) {\n          idx = dom.nodeIndex(marker);\n        } else {\n          if (marker.hasChildNodes()) {\n            node = marker.firstChild;\n            idx = 1;\n          } else if (isValidTextNode(marker.nextSibling)) {\n            node = marker.nextSibling;\n            idx = 0;\n          } else if (isValidTextNode(marker.previousSibling)) {\n            node = marker.previousSibling;\n            idx = marker.previousSibling.data.length;\n          } else {\n            node = marker.parentNode;\n            idx = dom.nodeIndex(marker) + 1;\n          }\n        }\n\n        container = node;\n        offset = idx;\n      } else {\n        if (!keep) {\n          idx = dom.nodeIndex(marker);\n        } else {\n          if (marker.hasChildNodes()) {\n            node = marker.firstChild;\n            idx = 1;\n          } else if (isValidTextNode(marker.previousSibling)) {\n            node = marker.previousSibling;\n            idx = marker.previousSibling.data.length;\n          } else {\n            node = marker.parentNode;\n            idx = dom.nodeIndex(marker);\n          }\n        }\n\n        container = node;\n        offset = idx;\n      }\n\n      if (!keep) {\n        prev = marker.previousSibling;\n        next = marker.nextSibling;\n        Tools.each(Tools.grep(marker.childNodes), function (node) {\n          if (NodeType.isText(node)) {\n            node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n          }\n        });\n\n        while (marker = dom.get(bookmark.id + '_' + suffix)) {\n          dom.remove(marker, true);\n        }\n\n        if (prev && next && prev.nodeType === next.nodeType && NodeType.isText(prev) && !Env.opera) {\n          idx = prev.nodeValue.length;\n          prev.appendData(next.nodeValue);\n          dom.remove(next);\n\n          if (suffix === 'start') {\n            container = prev;\n            offset = idx;\n          } else {\n            container = prev;\n            offset = idx;\n          }\n        }\n      }\n\n      return Option.some(CaretPosition$1(container, offset));\n    } else {\n      return Option.none();\n    }\n  };\n\n  var alt = function alt(o1, o2) {\n    return o1.isSome() ? o1 : o2;\n  };\n\n  var resolvePaths = function resolvePaths(dom, bookmark) {\n    var rng = dom.createRng();\n\n    if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n      return Option.some(rng);\n    } else {\n      return Option.none();\n    }\n  };\n\n  var resolveId = function resolveId(dom, bookmark) {\n    var startPos = restoreEndPoint(dom, 'start', bookmark);\n    var endPos = restoreEndPoint(dom, 'end', bookmark);\n    return liftN([startPos, alt(endPos, startPos)], function (spos, epos) {\n      var rng = dom.createRng();\n      rng.setStart(addBogus(dom, spos.container()), spos.offset());\n      rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n      return rng;\n    });\n  };\n\n  var resolveIndex$1 = function resolveIndex$1(dom, bookmark) {\n    return Option.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n      var rng = dom.createRng();\n      rng.selectNode(elm);\n      return rng;\n    });\n  };\n\n  var resolve$2 = function resolve$2(selection, bookmark) {\n    var dom = selection.dom;\n\n    if (bookmark) {\n      if (isPathBookmark(bookmark)) {\n        return resolvePaths(dom, bookmark);\n      } else if (isStringPathBookmark(bookmark)) {\n        return Option.some(resolveCaretPositionBookmark(dom, bookmark));\n      } else if (isIdBookmark(bookmark)) {\n        return resolveId(dom, bookmark);\n      } else if (isIndexBookmark(bookmark)) {\n        return resolveIndex$1(dom, bookmark);\n      } else if (isRangeBookmark(bookmark)) {\n        return Option.some(bookmark.rng);\n      }\n    }\n\n    return Option.none();\n  };\n\n  var ResolveBookmark = {\n    resolve: resolve$2\n  };\n\n  var getBookmark$1 = function getBookmark$1(selection, type, normalized) {\n    return GetBookmark.getBookmark(selection, type, normalized);\n  };\n\n  var moveToBookmark = function moveToBookmark(selection, bookmark) {\n    ResolveBookmark.resolve(selection, bookmark).each(function (rng) {\n      selection.setRng(rng);\n    });\n  };\n\n  var isBookmarkNode$1 = function isBookmarkNode$1(node) {\n    return NodeType.isElement(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n  };\n\n  var Bookmarks = {\n    getBookmark: getBookmark$1,\n    moveToBookmark: moveToBookmark,\n    isBookmarkNode: isBookmarkNode$1\n  };\n\n  var isInlineBlock = function isInlineBlock(node) {\n    return node && /^(IMG)$/.test(node.nodeName);\n  };\n\n  var moveStart = function moveStart(dom, selection, rng) {\n    var offset = rng.startOffset;\n    var container = rng.startContainer,\n        walker,\n        node,\n        nodes;\n\n    if (rng.startContainer === rng.endContainer) {\n      if (isInlineBlock(rng.startContainer.childNodes[rng.startOffset])) {\n        return;\n      }\n    }\n\n    if (container.nodeType === 1) {\n      nodes = container.childNodes;\n\n      if (offset < nodes.length) {\n        container = nodes[offset];\n        walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n      } else {\n        container = nodes[nodes.length - 1];\n        walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n        walker.next(true);\n      }\n\n      for (node = walker.current(); node; node = walker.next()) {\n        if (node.nodeType === 3 && !isWhiteSpaceNode(node)) {\n          rng.setStart(node, 0);\n          selection.setRng(rng);\n          return;\n        }\n      }\n    }\n  };\n\n  var getNonWhiteSpaceSibling = function getNonWhiteSpaceSibling(node, next, inc) {\n    if (node) {\n      next = next ? 'nextSibling' : 'previousSibling';\n\n      for (node = inc ? node : node[next]; node; node = node[next]) {\n        if (node.nodeType === 1 || !isWhiteSpaceNode(node)) {\n          return node;\n        }\n      }\n    }\n  };\n\n  var isTextBlock$1 = function isTextBlock$1(editor, name) {\n    if (name.nodeType) {\n      name = name.nodeName;\n    }\n\n    return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n  };\n\n  var isValid = function isValid(ed, parent, child) {\n    return ed.schema.isValidChild(parent, child);\n  };\n\n  var isWhiteSpaceNode = function isWhiteSpaceNode(node) {\n    return node && node.nodeType === 3 && /^([\\t \\r\\n]+|)$/.test(node.nodeValue);\n  };\n\n  var replaceVars = function replaceVars(value, vars) {\n    if (typeof value !== 'string') {\n      value = value(vars);\n    } else if (vars) {\n      value = value.replace(/%(\\w+)/g, function (str, name) {\n        return vars[name] || str;\n      });\n    }\n\n    return value;\n  };\n\n  var isEq = function isEq(str1, str2) {\n    str1 = str1 || '';\n    str2 = str2 || '';\n    str1 = '' + (str1.nodeName || str1);\n    str2 = '' + (str2.nodeName || str2);\n    return str1.toLowerCase() === str2.toLowerCase();\n  };\n\n  var normalizeStyleValue = function normalizeStyleValue(dom, value, name) {\n    if (name === 'color' || name === 'backgroundColor') {\n      value = dom.toHex(value);\n    }\n\n    if (name === 'fontWeight' && value === 700) {\n      value = 'bold';\n    }\n\n    if (name === 'fontFamily') {\n      value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n    }\n\n    return '' + value;\n  };\n\n  var getStyle = function getStyle(dom, node, name) {\n    return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n  };\n\n  var getTextDecoration = function getTextDecoration(dom, node) {\n    var decoration;\n    dom.getParent(node, function (n) {\n      decoration = dom.getStyle(n, 'text-decoration');\n      return decoration && decoration !== 'none';\n    });\n    return decoration;\n  };\n\n  var getParents$1 = function getParents$1(dom, node, selector) {\n    return dom.getParents(node, selector, dom.getRoot());\n  };\n\n  var FormatUtils = {\n    isInlineBlock: isInlineBlock,\n    moveStart: moveStart,\n    getNonWhiteSpaceSibling: getNonWhiteSpaceSibling,\n    isTextBlock: isTextBlock$1,\n    isValid: isValid,\n    isWhiteSpaceNode: isWhiteSpaceNode,\n    replaceVars: replaceVars,\n    isEq: isEq,\n    normalizeStyleValue: normalizeStyleValue,\n    getStyle: getStyle,\n    getTextDecoration: getTextDecoration,\n    getParents: getParents$1\n  };\n  var isBookmarkNode$2 = Bookmarks.isBookmarkNode;\n  var getParents$2 = FormatUtils.getParents,\n      isWhiteSpaceNode$1 = FormatUtils.isWhiteSpaceNode,\n      isTextBlock$2 = FormatUtils.isTextBlock;\n\n  var findLeaf = function findLeaf(node, offset) {\n    if (typeof offset === 'undefined') {\n      offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n    }\n\n    while (node && node.hasChildNodes()) {\n      node = node.childNodes[offset];\n\n      if (node) {\n        offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n      }\n    }\n\n    return {\n      node: node,\n      offset: offset\n    };\n  };\n\n  var excludeTrailingWhitespace = function excludeTrailingWhitespace(endContainer, endOffset) {\n    var leaf = findLeaf(endContainer, endOffset);\n\n    if (leaf.node) {\n      while (leaf.node && leaf.offset === 0 && leaf.node.previousSibling) {\n        leaf = findLeaf(leaf.node.previousSibling);\n      }\n\n      if (leaf.node && leaf.offset > 0 && leaf.node.nodeType === 3 && leaf.node.nodeValue.charAt(leaf.offset - 1) === ' ') {\n        if (leaf.offset > 1) {\n          endContainer = leaf.node;\n          endContainer.splitText(leaf.offset - 1);\n        }\n      }\n    }\n\n    return endContainer;\n  };\n\n  var isBogusBr = function isBogusBr(node) {\n    return node.nodeName === 'BR' && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n  };\n\n  var findParentContentEditable = function findParentContentEditable(dom, node) {\n    var parent = node;\n\n    while (parent) {\n      if (parent.nodeType === 1 && dom.getContentEditable(parent)) {\n        return dom.getContentEditable(parent) === 'false' ? parent : node;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return node;\n  };\n\n  var findSpace = function findSpace(start, remove, node, offset) {\n    var pos, pos2;\n    var str = node.nodeValue;\n\n    if (typeof offset === 'undefined') {\n      offset = start ? str.length : 0;\n    }\n\n    if (start) {\n      pos = str.lastIndexOf(' ', offset);\n      pos2 = str.lastIndexOf('\\xA0', offset);\n      pos = pos > pos2 ? pos : pos2;\n\n      if (pos !== -1 && !remove && (pos < offset || !start) && pos <= str.length) {\n        pos++;\n      }\n    } else {\n      pos = str.indexOf(' ', offset);\n      pos2 = str.indexOf('\\xA0', offset);\n      pos = pos !== -1 && (pos2 === -1 || pos < pos2) ? pos : pos2;\n    }\n\n    return pos;\n  };\n\n  var findWordEndPoint = function findWordEndPoint(dom, body, container, offset, start, remove) {\n    var node, pos, lastTextNode;\n\n    if (container.nodeType === 3) {\n      pos = findSpace(start, remove, container, offset);\n\n      if (pos !== -1) {\n        return {\n          container: container,\n          offset: pos\n        };\n      }\n\n      lastTextNode = container;\n    }\n\n    var walker = new TreeWalker(container, dom.getParent(container, dom.isBlock) || body);\n\n    while (node = walker[start ? 'prev' : 'next']()) {\n      if (node.nodeType === 3 && !isBookmarkNode$2(node.parentNode)) {\n        lastTextNode = node;\n        pos = findSpace(start, remove, node);\n\n        if (pos !== -1) {\n          return {\n            container: node,\n            offset: pos\n          };\n        }\n      } else if (dom.isBlock(node) || FormatUtils.isEq(node, 'BR')) {\n        break;\n      }\n    }\n\n    if (lastTextNode) {\n      if (start) {\n        offset = 0;\n      } else {\n        offset = lastTextNode.length;\n      }\n\n      return {\n        container: lastTextNode,\n        offset: offset\n      };\n    }\n  };\n\n  var findSelectorEndPoint = function findSelectorEndPoint(dom, format, rng, container, siblingName) {\n    var parents, i, y, curFormat;\n\n    if (container.nodeType === 3 && container.nodeValue.length === 0 && container[siblingName]) {\n      container = container[siblingName];\n    }\n\n    parents = getParents$2(dom, container);\n\n    for (i = 0; i < parents.length; i++) {\n      for (y = 0; y < format.length; y++) {\n        curFormat = format[y];\n\n        if ('collapsed' in curFormat && curFormat.collapsed !== rng.collapsed) {\n          continue;\n        }\n\n        if (dom.is(parents[i], curFormat.selector)) {\n          return parents[i];\n        }\n      }\n    }\n\n    return container;\n  };\n\n  var findBlockEndPoint = function findBlockEndPoint(editor, format, container, siblingName) {\n    var node;\n    var dom = editor.dom;\n    var root = dom.getRoot();\n\n    if (!format[0].wrapper) {\n      node = dom.getParent(container, format[0].block, root);\n    }\n\n    if (!node) {\n      var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n      node = dom.getParent(container.nodeType === 3 ? container.parentNode : container, function (node) {\n        return node !== root && isTextBlock$2(editor, node);\n      }, scopeRoot);\n    }\n\n    if (node && format[0].wrapper) {\n      node = getParents$2(dom, node, 'ul,ol').reverse()[0] || node;\n    }\n\n    if (!node) {\n      node = container;\n\n      while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n        node = node[siblingName];\n\n        if (FormatUtils.isEq(node, 'br')) {\n          break;\n        }\n      }\n    }\n\n    return node || container;\n  };\n\n  var findParentContainer = function findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, start) {\n    var container, parent, sibling, siblingName, root;\n    container = parent = start ? startContainer : endContainer;\n    siblingName = start ? 'previousSibling' : 'nextSibling';\n    root = dom.getRoot();\n\n    if (container.nodeType === 3 && !isWhiteSpaceNode$1(container)) {\n      if (start ? startOffset > 0 : endOffset < container.nodeValue.length) {\n        return container;\n      }\n    }\n\n    while (true) {\n      if (!format[0].block_expand && dom.isBlock(parent)) {\n        return parent;\n      }\n\n      for (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n        if (!isBookmarkNode$2(sibling) && !isWhiteSpaceNode$1(sibling) && !isBogusBr(sibling)) {\n          return parent;\n        }\n      }\n\n      if (parent === root || parent.parentNode === root) {\n        container = parent;\n        break;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return container;\n  };\n\n  var expandRng = function expandRng(editor, rng, format, remove) {\n    var endPoint,\n        startContainer = rng.startContainer,\n        startOffset = rng.startOffset,\n        endContainer = rng.endContainer,\n        endOffset = rng.endOffset;\n    var dom = editor.dom;\n\n    if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n      startContainer = getNode(startContainer, startOffset);\n\n      if (startContainer.nodeType === 3) {\n        startOffset = 0;\n      }\n    }\n\n    if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n      endContainer = getNode(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n\n      if (endContainer.nodeType === 3) {\n        endOffset = endContainer.nodeValue.length;\n      }\n    }\n\n    startContainer = findParentContentEditable(dom, startContainer);\n    endContainer = findParentContentEditable(dom, endContainer);\n\n    if (isBookmarkNode$2(startContainer.parentNode) || isBookmarkNode$2(startContainer)) {\n      startContainer = isBookmarkNode$2(startContainer) ? startContainer : startContainer.parentNode;\n\n      if (rng.collapsed) {\n        startContainer = startContainer.previousSibling || startContainer;\n      } else {\n        startContainer = startContainer.nextSibling || startContainer;\n      }\n\n      if (startContainer.nodeType === 3) {\n        startOffset = rng.collapsed ? startContainer.length : 0;\n      }\n    }\n\n    if (isBookmarkNode$2(endContainer.parentNode) || isBookmarkNode$2(endContainer)) {\n      endContainer = isBookmarkNode$2(endContainer) ? endContainer : endContainer.parentNode;\n\n      if (rng.collapsed) {\n        endContainer = endContainer.nextSibling || endContainer;\n      } else {\n        endContainer = endContainer.previousSibling || endContainer;\n      }\n\n      if (endContainer.nodeType === 3) {\n        endOffset = rng.collapsed ? 0 : endContainer.length;\n      }\n    }\n\n    if (rng.collapsed) {\n      endPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, remove);\n\n      if (endPoint) {\n        startContainer = endPoint.container;\n        startOffset = endPoint.offset;\n      }\n\n      endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, remove);\n\n      if (endPoint) {\n        endContainer = endPoint.container;\n        endOffset = endPoint.offset;\n      }\n    }\n\n    if (format[0].inline) {\n      endContainer = remove ? endContainer : excludeTrailingWhitespace(endContainer, endOffset);\n    }\n\n    if (format[0].inline || format[0].block_expand) {\n      if (!format[0].inline || startContainer.nodeType !== 3 || startOffset === 0) {\n        startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n      }\n\n      if (!format[0].inline || endContainer.nodeType !== 3 || endOffset === endContainer.nodeValue.length) {\n        endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n      }\n    }\n\n    if (format[0].selector && format[0].expand !== false && !format[0].inline) {\n      startContainer = findSelectorEndPoint(dom, format, rng, startContainer, 'previousSibling');\n      endContainer = findSelectorEndPoint(dom, format, rng, endContainer, 'nextSibling');\n    }\n\n    if (format[0].block || format[0].selector) {\n      startContainer = findBlockEndPoint(editor, format, startContainer, 'previousSibling');\n      endContainer = findBlockEndPoint(editor, format, endContainer, 'nextSibling');\n\n      if (format[0].block) {\n        if (!dom.isBlock(startContainer)) {\n          startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n        }\n\n        if (!dom.isBlock(endContainer)) {\n          endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n        }\n      }\n    }\n\n    if (startContainer.nodeType === 1) {\n      startOffset = dom.nodeIndex(startContainer);\n      startContainer = startContainer.parentNode;\n    }\n\n    if (endContainer.nodeType === 1) {\n      endOffset = dom.nodeIndex(endContainer) + 1;\n      endContainer = endContainer.parentNode;\n    }\n\n    return {\n      startContainer: startContainer,\n      startOffset: startOffset,\n      endContainer: endContainer,\n      endOffset: endOffset\n    };\n  };\n\n  var ExpandRange = {\n    expandRng: expandRng\n  };\n  var each$8 = Tools.each;\n\n  var getEndChild = function getEndChild(container, index) {\n    var childNodes = container.childNodes;\n    index--;\n\n    if (index > childNodes.length - 1) {\n      index = childNodes.length - 1;\n    } else if (index < 0) {\n      index = 0;\n    }\n\n    return childNodes[index] || container;\n  };\n\n  var walk$1 = function walk$1(dom, rng, callback) {\n    var startContainer = rng.startContainer;\n    var startOffset = rng.startOffset;\n    var endContainer = rng.endContainer;\n    var endOffset = rng.endOffset;\n    var ancestor;\n    var startPoint;\n    var endPoint;\n    var node;\n    var parent;\n    var siblings;\n    var nodes;\n    nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\n\n    if (nodes.length > 0) {\n      each$8(nodes, function (node) {\n        callback([node]);\n      });\n      return;\n    }\n\n    var exclude = function exclude(nodes) {\n      var node;\n      node = nodes[0];\n\n      if (node.nodeType === 3 && node === startContainer && startOffset >= node.nodeValue.length) {\n        nodes.splice(0, 1);\n      }\n\n      node = nodes[nodes.length - 1];\n\n      if (endOffset === 0 && nodes.length > 0 && node === endContainer && node.nodeType === 3) {\n        nodes.splice(nodes.length - 1, 1);\n      }\n\n      return nodes;\n    };\n\n    var collectSiblings = function collectSiblings(node, name, endNode) {\n      var siblings = [];\n\n      for (; node && node !== endNode; node = node[name]) {\n        siblings.push(node);\n      }\n\n      return siblings;\n    };\n\n    var findEndPoint = function findEndPoint(node, root) {\n      do {\n        if (node.parentNode === root) {\n          return node;\n        }\n\n        node = node.parentNode;\n      } while (node);\n    };\n\n    var walkBoundary = function walkBoundary(startNode, endNode, next) {\n      var siblingName = next ? 'nextSibling' : 'previousSibling';\n\n      for (node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\n        parent = node.parentNode;\n        siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n\n        if (siblings.length) {\n          if (!next) {\n            siblings.reverse();\n          }\n\n          callback(exclude(siblings));\n        }\n      }\n    };\n\n    if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n      startContainer = startContainer.childNodes[startOffset];\n    }\n\n    if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n      endContainer = getEndChild(endContainer, endOffset);\n    }\n\n    if (startContainer === endContainer) {\n      return callback(exclude([startContainer]));\n    }\n\n    ancestor = dom.findCommonAncestor(startContainer, endContainer);\n\n    for (node = startContainer; node; node = node.parentNode) {\n      if (node === endContainer) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n\n      if (node === ancestor) {\n        break;\n      }\n    }\n\n    for (node = endContainer; node; node = node.parentNode) {\n      if (node === startContainer) {\n        return walkBoundary(endContainer, ancestor);\n      }\n\n      if (node === ancestor) {\n        break;\n      }\n    }\n\n    startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n    endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n    walkBoundary(startContainer, startPoint, true);\n    siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n\n    if (siblings.length) {\n      callback(exclude(siblings));\n    }\n\n    walkBoundary(endContainer, endPoint);\n  };\n\n  var RangeWalk = {\n    walk: walk$1\n  };\n\n  var zeroWidth = function zeroWidth() {\n    return \"\\uFEFF\";\n  };\n\n  function NodeValue(is, name) {\n    var get = function get(element) {\n      if (!is(element)) {\n        throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n      }\n\n      return getOption(element).getOr('');\n    };\n\n    var getOption = function getOption(element) {\n      return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\n    };\n\n    var set = function set(element, value) {\n      if (!is(element)) {\n        throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n      }\n\n      element.dom().nodeValue = value;\n    };\n\n    return {\n      get: get,\n      getOption: getOption,\n      set: set\n    };\n  }\n\n  var api = NodeValue(isText, 'text');\n\n  var get$5 = function get$5(element) {\n    return api.get(element);\n  };\n\n  var isZeroWidth = function isZeroWidth(elem) {\n    return isText(elem) && get$5(elem) === zeroWidth();\n  };\n\n  var context = function context(editor, elem, wrapName, nodeName) {\n    return parent(elem).fold(function () {\n      return 'skipping';\n    }, function (parent) {\n      if (nodeName === 'br' || isZeroWidth(elem)) {\n        return 'valid';\n      } else if (isAnnotation(elem)) {\n        return 'existing';\n      } else if (isCaretNode(elem)) {\n        return 'caret';\n      } else if (!FormatUtils.isValid(editor, wrapName, nodeName) || !FormatUtils.isValid(editor, name(parent), wrapName)) {\n        return 'invalid-child';\n      } else {\n        return 'valid';\n      }\n    });\n  };\n\n  var shouldApplyToTrailingSpaces = function shouldApplyToTrailingSpaces(rng) {\n    return rng.startContainer.nodeType === 3 && rng.startContainer.nodeValue.length >= rng.startOffset && rng.startContainer.nodeValue[rng.startOffset] === '\\xA0';\n  };\n\n  var applyWordGrab = function applyWordGrab(editor, rng) {\n    var r = ExpandRange.expandRng(editor, rng, [{\n      inline: true\n    }], shouldApplyToTrailingSpaces(rng));\n    rng.setStart(r.startContainer, r.startOffset);\n    rng.setEnd(r.endContainer, r.endOffset);\n    editor.selection.setRng(rng);\n  };\n\n  var makeAnnotation = function makeAnnotation(eDoc, _a, annotationName, decorate) {\n    var _b = _a.uid,\n        uid = _b === void 0 ? generate('mce-annotation') : _b,\n        data = __rest(_a, ['uid']);\n\n    var master = Element.fromTag('span', eDoc);\n    add$3(master, annotation());\n    set(master, '' + dataAnnotationId(), uid);\n    set(master, '' + dataAnnotation(), annotationName);\n\n    var _c = decorate(uid, data),\n        _d = _c.attributes,\n        attributes = _d === void 0 ? {} : _d,\n        _e = _c.classes,\n        classes = _e === void 0 ? [] : _e;\n\n    setAll(master, attributes);\n    add$4(master, classes);\n    return master;\n  };\n\n  var annotate = function annotate(editor, rng, annotationName, decorate, data) {\n    var newWrappers = [];\n    var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n    var wrapper = Cell(Option.none());\n\n    var finishWrapper = function finishWrapper() {\n      wrapper.set(Option.none());\n    };\n\n    var getOrOpenWrapper = function getOrOpenWrapper() {\n      return wrapper.get().getOrThunk(function () {\n        var nu = shallow(master);\n        newWrappers.push(nu);\n        wrapper.set(Option.some(nu));\n        return nu;\n      });\n    };\n\n    var processElements = function processElements(elems) {\n      each(elems, processElement);\n    };\n\n    var processElement = function processElement(elem) {\n      var ctx = context(editor, elem, 'span', name(elem));\n\n      switch (ctx) {\n        case 'invalid-child':\n          {\n            finishWrapper();\n            var children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n\n        case 'valid':\n          {\n            var w = getOrOpenWrapper();\n            wrap$1(elem, w);\n            break;\n          }\n\n        case 'skipping':\n        case 'existing':\n        case 'caret':\n      }\n    };\n\n    var processNodes = function processNodes(nodes) {\n      var elems = map(nodes, Element.fromDom);\n      processElements(elems);\n    };\n\n    RangeWalk.walk(editor.dom, rng, function (nodes) {\n      finishWrapper();\n      processNodes(nodes);\n    });\n    return newWrappers;\n  };\n\n  var annotateWithBookmark = function annotateWithBookmark(editor, name, settings, data) {\n    editor.undoManager.transact(function () {\n      var initialRng = editor.selection.getRng();\n\n      if (initialRng.collapsed) {\n        applyWordGrab(editor, initialRng);\n      }\n\n      if (editor.selection.getRng().collapsed) {\n        var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n        set$1(wrapper, '\\xA0');\n        editor.selection.getRng().insertNode(wrapper.dom());\n        editor.selection.select(wrapper.dom());\n      } else {\n        var bookmark = GetBookmark.getPersistentBookmark(editor.selection, false);\n        var rng = editor.selection.getRng();\n        annotate(editor, rng, name, settings.decorate, data);\n        editor.selection.moveToBookmark(bookmark);\n      }\n    });\n  };\n\n  var Annotator = function Annotator(editor) {\n    var registry = create$1();\n    setup$1(editor, registry);\n    var changes = setup(editor);\n    return {\n      register: function register(name, settings) {\n        registry.register(name, settings);\n      },\n      annotate: function annotate(name, data) {\n        registry.lookup(name).each(function (settings) {\n          annotateWithBookmark(editor, name, settings, data);\n        });\n      },\n      annotationChanged: function annotationChanged(name, callback) {\n        changes.addListener(name, callback);\n      },\n      remove: function remove(name) {\n        identify(editor, Option.some(name)).each(function (_a) {\n          var elements = _a.elements;\n          each(elements, unwrap);\n        });\n      },\n      getAll: function getAll(name) {\n        var directory = findAll(editor, name);\n        return map$2(directory, function (elems) {\n          return map(elems, function (elem) {\n            return elem.dom();\n          });\n        });\n      }\n    };\n  };\n\n  var whiteSpaceRegExp$3 = /^[ \\t\\r\\n]*$/;\n  var typeLookup = {\n    '#text': 3,\n    '#comment': 8,\n    '#cdata': 4,\n    '#pi': 7,\n    '#doctype': 10,\n    '#document-fragment': 11\n  };\n\n  var walk$2 = function walk$2(node, root, prev) {\n    var startName = prev ? 'lastChild' : 'firstChild';\n    var siblingName = prev ? 'prev' : 'next';\n\n    if (node[startName]) {\n      return node[startName];\n    }\n\n    if (node !== root) {\n      var sibling = node[siblingName];\n\n      if (sibling) {\n        return sibling;\n      }\n\n      for (var parent = node.parent; parent && parent !== root; parent = parent.parent) {\n        sibling = parent[siblingName];\n\n        if (sibling) {\n          return sibling;\n        }\n      }\n    }\n  };\n\n  var Node$1 = function () {\n    function Node(name, type) {\n      this.name = name;\n      this.type = type;\n\n      if (type === 1) {\n        this.attributes = [];\n        this.attributes.map = {};\n      }\n    }\n\n    Node.create = function (name, attrs) {\n      var node = new Node(name, typeLookup[name] || 1);\n\n      if (attrs) {\n        for (var attrName in attrs) {\n          node.attr(attrName, attrs[attrName]);\n        }\n      }\n\n      return node;\n    };\n\n    Node.prototype.replace = function (node) {\n      var self = this;\n\n      if (node.parent) {\n        node.remove();\n      }\n\n      self.insert(node, self);\n      self.remove();\n      return self;\n    };\n\n    Node.prototype.attr = function (name, value) {\n      var self = this;\n      var attrs;\n\n      if (typeof name !== 'string') {\n        for (var key in name) {\n          self.attr(key, name[key]);\n        }\n\n        return self;\n      }\n\n      if (attrs = self.attributes) {\n        if (value !== undefined) {\n          if (value === null) {\n            if (name in attrs.map) {\n              delete attrs.map[name];\n              var i = attrs.length;\n\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs.splice(i, 1);\n                  return self;\n                }\n              }\n            }\n\n            return self;\n          }\n\n          if (name in attrs.map) {\n            var i = attrs.length;\n\n            while (i--) {\n              if (attrs[i].name === name) {\n                attrs[i].value = value;\n                break;\n              }\n            }\n          } else {\n            attrs.push({\n              name: name,\n              value: value\n            });\n          }\n\n          attrs.map[name] = value;\n          return self;\n        }\n\n        return attrs.map[name];\n      }\n    };\n\n    Node.prototype.clone = function () {\n      var self = this;\n      var clone = new Node(self.name, self.type);\n      var selfAttrs;\n\n      if (selfAttrs = self.attributes) {\n        var cloneAttrs = [];\n        cloneAttrs.map = {};\n\n        for (var i = 0, l = selfAttrs.length; i < l; i++) {\n          var selfAttr = selfAttrs[i];\n\n          if (selfAttr.name !== 'id') {\n            cloneAttrs[cloneAttrs.length] = {\n              name: selfAttr.name,\n              value: selfAttr.value\n            };\n            cloneAttrs.map[selfAttr.name] = selfAttr.value;\n          }\n        }\n\n        clone.attributes = cloneAttrs;\n      }\n\n      clone.value = self.value;\n      clone.shortEnded = self.shortEnded;\n      return clone;\n    };\n\n    Node.prototype.wrap = function (wrapper) {\n      var self = this;\n      self.parent.insert(wrapper, self);\n      wrapper.append(self);\n      return self;\n    };\n\n    Node.prototype.unwrap = function () {\n      var self = this;\n\n      for (var node = self.firstChild; node;) {\n        var next = node.next;\n        self.insert(node, self, true);\n        node = next;\n      }\n\n      self.remove();\n    };\n\n    Node.prototype.remove = function () {\n      var self = this,\n          parent = self.parent,\n          next = self.next,\n          prev = self.prev;\n\n      if (parent) {\n        if (parent.firstChild === self) {\n          parent.firstChild = next;\n\n          if (next) {\n            next.prev = null;\n          }\n        } else {\n          prev.next = next;\n        }\n\n        if (parent.lastChild === self) {\n          parent.lastChild = prev;\n\n          if (prev) {\n            prev.next = null;\n          }\n        } else {\n          next.prev = prev;\n        }\n\n        self.parent = self.next = self.prev = null;\n      }\n\n      return self;\n    };\n\n    Node.prototype.append = function (node) {\n      var self = this;\n\n      if (node.parent) {\n        node.remove();\n      }\n\n      var last = self.lastChild;\n\n      if (last) {\n        last.next = node;\n        node.prev = last;\n        self.lastChild = node;\n      } else {\n        self.lastChild = self.firstChild = node;\n      }\n\n      node.parent = self;\n      return node;\n    };\n\n    Node.prototype.insert = function (node, refNode, before) {\n      if (node.parent) {\n        node.remove();\n      }\n\n      var parent = refNode.parent || this;\n\n      if (before) {\n        if (refNode === parent.firstChild) {\n          parent.firstChild = node;\n        } else {\n          refNode.prev.next = node;\n        }\n\n        node.prev = refNode.prev;\n        node.next = refNode;\n        refNode.prev = node;\n      } else {\n        if (refNode === parent.lastChild) {\n          parent.lastChild = node;\n        } else {\n          refNode.next.prev = node;\n        }\n\n        node.next = refNode.next;\n        node.prev = refNode;\n        refNode.next = node;\n      }\n\n      node.parent = parent;\n      return node;\n    };\n\n    Node.prototype.getAll = function (name) {\n      var self = this;\n      var collection = [];\n\n      for (var node = self.firstChild; node; node = walk$2(node, self)) {\n        if (node.name === name) {\n          collection.push(node);\n        }\n      }\n\n      return collection;\n    };\n\n    Node.prototype.empty = function () {\n      var self = this;\n\n      if (self.firstChild) {\n        var nodes = [];\n\n        for (var node = self.firstChild; node; node = walk$2(node, self)) {\n          nodes.push(node);\n        }\n\n        var i = nodes.length;\n\n        while (i--) {\n          var node = nodes[i];\n          node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n        }\n      }\n\n      self.firstChild = self.lastChild = null;\n      return self;\n    };\n\n    Node.prototype.isEmpty = function (elements, whitespace, predicate) {\n      if (whitespace === void 0) {\n        whitespace = {};\n      }\n\n      var self = this;\n      var node = self.firstChild;\n\n      if (node) {\n        do {\n          if (node.type === 1) {\n            if (node.attr('data-mce-bogus')) {\n              continue;\n            }\n\n            if (elements[node.name]) {\n              return false;\n            }\n\n            var i = node.attributes.length;\n\n            while (i--) {\n              var name = node.attributes[i].name;\n\n              if (name === 'name' || name.indexOf('data-mce-bookmark') === 0) {\n                return false;\n              }\n            }\n          }\n\n          if (node.type === 8) {\n            return false;\n          }\n\n          if (node.type === 3 && !whiteSpaceRegExp$3.test(node.value)) {\n            return false;\n          }\n\n          if (node.type === 3 && node.parent && whitespace[node.parent.name] && whiteSpaceRegExp$3.test(node.value)) {\n            return false;\n          }\n\n          if (predicate && predicate(node)) {\n            return false;\n          }\n        } while (node = walk$2(node, self));\n      }\n\n      return true;\n    };\n\n    Node.prototype.walk = function (prev) {\n      return walk$2(this, null, prev);\n    };\n\n    return Node;\n  }();\n\n  var isValidPrefixAttrName = function isValidPrefixAttrName(name) {\n    return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n  };\n\n  var trimComments = function trimComments(text) {\n    return text.replace(/<!--|-->/g, '');\n  };\n\n  var isInvalidUri = function isInvalidUri(settings, uri) {\n    if (settings.allow_html_data_urls) {\n      return false;\n    } else if (/^data:image\\//i.test(uri)) {\n      return settings.allow_svg_data_urls === false && /^data:image\\/svg\\+xml/i.test(uri);\n    } else {\n      return /^data:/i.test(uri);\n    }\n  };\n\n  var findEndTagIndex = function findEndTagIndex(schema, html, startIndex) {\n    var count = 1,\n        index,\n        matches,\n        tokenRegExp,\n        shortEndedElements;\n    shortEndedElements = schema.getShortEndedElements();\n    tokenRegExp = /<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g;\n    tokenRegExp.lastIndex = index = startIndex;\n\n    while (matches = tokenRegExp.exec(html)) {\n      index = tokenRegExp.lastIndex;\n\n      if (matches[1] === '/') {\n        count--;\n      } else if (!matches[1]) {\n        if (matches[2] in shortEndedElements) {\n          continue;\n        }\n\n        count++;\n      }\n\n      if (count === 0) {\n        break;\n      }\n    }\n\n    return index;\n  };\n\n  var checkBogusAttribute = function checkBogusAttribute(regExp, attrString) {\n    var matches = regExp.exec(attrString);\n\n    if (matches) {\n      var name = matches[1];\n      var value = matches[2];\n      return typeof name === 'string' && name.toLowerCase() === 'data-mce-bogus' ? value : null;\n    } else {\n      return null;\n    }\n  };\n\n  function SaxParser(settings, schema) {\n    if (schema === void 0) {\n      schema = Schema();\n    }\n\n    var noop = function noop() {};\n\n    settings = settings || {};\n\n    if (settings.fix_self_closing !== false) {\n      settings.fix_self_closing = true;\n    }\n\n    var comment = settings.comment ? settings.comment : noop;\n    var cdata = settings.cdata ? settings.cdata : noop;\n    var text = settings.text ? settings.text : noop;\n    var start = settings.start ? settings.start : noop;\n    var end = settings.end ? settings.end : noop;\n    var pi = settings.pi ? settings.pi : noop;\n    var doctype = settings.doctype ? settings.doctype : noop;\n\n    var parse = function parse(html) {\n      var matches,\n          index = 0,\n          value,\n          endRegExp;\n      var stack = [];\n      var attrList, i, textData, name;\n      var isInternalElement, removeInternalElements, shortEndedElements, fillAttrsMap, isShortEnded;\n      var validate, elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n      var attributesRequired, attributesDefault, attributesForced, processHtml;\n      var anyAttributesRequired,\n          selfClosing,\n          tokenRegExp,\n          attrRegExp,\n          specialElements,\n          attrValue,\n          idCount = 0;\n      var decode = Entities.decode;\n      var fixSelfClosing;\n      var filteredUrlAttrs = Tools.makeMap('src,href,data,background,formaction,poster,xlink:href');\n      var scriptUriRegExp = /((java|vb)script|mhtml):/i;\n\n      var processEndTag = function processEndTag(name) {\n        var pos, i;\n        pos = stack.length;\n\n        while (pos--) {\n          if (stack[pos].name === name) {\n            break;\n          }\n        }\n\n        if (pos >= 0) {\n          for (i = stack.length - 1; i >= pos; i--) {\n            name = stack[i];\n\n            if (name.valid) {\n              end(name.name);\n            }\n          }\n\n          stack.length = pos;\n        }\n      };\n\n      var parseAttribute = function parseAttribute(match, name, value, val2, val3) {\n        var attrRule, i;\n        var trimRegExp = /[\\s\\u0000-\\u001F]+/g;\n        name = name.toLowerCase();\n        value = name in fillAttrsMap ? name : decode(value || val2 || val3 || '');\n\n        if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n          attrRule = validAttributesMap[name];\n\n          if (!attrRule && validAttributePatterns) {\n            i = validAttributePatterns.length;\n\n            while (i--) {\n              attrRule = validAttributePatterns[i];\n\n              if (attrRule.pattern.test(name)) {\n                break;\n              }\n            }\n\n            if (i === -1) {\n              attrRule = null;\n            }\n          }\n\n          if (!attrRule) {\n            return;\n          }\n\n          if (attrRule.validValues && !(value in attrRule.validValues)) {\n            return;\n          }\n        }\n\n        if (filteredUrlAttrs[name] && !settings.allow_script_urls) {\n          var uri = value.replace(trimRegExp, '');\n\n          try {\n            uri = decodeURIComponent(uri);\n          } catch (ex) {\n            uri = unescape(uri);\n          }\n\n          if (scriptUriRegExp.test(uri)) {\n            return;\n          }\n\n          if (isInvalidUri(settings, uri)) {\n            return;\n          }\n        }\n\n        if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n          return;\n        }\n\n        attrList.map[name] = value;\n        attrList.push({\n          name: name,\n          value: value\n        });\n      };\n\n      tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)-->)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:!DOCTYPE([\\\\w\\\\W]*?)>)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)((?:\\\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\\\/|\\\\s+)>)' + ')', 'g');\n      attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n      shortEndedElements = schema.getShortEndedElements();\n      selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n      fillAttrsMap = schema.getBoolAttrs();\n      validate = settings.validate;\n      removeInternalElements = settings.remove_internals;\n      fixSelfClosing = settings.fix_self_closing;\n      specialElements = schema.getSpecialElements();\n      processHtml = html + '>';\n\n      while (matches = tokenRegExp.exec(processHtml)) {\n        if (index < matches.index) {\n          text(decode(html.substr(index, matches.index - index)));\n        }\n\n        if (value = matches[6]) {\n          value = value.toLowerCase();\n\n          if (value.charAt(0) === ':') {\n            value = value.substr(1);\n          }\n\n          processEndTag(value);\n        } else if (value = matches[7]) {\n          if (matches.index + matches[0].length > html.length) {\n            text(decode(html.substr(matches.index)));\n            index = matches.index + matches[0].length;\n            continue;\n          }\n\n          value = value.toLowerCase();\n\n          if (value.charAt(0) === ':') {\n            value = value.substr(1);\n          }\n\n          isShortEnded = value in shortEndedElements;\n\n          if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n            processEndTag(value);\n          }\n\n          var bogusValue = checkBogusAttribute(attrRegExp, matches[8]);\n\n          if (bogusValue !== null) {\n            if (bogusValue === 'all') {\n              index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n\n            isValidElement = false;\n          }\n\n          if (!validate || (elementRule = schema.getElementRule(value))) {\n            isValidElement = true;\n\n            if (validate) {\n              validAttributesMap = elementRule.attributes;\n              validAttributePatterns = elementRule.attributePatterns;\n            }\n\n            if (attribsValue = matches[8]) {\n              isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n\n              if (isInternalElement && removeInternalElements) {\n                isValidElement = false;\n              }\n\n              attrList = [];\n              attrList.map = {};\n              attribsValue.replace(attrRegExp, parseAttribute);\n            } else {\n              attrList = [];\n              attrList.map = {};\n            }\n\n            if (validate && !isInternalElement) {\n              attributesRequired = elementRule.attributesRequired;\n              attributesDefault = elementRule.attributesDefault;\n              attributesForced = elementRule.attributesForced;\n              anyAttributesRequired = elementRule.removeEmptyAttrs;\n\n              if (anyAttributesRequired && !attrList.length) {\n                isValidElement = false;\n              }\n\n              if (attributesForced) {\n                i = attributesForced.length;\n\n                while (i--) {\n                  attr = attributesForced[i];\n                  name = attr.name;\n                  attrValue = attr.value;\n\n                  if (attrValue === '{$uid}') {\n                    attrValue = 'mce_' + idCount++;\n                  }\n\n                  attrList.map[name] = attrValue;\n                  attrList.push({\n                    name: name,\n                    value: attrValue\n                  });\n                }\n              }\n\n              if (attributesDefault) {\n                i = attributesDefault.length;\n\n                while (i--) {\n                  attr = attributesDefault[i];\n                  name = attr.name;\n\n                  if (!(name in attrList.map)) {\n                    attrValue = attr.value;\n\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n              }\n\n              if (attributesRequired) {\n                i = attributesRequired.length;\n\n                while (i--) {\n                  if (attributesRequired[i] in attrList.map) {\n                    break;\n                  }\n                }\n\n                if (i === -1) {\n                  isValidElement = false;\n                }\n              }\n\n              if (attr = attrList.map['data-mce-bogus']) {\n                if (attr === 'all') {\n                  index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                  tokenRegExp.lastIndex = index;\n                  continue;\n                }\n\n                isValidElement = false;\n              }\n            }\n\n            if (isValidElement) {\n              start(value, attrList, isShortEnded);\n            }\n          } else {\n            isValidElement = false;\n          }\n\n          if (endRegExp = specialElements[value]) {\n            endRegExp.lastIndex = index = matches.index + matches[0].length;\n\n            if (matches = endRegExp.exec(html)) {\n              if (isValidElement) {\n                textData = html.substr(index, matches.index - index);\n              }\n\n              index = matches.index + matches[0].length;\n            } else {\n              textData = html.substr(index);\n              index = html.length;\n            }\n\n            if (isValidElement) {\n              if (textData.length > 0) {\n                text(textData, true);\n              }\n\n              end(value);\n            }\n\n            tokenRegExp.lastIndex = index;\n            continue;\n          }\n\n          if (!isShortEnded) {\n            if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n              stack.push({\n                name: value,\n                valid: isValidElement\n              });\n            } else if (isValidElement) {\n              end(value);\n            }\n          }\n        } else if (value = matches[1]) {\n          if (value.charAt(0) === '>') {\n            value = ' ' + value;\n          }\n\n          if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n            value = ' ' + value;\n          }\n\n          comment(value);\n        } else if (value = matches[2]) {\n          cdata(trimComments(value));\n        } else if (value = matches[3]) {\n          doctype(value);\n        } else if (value = matches[4]) {\n          pi(value, matches[5]);\n        }\n\n        index = matches.index + matches[0].length;\n      }\n\n      if (index < html.length) {\n        text(decode(html.substr(index)));\n      }\n\n      for (i = stack.length - 1; i >= 0; i--) {\n        value = stack[i];\n\n        if (value.valid) {\n          end(value.name);\n        }\n      }\n    };\n\n    return {\n      parse: parse\n    };\n  }\n\n  (function (SaxParser) {\n    SaxParser.findEndTag = findEndTagIndex;\n  })(SaxParser || (SaxParser = {}));\n\n  var SaxParser$1 = SaxParser;\n\n  var trimHtml = function trimHtml(tempAttrs, html) {\n    var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n    return html.replace(trimContentRegExp, '');\n  };\n\n  var trimInternal = function trimInternal(serializer, html) {\n    var content = html;\n    var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n    var endTagIndex, index, matchLength, matches, shortEndedElements;\n    var schema = serializer.schema;\n    content = trimHtml(serializer.getTempAttrs(), content);\n    shortEndedElements = schema.getShortEndedElements();\n\n    while (matches = bogusAllRegExp.exec(content)) {\n      index = bogusAllRegExp.lastIndex;\n      matchLength = matches[0].length;\n\n      if (shortEndedElements[matches[1]]) {\n        endTagIndex = index;\n      } else {\n        endTagIndex = SaxParser$1.findEndTag(schema, content, index);\n      }\n\n      content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n      bogusAllRegExp.lastIndex = index - matchLength;\n    }\n\n    return Zwsp.trim(content);\n  };\n\n  var trimExternal = trimInternal;\n  var TrimHtml = {\n    trimExternal: trimExternal,\n    trimInternal: trimInternal\n  };\n\n  var getBodySetting = function getBodySetting(editor, name, defaultValue) {\n    var value = editor.getParam(name, defaultValue);\n\n    if (value.indexOf('=') !== -1) {\n      var bodyObj = editor.getParam(name, '', 'hash');\n      return bodyObj.hasOwnProperty(editor.id) ? bodyObj[editor.id] : defaultValue;\n    } else {\n      return value;\n    }\n  };\n\n  var getIframeAttrs = function getIframeAttrs(editor) {\n    return editor.getParam('iframe_attrs', {});\n  };\n\n  var getDocType = function getDocType(editor) {\n    return editor.getParam('doctype', '<!DOCTYPE html>');\n  };\n\n  var getDocumentBaseUrl = function getDocumentBaseUrl(editor) {\n    return editor.getParam('document_base_url', '');\n  };\n\n  var getBodyId = function getBodyId(editor) {\n    return getBodySetting(editor, 'body_id', 'tinymce');\n  };\n\n  var getBodyClass = function getBodyClass(editor) {\n    return getBodySetting(editor, 'body_class', '');\n  };\n\n  var getContentSecurityPolicy = function getContentSecurityPolicy(editor) {\n    return editor.getParam('content_security_policy', '');\n  };\n\n  var shouldPutBrInPre = function shouldPutBrInPre(editor) {\n    return editor.getParam('br_in_pre', true);\n  };\n\n  var getForcedRootBlock = function getForcedRootBlock(editor) {\n    if (editor.getParam('force_p_newlines', false)) {\n      return 'p';\n    }\n\n    var block = editor.getParam('forced_root_block', 'p');\n\n    if (block === false) {\n      return '';\n    } else if (block === true) {\n      return 'p';\n    } else {\n      return block;\n    }\n  };\n\n  var getForcedRootBlockAttrs = function getForcedRootBlockAttrs(editor) {\n    return editor.getParam('forced_root_block_attrs', {});\n  };\n\n  var getBrNewLineSelector = function getBrNewLineSelector(editor) {\n    return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n  };\n\n  var getNoNewLineSelector = function getNoNewLineSelector(editor) {\n    return editor.getParam('no_newline_selector', '');\n  };\n\n  var shouldKeepStyles = function shouldKeepStyles(editor) {\n    return editor.getParam('keep_styles', true);\n  };\n\n  var shouldEndContainerOnEmptyBlock = function shouldEndContainerOnEmptyBlock(editor) {\n    return editor.getParam('end_container_on_empty_block', false);\n  };\n\n  var getFontStyleValues = function getFontStyleValues(editor) {\n    return Tools.explode(editor.getParam('font_size_style_values', 'xx-small,x-small,small,medium,large,x-large,xx-large'));\n  };\n\n  var getFontSizeClasses = function getFontSizeClasses(editor) {\n    return Tools.explode(editor.getParam('font_size_classes', ''));\n  };\n\n  var getImagesDataImgFilter = function getImagesDataImgFilter(editor) {\n    return editor.getParam('images_dataimg_filter', constant(true), 'function');\n  };\n\n  var isAutomaticUploadsEnabled = function isAutomaticUploadsEnabled(editor) {\n    return editor.getParam('automatic_uploads', true, 'boolean');\n  };\n\n  var shouldReuseFileName = function shouldReuseFileName(editor) {\n    return editor.getParam('images_reuse_filename', false, 'boolean');\n  };\n\n  var shouldReplaceBlobUris = function shouldReplaceBlobUris(editor) {\n    return editor.getParam('images_replace_blob_uris', true, 'boolean');\n  };\n\n  var getIconPackName = function getIconPackName(editor) {\n    return editor.getParam('icons', '', 'string');\n  };\n\n  var getIconsUrl = function getIconsUrl(editor) {\n    return editor.getParam('icons_url', '', 'string');\n  };\n\n  var getImageUploadUrl = function getImageUploadUrl(editor) {\n    return editor.getParam('images_upload_url', '', 'string');\n  };\n\n  var getImageUploadBasePath = function getImageUploadBasePath(editor) {\n    return editor.getParam('images_upload_base_path', '', 'string');\n  };\n\n  var getImagesUploadCredentials = function getImagesUploadCredentials(editor) {\n    return editor.getParam('images_upload_credentials', false, 'boolean');\n  };\n\n  var getImagesUploadHandler = function getImagesUploadHandler(editor) {\n    return editor.getParam('images_upload_handler', null, 'function');\n  };\n\n  var shouldUseContentCssCors = function shouldUseContentCssCors(editor) {\n    return editor.getParam('content_css_cors', false, 'boolean');\n  };\n\n  var getLanguageCode = function getLanguageCode(editor) {\n    return editor.getParam('language', 'en', 'string');\n  };\n\n  var getLanguageUrl = function getLanguageUrl(editor) {\n    return editor.getParam('language_url', '', 'string');\n  };\n\n  var shouldIndentUseMargin = function shouldIndentUseMargin(editor) {\n    return editor.getParam('indent_use_margin', false);\n  };\n\n  var getIndentation = function getIndentation(editor) {\n    return editor.getParam('indentation', '40px', 'string');\n  };\n\n  var getContentCss = function getContentCss(editor) {\n    var contentCss = editor.settings.content_css;\n\n    if (isString(contentCss)) {\n      return map(contentCss.split(','), trim$2);\n    } else if (isArray(contentCss)) {\n      return contentCss;\n    } else if (contentCss === false || editor.inline) {\n      return [];\n    } else {\n      return ['default'];\n    }\n  };\n\n  var getDirectionality = function getDirectionality(editor) {\n    return editor.getParam('directionality', I18n.isRtl() ? 'rtl' : undefined);\n  };\n\n  var getInlineBoundarySelector = function getInlineBoundarySelector(editor) {\n    return editor.getParam('inline_boundaries_selector', 'a[href],code,.mce-annotation', 'string');\n  };\n\n  var Settings = {\n    getIframeAttrs: getIframeAttrs,\n    getDocType: getDocType,\n    getDocumentBaseUrl: getDocumentBaseUrl,\n    getBodyId: getBodyId,\n    getBodyClass: getBodyClass,\n    getContentSecurityPolicy: getContentSecurityPolicy,\n    shouldPutBrInPre: shouldPutBrInPre,\n    getForcedRootBlock: getForcedRootBlock,\n    getForcedRootBlockAttrs: getForcedRootBlockAttrs,\n    getBrNewLineSelector: getBrNewLineSelector,\n    getNoNewLineSelector: getNoNewLineSelector,\n    shouldKeepStyles: shouldKeepStyles,\n    shouldEndContainerOnEmptyBlock: shouldEndContainerOnEmptyBlock,\n    getFontStyleValues: getFontStyleValues,\n    getFontSizeClasses: getFontSizeClasses,\n    getIconPackName: getIconPackName,\n    getIconsUrl: getIconsUrl,\n    getImagesDataImgFilter: getImagesDataImgFilter,\n    isAutomaticUploadsEnabled: isAutomaticUploadsEnabled,\n    shouldReuseFileName: shouldReuseFileName,\n    shouldReplaceBlobUris: shouldReplaceBlobUris,\n    getImageUploadUrl: getImageUploadUrl,\n    getImageUploadBasePath: getImageUploadBasePath,\n    getImagesUploadCredentials: getImagesUploadCredentials,\n    getImagesUploadHandler: getImagesUploadHandler,\n    shouldUseContentCssCors: shouldUseContentCssCors,\n    getLanguageCode: getLanguageCode,\n    getLanguageUrl: getLanguageUrl,\n    shouldIndentUseMargin: shouldIndentUseMargin,\n    getIndentation: getIndentation,\n    getContentCss: getContentCss,\n    getDirectionality: getDirectionality,\n    getInlineBoundarySelector: getInlineBoundarySelector\n  };\n  var defaultFormat = 'html';\n\n  var trimEmptyContents = function trimEmptyContents(editor, html) {\n    var blockName = Settings.getForcedRootBlock(editor);\n    var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n    return html.replace(emptyRegExp, '');\n  };\n\n  var getContentFromBody = function getContentFromBody(editor, args, body) {\n    var content;\n    args.format = args.format ? args.format : defaultFormat;\n    args.get = true;\n    args.getInner = true;\n\n    if (!args.no_events) {\n      editor.fire('BeforeGetContent', args);\n    }\n\n    if (args.format === 'raw') {\n      content = Tools.trim(TrimHtml.trimExternal(editor.serializer, body.innerHTML));\n    } else if (args.format === 'text') {\n      content = Zwsp.trim(body.innerText || body.textContent);\n    } else if (args.format === 'tree') {\n      return editor.serializer.serialize(body, args);\n    } else {\n      content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n    }\n\n    if (args.format !== 'text' && !isWsPreserveElement(Element.fromDom(body))) {\n      args.content = Tools.trim(content);\n    } else {\n      args.content = content;\n    }\n\n    if (!args.no_events) {\n      editor.fire('GetContent', args);\n    }\n\n    return args.content;\n  };\n\n  var getContent = function getContent(editor, args) {\n    if (args === void 0) {\n      args = {};\n    }\n\n    return Option.from(editor.getBody()).fold(constant(args.format === 'tree' ? new Node$1('body', 11) : ''), function (body) {\n      return getContentFromBody(editor, args, body);\n    });\n  };\n\n  var makeMap$3 = Tools.makeMap;\n\n  var Writer = function Writer(settings) {\n    var html = [];\n    var indent, indentBefore, indentAfter, encode, htmlOutput;\n    settings = settings || {};\n    indent = settings.indent;\n    indentBefore = makeMap$3(settings.indent_before || '');\n    indentAfter = makeMap$3(settings.indent_after || '');\n    encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n    htmlOutput = settings.element_format === 'html';\n    return {\n      start: function start(name, attrs, empty) {\n        var i, l, attr, value;\n\n        if (indent && indentBefore[name] && html.length > 0) {\n          value = html[html.length - 1];\n\n          if (value.length > 0 && value !== '\\n') {\n            html.push('\\n');\n          }\n        }\n\n        html.push('<', name);\n\n        if (attrs) {\n          for (i = 0, l = attrs.length; i < l; i++) {\n            attr = attrs[i];\n            html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n          }\n        }\n\n        if (!empty || htmlOutput) {\n          html[html.length] = '>';\n        } else {\n          html[html.length] = ' />';\n        }\n\n        if (empty && indent && indentAfter[name] && html.length > 0) {\n          value = html[html.length - 1];\n\n          if (value.length > 0 && value !== '\\n') {\n            html.push('\\n');\n          }\n        }\n      },\n      end: function end(name) {\n        var value;\n        html.push('</', name, '>');\n\n        if (indent && indentAfter[name] && html.length > 0) {\n          value = html[html.length - 1];\n\n          if (value.length > 0 && value !== '\\n') {\n            html.push('\\n');\n          }\n        }\n      },\n      text: function text(_text, raw) {\n        if (_text.length > 0) {\n          html[html.length] = raw ? _text : encode(_text);\n        }\n      },\n      cdata: function cdata(text) {\n        html.push('<![CDATA[', text, ']]>');\n      },\n      comment: function comment(text) {\n        html.push('<!--', text, '-->');\n      },\n      pi: function pi(name, text) {\n        if (text) {\n          html.push('<?', name, ' ', encode(text), '?>');\n        } else {\n          html.push('<?', name, '?>');\n        }\n\n        if (indent) {\n          html.push('\\n');\n        }\n      },\n      doctype: function doctype(text) {\n        html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n      },\n      reset: function reset() {\n        html.length = 0;\n      },\n      getContent: function getContent() {\n        return html.join('').replace(/\\n$/, '');\n      }\n    };\n  };\n\n  var Serializer = function Serializer(settings, schema) {\n    if (schema === void 0) {\n      schema = Schema();\n    }\n\n    var writer = Writer(settings);\n    settings = settings || {};\n    settings.validate = 'validate' in settings ? settings.validate : true;\n\n    var serialize = function serialize(node) {\n      var handlers, validate;\n      validate = settings.validate;\n      handlers = {\n        3: function _(node) {\n          writer.text(node.value, node.raw);\n        },\n        8: function _(node) {\n          writer.comment(node.value);\n        },\n        7: function _(node) {\n          writer.pi(node.name, node.value);\n        },\n        10: function _(node) {\n          writer.doctype(node.value);\n        },\n        4: function _(node) {\n          writer.cdata(node.value);\n        },\n        11: function _(node) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n      };\n      writer.reset();\n\n      var walk = function walk(node) {\n        var handler = handlers[node.type];\n        var name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\n\n        if (!handler) {\n          name = node.name;\n          isEmpty = node.shortEnded;\n          attrs = node.attributes;\n\n          if (validate && attrs && attrs.length > 1) {\n            sortedAttrs = [];\n            sortedAttrs.map = {};\n            elementRule = schema.getElementRule(node.name);\n\n            if (elementRule) {\n              for (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                attrName = elementRule.attributesOrder[i];\n\n                if (attrName in attrs.map) {\n                  attrValue = attrs.map[attrName];\n                  sortedAttrs.map[attrName] = attrValue;\n                  sortedAttrs.push({\n                    name: attrName,\n                    value: attrValue\n                  });\n                }\n              }\n\n              for (i = 0, l = attrs.length; i < l; i++) {\n                attrName = attrs[i].name;\n\n                if (!(attrName in sortedAttrs.map)) {\n                  attrValue = attrs.map[attrName];\n                  sortedAttrs.map[attrName] = attrValue;\n                  sortedAttrs.push({\n                    name: attrName,\n                    value: attrValue\n                  });\n                }\n              }\n\n              attrs = sortedAttrs;\n            }\n          }\n\n          writer.start(node.name, attrs, isEmpty);\n\n          if (!isEmpty) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n\n            writer.end(name);\n          }\n        } else {\n          handler(node);\n        }\n      };\n\n      if (node.type === 1 && !settings.inner) {\n        walk(node);\n      } else {\n        handlers[11](node);\n      }\n\n      return writer.getContent();\n    };\n\n    return {\n      serialize: serialize\n    };\n  };\n\n  var traverse = function traverse(node, fn) {\n    fn(node);\n\n    if (node.firstChild) {\n      traverse(node.firstChild, fn);\n    }\n\n    if (node.next) {\n      traverse(node.next, fn);\n    }\n  };\n\n  var findMatchingNodes = function findMatchingNodes(nodeFilters, attributeFilters, node) {\n    var nodeMatches = {};\n    var attrMatches = {};\n    var matches = [];\n\n    if (node.firstChild) {\n      traverse(node.firstChild, function (node) {\n        each(nodeFilters, function (filter) {\n          if (filter.name === node.name) {\n            if (nodeMatches[filter.name]) {\n              nodeMatches[filter.name].nodes.push(node);\n            } else {\n              nodeMatches[filter.name] = {\n                filter: filter,\n                nodes: [node]\n              };\n            }\n          }\n        });\n        each(attributeFilters, function (filter) {\n          if (typeof node.attr(filter.name) === 'string') {\n            if (attrMatches[filter.name]) {\n              attrMatches[filter.name].nodes.push(node);\n            } else {\n              attrMatches[filter.name] = {\n                filter: filter,\n                nodes: [node]\n              };\n            }\n          }\n        });\n      });\n    }\n\n    for (var name in nodeMatches) {\n      if (nodeMatches.hasOwnProperty(name)) {\n        matches.push(nodeMatches[name]);\n      }\n    }\n\n    for (var name in attrMatches) {\n      if (attrMatches.hasOwnProperty(name)) {\n        matches.push(attrMatches[name]);\n      }\n    }\n\n    return matches;\n  };\n\n  var filter$2 = function filter$2(nodeFilters, attributeFilters, node) {\n    var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n    each(matches, function (match) {\n      each(match.filter.callbacks, function (callback) {\n        callback(match.nodes, match.filter.name, {});\n      });\n    });\n  };\n\n  var hasFocus = function hasFocus(element) {\n    var doc = owner(element).dom();\n    return element.dom() === doc.activeElement;\n  };\n\n  var active = function active(_doc) {\n    var doc = _doc !== undefined ? _doc.dom() : domGlobals.document;\n    return Option.from(doc.activeElement).map(Element.fromDom);\n  };\n\n  var search = function search(element) {\n    return active(owner(element)).filter(function (e) {\n      return element.dom().contains(e.dom());\n    });\n  };\n\n  var generate$1 = function generate$1(cases) {\n    if (!isArray(cases)) {\n      throw new Error('cases must be an array');\n    }\n\n    if (cases.length === 0) {\n      throw new Error('there must be at least one case');\n    }\n\n    var constructors = [];\n    var adt = {};\n    each(cases, function (acase, count) {\n      var keys$1 = keys(acase);\n\n      if (keys$1.length !== 1) {\n        throw new Error('one and only one name per case');\n      }\n\n      var key = keys$1[0];\n      var value = acase[key];\n\n      if (adt[key] !== undefined) {\n        throw new Error('duplicate key detected:' + key);\n      } else if (key === 'cata') {\n        throw new Error('cannot have a case named cata (sorry)');\n      } else if (!isArray(value)) {\n        throw new Error('case arguments must be an array');\n      }\n\n      constructors.push(key);\n\n      adt[key] = function () {\n        var argLength = arguments.length;\n\n        if (argLength !== value.length) {\n          throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n        }\n\n        var args = new Array(argLength);\n\n        for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i];\n        }\n\n        var match = function match(branches) {\n          var branchKeys = keys(branches);\n\n          if (constructors.length !== branchKeys.length) {\n            throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n          }\n\n          var allReqd = forall(constructors, function (reqKey) {\n            return contains(branchKeys, reqKey);\n          });\n\n          if (!allReqd) {\n            throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n          }\n\n          return branches[key].apply(null, args);\n        };\n\n        return {\n          fold: function fold() {\n            if (arguments.length !== cases.length) {\n              throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\n            }\n\n            var target = arguments[count];\n            return target.apply(null, args);\n          },\n          match: match,\n          log: function log(label) {\n            domGlobals.console.log(label, {\n              constructors: constructors,\n              constructor: key,\n              params: args\n            });\n          }\n        };\n      };\n    });\n    return adt;\n  };\n\n  var Adt = {\n    generate: generate$1\n  };\n  var create$3 = Immutable('start', 'soffset', 'finish', 'foffset');\n  var SimRange = {\n    create: create$3\n  };\n  var adt = Adt.generate([{\n    before: ['element']\n  }, {\n    on: ['element', 'offset']\n  }, {\n    after: ['element']\n  }]);\n\n  var cata = function cata(subject, onBefore, onOn, onAfter) {\n    return subject.fold(onBefore, onOn, onAfter);\n  };\n\n  var getStart = function getStart(situ) {\n    return situ.fold(identity, identity, identity);\n  };\n\n  var before$3 = adt.before;\n  var on = adt.on;\n  var after$2 = adt.after;\n  var Situ = {\n    before: before$3,\n    on: on,\n    after: after$2,\n    cata: cata,\n    getStart: getStart\n  };\n  var adt$1 = Adt.generate([{\n    domRange: ['rng']\n  }, {\n    relative: ['startSitu', 'finishSitu']\n  }, {\n    exact: ['start', 'soffset', 'finish', 'foffset']\n  }]);\n\n  var exactFromRange = function exactFromRange(simRange) {\n    return adt$1.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());\n  };\n\n  var getStart$1 = function getStart$1(selection) {\n    return selection.match({\n      domRange: function domRange(rng) {\n        return Element.fromDom(rng.startContainer);\n      },\n      relative: function relative(startSitu, finishSitu) {\n        return Situ.getStart(startSitu);\n      },\n      exact: function exact(start, soffset, finish, foffset) {\n        return start;\n      }\n    });\n  };\n\n  var domRange = adt$1.domRange;\n  var relative = adt$1.relative;\n  var exact = adt$1.exact;\n\n  var getWin = function getWin(selection) {\n    var start = getStart$1(selection);\n    return defaultView(start);\n  };\n\n  var range = SimRange.create;\n  var Selection = {\n    domRange: domRange,\n    relative: relative,\n    exact: exact,\n    exactFromRange: exactFromRange,\n    getWin: getWin,\n    range: range\n  };\n  var browser$3 = PlatformDetection$1.detect().browser;\n\n  var clamp = function clamp(offset, element) {\n    var max = isText(element) ? get$5(element).length : children(element).length + 1;\n\n    if (offset > max) {\n      return max;\n    } else if (offset < 0) {\n      return 0;\n    }\n\n    return offset;\n  };\n\n  var normalizeRng = function normalizeRng(rng) {\n    return Selection.range(rng.start(), clamp(rng.soffset(), rng.start()), rng.finish(), clamp(rng.foffset(), rng.finish()));\n  };\n\n  var isOrContains = function isOrContains(root, elm) {\n    return !NodeType.isRestrictedNode(elm.dom()) && (contains$3(root, elm) || eq(root, elm));\n  };\n\n  var isRngInRoot = function isRngInRoot(root) {\n    return function (rng) {\n      return isOrContains(root, rng.start()) && isOrContains(root, rng.finish());\n    };\n  };\n\n  var shouldStore = function shouldStore(editor) {\n    return editor.inline === true || browser$3.isIE();\n  };\n\n  var nativeRangeToSelectionRange = function nativeRangeToSelectionRange(r) {\n    return Selection.range(Element.fromDom(r.startContainer), r.startOffset, Element.fromDom(r.endContainer), r.endOffset);\n  };\n\n  var readRange = function readRange(win) {\n    var selection = win.getSelection();\n    var rng = !selection || selection.rangeCount === 0 ? Option.none() : Option.from(selection.getRangeAt(0));\n    return rng.map(nativeRangeToSelectionRange);\n  };\n\n  var getBookmark$2 = function getBookmark$2(root) {\n    var win = defaultView(root);\n    return readRange(win.dom()).filter(isRngInRoot(root));\n  };\n\n  var validate = function validate(root, bookmark) {\n    return Option.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n  };\n\n  var bookmarkToNativeRng = function bookmarkToNativeRng(bookmark) {\n    var rng = domGlobals.document.createRange();\n\n    try {\n      rng.setStart(bookmark.start().dom(), bookmark.soffset());\n      rng.setEnd(bookmark.finish().dom(), bookmark.foffset());\n      return Option.some(rng);\n    } catch (_) {\n      return Option.none();\n    }\n  };\n\n  var store = function store(editor) {\n    var newBookmark = shouldStore(editor) ? getBookmark$2(Element.fromDom(editor.getBody())) : Option.none();\n    editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n  };\n\n  var storeNative = function storeNative(editor, rng) {\n    var root = Element.fromDom(editor.getBody());\n    var range = shouldStore(editor) ? Option.from(rng) : Option.none();\n    var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n    editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n  };\n\n  var getRng = function getRng(editor) {\n    var bookmark = editor.bookmark ? editor.bookmark : Option.none();\n    return bookmark.bind(curry(validate, Element.fromDom(editor.getBody()))).bind(bookmarkToNativeRng);\n  };\n\n  var restore = function restore(editor) {\n    getRng(editor).each(function (rng) {\n      editor.selection.setRng(rng);\n    });\n  };\n\n  var SelectionBookmark = {\n    store: store,\n    storeNative: storeNative,\n    readRange: readRange,\n    restore: restore,\n    getRng: getRng,\n    getBookmark: getBookmark$2,\n    validate: validate\n  };\n\n  var isEditorUIElement = function isEditorUIElement(elm) {\n    var className = elm.className.toString();\n    return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n  };\n\n  var FocusManager = {\n    isEditorUIElement: isEditorUIElement\n  };\n\n  var isManualNodeChange = function isManualNodeChange(e) {\n    return e.type === 'nodechange' && e.selectionChange;\n  };\n\n  var registerPageMouseUp = function registerPageMouseUp(editor, throttledStore) {\n    var mouseUpPage = function mouseUpPage() {\n      throttledStore.throttle();\n    };\n\n    DOMUtils$1.DOM.bind(domGlobals.document, 'mouseup', mouseUpPage);\n    editor.on('remove', function () {\n      DOMUtils$1.DOM.unbind(domGlobals.document, 'mouseup', mouseUpPage);\n    });\n  };\n\n  var registerFocusOut = function registerFocusOut(editor) {\n    editor.on('focusout', function () {\n      SelectionBookmark.store(editor);\n    });\n  };\n\n  var registerMouseUp = function registerMouseUp(editor, throttledStore) {\n    editor.on('mouseup touchend', function (e) {\n      throttledStore.throttle();\n    });\n  };\n\n  var registerEditorEvents = function registerEditorEvents(editor, throttledStore) {\n    var browser = PlatformDetection$1.detect().browser;\n\n    if (browser.isIE()) {\n      registerFocusOut(editor);\n    } else {\n      registerMouseUp(editor, throttledStore);\n    }\n\n    editor.on('keyup NodeChange', function (e) {\n      if (!isManualNodeChange(e)) {\n        SelectionBookmark.store(editor);\n      }\n    });\n  };\n\n  var register = function register(editor) {\n    var throttledStore = first(function () {\n      SelectionBookmark.store(editor);\n    }, 0);\n    editor.on('init', function () {\n      if (editor.inline) {\n        registerPageMouseUp(editor, throttledStore);\n      }\n\n      registerEditorEvents(editor, throttledStore);\n    });\n    editor.on('remove', function () {\n      throttledStore.cancel();\n    });\n  };\n\n  var SelectionRestore = {\n    register: register\n  };\n  var documentFocusInHandler;\n  var DOM$1 = DOMUtils$1.DOM;\n\n  var isEditorUIElement$1 = function isEditorUIElement$1(elm) {\n    return FocusManager.isEditorUIElement(elm);\n  };\n\n  var isEditorContentAreaElement = function isEditorContentAreaElement(elm) {\n    var classList = elm.classList;\n\n    if (classList !== undefined) {\n      return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n    } else {\n      return false;\n    }\n  };\n\n  var isUIElement = function isUIElement(editor, elm) {\n    var customSelector = editor ? editor.settings.custom_ui_selector : '';\n    var parent = DOM$1.getParent(elm, function (elm) {\n      return isEditorUIElement$1(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n    });\n    return parent !== null;\n  };\n\n  var getActiveElement = function getActiveElement() {\n    try {\n      return domGlobals.document.activeElement;\n    } catch (ex) {\n      return domGlobals.document.body;\n    }\n  };\n\n  var registerEvents = function registerEvents(editorManager, e) {\n    var editor = e.editor;\n    SelectionRestore.register(editor);\n    editor.on('focusin', function () {\n      var self = this;\n      var focusedEditor = editorManager.focusedEditor;\n\n      if (focusedEditor !== self) {\n        if (focusedEditor) {\n          focusedEditor.fire('blur', {\n            focusedEditor: self\n          });\n        }\n\n        editorManager.setActive(self);\n        editorManager.focusedEditor = self;\n        self.fire('focus', {\n          blurredEditor: focusedEditor\n        });\n        self.focus(true);\n      }\n    });\n    editor.on('focusout', function () {\n      var self = this;\n      Delay.setEditorTimeout(self, function () {\n        var focusedEditor = editorManager.focusedEditor;\n\n        if (!isUIElement(self, getActiveElement()) && focusedEditor === self) {\n          self.fire('blur', {\n            focusedEditor: null\n          });\n          editorManager.focusedEditor = null;\n        }\n      });\n    });\n\n    if (!documentFocusInHandler) {\n      documentFocusInHandler = function documentFocusInHandler(e) {\n        var activeEditor = editorManager.activeEditor;\n        var target;\n        target = e.target;\n\n        if (activeEditor && target.ownerDocument === domGlobals.document) {\n          if (target !== domGlobals.document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n            activeEditor.fire('blur', {\n              focusedEditor: null\n            });\n            editorManager.focusedEditor = null;\n          }\n        }\n      };\n\n      DOM$1.bind(domGlobals.document, 'focusin', documentFocusInHandler);\n    }\n  };\n\n  var unregisterDocumentEvents = function unregisterDocumentEvents(editorManager, e) {\n    if (editorManager.focusedEditor === e.editor) {\n      editorManager.focusedEditor = null;\n    }\n\n    if (!editorManager.activeEditor) {\n      DOM$1.unbind(domGlobals.document, 'focusin', documentFocusInHandler);\n      documentFocusInHandler = null;\n    }\n  };\n\n  var setup$2 = function setup$2(editorManager) {\n    editorManager.on('AddEditor', curry(registerEvents, editorManager));\n    editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n  };\n\n  var FocusController = {\n    setup: setup$2,\n    isEditorUIElement: isEditorUIElement$1,\n    isEditorContentAreaElement: isEditorContentAreaElement,\n    isUIElement: isUIElement\n  };\n\n  var getContentEditableHost = function getContentEditableHost(editor, node) {\n    return editor.dom.getParent(node, function (node) {\n      return editor.dom.getContentEditable(node) === 'true';\n    });\n  };\n\n  var getCollapsedNode = function getCollapsedNode(rng) {\n    return rng.collapsed ? Option.from(getNode(rng.startContainer, rng.startOffset)).map(Element.fromDom) : Option.none();\n  };\n\n  var getFocusInElement = function getFocusInElement(root, rng) {\n    return getCollapsedNode(rng).bind(function (node) {\n      if (isTableSection(node)) {\n        return Option.some(node);\n      } else if (contains$3(root, node) === false) {\n        return Option.some(root);\n      } else {\n        return Option.none();\n      }\n    });\n  };\n\n  var normalizeSelection = function normalizeSelection(editor, rng) {\n    getFocusInElement(Element.fromDom(editor.getBody()), rng).bind(function (elm) {\n      return CaretFinder.firstPositionIn(elm.dom());\n    }).fold(function () {\n      editor.selection.normalize();\n      return;\n    }, function (caretPos) {\n      return editor.selection.setRng(caretPos.toRange());\n    });\n  };\n\n  var focusBody = function focusBody(body) {\n    if (body.setActive) {\n      try {\n        body.setActive();\n      } catch (ex) {\n        body.focus();\n      }\n    } else {\n      body.focus();\n    }\n  };\n\n  var hasElementFocus = function hasElementFocus(elm) {\n    return hasFocus(elm) || search(elm).isSome();\n  };\n\n  var hasIframeFocus = function hasIframeFocus(editor) {\n    return editor.iframeElement && hasFocus(Element.fromDom(editor.iframeElement));\n  };\n\n  var hasInlineFocus = function hasInlineFocus(editor) {\n    var rawBody = editor.getBody();\n    return rawBody && hasElementFocus(Element.fromDom(rawBody));\n  };\n\n  var hasUiFocus = function hasUiFocus(editor) {\n    return active().filter(function (elem) {\n      return !FocusController.isEditorContentAreaElement(elem.dom()) && FocusController.isUIElement(editor, elem.dom());\n    }).isSome();\n  };\n\n  var hasFocus$1 = function hasFocus$1(editor) {\n    return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n  };\n\n  var hasEditorOrUiFocus = function hasEditorOrUiFocus(editor) {\n    return hasFocus$1(editor) || hasUiFocus(editor);\n  };\n\n  var focusEditor = function focusEditor(editor) {\n    var selection = editor.selection;\n    var body = editor.getBody();\n    var rng = selection.getRng();\n    editor.quirks.refreshContentEditable();\n\n    if (editor.bookmark !== undefined && hasFocus$1(editor) === false) {\n      SelectionBookmark.getRng(editor).each(function (bookmarkRng) {\n        editor.selection.setRng(bookmarkRng);\n        rng = bookmarkRng;\n      });\n    }\n\n    var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n\n    if (editor.$.contains(body, contentEditableHost)) {\n      focusBody(contentEditableHost);\n      normalizeSelection(editor, rng);\n      activateEditor(editor);\n      return;\n    }\n\n    if (!editor.inline) {\n      if (!Env.opera) {\n        focusBody(body);\n      }\n\n      editor.getWin().focus();\n    }\n\n    if (Env.gecko || editor.inline) {\n      focusBody(body);\n      normalizeSelection(editor, rng);\n    }\n\n    activateEditor(editor);\n  };\n\n  var activateEditor = function activateEditor(editor) {\n    return editor.editorManager.setActive(editor);\n  };\n\n  var focus = function focus(editor, skipFocus) {\n    if (editor.removed) {\n      return;\n    }\n\n    skipFocus ? activateEditor(editor) : focusEditor(editor);\n  };\n\n  var EditorFocus = {\n    focus: focus,\n    hasFocus: hasFocus$1,\n    hasEditorOrUiFocus: hasEditorOrUiFocus\n  };\n  var defaultFormat$1 = 'html';\n\n  var isTreeNode = function isTreeNode(content) {\n    return content instanceof Node$1;\n  };\n\n  var moveSelection = function moveSelection(editor) {\n    if (EditorFocus.hasFocus(editor)) {\n      CaretFinder.firstPositionIn(editor.getBody()).each(function (pos) {\n        var node = pos.getNode();\n        var caretPos = NodeType.isTable(node) ? CaretFinder.firstPositionIn(node).getOr(pos) : pos;\n        editor.selection.setRng(caretPos.toRange());\n      });\n    }\n  };\n\n  var setEditorHtml = function setEditorHtml(editor, html) {\n    editor.dom.setHTML(editor.getBody(), html);\n    moveSelection(editor);\n  };\n\n  var setContentString = function setContentString(editor, body, content, args) {\n    var forcedRootBlockName, padd;\n\n    if (content.length === 0 || /^\\s+$/.test(content)) {\n      padd = '<br data-mce-bogus=\"1\">';\n\n      if (body.nodeName === 'TABLE') {\n        content = '<tr><td>' + padd + '</td></tr>';\n      } else if (/^(UL|OL)$/.test(body.nodeName)) {\n        content = '<li>' + padd + '</li>';\n      }\n\n      forcedRootBlockName = Settings.getForcedRootBlock(editor);\n\n      if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n        content = padd;\n        content = editor.dom.createHTML(forcedRootBlockName, editor.settings.forced_root_block_attrs, content);\n      } else if (!content) {\n        content = '<br data-mce-bogus=\"1\">';\n      }\n\n      setEditorHtml(editor, content);\n      editor.fire('SetContent', args);\n    } else {\n      if (args.format !== 'raw') {\n        content = Serializer({\n          validate: editor.validate\n        }, editor.schema).serialize(editor.parser.parse(content, {\n          isRootContent: true,\n          insert: true\n        }));\n      }\n\n      args.content = isWsPreserveElement(Element.fromDom(body)) ? content : Tools.trim(content);\n      setEditorHtml(editor, args.content);\n\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n    }\n\n    return args.content;\n  };\n\n  var setContentTree = function setContentTree(editor, body, content, args) {\n    filter$2(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n    var html = Serializer({\n      validate: editor.validate\n    }, editor.schema).serialize(content);\n    args.content = isWsPreserveElement(Element.fromDom(body)) ? html : Tools.trim(html);\n    setEditorHtml(editor, args.content);\n\n    if (!args.no_events) {\n      editor.fire('SetContent', args);\n    }\n\n    return content;\n  };\n\n  var setContent = function setContent(editor, content, args) {\n    if (args === void 0) {\n      args = {};\n    }\n\n    args.format = args.format ? args.format : defaultFormat$1;\n    args.set = true;\n    args.content = isTreeNode(content) ? '' : content;\n\n    if (!isTreeNode(content) && !args.no_events) {\n      editor.fire('BeforeSetContent', args);\n      content = args.content;\n    }\n\n    return Option.from(editor.getBody()).fold(constant(content), function (body) {\n      return isTreeNode(content) ? setContentTree(editor, body, content, args) : setContentString(editor, body, content, args);\n    });\n  };\n\n  var firePreProcess = function firePreProcess(editor, args) {\n    return editor.fire('PreProcess', args);\n  };\n\n  var firePostProcess = function firePostProcess(editor, args) {\n    return editor.fire('PostProcess', args);\n  };\n\n  var fireRemove = function fireRemove(editor) {\n    return editor.fire('remove');\n  };\n\n  var fireDetach = function fireDetach(editor) {\n    return editor.fire('detach');\n  };\n\n  var fireSwitchMode = function fireSwitchMode(editor, mode) {\n    return editor.fire('SwitchMode', {\n      mode: mode\n    });\n  };\n\n  var fireObjectResizeStart = function fireObjectResizeStart(editor, target, width, height) {\n    editor.fire('ObjectResizeStart', {\n      target: target,\n      width: width,\n      height: height\n    });\n  };\n\n  var fireObjectResized = function fireObjectResized(editor, target, width, height) {\n    editor.fire('ObjectResized', {\n      target: target,\n      width: width,\n      height: height\n    });\n  };\n\n  var Events = {\n    firePreProcess: firePreProcess,\n    firePostProcess: firePostProcess,\n    fireRemove: fireRemove,\n    fireDetach: fireDetach,\n    fireSwitchMode: fireSwitchMode,\n    fireObjectResizeStart: fireObjectResizeStart,\n    fireObjectResized: fireObjectResized\n  };\n  var DOM$2 = DOMUtils$1.DOM;\n\n  var restoreOriginalStyles = function restoreOriginalStyles(editor) {\n    DOM$2.setStyle(editor.id, 'display', editor.orgDisplay);\n  };\n\n  var safeDestroy = function safeDestroy(x) {\n    return Option.from(x).each(function (x) {\n      return x.destroy();\n    });\n  };\n\n  var clearDomReferences = function clearDomReferences(editor) {\n    editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n    editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n    editor.iframeElement = editor.targetElm = null;\n\n    if (editor.selection) {\n      editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n    }\n  };\n\n  var restoreForm = function restoreForm(editor) {\n    var form = editor.formElement;\n\n    if (form) {\n      if (form._mceOldSubmit) {\n        form.submit = form._mceOldSubmit;\n        form._mceOldSubmit = null;\n      }\n\n      DOM$2.unbind(form, 'submit reset', editor.formEventDelegate);\n    }\n  };\n\n  var remove$6 = function remove$6(editor) {\n    if (!editor.removed) {\n      var _selectionOverrides = editor._selectionOverrides,\n          editorUpload = editor.editorUpload;\n      var body = editor.getBody();\n      var element = editor.getElement();\n\n      if (body) {\n        editor.save({\n          is_removing: true\n        });\n      }\n\n      editor.removed = true;\n      editor.unbindAllNativeEvents();\n\n      if (editor.hasHiddenInput && element) {\n        DOM$2.remove(element.nextSibling);\n      }\n\n      Events.fireRemove(editor);\n      editor.editorManager.remove(editor);\n\n      if (!editor.inline && body) {\n        restoreOriginalStyles(editor);\n      }\n\n      Events.fireDetach(editor);\n      DOM$2.remove(editor.getContainer());\n      safeDestroy(_selectionOverrides);\n      safeDestroy(editorUpload);\n      editor.destroy();\n    }\n  };\n\n  var destroy = function destroy(editor, automatic) {\n    var selection = editor.selection,\n        dom = editor.dom;\n\n    if (editor.destroyed) {\n      return;\n    }\n\n    if (!automatic && !editor.removed) {\n      editor.remove();\n      return;\n    }\n\n    if (!automatic) {\n      editor.editorManager.off('beforeunload', editor._beforeUnload);\n\n      if (editor.theme && editor.theme.destroy) {\n        editor.theme.destroy();\n      }\n\n      safeDestroy(selection);\n      safeDestroy(dom);\n    }\n\n    restoreForm(editor);\n    clearDomReferences(editor);\n    editor.destroyed = true;\n  };\n\n  var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n\n  var shallow$1 = function shallow$1(old, nu) {\n    return nu;\n  };\n\n  var deep$1 = function deep$1(old, nu) {\n    var bothObjects = isObject(old) && isObject(nu);\n    return bothObjects ? deepMerge(old, nu) : nu;\n  };\n\n  var baseMerge = function baseMerge(merger) {\n    return function () {\n      var objects = new Array(arguments.length);\n\n      for (var i = 0; i < objects.length; i++) {\n        objects[i] = arguments[i];\n      }\n\n      if (objects.length === 0) {\n        throw new Error('Can\\'t merge zero objects');\n      }\n\n      var ret = {};\n\n      for (var j = 0; j < objects.length; j++) {\n        var curObject = objects[j];\n\n        for (var key in curObject) {\n          if (hasOwnProperty$2.call(curObject, key)) {\n            ret[key] = merger(ret[key], curObject[key]);\n          }\n        }\n      }\n\n      return ret;\n    };\n  };\n\n  var deepMerge = baseMerge(deep$1);\n  var merge = baseMerge(shallow$1);\n  var sectionResult = Immutable('sections', 'settings');\n  var detection = PlatformDetection$1.detect();\n  var isTouch = detection.deviceType.isTouch();\n  var isPhone = detection.deviceType.isPhone();\n  var mobilePlugins = ['lists', 'autolink', 'autosave'];\n  var defaultMobileSettings = {\n    theme: 'mobile'\n  };\n\n  var normalizePlugins = function normalizePlugins(plugins) {\n    var pluginNames = isArray(plugins) ? plugins.join(' ') : plugins;\n    var trimmedPlugins = map(isString(pluginNames) ? pluginNames.split(' ') : [], trim$2);\n    return filter(trimmedPlugins, function (item) {\n      return item.length > 0;\n    });\n  };\n\n  var filterMobilePlugins = function filterMobilePlugins(plugins) {\n    return filter(plugins, curry(contains, mobilePlugins));\n  };\n\n  var extractSections = function extractSections(keys, settings) {\n    var result = bifilter(settings, function (value, key) {\n      return contains(keys, key);\n    });\n    return sectionResult(result.t, result.f);\n  };\n\n  var getSection = function getSection(sectionResult, name, defaults) {\n    if (defaults === void 0) {\n      defaults = {};\n    }\n\n    var sections = sectionResult.sections();\n    var sectionSettings = sections.hasOwnProperty(name) ? sections[name] : {};\n    return Tools.extend({}, defaults, sectionSettings);\n  };\n\n  var hasSection = function hasSection(sectionResult, name) {\n    return sectionResult.sections().hasOwnProperty(name);\n  };\n\n  var isSectionTheme = function isSectionTheme(sectionResult, name, theme) {\n    var section = sectionResult.sections();\n    return hasSection(sectionResult, name) && section[name].theme === theme;\n  };\n\n  var getSectionConfig = function getSectionConfig(sectionResult, name) {\n    return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n  };\n\n  var getDefaultSettings = function getDefaultSettings(id, documentBaseUrl, editor) {\n    return {\n      id: id,\n      theme: 'silver',\n      plugins: '',\n      document_base_url: documentBaseUrl,\n      add_form_submit_trigger: true,\n      submit_patch: true,\n      add_unload_trigger: true,\n      convert_urls: true,\n      relative_urls: true,\n      remove_script_host: true,\n      object_resizing: true,\n      doctype: '<!DOCTYPE html>',\n      visual: true,\n      font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n      forced_root_block: 'p',\n      hidden_input: true,\n      inline_styles: true,\n      convert_fonts_to_spans: true,\n      indent: true,\n      indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n      indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n      entity_encoding: 'named',\n      url_converter: editor.convertURL,\n      url_converter_scope: editor\n    };\n  };\n\n  var getExternalPlugins = function getExternalPlugins(overrideSettings, settings) {\n    var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n\n    if (overrideSettings && overrideSettings.external_plugins) {\n      return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n    } else {\n      return userDefinedExternalPlugins;\n    }\n  };\n\n  var combinePlugins = function combinePlugins(forcedPlugins, plugins) {\n    return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n  };\n\n  var processPlugins = function processPlugins(isTouchDevice, sectionResult, defaultOverrideSettings, settings) {\n    var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n    var desktopPlugins = normalizePlugins(settings.plugins);\n    var mobileConfig = getSectionConfig(sectionResult, 'mobile');\n    var mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n    var platformPlugins = isTouchDevice && isSectionTheme(sectionResult, 'mobile', 'mobile') ? filterMobilePlugins(mobilePlugins) : isTouchDevice && hasSection(sectionResult, 'mobile') ? mobilePlugins : desktopPlugins;\n    var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n    return Tools.extend(settings, {\n      plugins: combinedPlugins.join(' ')\n    });\n  };\n\n  var isOnMobile = function isOnMobile(isTouchDevice, sectionResult) {\n    var isInline = sectionResult.settings().inline;\n    return isTouchDevice && hasSection(sectionResult, 'mobile') && !isInline;\n  };\n\n  var combineSettings = function combineSettings(isTouchDevice, isPhone, defaultSettings, defaultOverrideSettings, settings) {\n    var defaultDeviceSettings = isPhone ? {\n      mobile: defaultMobileSettings\n    } : {};\n    var sectionResult = extractSections(['mobile'], deepMerge(defaultDeviceSettings, settings));\n    var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isTouchDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, {\n      validate: true,\n      external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\n    });\n    return processPlugins(isTouchDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n  };\n\n  var getEditorSettings = function getEditorSettings(editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n    var defaultSettings = getDefaultSettings(id, documentBaseUrl, editor);\n    return combineSettings(isTouch, isPhone, defaultSettings, defaultOverrideSettings, settings);\n  };\n\n  var getFiltered = function getFiltered(predicate, editor, name) {\n    return Option.from(editor.settings[name]).filter(predicate);\n  };\n\n  var getParamObject = function getParamObject(value) {\n    var output = {};\n\n    if (typeof value === 'string') {\n      each(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n        var arr = val.split('=');\n\n        if (arr.length > 1) {\n          output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\n        } else {\n          output[Tools.trim(arr[0])] = Tools.trim(arr[0]);\n        }\n      });\n    } else {\n      output = value;\n    }\n\n    return output;\n  };\n\n  var isArrayOf = function isArrayOf(p) {\n    return function (a) {\n      return isArray(a) && forall(a, p);\n    };\n  };\n\n  var getParam = function getParam(editor, name, defaultVal, type) {\n    var value = name in editor.settings ? editor.settings[name] : defaultVal;\n\n    if (type === 'hash') {\n      return getParamObject(value);\n    } else if (type === 'string') {\n      return getFiltered(isString, editor, name).getOr(defaultVal);\n    } else if (type === 'number') {\n      return getFiltered(isNumber, editor, name).getOr(defaultVal);\n    } else if (type === 'boolean') {\n      return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n    } else if (type === 'object') {\n      return getFiltered(isObject, editor, name).getOr(defaultVal);\n    } else if (type === 'array') {\n      return getFiltered(isArray, editor, name).getOr(defaultVal);\n    } else if (type === 'string[]') {\n      return getFiltered(isArrayOf(isString), editor, name).getOr(defaultVal);\n    } else if (type === 'function') {\n      return getFiltered(isFunction, editor, name).getOr(defaultVal);\n    } else {\n      return value;\n    }\n  };\n\n  var getProp = function getProp(propName, elm) {\n    var rawElm = elm.dom();\n    return rawElm[propName];\n  };\n\n  var getComputedSizeProp = function getComputedSizeProp(propName, elm) {\n    return parseInt(get$2(elm, propName), 10);\n  };\n\n  var getClientWidth = curry(getProp, 'clientWidth');\n  var getClientHeight = curry(getProp, 'clientHeight');\n  var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n  var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n\n  var getBoundingClientRect$1 = function getBoundingClientRect$1(elm) {\n    return elm.dom().getBoundingClientRect();\n  };\n\n  var isInsideElementContentArea = function isInsideElementContentArea(bodyElm, clientX, clientY) {\n    var clientWidth = getClientWidth(bodyElm);\n    var clientHeight = getClientHeight(bodyElm);\n    return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n  };\n\n  var transpose = function transpose(inline, elm, clientX, clientY) {\n    var clientRect = getBoundingClientRect$1(elm);\n    var deltaX = inline ? clientRect.left + elm.dom().clientLeft + getMarginLeft(elm) : 0;\n    var deltaY = inline ? clientRect.top + elm.dom().clientTop + getMarginTop(elm) : 0;\n    var x = clientX - deltaX;\n    var y = clientY - deltaY;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var isXYInContentArea = function isXYInContentArea(editor, clientX, clientY) {\n    var bodyElm = Element.fromDom(editor.getBody());\n    var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n    var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n    return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n  };\n\n  var fromDomSafe = function fromDomSafe(node) {\n    return Option.from(node).map(Element.fromDom);\n  };\n\n  var isEditorAttachedToDom = function isEditorAttachedToDom(editor) {\n    var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n    return fromDomSafe(rawContainer).map(function (container) {\n      return contains$3(owner(container), container);\n    }).getOr(false);\n  };\n\n  var EditorView = {\n    isXYInContentArea: isXYInContentArea,\n    isEditorAttachedToDom: isEditorAttachedToDom\n  };\n\n  function NotificationManagerImpl() {\n    var unimplemented = function unimplemented() {\n      throw new Error('Theme did not provide a NotificationManager implementation.');\n    };\n\n    return {\n      open: unimplemented,\n      close: unimplemented,\n      reposition: unimplemented,\n      getArgs: unimplemented\n    };\n  }\n\n  function NotificationManager(editor) {\n    var notifications = [];\n\n    var getImplementation = function getImplementation() {\n      var theme = editor.theme;\n      return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n    };\n\n    var getTopNotification = function getTopNotification() {\n      return Option.from(notifications[0]);\n    };\n\n    var isEqual = function isEqual(a, b) {\n      return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n    };\n\n    var reposition = function reposition() {\n      if (notifications.length > 0) {\n        getImplementation().reposition(notifications);\n      }\n    };\n\n    var addNotification = function addNotification(notification) {\n      notifications.push(notification);\n    };\n\n    var closeNotification = function closeNotification(notification) {\n      findIndex(notifications, function (otherNotification) {\n        return otherNotification === notification;\n      }).each(function (index) {\n        notifications.splice(index, 1);\n      });\n    };\n\n    var open = function open(spec) {\n      if (editor.removed || !EditorView.isEditorAttachedToDom(editor)) {\n        return;\n      }\n\n      return find(notifications, function (notification) {\n        return isEqual(getImplementation().getArgs(notification), spec);\n      }).getOrThunk(function () {\n        editor.editorManager.setActive(editor);\n        var notification = getImplementation().open(spec, function () {\n          closeNotification(notification);\n          reposition();\n        });\n        addNotification(notification);\n        reposition();\n        return notification;\n      });\n    };\n\n    var close = function close() {\n      getTopNotification().each(function (notification) {\n        getImplementation().close(notification);\n        closeNotification(notification);\n        reposition();\n      });\n    };\n\n    var getNotifications = function getNotifications() {\n      return notifications;\n    };\n\n    var registerEvents = function registerEvents(editor) {\n      editor.on('SkinLoaded', function () {\n        var serviceMessage = editor.settings.service_message;\n\n        if (serviceMessage) {\n          open({\n            text: serviceMessage,\n            type: 'warn',\n            timeout: 0\n          });\n        }\n      });\n      editor.on('ResizeEditor ResizeWindow NodeChange', function () {\n        Delay.requestAnimationFrame(reposition);\n      });\n      editor.on('remove', function () {\n        each(notifications.slice(), function (notification) {\n          getImplementation().close(notification);\n        });\n      });\n    };\n\n    registerEvents(editor);\n    return {\n      open: open,\n      close: close,\n      getNotifications: getNotifications\n    };\n  }\n\n  function WindowManagerImpl() {\n    var unimplemented = function unimplemented() {\n      throw new Error('Theme did not provide a WindowManager implementation.');\n    };\n\n    return {\n      open: unimplemented,\n      openUrl: unimplemented,\n      alert: unimplemented,\n      confirm: unimplemented,\n      close: unimplemented,\n      getParams: unimplemented,\n      setParams: unimplemented\n    };\n  }\n\n  var WindowManager = function WindowManager(editor) {\n    var dialogs = [];\n\n    var getImplementation = function getImplementation() {\n      var theme = editor.theme;\n      return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n    };\n\n    var funcBind = function funcBind(scope, f) {\n      return function () {\n        return f ? f.apply(scope, arguments) : undefined;\n      };\n    };\n\n    var fireOpenEvent = function fireOpenEvent(dialog) {\n      editor.fire('OpenWindow', {\n        dialog: dialog\n      });\n    };\n\n    var fireCloseEvent = function fireCloseEvent(dialog) {\n      editor.fire('CloseWindow', {\n        dialog: dialog\n      });\n    };\n\n    var addDialog = function addDialog(dialog) {\n      dialogs.push(dialog);\n      fireOpenEvent(dialog);\n    };\n\n    var closeDialog = function closeDialog(dialog) {\n      fireCloseEvent(dialog);\n      dialogs = filter(dialogs, function (otherDialog) {\n        return otherDialog !== dialog;\n      });\n\n      if (dialogs.length === 0) {\n        editor.focus();\n      }\n    };\n\n    var getTopDialog = function getTopDialog() {\n      return Option.from(dialogs[dialogs.length - 1]);\n    };\n\n    var storeSelectionAndOpenDialog = function storeSelectionAndOpenDialog(openDialog) {\n      editor.editorManager.setActive(editor);\n      SelectionBookmark.store(editor);\n      var dialog = openDialog();\n      addDialog(dialog);\n      return dialog;\n    };\n\n    var open = function open(args, params) {\n      return storeSelectionAndOpenDialog(function () {\n        return getImplementation().open(args, params, closeDialog);\n      });\n    };\n\n    var openUrl = function openUrl(args) {\n      return storeSelectionAndOpenDialog(function () {\n        return getImplementation().openUrl(args, closeDialog);\n      });\n    };\n\n    var alert = function alert(message, callback, scope) {\n      getImplementation().alert(message, funcBind(scope ? scope : this, callback));\n    };\n\n    var confirm = function confirm(message, callback, scope) {\n      getImplementation().confirm(message, funcBind(scope ? scope : this, callback));\n    };\n\n    var close = function close() {\n      getTopDialog().each(function (dialog) {\n        getImplementation().close(dialog);\n        closeDialog(dialog);\n      });\n    };\n\n    editor.on('remove', function () {\n      each(dialogs, function (dialog) {\n        getImplementation().close(dialog);\n      });\n    });\n    return {\n      open: open,\n      openUrl: openUrl,\n      alert: alert,\n      confirm: confirm,\n      close: close\n    };\n  };\n\n  var displayNotification = function displayNotification(editor, message) {\n    editor.notificationManager.open({\n      type: 'error',\n      text: message\n    });\n  };\n\n  var displayError = function displayError(editor, message) {\n    if (editor._skinLoaded) {\n      displayNotification(editor, message);\n    } else {\n      editor.on('SkinLoaded', function () {\n        displayNotification(editor, message);\n      });\n    }\n  };\n\n  var uploadError = function uploadError(editor, message) {\n    displayError(editor, I18n.translate(['Failed to upload image: {0}', message]));\n  };\n\n  var logError = function logError(msg) {\n    domGlobals.console.error(msg);\n  };\n\n  var createLoadError = function createLoadError(type, url, name) {\n    return name ? 'Failed to load ' + type + ': ' + name + ' from url ' + url : 'Failed to load ' + type + ' url: ' + url;\n  };\n\n  var pluginLoadError = function pluginLoadError(url, name) {\n    logError(createLoadError('plugin', url, name));\n  };\n\n  var iconsLoadError = function iconsLoadError(url, name) {\n    logError(createLoadError('icons', url, name));\n  };\n\n  var languageLoadError = function languageLoadError(url, name) {\n    logError(createLoadError('language', url, name));\n  };\n\n  var pluginInitError = function pluginInitError(editor, name, err) {\n    var message = I18n.translate(['Failed to initialize plugin: {0}', name]);\n    initError(message, err);\n    displayError(editor, message);\n  };\n\n  var initError = function initError(message) {\n    var x = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n\n    var console = domGlobals.window.console;\n\n    if (console) {\n      if (console.error) {\n        console.error.apply(console, arguments);\n      } else {\n        console.log.apply(console, arguments);\n      }\n    }\n  };\n\n  var ErrorReporter = {\n    pluginLoadError: pluginLoadError,\n    iconsLoadError: iconsLoadError,\n    languageLoadError: languageLoadError,\n    pluginInitError: pluginInitError,\n    uploadError: uploadError,\n    displayError: displayError,\n    initError: initError\n  };\n\n  var getAll = function getAll() {\n    return {\n      'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n      'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n      'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n      'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n      'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n      'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n      'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n      'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n      'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z\" fill-rule=\"evenodd\"/></svg>',\n      'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z\" fill-rule=\"evenodd\"/></svg>',\n      'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n      'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z\" fill-rule=\"nonzero\"/></svg>',\n      'border-width': '<svg width=\"24\" height=\"24\"><path d=\"M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z\" fill-rule=\"evenodd\"/></svg>',\n      'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n      'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n      'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n      'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n      'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n      'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n      'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n      'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n      'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n      'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n      'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n      'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n      'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n      'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n      'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n      'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" fill-rule=\"nonzero\"/></svg>',\n      'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n      'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n      'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z\"/></g></svg>',\n      'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z\"/></svg>',\n      'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z\" fill-rule=\"evenodd\"/></svg>',\n      'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n      'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n      'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n      'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n      'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n      'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z\"/></g></svg>',\n      'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n      'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n      'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n      'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z\" fill-rule=\"nonzero\"/></svg>',\n      'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z\" fill-rule=\"nonzero\"/></svg>',\n      'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n      'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n      'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n      'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n      'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n      'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z\"/></svg>',\n      'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n      'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n      'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n      'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n      'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n      'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z\" fill-rule=\"nonzero\"/></svg>',\n      'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\" fill-rule=\"nonzero\"/></svg>',\n      'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n      'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n      'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n      'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n      'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n      'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n      'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n      'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n      'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n      'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n      'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n      'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n      'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n      'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n      'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n      'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n      'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n      'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n      'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n      'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n      'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n      'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n      'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n      'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n      'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n      'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z\" fill-rule=\"nonzero\"/></svg>',\n      'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n      'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n      'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n      'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n      'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n      'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n      'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n      'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n      'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n      'paragraph': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n      'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n      'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n      'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n      'plus': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke=\"#000\" stroke-width=\"2\"><path d=\"M12 5v14M5 12h14\"/></g></svg>',\n      'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" fill-rule=\"evenodd\"/></svg>',\n      'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n      'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n      'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n      'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n      'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z\"/></g></svg>',\n      'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z\" fill-rule=\"evenodd\"/></svg>',\n      'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n      'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z\"/></g></svg>',\n      'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z\" fill-rule=\"evenodd\"/></svg>',\n      'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n      'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n      'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n      'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n      'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n      'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z\" fill-rule=\"nonzero\"/></svg>',\n      'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n      'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z\"/></svg>',\n      'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n      'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n      'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n      'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n      'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z\" fill-rule=\"nonzero\"/></g></svg>',\n      'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n      'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n      'table-cell-properties': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z\" fill-rule=\"evenodd\"/></svg>',\n      'table-cell-select-all': '<svg width=\"24\" height=\"24\"><path d=\"M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z\" fill-rule=\"nonzero\"/></svg>',\n      'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z\" opacity=\".2\"/><path d=\"M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z\"/></g></svg>',\n      'table-delete-column': '<svg width=\"24\" height=\"24\"><path d=\"M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z\" fill-rule=\"evenodd\"/></svg>',\n      'table-delete-row': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z\" fill-rule=\"evenodd\"/></svg>',\n      'table-delete-table': '<svg width=\"24\" height=\"26\"><path d=\"M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n      'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path d=\"M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z\" fill-rule=\"evenodd\"/></svg>',\n      'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path d=\"M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n      'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path d=\"M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z\" fill-rule=\"evenodd\"/></svg>',\n      'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path d=\"M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n      'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n      'table-merge-cells': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z\" fill-rule=\"evenodd\"/></svg>',\n      'table-row-properties': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z\" fill-rule=\"evenodd\"/></svg>',\n      'table-split-cells': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z\" fill-rule=\"evenodd\"/></svg>',\n      'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n      'table': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z\" fill-rule=\"evenodd\"/></svg>',\n      'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n      'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n      'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n      'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n      'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n      'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n      'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n      'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n      'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n      'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n      'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n      'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n      'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n      'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n      'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z\" fill-rule=\"nonzero\"/></svg>',\n      'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z\" fill-rule=\"nonzero\"/></svg>'\n    };\n  };\n\n  var CreateIconManager = function CreateIconManager() {\n    var lookup = {};\n\n    var add = function add(id, iconPack) {\n      lookup[id] = iconPack;\n    };\n\n    var get = function get(id) {\n      if (lookup[id]) {\n        return lookup[id];\n      }\n\n      return {\n        icons: {}\n      };\n    };\n\n    var has$1 = function has$1(id) {\n      return has(lookup, id);\n    };\n\n    return {\n      add: add,\n      get: get,\n      has: has$1\n    };\n  };\n\n  var IconManager = CreateIconManager();\n  var PluginManager = AddOnManager$1.PluginManager;\n  var ThemeManager = AddOnManager$1.ThemeManager;\n\n  function Uploader(uploadStatus, settings) {\n    var pendingPromises = {};\n\n    var pathJoin = function pathJoin(path1, path2) {\n      if (path1) {\n        return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n      }\n\n      return path2;\n    };\n\n    var defaultHandler = function defaultHandler(blobInfo, success, failure, progress) {\n      var xhr, formData;\n      xhr = new domGlobals.XMLHttpRequest();\n      xhr.open('POST', settings.url);\n      xhr.withCredentials = settings.credentials;\n\n      xhr.upload.onprogress = function (e) {\n        progress(e.loaded / e.total * 100);\n      };\n\n      xhr.onerror = function () {\n        failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n      };\n\n      xhr.onload = function () {\n        var json;\n\n        if (xhr.status < 200 || xhr.status >= 300) {\n          failure('HTTP Error: ' + xhr.status);\n          return;\n        }\n\n        json = JSON.parse(xhr.responseText);\n\n        if (!json || typeof json.location !== 'string') {\n          failure('Invalid JSON: ' + xhr.responseText);\n          return;\n        }\n\n        success(pathJoin(settings.basePath, json.location));\n      };\n\n      formData = new domGlobals.FormData();\n      formData.append('file', blobInfo.blob(), blobInfo.filename());\n      xhr.send(formData);\n    };\n\n    var noUpload = function noUpload() {\n      return new promiseObj(function (resolve) {\n        resolve([]);\n      });\n    };\n\n    var handlerSuccess = function handlerSuccess(blobInfo, url) {\n      return {\n        url: url,\n        blobInfo: blobInfo,\n        status: true\n      };\n    };\n\n    var handlerFailure = function handlerFailure(blobInfo, error) {\n      return {\n        url: '',\n        blobInfo: blobInfo,\n        status: false,\n        error: error\n      };\n    };\n\n    var resolvePending = function resolvePending(blobUri, result) {\n      Tools.each(pendingPromises[blobUri], function (resolve) {\n        resolve(result);\n      });\n      delete pendingPromises[blobUri];\n    };\n\n    var uploadBlobInfo = function uploadBlobInfo(blobInfo, handler, openNotification) {\n      uploadStatus.markPending(blobInfo.blobUri());\n      return new promiseObj(function (resolve) {\n        var notification, progress;\n\n        var noop = function noop() {};\n\n        try {\n          var closeNotification_1 = function closeNotification_1() {\n            if (notification) {\n              notification.close();\n              progress = noop;\n            }\n          };\n\n          var success = function success(url) {\n            closeNotification_1();\n            uploadStatus.markUploaded(blobInfo.blobUri(), url);\n            resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n            resolve(handlerSuccess(blobInfo, url));\n          };\n\n          var failure = function failure(error) {\n            closeNotification_1();\n            uploadStatus.removeFailed(blobInfo.blobUri());\n            resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\n            resolve(handlerFailure(blobInfo, error));\n          };\n\n          progress = function progress(percent) {\n            if (percent < 0 || percent > 100) {\n              return;\n            }\n\n            if (!notification) {\n              notification = openNotification();\n            }\n\n            notification.progressBar.value(percent);\n          };\n\n          handler(blobInfo, success, failure, progress);\n        } catch (ex) {\n          resolve(handlerFailure(blobInfo, ex.message));\n        }\n      });\n    };\n\n    var isDefaultHandler = function isDefaultHandler(handler) {\n      return handler === defaultHandler;\n    };\n\n    var pendingUploadBlobInfo = function pendingUploadBlobInfo(blobInfo) {\n      var blobUri = blobInfo.blobUri();\n      return new promiseObj(function (resolve) {\n        pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n        pendingPromises[blobUri].push(resolve);\n      });\n    };\n\n    var uploadBlobs = function uploadBlobs(blobInfos, openNotification) {\n      blobInfos = Tools.grep(blobInfos, function (blobInfo) {\n        return !uploadStatus.isUploaded(blobInfo.blobUri());\n      });\n      return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\n        return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n      }));\n    };\n\n    var upload = function upload(blobInfos, openNotification) {\n      return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n    };\n\n    if (isFunction(settings.handler) === false) {\n      settings.handler = defaultHandler;\n    }\n\n    return {\n      upload: upload\n    };\n  }\n\n  var blobUriToBlob = function blobUriToBlob(url) {\n    return new promiseObj(function (resolve, reject) {\n      var rejectWithError = function rejectWithError() {\n        reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n      };\n\n      try {\n        var xhr = new domGlobals.XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'blob';\n\n        xhr.onload = function () {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            rejectWithError();\n          }\n        };\n\n        xhr.onerror = rejectWithError;\n        xhr.send();\n      } catch (ex) {\n        rejectWithError();\n      }\n    });\n  };\n\n  var parseDataUri = function parseDataUri(uri) {\n    var type, matches;\n    var uriParts = decodeURIComponent(uri).split(',');\n    matches = /data:([^;]+)/.exec(uriParts[0]);\n\n    if (matches) {\n      type = matches[1];\n    }\n\n    return {\n      type: type,\n      data: uriParts[1]\n    };\n  };\n\n  var dataUriToBlob = function dataUriToBlob(uri) {\n    return new promiseObj(function (resolve) {\n      var str, arr, i;\n      var uriParts = parseDataUri(uri);\n\n      try {\n        str = domGlobals.atob(uriParts.data);\n      } catch (e) {\n        resolve(new domGlobals.Blob([]));\n        return;\n      }\n\n      arr = new Uint8Array(str.length);\n\n      for (i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n\n      resolve(new domGlobals.Blob([arr], {\n        type: uriParts.type\n      }));\n    });\n  };\n\n  var uriToBlob = function uriToBlob(url) {\n    if (url.indexOf('blob:') === 0) {\n      return blobUriToBlob(url);\n    }\n\n    if (url.indexOf('data:') === 0) {\n      return dataUriToBlob(url);\n    }\n\n    return null;\n  };\n\n  var blobToDataUri = function blobToDataUri(blob) {\n    return new promiseObj(function (resolve) {\n      var reader = new domGlobals.FileReader();\n\n      reader.onloadend = function () {\n        resolve(reader.result);\n      };\n\n      reader.readAsDataURL(blob);\n    });\n  };\n\n  var Conversions = {\n    uriToBlob: uriToBlob,\n    blobToDataUri: blobToDataUri,\n    parseDataUri: parseDataUri\n  };\n  var count = 0;\n\n  var uniqueId = function uniqueId(prefix) {\n    return (prefix || 'blobid') + count++;\n  };\n\n  var imageToBlobInfo = function imageToBlobInfo(blobCache, img, resolve, reject) {\n    var base64, blobInfo;\n\n    if (img.src.indexOf('blob:') === 0) {\n      blobInfo = blobCache.getByUri(img.src);\n\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        Conversions.uriToBlob(img.src).then(function (blob) {\n          Conversions.blobToDataUri(blob).then(function (dataUri) {\n            base64 = Conversions.parseDataUri(dataUri).data;\n            blobInfo = blobCache.create(uniqueId(), blob, base64);\n            blobCache.add(blobInfo);\n            resolve({\n              image: img,\n              blobInfo: blobInfo\n            });\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n\n      return;\n    }\n\n    base64 = Conversions.parseDataUri(img.src).data;\n    blobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n      return cachedBlobInfo.base64() === base64;\n    });\n\n    if (blobInfo) {\n      resolve({\n        image: img,\n        blobInfo: blobInfo\n      });\n    } else {\n      Conversions.uriToBlob(img.src).then(function (blob) {\n        blobInfo = blobCache.create(uniqueId(), blob, base64);\n        blobCache.add(blobInfo);\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      }, function (err) {\n        reject(err);\n      });\n    }\n  };\n\n  var getAllImages = function getAllImages(elm) {\n    return elm ? from$1(elm.getElementsByTagName('img')) : [];\n  };\n\n  function ImageScanner(uploadStatus, blobCache) {\n    var cachedPromises = {};\n\n    var findAll = function findAll(elm, predicate) {\n      var images;\n\n      if (!predicate) {\n        predicate = constant(true);\n      }\n\n      images = filter(getAllImages(elm), function (img) {\n        var src = img.src;\n\n        if (!Env.fileApi) {\n          return false;\n        }\n\n        if (img.hasAttribute('data-mce-bogus')) {\n          return false;\n        }\n\n        if (img.hasAttribute('data-mce-placeholder')) {\n          return false;\n        }\n\n        if (!src || src === Env.transparentSrc) {\n          return false;\n        }\n\n        if (src.indexOf('blob:') === 0) {\n          return !uploadStatus.isUploaded(src) && predicate(img);\n        }\n\n        if (src.indexOf('data:') === 0) {\n          return predicate(img);\n        }\n\n        return false;\n      });\n      var promises = map(images, function (img) {\n        if (cachedPromises[img.src]) {\n          return new promiseObj(function (resolve) {\n            cachedPromises[img.src].then(function (imageInfo) {\n              if (typeof imageInfo === 'string') {\n                return imageInfo;\n              }\n\n              resolve({\n                image: img,\n                blobInfo: imageInfo.blobInfo\n              });\n            });\n          });\n        }\n\n        var newPromise = new promiseObj(function (resolve, reject) {\n          imageToBlobInfo(blobCache, img, resolve, reject);\n        }).then(function (result) {\n          delete cachedPromises[result.image.src];\n          return result;\n        }).catch(function (error) {\n          delete cachedPromises[img.src];\n          return error;\n        });\n        cachedPromises[img.src] = newPromise;\n        return newPromise;\n      });\n      return promiseObj.all(promises);\n    };\n\n    return {\n      findAll: findAll\n    };\n  }\n\n  var count$1 = 0;\n\n  var seed = function seed() {\n    var rnd = function rnd() {\n      return Math.round(Math.random() * 4294967295).toString(36);\n    };\n\n    var now = new Date().getTime();\n    return 's' + now.toString(36) + rnd() + rnd() + rnd();\n  };\n\n  var uuid = function uuid(prefix) {\n    return prefix + count$1++ + seed();\n  };\n\n  var Uuid = {\n    uuid: uuid\n  };\n\n  var BlobCache = function BlobCache() {\n    var cache = [];\n\n    var mimeToExt = function mimeToExt(mime) {\n      var mimes = {\n        'image/jpeg': 'jpg',\n        'image/jpg': 'jpg',\n        'image/gif': 'gif',\n        'image/png': 'png'\n      };\n      return mimes[mime.toLowerCase()] || 'dat';\n    };\n\n    var create = function create(o, blob, base64, filename) {\n      if (isString(o)) {\n        var id = o;\n        return toBlobInfo({\n          id: id,\n          name: filename,\n          blob: blob,\n          base64: base64\n        });\n      } else if (isObject(o)) {\n        return toBlobInfo(o);\n      } else {\n        throw new Error('Unknown input type');\n      }\n    };\n\n    var toBlobInfo = function toBlobInfo(o) {\n      var id, name;\n\n      if (!o.blob || !o.base64) {\n        throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n      }\n\n      id = o.id || Uuid.uuid('blobid');\n      name = o.name || id;\n      return {\n        id: constant(id),\n        name: constant(name),\n        filename: constant(name + '.' + mimeToExt(o.blob.type)),\n        blob: constant(o.blob),\n        base64: constant(o.base64),\n        blobUri: constant(o.blobUri || domGlobals.URL.createObjectURL(o.blob)),\n        uri: constant(o.uri)\n      };\n    };\n\n    var add = function add(blobInfo) {\n      if (!get(blobInfo.id())) {\n        cache.push(blobInfo);\n      }\n    };\n\n    var get = function get(id) {\n      return findFirst(function (cachedBlobInfo) {\n        return cachedBlobInfo.id() === id;\n      });\n    };\n\n    var findFirst = function findFirst(predicate) {\n      return filter(cache, predicate)[0];\n    };\n\n    var getByUri = function getByUri(blobUri) {\n      return findFirst(function (blobInfo) {\n        return blobInfo.blobUri() === blobUri;\n      });\n    };\n\n    var removeByUri = function removeByUri(blobUri) {\n      cache = filter(cache, function (blobInfo) {\n        if (blobInfo.blobUri() === blobUri) {\n          domGlobals.URL.revokeObjectURL(blobInfo.blobUri());\n          return false;\n        }\n\n        return true;\n      });\n    };\n\n    var destroy = function destroy() {\n      each(cache, function (cachedBlobInfo) {\n        domGlobals.URL.revokeObjectURL(cachedBlobInfo.blobUri());\n      });\n      cache = [];\n    };\n\n    return {\n      create: create,\n      add: add,\n      get: get,\n      getByUri: getByUri,\n      findFirst: findFirst,\n      removeByUri: removeByUri,\n      destroy: destroy\n    };\n  };\n\n  function UploadStatus() {\n    var PENDING = 1,\n        UPLOADED = 2;\n    var blobUriStatuses = {};\n\n    var createStatus = function createStatus(status, resultUri) {\n      return {\n        status: status,\n        resultUri: resultUri\n      };\n    };\n\n    var hasBlobUri = function hasBlobUri(blobUri) {\n      return blobUri in blobUriStatuses;\n    };\n\n    var getResultUri = function getResultUri(blobUri) {\n      var result = blobUriStatuses[blobUri];\n      return result ? result.resultUri : null;\n    };\n\n    var isPending = function isPending(blobUri) {\n      return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n    };\n\n    var isUploaded = function isUploaded(blobUri) {\n      return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n    };\n\n    var markPending = function markPending(blobUri) {\n      blobUriStatuses[blobUri] = createStatus(PENDING, null);\n    };\n\n    var markUploaded = function markUploaded(blobUri, resultUri) {\n      blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n    };\n\n    var removeFailed = function removeFailed(blobUri) {\n      delete blobUriStatuses[blobUri];\n    };\n\n    var destroy = function destroy() {\n      blobUriStatuses = {};\n    };\n\n    return {\n      hasBlobUri: hasBlobUri,\n      getResultUri: getResultUri,\n      isPending: isPending,\n      isUploaded: isUploaded,\n      markPending: markPending,\n      markUploaded: markUploaded,\n      removeFailed: removeFailed,\n      destroy: destroy\n    };\n  }\n\n  var EditorUpload = function EditorUpload(editor) {\n    var blobCache = BlobCache();\n    var uploader, imageScanner;\n    var uploadStatus = UploadStatus();\n    var urlFilters = [];\n\n    var aliveGuard = function aliveGuard(callback) {\n      return function (result) {\n        if (editor.selection) {\n          return callback(result);\n        }\n\n        return [];\n      };\n    };\n\n    var cacheInvalidator = function cacheInvalidator() {\n      return '?' + new Date().getTime();\n    };\n\n    var replaceString = function replaceString(content, search, replace) {\n      var index = 0;\n\n      do {\n        index = content.indexOf(search, index);\n\n        if (index !== -1) {\n          content = content.substring(0, index) + replace + content.substr(index + search.length);\n          index += replace.length - search.length + 1;\n        }\n      } while (index !== -1);\n\n      return content;\n    };\n\n    var replaceImageUrl = function replaceImageUrl(content, targetUrl, replacementUrl) {\n      content = replaceString(content, 'src=\"' + targetUrl + '\"', 'src=\"' + replacementUrl + '\"');\n      content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n      return content;\n    };\n\n    var replaceUrlInUndoStack = function replaceUrlInUndoStack(targetUrl, replacementUrl) {\n      each(editor.undoManager.data, function (level) {\n        if (level.type === 'fragmented') {\n          level.fragments = map(level.fragments, function (fragment) {\n            return replaceImageUrl(fragment, targetUrl, replacementUrl);\n          });\n        } else {\n          level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n        }\n      });\n    };\n\n    var openNotification = function openNotification() {\n      return editor.notificationManager.open({\n        text: editor.translate('Image uploading...'),\n        type: 'info',\n        timeout: -1,\n        progressBar: true\n      });\n    };\n\n    var replaceImageUri = function replaceImageUri(image, resultUri) {\n      blobCache.removeByUri(image.src);\n      replaceUrlInUndoStack(image.src, resultUri);\n      editor.$(image).attr({\n        'src': Settings.shouldReuseFileName(editor) ? resultUri + cacheInvalidator() : resultUri,\n        'data-mce-src': editor.convertURL(resultUri, 'src')\n      });\n    };\n\n    var uploadImages = function uploadImages(callback) {\n      if (!uploader) {\n        uploader = Uploader(uploadStatus, {\n          url: Settings.getImageUploadUrl(editor),\n          basePath: Settings.getImageUploadBasePath(editor),\n          credentials: Settings.getImagesUploadCredentials(editor),\n          handler: Settings.getImagesUploadHandler(editor)\n        });\n      }\n\n      return scanForImages().then(aliveGuard(function (imageInfos) {\n        var blobInfos;\n        blobInfos = map(imageInfos, function (imageInfo) {\n          return imageInfo.blobInfo;\n        });\n        return uploader.upload(blobInfos, openNotification).then(aliveGuard(function (result) {\n          var filteredResult = map(result, function (uploadInfo, index) {\n            var image = imageInfos[index].image;\n\n            if (uploadInfo.status && Settings.shouldReplaceBlobUris(editor)) {\n              replaceImageUri(image, uploadInfo.url);\n            } else if (uploadInfo.error) {\n              ErrorReporter.uploadError(editor, uploadInfo.error);\n            }\n\n            return {\n              element: image,\n              status: uploadInfo.status\n            };\n          });\n\n          if (callback) {\n            callback(filteredResult);\n          }\n\n          return filteredResult;\n        }));\n      }));\n    };\n\n    var uploadImagesAuto = function uploadImagesAuto(callback) {\n      if (Settings.isAutomaticUploadsEnabled(editor)) {\n        return uploadImages(callback);\n      }\n    };\n\n    var isValidDataUriImage = function isValidDataUriImage(imgElm) {\n      if (forall(urlFilters, function (filter) {\n        return filter(imgElm);\n      }) === false) {\n        return false;\n      }\n\n      if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n        var dataImgFilter = Settings.getImagesDataImgFilter(editor);\n        return dataImgFilter(imgElm);\n      }\n\n      return true;\n    };\n\n    var addFilter = function addFilter(filter) {\n      urlFilters.push(filter);\n    };\n\n    var scanForImages = function scanForImages() {\n      if (!imageScanner) {\n        imageScanner = ImageScanner(uploadStatus, blobCache);\n      }\n\n      return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n        result = filter(result, function (resultItem) {\n          if (typeof resultItem === 'string') {\n            ErrorReporter.displayError(editor, resultItem);\n            return false;\n          }\n\n          return true;\n        });\n        each(result, function (resultItem) {\n          replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n          resultItem.image.src = resultItem.blobInfo.blobUri();\n          resultItem.image.removeAttribute('data-mce-src');\n        });\n        return result;\n      }));\n    };\n\n    var destroy = function destroy() {\n      blobCache.destroy();\n      uploadStatus.destroy();\n      imageScanner = uploader = null;\n    };\n\n    var replaceBlobUris = function replaceBlobUris(content) {\n      return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n        var resultUri = uploadStatus.getResultUri(blobUri);\n\n        if (resultUri) {\n          return 'src=\"' + resultUri + '\"';\n        }\n\n        var blobInfo = blobCache.getByUri(blobUri);\n\n        if (!blobInfo) {\n          blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n            return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n          }, null);\n        }\n\n        if (blobInfo) {\n          var blob = blobInfo.blob();\n          return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n        }\n\n        return match;\n      });\n    };\n\n    editor.on('SetContent', function () {\n      if (Settings.isAutomaticUploadsEnabled(editor)) {\n        uploadImagesAuto();\n      } else {\n        scanForImages();\n      }\n    });\n    editor.on('RawSaveContent', function (e) {\n      e.content = replaceBlobUris(e.content);\n    });\n    editor.on('GetContent', function (e) {\n      if (e.source_view || e.format === 'raw') {\n        return;\n      }\n\n      e.content = replaceBlobUris(e.content);\n    });\n    editor.on('PostRender', function () {\n      editor.parser.addNodeFilter('img', function (images) {\n        each(images, function (img) {\n          var src = img.attr('src');\n\n          if (blobCache.getByUri(src)) {\n            return;\n          }\n\n          var resultUri = uploadStatus.getResultUri(src);\n\n          if (resultUri) {\n            img.attr('src', resultUri);\n          }\n        });\n      });\n    });\n    return {\n      blobCache: blobCache,\n      addFilter: addFilter,\n      uploadImages: uploadImages,\n      uploadImagesAuto: uploadImagesAuto,\n      scanForImages: scanForImages,\n      destroy: destroy\n    };\n  };\n\n  var dropLast = function dropLast(xs) {\n    return xs.slice(0, -1);\n  };\n\n  var parentsUntil$1 = function parentsUntil$1(start, root, predicate) {\n    if (contains$3(root, start)) {\n      return dropLast(parents(start, function (elm) {\n        return predicate(elm) || eq(elm, root);\n      }));\n    } else {\n      return [];\n    }\n  };\n\n  var parents$1 = function parents$1(start, root) {\n    return parentsUntil$1(start, root, constant(false));\n  };\n\n  var parentsAndSelf = function parentsAndSelf(start, root) {\n    return [start].concat(parents$1(start, root));\n  };\n\n  var Parents = {\n    parentsUntil: parentsUntil$1,\n    parents: parents$1,\n    parentsAndSelf: parentsAndSelf\n  };\n\n  var isBlockElement = function isBlockElement(blockElements, node) {\n    return blockElements.hasOwnProperty(node.nodeName);\n  };\n\n  var isValidTarget = function isValidTarget(blockElements, node) {\n    if (NodeType.isText(node)) {\n      return true;\n    } else if (NodeType.isElement(node)) {\n      return !isBlockElement(blockElements, node) && !Bookmarks.isBookmarkNode(node);\n    } else {\n      return false;\n    }\n  };\n\n  var hasBlockParent = function hasBlockParent(blockElements, root, node) {\n    return exists(Parents.parents(Element.fromDom(node), Element.fromDom(root)), function (elm) {\n      return isBlockElement(blockElements, elm.dom());\n    });\n  };\n\n  var shouldRemoveTextNode = function shouldRemoveTextNode(blockElements, node) {\n    if (NodeType.isText(node)) {\n      if (node.nodeValue.length === 0) {\n        return true;\n      } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var addRootBlocks = function addRootBlocks(editor) {\n    var dom = editor.dom,\n        selection = editor.selection;\n    var schema = editor.schema,\n        blockElements = schema.getBlockElements();\n    var node = selection.getStart();\n    var rootNode = editor.getBody();\n    var rng;\n    var startContainer, startOffset, endContainer, endOffset, rootBlockNode;\n    var tempNode, wrapped, restoreSelection;\n    var rootNodeName;\n    var forcedRootBlock = Settings.getForcedRootBlock(editor);\n\n    if (!node || !NodeType.isElement(node) || !forcedRootBlock) {\n      return;\n    }\n\n    rootNodeName = rootNode.nodeName.toLowerCase();\n\n    if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n      return;\n    }\n\n    rng = selection.getRng();\n    startContainer = rng.startContainer;\n    startOffset = rng.startOffset;\n    endContainer = rng.endContainer;\n    endOffset = rng.endOffset;\n    restoreSelection = EditorFocus.hasFocus(editor);\n    node = rootNode.firstChild;\n\n    while (node) {\n      if (isValidTarget(blockElements, node)) {\n        if (shouldRemoveTextNode(blockElements, node)) {\n          tempNode = node;\n          node = node.nextSibling;\n          dom.remove(tempNode);\n          continue;\n        }\n\n        if (!rootBlockNode) {\n          rootBlockNode = dom.create(forcedRootBlock, Settings.getForcedRootBlockAttrs(editor));\n          node.parentNode.insertBefore(rootBlockNode, node);\n          wrapped = true;\n        }\n\n        tempNode = node;\n        node = node.nextSibling;\n        rootBlockNode.appendChild(tempNode);\n      } else {\n        rootBlockNode = null;\n        node = node.nextSibling;\n      }\n    }\n\n    if (wrapped && restoreSelection) {\n      rng.setStart(startContainer, startOffset);\n      rng.setEnd(endContainer, endOffset);\n      selection.setRng(rng);\n      editor.nodeChanged();\n    }\n  };\n\n  var setup$3 = function setup$3(editor) {\n    if (Settings.getForcedRootBlock(editor)) {\n      editor.on('NodeChange', curry(addRootBlocks, editor));\n    }\n  };\n\n  var ForceBlocks = {\n    setup: setup$3\n  };\n\n  var isEq$1 = function isEq$1(rng1, rng2) {\n    return rng1 && rng2 && rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset && rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset;\n  };\n\n  var RangeCompare = {\n    isEq: isEq$1\n  };\n\n  var getStartNode = function getStartNode(rng) {\n    var sc = rng.startContainer,\n        so = rng.startOffset;\n\n    if (NodeType.isText(sc)) {\n      return so === 0 ? Option.some(Element.fromDom(sc)) : Option.none();\n    } else {\n      return Option.from(sc.childNodes[so]).map(Element.fromDom);\n    }\n  };\n\n  var getEndNode = function getEndNode(rng) {\n    var ec = rng.endContainer,\n        eo = rng.endOffset;\n\n    if (NodeType.isText(ec)) {\n      return eo === ec.data.length ? Option.some(Element.fromDom(ec)) : Option.none();\n    } else {\n      return Option.from(ec.childNodes[eo - 1]).map(Element.fromDom);\n    }\n  };\n\n  var getFirstChildren = function getFirstChildren(node) {\n    return firstChild(node).fold(constant([node]), function (child) {\n      return [node].concat(getFirstChildren(child));\n    });\n  };\n\n  var getLastChildren = function getLastChildren(node) {\n    return lastChild(node).fold(constant([node]), function (child) {\n      if (name(child) === 'br') {\n        return prevSibling(child).map(function (sibling) {\n          return [node].concat(getLastChildren(sibling));\n        }).getOr([]);\n      } else {\n        return [node].concat(getLastChildren(child));\n      }\n    });\n  };\n\n  var hasAllContentsSelected = function hasAllContentsSelected(elm, rng) {\n    return liftN([getStartNode(rng), getEndNode(rng)], function (startNode, endNode) {\n      var start = find(getFirstChildren(elm), curry(eq, startNode));\n      var end = find(getLastChildren(elm), curry(eq, endNode));\n      return start.isSome() && end.isSome();\n    }).getOr(false);\n  };\n\n  var moveEndPoint$1 = function moveEndPoint$1(dom, rng, node, start) {\n    var root = node,\n        walker = new TreeWalker(node, root);\n    var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n\n    do {\n      if (node.nodeType === 3 && Tools.trim(node.nodeValue).length !== 0) {\n        if (start) {\n          rng.setStart(node, 0);\n        } else {\n          rng.setEnd(node, node.nodeValue.length);\n        }\n\n        return;\n      }\n\n      if (nonEmptyElementsMap[node.nodeName] && !/^(TD|TH)$/.test(node.nodeName)) {\n        if (start) {\n          rng.setStartBefore(node);\n        } else {\n          if (node.nodeName === 'BR') {\n            rng.setEndBefore(node);\n          } else {\n            rng.setEndAfter(node);\n          }\n        }\n\n        return;\n      }\n\n      if (Env.ie && Env.ie < 11 && dom.isBlock(node) && dom.isEmpty(node)) {\n        if (start) {\n          rng.setStart(node, 0);\n        } else {\n          rng.setEnd(node, 0);\n        }\n\n        return;\n      }\n    } while (node = start ? walker.next() : walker.prev());\n\n    if (root.nodeName === 'BODY') {\n      if (start) {\n        rng.setStart(root, 0);\n      } else {\n        rng.setEnd(root, root.childNodes.length);\n      }\n    }\n  };\n\n  var hasAnyRanges = function hasAnyRanges(editor) {\n    var sel = editor.selection.getSel();\n    return sel && sel.rangeCount > 0;\n  };\n\n  var NodeChange = function () {\n    function NodeChange(editor) {\n      this.lastPath = [];\n      this.editor = editor;\n      var lastRng;\n      var self = this;\n\n      if (!('onselectionchange' in editor.getDoc())) {\n        editor.on('NodeChange click mouseup keyup focus', function (e) {\n          var nativeRng, fakeRng;\n          nativeRng = editor.selection.getRng();\n          fakeRng = {\n            startContainer: nativeRng.startContainer,\n            startOffset: nativeRng.startOffset,\n            endContainer: nativeRng.endContainer,\n            endOffset: nativeRng.endOffset\n          };\n\n          if (e.type === 'nodechange' || !RangeCompare.isEq(fakeRng, lastRng)) {\n            editor.fire('SelectionChange');\n          }\n\n          lastRng = fakeRng;\n        });\n      }\n\n      editor.on('contextmenu', function () {\n        editor.fire('SelectionChange');\n      });\n      editor.on('SelectionChange', function () {\n        var startElm = editor.selection.getStart(true);\n\n        if (!startElm || !Env.range && editor.selection.isCollapsed()) {\n          return;\n        }\n\n        if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n          editor.nodeChanged({\n            selectionChange: true\n          });\n        }\n      });\n      editor.on('mouseup', function (e) {\n        if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n          if (editor.selection.getNode().nodeName === 'IMG') {\n            Delay.setEditorTimeout(editor, function () {\n              editor.nodeChanged();\n            });\n          } else {\n            editor.nodeChanged();\n          }\n        }\n      });\n    }\n\n    NodeChange.prototype.nodeChanged = function (args) {\n      var selection = this.editor.selection;\n      var node, parents, root;\n\n      if (this.editor.initialized && selection && !this.editor.settings.disable_nodechange && !this.editor.readonly) {\n        root = this.editor.getBody();\n        node = selection.getStart(true) || root;\n\n        if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n          node = root;\n        }\n\n        parents = [];\n        this.editor.dom.getParent(node, function (node) {\n          if (node === root) {\n            return true;\n          }\n\n          parents.push(node);\n        });\n        args = args || {};\n        args.element = node;\n        args.parents = parents;\n        this.editor.fire('NodeChange', args);\n      }\n    };\n\n    NodeChange.prototype.isSameElementPath = function (startElm) {\n      var i, currentPath;\n      currentPath = this.editor.$(startElm).parentsUntil(this.editor.getBody()).add(startElm);\n\n      if (currentPath.length === this.lastPath.length) {\n        for (i = currentPath.length; i >= 0; i--) {\n          if (currentPath[i] !== this.lastPath[i]) {\n            break;\n          }\n        }\n\n        if (i === -1) {\n          this.lastPath = currentPath;\n          return true;\n        }\n      }\n\n      this.lastPath = currentPath;\n      return false;\n    };\n\n    return NodeChange;\n  }();\n\n  var getAbsolutePosition = function getAbsolutePosition(elm) {\n    var doc, docElem, win, clientRect;\n    clientRect = elm.getBoundingClientRect();\n    doc = elm.ownerDocument;\n    docElem = doc.documentElement;\n    win = doc.defaultView;\n    return {\n      top: clientRect.top + win.pageYOffset - docElem.clientTop,\n      left: clientRect.left + win.pageXOffset - docElem.clientLeft\n    };\n  };\n\n  var getBodyPosition = function getBodyPosition(editor) {\n    return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n      left: 0,\n      top: 0\n    };\n  };\n\n  var getScrollPosition = function getScrollPosition(editor) {\n    var body = editor.getBody();\n    return editor.inline ? {\n      left: body.scrollLeft,\n      top: body.scrollTop\n    } : {\n      left: 0,\n      top: 0\n    };\n  };\n\n  var getBodyScroll = function getBodyScroll(editor) {\n    var body = editor.getBody(),\n        docElm = editor.getDoc().documentElement;\n    var inlineScroll = {\n      left: body.scrollLeft,\n      top: body.scrollTop\n    };\n    var iframeScroll = {\n      left: body.scrollLeft || docElm.scrollLeft,\n      top: body.scrollTop || docElm.scrollTop\n    };\n    return editor.inline ? inlineScroll : iframeScroll;\n  };\n\n  var getMousePosition = function getMousePosition(editor, event) {\n    if (event.target.ownerDocument !== editor.getDoc()) {\n      var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n      var scrollPosition = getBodyScroll(editor);\n      return {\n        left: event.pageX - iframePosition.left + scrollPosition.left,\n        top: event.pageY - iframePosition.top + scrollPosition.top\n      };\n    }\n\n    return {\n      left: event.pageX,\n      top: event.pageY\n    };\n  };\n\n  var calculatePosition = function calculatePosition(bodyPosition, scrollPosition, mousePosition) {\n    return {\n      pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n      pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n    };\n  };\n\n  var calc = function calc(editor, event) {\n    return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n  };\n\n  var MousePosition = {\n    calc: calc\n  };\n  var isContentEditableFalse$6 = NodeType.isContentEditableFalse,\n      isContentEditableTrue$2 = NodeType.isContentEditableTrue;\n\n  var isDraggable = function isDraggable(rootElm, elm) {\n    return isContentEditableFalse$6(elm) && elm !== rootElm;\n  };\n\n  var isValidDropTarget = function isValidDropTarget(editor, targetElement, dragElement) {\n    if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n      return false;\n    }\n\n    return !isContentEditableFalse$6(targetElement);\n  };\n\n  var cloneElement = function cloneElement(elm) {\n    var cloneElm = elm.cloneNode(true);\n    cloneElm.removeAttribute('data-mce-selected');\n    return cloneElm;\n  };\n\n  var createGhost = function createGhost(editor, elm, width, height) {\n    var clonedElm = elm.cloneNode(true);\n    editor.dom.setStyles(clonedElm, {\n      width: width,\n      height: height\n    });\n    editor.dom.setAttrib(clonedElm, 'data-mce-selected', null);\n    var ghostElm = editor.dom.create('div', {\n      'class': 'mce-drag-container',\n      'data-mce-bogus': 'all',\n      'unselectable': 'on',\n      'contenteditable': 'false'\n    });\n    editor.dom.setStyles(ghostElm, {\n      position: 'absolute',\n      opacity: 0.5,\n      overflow: 'hidden',\n      border: 0,\n      padding: 0,\n      margin: 0,\n      width: width,\n      height: height\n    });\n    editor.dom.setStyles(clonedElm, {\n      margin: 0,\n      boxSizing: 'border-box'\n    });\n    ghostElm.appendChild(clonedElm);\n    return ghostElm;\n  };\n\n  var appendGhostToBody = function appendGhostToBody(ghostElm, bodyElm) {\n    if (ghostElm.parentNode !== bodyElm) {\n      bodyElm.appendChild(ghostElm);\n    }\n  };\n\n  var moveGhost = function moveGhost(ghostElm, position, width, height, maxX, maxY) {\n    var overflowX = 0,\n        overflowY = 0;\n    ghostElm.style.left = position.pageX + 'px';\n    ghostElm.style.top = position.pageY + 'px';\n\n    if (position.pageX + width > maxX) {\n      overflowX = position.pageX + width - maxX;\n    }\n\n    if (position.pageY + height > maxY) {\n      overflowY = position.pageY + height - maxY;\n    }\n\n    ghostElm.style.width = width - overflowX + 'px';\n    ghostElm.style.height = height - overflowY + 'px';\n  };\n\n  var removeElement = function removeElement(elm) {\n    if (elm && elm.parentNode) {\n      elm.parentNode.removeChild(elm);\n    }\n  };\n\n  var isLeftMouseButtonPressed = function isLeftMouseButtonPressed(e) {\n    return e.button === 0;\n  };\n\n  var hasDraggableElement = function hasDraggableElement(state) {\n    return state.element;\n  };\n\n  var applyRelPos = function applyRelPos(state, position) {\n    return {\n      pageX: position.pageX - state.relX,\n      pageY: position.pageY + 5\n    };\n  };\n\n  var start = function start(state, editor) {\n    return function (e) {\n      if (isLeftMouseButtonPressed(e)) {\n        var ceElm = find(editor.dom.getParents(e.target), Predicate.or(isContentEditableFalse$6, isContentEditableTrue$2)).getOr(null);\n\n        if (isDraggable(editor.getBody(), ceElm)) {\n          var elmPos = editor.dom.getPos(ceElm);\n          var bodyElm = editor.getBody();\n          var docElm = editor.getDoc().documentElement;\n          state.element = ceElm;\n          state.screenX = e.screenX;\n          state.screenY = e.screenY;\n          state.maxX = (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2;\n          state.maxY = (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2;\n          state.relX = e.pageX - elmPos.x;\n          state.relY = e.pageY - elmPos.y;\n          state.width = ceElm.offsetWidth;\n          state.height = ceElm.offsetHeight;\n          state.ghost = createGhost(editor, ceElm, state.width, state.height);\n        }\n      }\n    };\n  };\n\n  var move = function move(state, editor) {\n    var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\n      editor._selectionOverrides.hideFakeCaret();\n\n      editor.selection.placeCaretAt(clientX, clientY);\n    }, 0);\n    return function (e) {\n      var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n\n      if (hasDraggableElement(state) && !state.dragging && movement > 10) {\n        var args = editor.fire('dragstart', {\n          target: state.element\n        });\n\n        if (args.isDefaultPrevented()) {\n          return;\n        }\n\n        state.dragging = true;\n        editor.focus();\n      }\n\n      if (state.dragging) {\n        var targetPos = applyRelPos(state, MousePosition.calc(editor, e));\n        appendGhostToBody(state.ghost, editor.getBody());\n        moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n        throttledPlaceCaretAt(e.clientX, e.clientY);\n      }\n    };\n  };\n\n  var getRawTarget = function getRawTarget(selection) {\n    var rng = selection.getSel().getRangeAt(0);\n    var startContainer = rng.startContainer;\n    return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n  };\n\n  var drop = function drop(state, editor) {\n    return function (e) {\n      if (state.dragging) {\n        if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n          var targetClone_1 = cloneElement(state.element);\n          var args = editor.fire('drop', {\n            targetClone: targetClone_1,\n            clientX: e.clientX,\n            clientY: e.clientY\n          });\n\n          if (!args.isDefaultPrevented()) {\n            targetClone_1 = args.targetClone;\n            editor.undoManager.transact(function () {\n              removeElement(state.element);\n              editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n\n              editor._selectionOverrides.hideFakeCaret();\n            });\n          }\n        }\n      }\n\n      removeDragState(state);\n    };\n  };\n\n  var stop = function stop(state, editor) {\n    return function () {\n      if (state.dragging) {\n        editor.fire('dragend');\n      }\n\n      removeDragState(state);\n    };\n  };\n\n  var removeDragState = function removeDragState(state) {\n    state.dragging = false;\n    state.element = null;\n    removeElement(state.ghost);\n  };\n\n  var bindFakeDragEvents = function bindFakeDragEvents(editor) {\n    var state = {};\n    var pageDom, dragStartHandler, dragHandler, dropHandler, dragEndHandler, rootDocument;\n    pageDom = DOMUtils$1.DOM;\n    rootDocument = domGlobals.document;\n    dragStartHandler = start(state, editor);\n    dragHandler = move(state, editor);\n    dropHandler = drop(state, editor);\n    dragEndHandler = stop(state, editor);\n    editor.on('mousedown', dragStartHandler);\n    editor.on('mousemove', dragHandler);\n    editor.on('mouseup', dropHandler);\n    pageDom.bind(rootDocument, 'mousemove', dragHandler);\n    pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n    editor.on('remove', function () {\n      pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n      pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n    });\n  };\n\n  var blockIeDrop = function blockIeDrop(editor) {\n    editor.on('drop', function (e) {\n      var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n\n      if (isContentEditableFalse$6(realTarget) || isContentEditableFalse$6(editor.dom.getContentEditableParent(realTarget))) {\n        e.preventDefault();\n      }\n    });\n  };\n\n  var init = function init(editor) {\n    bindFakeDragEvents(editor);\n    blockIeDrop(editor);\n  };\n\n  var DragDropOverrides = {\n    init: init\n  };\n\n  var getNodeClientRects = function getNodeClientRects(node) {\n    var toArrayWithNode = function toArrayWithNode(clientRects) {\n      return map(clientRects, function (clientRect) {\n        clientRect = clone$1(clientRect);\n        clientRect.node = node;\n        return clientRect;\n      });\n    };\n\n    if (NodeType.isElement(node)) {\n      return toArrayWithNode(node.getClientRects());\n    }\n\n    if (NodeType.isText(node)) {\n      var rng = node.ownerDocument.createRange();\n      rng.setStart(node, 0);\n      rng.setEnd(node, node.data.length);\n      return toArrayWithNode(rng.getClientRects());\n    }\n  };\n\n  var getClientRects = function getClientRects(node) {\n    return foldl(node, function (result, node) {\n      return result.concat(getNodeClientRects(node));\n    }, []);\n  };\n\n  var VDirection;\n\n  (function (VDirection) {\n    VDirection[VDirection['Up'] = -1] = 'Up';\n    VDirection[VDirection['Down'] = 1] = 'Down';\n  })(VDirection || (VDirection = {}));\n\n  var findUntil = function findUntil(direction, root, predicateFn, node) {\n    while (node = findNode(node, direction, isEditableCaretCandidate, root)) {\n      if (predicateFn(node)) {\n        return;\n      }\n    }\n  };\n\n  var walkUntil = function walkUntil(direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n    var line = 0,\n        node;\n    var result = [];\n    var targetClientRect;\n\n    var add = function add(node) {\n      var i, clientRect, clientRects;\n      clientRects = getClientRects([node]);\n\n      if (direction === -1) {\n        clientRects = clientRects.reverse();\n      }\n\n      for (i = 0; i < clientRects.length; i++) {\n        clientRect = clientRects[i];\n\n        if (isBeflowFn(clientRect, targetClientRect)) {\n          continue;\n        }\n\n        if (result.length > 0 && isAboveFn(clientRect, ArrUtils.last(result))) {\n          line++;\n        }\n\n        clientRect.line = line;\n\n        if (predicateFn(clientRect)) {\n          return true;\n        }\n\n        result.push(clientRect);\n      }\n    };\n\n    targetClientRect = ArrUtils.last(caretPosition.getClientRects());\n\n    if (!targetClientRect) {\n      return result;\n    }\n\n    node = caretPosition.getNode();\n    add(node);\n    findUntil(direction, root, add, node);\n    return result;\n  };\n\n  var aboveLineNumber = function aboveLineNumber(lineNumber, clientRect) {\n    return clientRect.line > lineNumber;\n  };\n\n  var isLineNumber = function isLineNumber(lineNumber, clientRect) {\n    return clientRect.line === lineNumber;\n  };\n\n  var upUntil = curry(walkUntil, VDirection.Up, isAbove, isBelow);\n  var downUntil = curry(walkUntil, VDirection.Down, isBelow, isAbove);\n\n  var positionsUntil = function positionsUntil(direction, root, predicateFn, node) {\n    var caretWalker = CaretWalker(root);\n    var walkFn, isBelowFn, isAboveFn, caretPosition;\n    var result = [];\n    var line = 0,\n        clientRect,\n        targetClientRect;\n\n    var getClientRect = function getClientRect(caretPosition) {\n      if (direction === 1) {\n        return ArrUtils.last(caretPosition.getClientRects());\n      }\n\n      return ArrUtils.last(caretPosition.getClientRects());\n    };\n\n    if (direction === 1) {\n      walkFn = caretWalker.next;\n      isBelowFn = isBelow;\n      isAboveFn = isAbove;\n      caretPosition = CaretPosition$1.after(node);\n    } else {\n      walkFn = caretWalker.prev;\n      isBelowFn = isAbove;\n      isAboveFn = isBelow;\n      caretPosition = CaretPosition$1.before(node);\n    }\n\n    targetClientRect = getClientRect(caretPosition);\n\n    do {\n      if (!caretPosition.isVisible()) {\n        continue;\n      }\n\n      clientRect = getClientRect(caretPosition);\n\n      if (isAboveFn(clientRect, targetClientRect)) {\n        continue;\n      }\n\n      if (result.length > 0 && isBelowFn(clientRect, ArrUtils.last(result))) {\n        line++;\n      }\n\n      clientRect = clone$1(clientRect);\n      clientRect.position = caretPosition;\n      clientRect.line = line;\n\n      if (predicateFn(clientRect)) {\n        return result;\n      }\n\n      result.push(clientRect);\n    } while (caretPosition = walkFn(caretPosition));\n\n    return result;\n  };\n\n  var isAboveLine = function isAboveLine(lineNumber) {\n    return function (clientRect) {\n      return aboveLineNumber(lineNumber, clientRect);\n    };\n  };\n\n  var isLine = function isLine(lineNumber) {\n    return function (clientRect) {\n      return isLineNumber(lineNumber, clientRect);\n    };\n  };\n\n  var isContentEditableFalse$7 = NodeType.isContentEditableFalse;\n  var findNode$1 = findNode;\n\n  var distanceToRectLeft = function distanceToRectLeft(clientRect, clientX) {\n    return Math.abs(clientRect.left - clientX);\n  };\n\n  var distanceToRectRight = function distanceToRectRight(clientRect, clientX) {\n    return Math.abs(clientRect.right - clientX);\n  };\n\n  var isInside = function isInside(clientX, clientRect) {\n    return clientX >= clientRect.left && clientX <= clientRect.right;\n  };\n\n  var findClosestClientRect = function findClosestClientRect(clientRects, clientX) {\n    return ArrUtils.reduce(clientRects, function (oldClientRect, clientRect) {\n      var oldDistance, newDistance;\n      oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n      newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n\n      if (isInside(clientX, clientRect)) {\n        return clientRect;\n      }\n\n      if (isInside(clientX, oldClientRect)) {\n        return oldClientRect;\n      }\n\n      if (newDistance === oldDistance && isContentEditableFalse$7(clientRect.node)) {\n        return clientRect;\n      }\n\n      if (newDistance < oldDistance) {\n        return clientRect;\n      }\n\n      return oldClientRect;\n    });\n  };\n\n  var walkUntil$1 = function walkUntil$1(direction, root, predicateFn, node) {\n    while (node = findNode$1(node, direction, isEditableCaretCandidate, root)) {\n      if (predicateFn(node)) {\n        return;\n      }\n    }\n  };\n\n  var findLineNodeRects = function findLineNodeRects(root, targetNodeRect) {\n    var clientRects = [];\n\n    var collect = function collect(checkPosFn, node) {\n      var lineRects;\n      lineRects = filter(getClientRects([node]), function (clientRect) {\n        return !checkPosFn(clientRect, targetNodeRect);\n      });\n      clientRects = clientRects.concat(lineRects);\n      return lineRects.length === 0;\n    };\n\n    clientRects.push(targetNodeRect);\n    walkUntil$1(VDirection.Up, root, curry(collect, isAbove), targetNodeRect.node);\n    walkUntil$1(VDirection.Down, root, curry(collect, isBelow), targetNodeRect.node);\n    return clientRects;\n  };\n\n  var getFakeCaretTargets = function getFakeCaretTargets(root) {\n    return filter(from$1(root.getElementsByTagName('*')), isFakeCaretTarget);\n  };\n\n  var caretInfo = function caretInfo(clientRect, clientX) {\n    return {\n      node: clientRect.node,\n      before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n    };\n  };\n\n  var closestCaret = function closestCaret(root, clientX, clientY) {\n    var closestNodeRect;\n    var contentEditableFalseNodeRects = getClientRects(getFakeCaretTargets(root));\n    var targetNodeRects = filter(contentEditableFalseNodeRects, function (rect) {\n      return clientY >= rect.top && clientY <= rect.bottom;\n    });\n    closestNodeRect = findClosestClientRect(targetNodeRects, clientX);\n\n    if (closestNodeRect) {\n      closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect), clientX);\n\n      if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n        return caretInfo(closestNodeRect, clientX);\n      }\n    }\n\n    return null;\n  };\n\n  var isXYWithinRange = function isXYWithinRange(clientX, clientY, range) {\n    if (range.collapsed) {\n      return false;\n    }\n\n    if (Env.ie && Env.ie <= 11 && range.startOffset === range.endOffset - 1 && range.startContainer === range.endContainer) {\n      var elm = range.startContainer.childNodes[range.startOffset];\n\n      if (NodeType.isElement(elm)) {\n        return exists(elm.getClientRects(), function (rect) {\n          return containsXY(rect, clientX, clientY);\n        });\n      }\n    }\n\n    return exists(range.getClientRects(), function (rect) {\n      return containsXY(rect, clientX, clientY);\n    });\n  };\n\n  var RangePoint = {\n    isXYWithinRange: isXYWithinRange\n  };\n  var isContentEditableTrue$3 = NodeType.isContentEditableTrue;\n  var isContentEditableFalse$8 = NodeType.isContentEditableFalse;\n\n  var showCaret = function showCaret(direction, editor, node, before, scrollIntoView) {\n    return editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView);\n  };\n\n  var getNodeRange = function getNodeRange(node) {\n    var rng = node.ownerDocument.createRange();\n    rng.selectNode(node);\n    return rng;\n  };\n\n  var selectNode = function selectNode(editor, node) {\n    var e = editor.fire('BeforeObjectSelected', {\n      target: node\n    });\n\n    if (e.isDefaultPrevented()) {\n      return null;\n    }\n\n    return getNodeRange(node);\n  };\n\n  var renderCaretAtRange = function renderCaretAtRange(editor, range, scrollIntoView) {\n    var normalizedRange = normalizeRange(1, editor.getBody(), range);\n    var caretPosition = CaretPosition$1.fromRangeStart(normalizedRange);\n    var caretPositionNode = caretPosition.getNode();\n\n    if (isContentEditableFalse$8(caretPositionNode)) {\n      return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n    }\n\n    var caretPositionBeforeNode = caretPosition.getNode(true);\n\n    if (isContentEditableFalse$8(caretPositionBeforeNode)) {\n      return showCaret(1, editor, caretPositionBeforeNode, false, false);\n    }\n\n    var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n      return isContentEditableFalse$8(node) || isContentEditableTrue$3(node);\n    });\n\n    if (isContentEditableFalse$8(ceRoot)) {\n      return showCaret(1, editor, ceRoot, false, scrollIntoView);\n    }\n\n    return null;\n  };\n\n  var renderRangeCaret = function renderRangeCaret(editor, range, scrollIntoView) {\n    if (!range || !range.collapsed) {\n      return range;\n    }\n\n    var caretRange = renderCaretAtRange(editor, range, scrollIntoView);\n\n    if (caretRange) {\n      return caretRange;\n    }\n\n    return range;\n  };\n\n  var setup$4 = function setup$4(editor) {\n    var renderFocusCaret = first(function () {\n      if (!editor.removed && editor.getBody().contains(domGlobals.document.activeElement)) {\n        var rng = editor.selection.getRng();\n\n        if (rng.collapsed) {\n          var caretRange = renderRangeCaret(editor, editor.selection.getRng(), false);\n          editor.selection.setRng(caretRange);\n        }\n      }\n    }, 0);\n    editor.on('focus', function () {\n      renderFocusCaret.throttle();\n    });\n    editor.on('blur', function () {\n      renderFocusCaret.cancel();\n    });\n  };\n\n  var CefFocus = {\n    setup: setup$4\n  };\n  var VK = {\n    BACKSPACE: 8,\n    DELETE: 46,\n    DOWN: 40,\n    ENTER: 13,\n    LEFT: 37,\n    RIGHT: 39,\n    SPACEBAR: 32,\n    TAB: 9,\n    UP: 38,\n    END: 35,\n    HOME: 36,\n    modifierPressed: function modifierPressed(e) {\n      return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);\n    },\n    metaKeyPressed: function metaKeyPressed(e) {\n      return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n    }\n  };\n\n  var is$2 = function is$2(expected) {\n    return function (actual) {\n      return expected === actual;\n    };\n  };\n\n  var isNbsp = is$2('\\xA0');\n\n  var isWhiteSpace$1 = function isWhiteSpace$1(chr) {\n    return /^[\\r\\n\\t ]$/.test(chr);\n  };\n\n  var isContent = function isContent(chr) {\n    return !isWhiteSpace$1(chr) && !isNbsp(chr);\n  };\n\n  var isChar = function isChar(forward, predicate, pos) {\n    return Option.from(pos.container()).filter(NodeType.isText).exists(function (text) {\n      var delta = forward ? 0 : -1;\n      return predicate(text.data.charAt(pos.offset() + delta));\n    });\n  };\n\n  var isBeforeSpace = curry(isChar, true, isWhiteSpace$1);\n  var isAfterSpace = curry(isChar, false, isWhiteSpace$1);\n\n  var isEmptyText = function isEmptyText(pos) {\n    var container = pos.container();\n    return NodeType.isText(container) && container.data.length === 0;\n  };\n\n  var matchesElementPosition = function matchesElementPosition(before, predicate) {\n    return function (pos) {\n      return Option.from(getChildNodeAtRelativeOffset(before ? 0 : -1, pos)).filter(predicate).isSome();\n    };\n  };\n\n  var isImageBlock = function isImageBlock(node) {\n    return node.nodeName === 'IMG' && get$2(Element.fromDom(node), 'display') === 'block';\n  };\n\n  var isCefNode = function isCefNode(node) {\n    return NodeType.isContentEditableFalse(node) && !NodeType.isBogusAll(node);\n  };\n\n  var isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n  var isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n  var isBeforeTable = matchesElementPosition(true, NodeType.isTable);\n  var isAfterTable = matchesElementPosition(false, NodeType.isTable);\n  var isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n  var isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n  var isContentEditableTrue$4 = NodeType.isContentEditableTrue;\n  var isContentEditableFalse$9 = NodeType.isContentEditableFalse;\n\n  var getContentEditableRoot = function getContentEditableRoot(editor, node) {\n    var root = editor.getBody();\n\n    while (node && node !== root) {\n      if (isContentEditableTrue$4(node) || isContentEditableFalse$9(node)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var SelectionOverrides = function SelectionOverrides(editor) {\n    var isBlock = function isBlock(node) {\n      return editor.dom.isBlock(node);\n    };\n\n    var rootNode = editor.getBody();\n    var fakeCaret = FakeCaret(editor.getBody(), isBlock, function () {\n      return EditorFocus.hasFocus(editor);\n    });\n    var realSelectionId = 'sel-' + editor.dom.uniqueId();\n    var selectedContentEditableNode;\n\n    var isFakeSelectionElement = function isFakeSelectionElement(elm) {\n      return editor.dom.hasClass(elm, 'mce-offscreen-selection');\n    };\n\n    var getRealSelectionElement = function getRealSelectionElement() {\n      var container = editor.dom.get(realSelectionId);\n      return container ? container.getElementsByTagName('*')[0] : container;\n    };\n\n    var setRange = function setRange(range) {\n      if (range) {\n        editor.selection.setRng(range);\n      }\n    };\n\n    var getRange = function getRange() {\n      return editor.selection.getRng();\n    };\n\n    var showCaret = function showCaret(direction, node, before, scrollIntoView) {\n      if (scrollIntoView === void 0) {\n        scrollIntoView = true;\n      }\n\n      var e;\n      e = editor.fire('ShowCaret', {\n        target: node,\n        direction: direction,\n        before: before\n      });\n\n      if (e.isDefaultPrevented()) {\n        return null;\n      }\n\n      if (scrollIntoView) {\n        editor.selection.scrollIntoView(node, direction === -1);\n      }\n\n      return fakeCaret.show(before, node);\n    };\n\n    var getNormalizedRangeEndPoint = function getNormalizedRangeEndPoint(direction, range) {\n      range = normalizeRange(direction, rootNode, range);\n\n      if (direction === -1) {\n        return CaretPosition$1.fromRangeStart(range);\n      }\n\n      return CaretPosition$1.fromRangeEnd(range);\n    };\n\n    var showBlockCaretContainer = function showBlockCaretContainer(blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        setRange(getRange());\n        editor.selection.scrollIntoView(blockCaretContainer[0]);\n      }\n    };\n\n    var registerEvents = function registerEvents() {\n      editor.on('mouseup', function (e) {\n        var range = getRange();\n\n        if (range.collapsed && EditorView.isXYInContentArea(editor, e.clientX, e.clientY)) {\n          setRange(renderCaretAtRange(editor, range, false));\n        }\n      });\n      editor.on('click', function (e) {\n        var contentEditableRoot;\n        contentEditableRoot = getContentEditableRoot(editor, e.target);\n\n        if (contentEditableRoot) {\n          if (isContentEditableFalse$9(contentEditableRoot)) {\n            e.preventDefault();\n            editor.focus();\n          }\n\n          if (isContentEditableTrue$4(contentEditableRoot)) {\n            if (editor.dom.isChildOf(contentEditableRoot, editor.selection.getNode())) {\n              removeContentEditableSelection();\n            }\n          }\n        }\n      });\n      editor.on('blur NewBlock', function () {\n        removeContentEditableSelection();\n      });\n      editor.on('ResizeWindow FullscreenStateChanged', function () {\n        return fakeCaret.reposition();\n      });\n\n      var handleTouchSelect = function handleTouchSelect(editor) {\n        var moved = false;\n        editor.on('touchstart', function () {\n          moved = false;\n        });\n        editor.on('touchmove', function () {\n          moved = true;\n        });\n        editor.on('touchend', function (e) {\n          var contentEditableRoot = getContentEditableRoot(editor, e.target);\n\n          if (isContentEditableFalse$9(contentEditableRoot)) {\n            if (!moved) {\n              e.preventDefault();\n              setContentEditableSelection(selectNode(editor, contentEditableRoot));\n            }\n          }\n        });\n      };\n\n      var hasNormalCaretPosition = function hasNormalCaretPosition(elm) {\n        var caretWalker = CaretWalker(elm);\n\n        if (!elm.firstChild) {\n          return false;\n        }\n\n        var startPos = CaretPosition$1.before(elm.firstChild);\n        var newPos = caretWalker.next(startPos);\n        return newPos && !isBeforeContentEditableFalse(newPos) && !isAfterContentEditableFalse(newPos);\n      };\n\n      var isInSameBlock = function isInSameBlock(node1, node2) {\n        var block1 = editor.dom.getParent(node1, editor.dom.isBlock);\n        var block2 = editor.dom.getParent(node2, editor.dom.isBlock);\n        return block1 === block2;\n      };\n\n      var hasBetterMouseTarget = function hasBetterMouseTarget(targetNode, caretNode) {\n        var targetBlock = editor.dom.getParent(targetNode, editor.dom.isBlock);\n        var caretBlock = editor.dom.getParent(caretNode, editor.dom.isBlock);\n\n        if (targetBlock && editor.dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse$9(getContentEditableRoot(editor, targetBlock)) === false) {\n          return true;\n        }\n\n        return targetBlock && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n      };\n\n      handleTouchSelect(editor);\n      editor.on('mousedown', function (e) {\n        var contentEditableRoot;\n        var targetElm = e.target;\n\n        if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !editor.dom.isChildOf(targetElm, rootNode)) {\n          return;\n        }\n\n        if (EditorView.isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n          return;\n        }\n\n        contentEditableRoot = getContentEditableRoot(editor, targetElm);\n\n        if (contentEditableRoot) {\n          if (isContentEditableFalse$9(contentEditableRoot)) {\n            e.preventDefault();\n            setContentEditableSelection(selectNode(editor, contentEditableRoot));\n          } else {\n            removeContentEditableSelection();\n\n            if (!(isContentEditableTrue$4(contentEditableRoot) && e.shiftKey) && !RangePoint.isXYWithinRange(e.clientX, e.clientY, editor.selection.getRng())) {\n              hideFakeCaret();\n              editor.selection.placeCaretAt(e.clientX, e.clientY);\n            }\n          }\n        } else if (isFakeCaretTarget(targetElm) === false) {\n          removeContentEditableSelection();\n          hideFakeCaret();\n          var caretInfo = closestCaret(rootNode, e.clientX, e.clientY);\n\n          if (caretInfo) {\n            if (!hasBetterMouseTarget(e.target, caretInfo.node)) {\n              e.preventDefault();\n              var range = showCaret(1, caretInfo.node, caretInfo.before, false);\n              editor.getBody().focus();\n              setRange(range);\n            }\n          }\n        }\n      });\n      editor.on('keypress', function (e) {\n        if (VK.modifierPressed(e)) {\n          return;\n        }\n\n        switch (e.keyCode) {\n          default:\n            if (isContentEditableFalse$9(editor.selection.getNode())) {\n              e.preventDefault();\n            }\n\n            break;\n        }\n      });\n      editor.on('GetSelectionRange', function (e) {\n        var rng = e.range;\n\n        if (selectedContentEditableNode) {\n          if (!selectedContentEditableNode.parentNode) {\n            selectedContentEditableNode = null;\n            return;\n          }\n\n          rng = rng.cloneRange();\n          rng.selectNode(selectedContentEditableNode);\n          e.range = rng;\n        }\n      });\n      editor.on('SetSelectionRange', function (e) {\n        var rng;\n        rng = setContentEditableSelection(e.range, e.forward);\n\n        if (rng) {\n          e.range = rng;\n        }\n      });\n\n      var isPasteBin = function isPasteBin(node) {\n        return node.id === 'mcepastebin';\n      };\n\n      editor.on('AfterSetSelectionRange', function (e) {\n        var rng = e.range;\n\n        if (!isRangeInCaretContainer(rng) && !isPasteBin(rng.startContainer.parentNode)) {\n          hideFakeCaret();\n        }\n\n        if (!isFakeSelectionElement(rng.startContainer.parentNode)) {\n          removeContentEditableSelection();\n        }\n      });\n      editor.on('copy', function (e) {\n        var clipboardData = e.clipboardData;\n\n        if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\n          var realSelectionElement = getRealSelectionElement();\n\n          if (realSelectionElement) {\n            e.preventDefault();\n            clipboardData.clearData();\n            clipboardData.setData('text/html', realSelectionElement.outerHTML);\n            clipboardData.setData('text/plain', realSelectionElement.outerText);\n          }\n        }\n      });\n      DragDropOverrides.init(editor);\n      CefFocus.setup(editor);\n    };\n\n    var isWithinCaretContainer = function isWithinCaretContainer(node) {\n      return isCaretContainer(node) || startsWithCaretContainer(node) || endsWithCaretContainer(node);\n    };\n\n    var isRangeInCaretContainer = function isRangeInCaretContainer(rng) {\n      return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n    };\n\n    var setContentEditableSelection = function setContentEditableSelection(range, forward) {\n      var node;\n      var $ = editor.$;\n      var dom = editor.dom;\n      var $realSelectionContainer, sel, startContainer, startOffset, endOffset, e, caretPosition, targetClone, origTargetClone;\n\n      if (!range) {\n        return null;\n      }\n\n      if (range.collapsed) {\n        if (!isRangeInCaretContainer(range)) {\n          if (forward === false) {\n            caretPosition = getNormalizedRangeEndPoint(-1, range);\n\n            if (isFakeCaretTarget(caretPosition.getNode(true))) {\n              return showCaret(-1, caretPosition.getNode(true), false, false);\n            }\n\n            if (isFakeCaretTarget(caretPosition.getNode())) {\n              return showCaret(-1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n            }\n          } else {\n            caretPosition = getNormalizedRangeEndPoint(1, range);\n\n            if (isFakeCaretTarget(caretPosition.getNode())) {\n              return showCaret(1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n            }\n\n            if (isFakeCaretTarget(caretPosition.getNode(true))) {\n              return showCaret(1, caretPosition.getNode(true), false, false);\n            }\n          }\n        }\n\n        return null;\n      }\n\n      startContainer = range.startContainer;\n      startOffset = range.startOffset;\n      endOffset = range.endOffset;\n\n      if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse$9(startContainer.parentNode)) {\n        startContainer = startContainer.parentNode;\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n\n      if (startContainer.nodeType !== 1) {\n        return null;\n      }\n\n      if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n        node = startContainer.childNodes[startOffset];\n      }\n\n      if (!isContentEditableFalse$9(node)) {\n        return null;\n      }\n\n      targetClone = origTargetClone = node.cloneNode(true);\n      e = editor.fire('ObjectSelected', {\n        target: node,\n        targetClone: targetClone\n      });\n\n      if (e.isDefaultPrevented()) {\n        return null;\n      }\n\n      $realSelectionContainer = descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n        return $([]);\n      }, function (elm) {\n        return $([elm.dom()]);\n      });\n      targetClone = e.targetClone;\n\n      if ($realSelectionContainer.length === 0) {\n        $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n        $realSelectionContainer.appendTo(editor.getBody());\n      }\n\n      range = editor.dom.createRng();\n\n      if (targetClone === origTargetClone && Env.ie) {\n        $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n        range.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n        range.setEndAfter(targetClone);\n      } else {\n        $realSelectionContainer.empty().append('\\xA0').append(targetClone).append('\\xA0');\n        range.setStart($realSelectionContainer[0].firstChild, 1);\n        range.setEnd($realSelectionContainer[0].lastChild, 0);\n      }\n\n      $realSelectionContainer.css({\n        top: dom.getPos(node, editor.getBody()).y\n      });\n      $realSelectionContainer[0].focus();\n      sel = editor.selection.getSel();\n      sel.removeAllRanges();\n      sel.addRange(range);\n      each(descendants$1(Element.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n        remove(elm, 'data-mce-selected');\n      });\n      node.setAttribute('data-mce-selected', '1');\n      selectedContentEditableNode = node;\n      hideFakeCaret();\n      return range;\n    };\n\n    var removeContentEditableSelection = function removeContentEditableSelection() {\n      if (selectedContentEditableNode) {\n        selectedContentEditableNode.removeAttribute('data-mce-selected');\n        descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$1);\n        selectedContentEditableNode = null;\n      }\n\n      descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$1);\n      selectedContentEditableNode = null;\n    };\n\n    var destroy = function destroy() {\n      fakeCaret.destroy();\n      selectedContentEditableNode = null;\n    };\n\n    var hideFakeCaret = function hideFakeCaret() {\n      fakeCaret.hide();\n    };\n\n    if (Env.ceFalse) {\n      registerEvents();\n    }\n\n    return {\n      showCaret: showCaret,\n      showBlockCaretContainer: showBlockCaretContainer,\n      hideFakeCaret: hideFakeCaret,\n      destroy: destroy\n    };\n  };\n\n  var KEEP = 0,\n      INSERT = 1,\n      DELETE = 2;\n\n  var diff = function diff(left, right) {\n    var size = left.length + right.length + 2;\n    var vDown = new Array(size);\n    var vUp = new Array(size);\n\n    var snake = function snake(start, end, diag) {\n      return {\n        start: start,\n        end: end,\n        diag: diag\n      };\n    };\n\n    var buildScript = function buildScript(start1, end1, start2, end2, script) {\n      var middle = getMiddleSnake(start1, end1, start2, end2);\n\n      if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n        var i = start1;\n        var j = start2;\n\n        while (i < end1 || j < end2) {\n          if (i < end1 && j < end2 && left[i] === right[j]) {\n            script.push([KEEP, left[i]]);\n            ++i;\n            ++j;\n          } else {\n            if (end1 - start1 > end2 - start2) {\n              script.push([DELETE, left[i]]);\n              ++i;\n            } else {\n              script.push([INSERT, right[j]]);\n              ++j;\n            }\n          }\n        }\n      } else {\n        buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n\n        for (var i2 = middle.start; i2 < middle.end; ++i2) {\n          script.push([KEEP, left[i2]]);\n        }\n\n        buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n      }\n    };\n\n    var buildSnake = function buildSnake(start, diag, end1, end2) {\n      var end = start;\n\n      while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n        ++end;\n      }\n\n      return snake(start, end, diag);\n    };\n\n    var getMiddleSnake = function getMiddleSnake(start1, end1, start2, end2) {\n      var m = end1 - start1;\n      var n = end2 - start2;\n\n      if (m === 0 || n === 0) {\n        return null;\n      }\n\n      var delta = m - n;\n      var sum = n + m;\n      var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n      vDown[1 + offset] = start1;\n      vUp[1 + offset] = end1 + 1;\n      var d, k, i, x, y;\n\n      for (d = 0; d <= offset; ++d) {\n        for (k = -d; k <= d; k += 2) {\n          i = k + offset;\n\n          if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n            vDown[i] = vDown[i + 1];\n          } else {\n            vDown[i] = vDown[i - 1] + 1;\n          }\n\n          x = vDown[i];\n          y = x - start1 + start2 - k;\n\n          while (x < end1 && y < end2 && left[x] === right[y]) {\n            vDown[i] = ++x;\n            ++y;\n          }\n\n          if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n            if (vUp[i - delta] <= vDown[i]) {\n              return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n            }\n          }\n        }\n\n        for (k = delta - d; k <= delta + d; k += 2) {\n          i = k + offset - delta;\n\n          if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n            vUp[i] = vUp[i + 1] - 1;\n          } else {\n            vUp[i] = vUp[i - 1];\n          }\n\n          x = vUp[i] - 1;\n          y = x - start1 + start2 - k;\n\n          while (x >= start1 && y >= start2 && left[x] === right[y]) {\n            vUp[i] = x--;\n            y--;\n          }\n\n          if (delta % 2 === 0 && -d <= k && k <= d) {\n            if (vUp[i] <= vDown[i + delta]) {\n              return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n            }\n          }\n        }\n      }\n    };\n\n    var script = [];\n    buildScript(0, left.length, 0, right.length, script);\n    return script;\n  };\n\n  var Diff = {\n    KEEP: KEEP,\n    DELETE: DELETE,\n    INSERT: INSERT,\n    diff: diff\n  };\n\n  var getOuterHtml = function getOuterHtml(elm) {\n    if (NodeType.isElement(elm)) {\n      return elm.outerHTML;\n    } else if (NodeType.isText(elm)) {\n      return Entities.encodeRaw(elm.data, false);\n    } else if (NodeType.isComment(elm)) {\n      return '<!--' + elm.data + '-->';\n    }\n\n    return '';\n  };\n\n  var createFragment$1 = function createFragment$1(html) {\n    var frag, node, container;\n    container = domGlobals.document.createElement('div');\n    frag = domGlobals.document.createDocumentFragment();\n\n    if (html) {\n      container.innerHTML = html;\n    }\n\n    while (node = container.firstChild) {\n      frag.appendChild(node);\n    }\n\n    return frag;\n  };\n\n  var insertAt = function insertAt(elm, html, index) {\n    var fragment = createFragment$1(html);\n\n    if (elm.hasChildNodes() && index < elm.childNodes.length) {\n      var target = elm.childNodes[index];\n      target.parentNode.insertBefore(fragment, target);\n    } else {\n      elm.appendChild(fragment);\n    }\n  };\n\n  var removeAt = function removeAt(elm, index) {\n    if (elm.hasChildNodes() && index < elm.childNodes.length) {\n      var target = elm.childNodes[index];\n      target.parentNode.removeChild(target);\n    }\n  };\n\n  var applyDiff = function applyDiff(diff, elm) {\n    var index = 0;\n    each(diff, function (action) {\n      if (action[0] === Diff.KEEP) {\n        index++;\n      } else if (action[0] === Diff.INSERT) {\n        insertAt(elm, action[1], index);\n        index++;\n      } else if (action[0] === Diff.DELETE) {\n        removeAt(elm, index);\n      }\n    });\n  };\n\n  var read$1 = function read$1(elm) {\n    return filter(map(from$1(elm.childNodes), getOuterHtml), function (item) {\n      return item.length > 0;\n    });\n  };\n\n  var write = function write(fragments, elm) {\n    var currentFragments = map(from$1(elm.childNodes), getOuterHtml);\n    applyDiff(Diff.diff(currentFragments, fragments), elm);\n    return elm;\n  };\n\n  var Fragments = {\n    read: read$1,\n    write: write\n  };\n  var undoLevelDocument = Cell(Option.none());\n\n  var lazyTempDocument = function lazyTempDocument() {\n    return undoLevelDocument.get().getOrThunk(function () {\n      var doc = domGlobals.document.implementation.createHTMLDocument('undo');\n      undoLevelDocument.set(Option.some(doc));\n      return doc;\n    });\n  };\n\n  var hasIframes = function hasIframes(html) {\n    return html.indexOf('</iframe>') !== -1;\n  };\n\n  var createFragmentedLevel = function createFragmentedLevel(fragments) {\n    return {\n      type: 'fragmented',\n      fragments: fragments,\n      content: '',\n      bookmark: null,\n      beforeBookmark: null\n    };\n  };\n\n  var createCompleteLevel = function createCompleteLevel(content) {\n    return {\n      type: 'complete',\n      fragments: null,\n      content: content,\n      bookmark: null,\n      beforeBookmark: null\n    };\n  };\n\n  var createFromEditor = function createFromEditor(editor) {\n    var fragments, content, trimmedFragments;\n    fragments = Fragments.read(editor.getBody());\n    trimmedFragments = bind(fragments, function (html) {\n      var trimmed = TrimHtml.trimInternal(editor.serializer, html);\n      return trimmed.length > 0 ? [trimmed] : [];\n    });\n    content = trimmedFragments.join('');\n    return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n  };\n\n  var applyToEditor = function applyToEditor(editor, level, before) {\n    if (level.type === 'fragmented') {\n      Fragments.write(level.fragments, editor.getBody());\n    } else {\n      editor.setContent(level.content, {\n        format: 'raw'\n      });\n    }\n\n    editor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);\n  };\n\n  var getLevelContent = function getLevelContent(level) {\n    return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n  };\n\n  var getCleanLevelContent = function getCleanLevelContent(level) {\n    var elm = Element.fromTag('body', lazyTempDocument());\n    set$1(elm, getLevelContent(level));\n    each(descendants$1(elm, '*[data-mce-bogus]'), unwrap);\n    return get$4(elm);\n  };\n\n  var hasEqualContent = function hasEqualContent(level1, level2) {\n    return getLevelContent(level1) === getLevelContent(level2);\n  };\n\n  var hasEqualCleanedContent = function hasEqualCleanedContent(level1, level2) {\n    return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n  };\n\n  var isEq$2 = function isEq$2(level1, level2) {\n    if (!level1 || !level2) {\n      return false;\n    } else if (hasEqualContent(level1, level2)) {\n      return true;\n    } else {\n      return hasEqualCleanedContent(level1, level2);\n    }\n  };\n\n  var Levels = {\n    createFragmentedLevel: createFragmentedLevel,\n    createCompleteLevel: createCompleteLevel,\n    createFromEditor: createFromEditor,\n    applyToEditor: applyToEditor,\n    isEq: isEq$2\n  };\n\n  var UndoManager = function UndoManager(editor) {\n    var self = this,\n        index = 0,\n        data = [],\n        beforeBookmark,\n        isFirstTypedCharacter,\n        locks = 0;\n\n    var isUnlocked = function isUnlocked() {\n      return locks === 0;\n    };\n\n    var setTyping = function setTyping(typing) {\n      if (isUnlocked()) {\n        self.typing = typing;\n      }\n    };\n\n    var setDirty = function setDirty(state) {\n      editor.setDirty(state);\n    };\n\n    var addNonTypingUndoLevel = function addNonTypingUndoLevel(e) {\n      setTyping(false);\n      self.add({}, e);\n    };\n\n    var endTyping = function endTyping() {\n      if (self.typing) {\n        setTyping(false);\n        self.add();\n      }\n    };\n\n    editor.on('init', function () {\n      self.add();\n    });\n    editor.on('BeforeExecCommand', function (e) {\n      var cmd = e.command;\n\n      if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n        endTyping();\n        self.beforeChange();\n      }\n    });\n    editor.on('ExecCommand', function (e) {\n      var cmd = e.command;\n\n      if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n        addNonTypingUndoLevel(e);\n      }\n    });\n    editor.on('ObjectResizeStart cut', function () {\n      self.beforeChange();\n    });\n    editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n    editor.on('dragend', addNonTypingUndoLevel);\n    editor.on('keyup', function (e) {\n      var keyCode = e.keyCode;\n\n      if (e.isDefaultPrevented()) {\n        return;\n      }\n\n      if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n        addNonTypingUndoLevel();\n        editor.nodeChanged();\n      }\n\n      if (keyCode === 46 || keyCode === 8) {\n        editor.nodeChanged();\n      }\n\n      if (isFirstTypedCharacter && self.typing && Levels.isEq(Levels.createFromEditor(editor), data[0]) === false) {\n        if (editor.isDirty() === false) {\n          setDirty(true);\n          editor.fire('change', {\n            level: data[0],\n            lastLevel: null\n          });\n        }\n\n        editor.fire('TypingUndo');\n        isFirstTypedCharacter = false;\n        editor.nodeChanged();\n      }\n    });\n    editor.on('keydown', function (e) {\n      var keyCode = e.keyCode;\n\n      if (e.isDefaultPrevented()) {\n        return;\n      }\n\n      if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n        if (self.typing) {\n          addNonTypingUndoLevel(e);\n        }\n\n        return;\n      }\n\n      var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n\n      if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !self.typing && !modKey) {\n        self.beforeChange();\n        setTyping(true);\n        self.add({}, e);\n        isFirstTypedCharacter = true;\n      }\n    });\n    editor.on('mousedown', function (e) {\n      if (self.typing) {\n        addNonTypingUndoLevel(e);\n      }\n    });\n\n    var isInsertReplacementText = function isInsertReplacementText(event) {\n      return event.inputType === 'insertReplacementText';\n    };\n\n    var isInsertTextDataNull = function isInsertTextDataNull(event) {\n      return event.inputType === 'insertText' && event.data === null;\n    };\n\n    editor.on('input', function (e) {\n      if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e))) {\n        addNonTypingUndoLevel(e);\n      }\n    });\n    editor.addShortcut('meta+z', '', 'Undo');\n    editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n      if (!e.isDefaultPrevented()) {\n        editor.nodeChanged();\n      }\n    });\n    self = {\n      data: data,\n      typing: false,\n      beforeChange: function beforeChange() {\n        if (isUnlocked()) {\n          beforeBookmark = GetBookmark.getUndoBookmark(editor.selection);\n        }\n      },\n      add: function add(level, event) {\n        var i;\n        var settings = editor.settings;\n        var lastLevel, currentLevel;\n        currentLevel = Levels.createFromEditor(editor);\n        level = level || {};\n        level = Tools.extend(level, currentLevel);\n\n        if (isUnlocked() === false || editor.removed) {\n          return null;\n        }\n\n        lastLevel = data[index];\n\n        if (editor.fire('BeforeAddUndo', {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n          return null;\n        }\n\n        if (lastLevel && Levels.isEq(lastLevel, level)) {\n          return null;\n        }\n\n        if (data[index]) {\n          data[index].beforeBookmark = beforeBookmark;\n        }\n\n        if (settings.custom_undo_redo_levels) {\n          if (data.length > settings.custom_undo_redo_levels) {\n            for (i = 0; i < data.length - 1; i++) {\n              data[i] = data[i + 1];\n            }\n\n            data.length--;\n            index = data.length;\n          }\n        }\n\n        level.bookmark = GetBookmark.getUndoBookmark(editor.selection);\n\n        if (index < data.length - 1) {\n          data.length = index + 1;\n        }\n\n        data.push(level);\n        index = data.length - 1;\n        var args = {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        };\n        editor.fire('AddUndo', args);\n\n        if (index > 0) {\n          setDirty(true);\n          editor.fire('change', args);\n        }\n\n        return level;\n      },\n      undo: function undo() {\n        var level;\n\n        if (self.typing) {\n          self.add();\n          self.typing = false;\n          setTyping(false);\n        }\n\n        if (index > 0) {\n          level = data[--index];\n          Levels.applyToEditor(editor, level, true);\n          setDirty(true);\n          editor.fire('Undo', {\n            level: level\n          });\n        }\n\n        return level;\n      },\n      redo: function redo() {\n        var level;\n\n        if (index < data.length - 1) {\n          level = data[++index];\n          Levels.applyToEditor(editor, level, false);\n          setDirty(true);\n          editor.fire('Redo', {\n            level: level\n          });\n        }\n\n        return level;\n      },\n      clear: function clear() {\n        data = [];\n        index = 0;\n        self.typing = false;\n        self.data = data;\n        editor.fire('ClearUndos');\n      },\n      reset: function reset() {\n        self.clear();\n        self.add();\n      },\n      hasUndo: function hasUndo() {\n        return index > 0 || self.typing && data[0] && !Levels.isEq(Levels.createFromEditor(editor), data[0]);\n      },\n      hasRedo: function hasRedo() {\n        return index < data.length - 1 && !self.typing;\n      },\n      transact: function transact(callback) {\n        endTyping();\n        self.beforeChange();\n        self.ignore(callback);\n        return self.add();\n      },\n      ignore: function ignore(callback) {\n        try {\n          locks++;\n          callback();\n        } finally {\n          locks--;\n        }\n      },\n      extra: function extra(callback1, callback2) {\n        var lastLevel, bookmark;\n\n        if (self.transact(callback1)) {\n          bookmark = data[index].bookmark;\n          lastLevel = data[index - 1];\n          Levels.applyToEditor(editor, lastLevel, true);\n\n          if (self.transact(callback2)) {\n            data[index - 1].beforeBookmark = bookmark;\n          }\n        }\n      }\n    };\n    return self;\n  };\n\n  var getLastChildren$1 = function getLastChildren$1(elm) {\n    var children = [];\n    var rawNode = elm.dom();\n\n    while (rawNode) {\n      children.push(Element.fromDom(rawNode));\n      rawNode = rawNode.lastChild;\n    }\n\n    return children;\n  };\n\n  var removeTrailingBr = function removeTrailingBr(elm) {\n    var allBrs = descendants$1(elm, 'br');\n    var brs = filter(getLastChildren$1(elm).slice(-1), isBr$1);\n\n    if (allBrs.length === brs.length) {\n      each(brs, remove$1);\n    }\n  };\n\n  var fillWithPaddingBr = function fillWithPaddingBr(elm) {\n    empty(elm);\n    append(elm, Element.fromHtml('<br data-mce-bogus=\"1\">'));\n  };\n\n  var isPaddingContents = function isPaddingContents(elm) {\n    return isText(elm) ? get$5(elm) === '\\xA0' : isBr$1(elm);\n  };\n\n  var isPaddedElement = function isPaddedElement(elm) {\n    return filter(children(elm), isPaddingContents).length === 1;\n  };\n\n  var trimBlockTrailingBr = function trimBlockTrailingBr(elm) {\n    lastChild(elm).each(function (lastChild) {\n      prevSibling(lastChild).each(function (lastChildPrevSibling) {\n        if (isBlock(elm) && isBr$1(lastChild) && isBlock(lastChildPrevSibling)) {\n          remove$1(lastChild);\n        }\n      });\n    });\n  };\n\n  var PaddingBr = {\n    removeTrailingBr: removeTrailingBr,\n    fillWithPaddingBr: fillWithPaddingBr,\n    isPaddedElement: isPaddedElement,\n    trimBlockTrailingBr: trimBlockTrailingBr\n  };\n  var isEq$3 = FormatUtils.isEq;\n\n  var matchesUnInheritedFormatSelector = function matchesUnInheritedFormatSelector(ed, node, name) {\n    var formatList = ed.formatter.get(name);\n\n    if (formatList) {\n      for (var i = 0; i < formatList.length; i++) {\n        if (formatList[i].inherit === false && ed.dom.is(node, formatList[i].selector)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  var matchParents = function matchParents(editor, node, name, vars) {\n    var root = editor.dom.getRoot();\n\n    if (node === root) {\n      return false;\n    }\n\n    node = editor.dom.getParent(node, function (node) {\n      if (matchesUnInheritedFormatSelector(editor, node, name)) {\n        return true;\n      }\n\n      return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n    });\n    return matchNode(editor, node, name, vars);\n  };\n\n  var matchName = function matchName(dom, node, format) {\n    if (isEq$3(node, format.inline)) {\n      return true;\n    }\n\n    if (isEq$3(node, format.block)) {\n      return true;\n    }\n\n    if (format.selector) {\n      return node.nodeType === 1 && dom.is(node, format.selector);\n    }\n  };\n\n  var matchItems = function matchItems(dom, node, format, itemName, similar, vars) {\n    var key, value;\n    var items = format[itemName];\n    var i;\n\n    if (format.onmatch) {\n      return format.onmatch(node, format, itemName);\n    }\n\n    if (items) {\n      if (typeof items.length === 'undefined') {\n        for (key in items) {\n          if (items.hasOwnProperty(key)) {\n            if (itemName === 'attributes') {\n              value = dom.getAttrib(node, key);\n            } else {\n              value = FormatUtils.getStyle(dom, node, key);\n            }\n\n            if (similar && !value && !format.exact) {\n              return;\n            }\n\n            if ((!similar || format.exact) && !isEq$3(value, FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(items[key], vars), key))) {\n              return;\n            }\n          }\n        }\n      } else {\n        for (i = 0; i < items.length; i++) {\n          if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : FormatUtils.getStyle(dom, node, items[i])) {\n            return format;\n          }\n        }\n      }\n    }\n\n    return format;\n  };\n\n  var matchNode = function matchNode(ed, node, name, vars, similar) {\n    var formatList = ed.formatter.get(name);\n    var format, i, x, classes;\n    var dom = ed.dom;\n\n    if (formatList && node) {\n      for (i = 0; i < formatList.length; i++) {\n        format = formatList[i];\n\n        if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n          if (classes = format.classes) {\n            for (x = 0; x < classes.length; x++) {\n              if (!ed.dom.hasClass(node, classes[x])) {\n                return;\n              }\n            }\n          }\n\n          return format;\n        }\n      }\n    }\n  };\n\n  var match = function match(editor, name, vars, node) {\n    var startNode;\n\n    if (node) {\n      return matchParents(editor, node, name, vars);\n    }\n\n    node = editor.selection.getNode();\n\n    if (matchParents(editor, node, name, vars)) {\n      return true;\n    }\n\n    startNode = editor.selection.getStart();\n\n    if (startNode !== node) {\n      if (matchParents(editor, startNode, name, vars)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var matchAll = function matchAll(editor, names, vars) {\n    var startElement;\n    var matchedFormatNames = [];\n    var checkedMap = {};\n    startElement = editor.selection.getStart();\n    editor.dom.getParent(startElement, function (node) {\n      var i, name;\n\n      for (i = 0; i < names.length; i++) {\n        name = names[i];\n\n        if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\n          checkedMap[name] = true;\n          matchedFormatNames.push(name);\n        }\n      }\n    }, editor.dom.getRoot());\n    return matchedFormatNames;\n  };\n\n  var canApply = function canApply(editor, name) {\n    var formatList = editor.formatter.get(name);\n    var startNode, parents, i, x, selector;\n    var dom = editor.dom;\n\n    if (formatList) {\n      startNode = editor.selection.getStart();\n      parents = FormatUtils.getParents(dom, startNode);\n\n      for (x = formatList.length - 1; x >= 0; x--) {\n        selector = formatList[x].selector;\n\n        if (!selector || formatList[x].defaultBlock) {\n          return true;\n        }\n\n        for (i = parents.length - 1; i >= 0; i--) {\n          if (dom.is(parents[i], selector)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  var MatchFormat = {\n    matchNode: matchNode,\n    matchName: matchName,\n    match: match,\n    matchAll: matchAll,\n    canApply: canApply,\n    matchesUnInheritedFormatSelector: matchesUnInheritedFormatSelector\n  };\n\n  var splitText = function splitText(node, offset) {\n    return node.splitText(offset);\n  };\n\n  var split$1 = function split$1(rng) {\n    var startContainer = rng.startContainer,\n        startOffset = rng.startOffset,\n        endContainer = rng.endContainer,\n        endOffset = rng.endOffset;\n\n    if (startContainer === endContainer && NodeType.isText(startContainer)) {\n      if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n        endContainer = splitText(startContainer, startOffset);\n        startContainer = endContainer.previousSibling;\n\n        if (endOffset > startOffset) {\n          endOffset = endOffset - startOffset;\n          startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n          startOffset = 0;\n        } else {\n          endOffset = 0;\n        }\n      }\n    } else {\n      if (NodeType.isText(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n        startContainer = splitText(startContainer, startOffset);\n        startOffset = 0;\n      }\n\n      if (NodeType.isText(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n        endContainer = splitText(endContainer, endOffset).previousSibling;\n        endOffset = endContainer.nodeValue.length;\n      }\n    }\n\n    return {\n      startContainer: startContainer,\n      startOffset: startOffset,\n      endContainer: endContainer,\n      endOffset: endOffset\n    };\n  };\n\n  var isCollapsibleWhitespace = function isCollapsibleWhitespace(c) {\n    return ' \\f\\n\\r\\t\\x0B'.indexOf(c) !== -1;\n  };\n\n  var normalizeContent = function normalizeContent(content, isStartOfContent, isEndOfContent) {\n    var result = foldl(content, function (acc, c) {\n      if (isCollapsibleWhitespace(c) || c === '\\xA0') {\n        if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\n          return {\n            previousCharIsSpace: false,\n            str: acc.str + '\\xA0'\n          };\n        } else {\n          return {\n            previousCharIsSpace: true,\n            str: acc.str + ' '\n          };\n        }\n      } else {\n        return {\n          previousCharIsSpace: false,\n          str: acc.str + c\n        };\n      }\n    }, {\n      previousCharIsSpace: false,\n      str: ''\n    });\n    return result.str;\n  };\n\n  var normalize = function normalize(node, offset, count) {\n    if (count === 0) {\n      return;\n    }\n\n    var whitespace = node.data.slice(offset, offset + count);\n    var isEndOfContent = offset + count >= node.data.length;\n    var isStartOfContent = offset === 0;\n    node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\n  };\n\n  var normalizeWhitespaceAfter = function normalizeWhitespaceAfter(node, offset) {\n    var content = node.data.slice(offset);\n    var whitespaceCount = content.length - lTrim(content).length;\n    return normalize(node, offset, whitespaceCount);\n  };\n\n  var normalizeWhitespaceBefore = function normalizeWhitespaceBefore(node, offset) {\n    var content = node.data.slice(0, offset);\n    var whitespaceCount = content.length - rTrim(content).length;\n    return normalize(node, offset - whitespaceCount, whitespaceCount);\n  };\n\n  var mergeTextNodes = function mergeTextNodes(prevNode, nextNode, normalizeWhitespace) {\n    var whitespaceOffset = rTrim(prevNode.data).length;\n    prevNode.appendData(nextNode.data);\n    remove$1(Element.fromDom(nextNode));\n\n    if (normalizeWhitespace) {\n      normalizeWhitespaceAfter(prevNode, whitespaceOffset);\n    }\n\n    return prevNode;\n  };\n\n  var ancestor$2 = function ancestor$2(scope, selector, isRoot) {\n    return ancestor$1(scope, selector, isRoot).isSome();\n  };\n\n  var hasWhitespacePreserveParent = function hasWhitespacePreserveParent(rootNode, node) {\n    var rootElement = Element.fromDom(rootNode);\n    var startNode = Element.fromDom(node);\n    return ancestor$2(startNode, 'pre,code', curry(eq, rootElement));\n  };\n\n  var isWhitespace = function isWhitespace(rootNode, node) {\n    return NodeType.isText(node) && /^[ \\t\\r\\n]*$/.test(node.data) && hasWhitespacePreserveParent(rootNode, node) === false;\n  };\n\n  var isNamedAnchor = function isNamedAnchor(node) {\n    return NodeType.isElement(node) && node.nodeName === 'A' && node.hasAttribute('name');\n  };\n\n  var isContent$1 = function isContent$1(rootNode, node) {\n    return isCaretCandidate(node) && isWhitespace(rootNode, node) === false || isNamedAnchor(node) || isBookmark(node);\n  };\n\n  var isBookmark = NodeType.hasAttribute('data-mce-bookmark');\n  var isBogus$2 = NodeType.hasAttribute('data-mce-bogus');\n  var isBogusAll$1 = NodeType.hasAttributeValue('data-mce-bogus', 'all');\n\n  var isEmptyNode = function isEmptyNode(targetNode) {\n    var node,\n        brCount = 0;\n\n    if (isContent$1(targetNode, targetNode)) {\n      return false;\n    } else {\n      node = targetNode.firstChild;\n\n      if (!node) {\n        return true;\n      }\n\n      var walker = new TreeWalker(node, targetNode);\n\n      do {\n        if (isBogusAll$1(node)) {\n          node = walker.next(true);\n          continue;\n        }\n\n        if (isBogus$2(node)) {\n          node = walker.next();\n          continue;\n        }\n\n        if (NodeType.isBr(node)) {\n          brCount++;\n          node = walker.next();\n          continue;\n        }\n\n        if (isContent$1(targetNode, node)) {\n          return false;\n        }\n\n        node = walker.next();\n      } while (node);\n\n      return brCount <= 1;\n    }\n  };\n\n  var isEmpty$1 = function isEmpty$1(elm) {\n    return isEmptyNode(elm.dom());\n  };\n\n  var Empty = {\n    isEmpty: isEmpty$1\n  };\n\n  var needsReposition = function needsReposition(pos, elm) {\n    var container = pos.container();\n    var offset = pos.offset();\n    return CaretPosition$1.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition$1.before(elm).offset();\n  };\n\n  var reposition = function reposition(elm, pos) {\n    return needsReposition(pos, elm) ? CaretPosition$1(pos.container(), pos.offset() - 1) : pos;\n  };\n\n  var beforeOrStartOf = function beforeOrStartOf(node) {\n    return NodeType.isText(node) ? CaretPosition$1(node, 0) : CaretPosition$1.before(node);\n  };\n\n  var afterOrEndOf = function afterOrEndOf(node) {\n    return NodeType.isText(node) ? CaretPosition$1(node, node.data.length) : CaretPosition$1.after(node);\n  };\n\n  var getPreviousSiblingCaretPosition = function getPreviousSiblingCaretPosition(elm) {\n    if (isCaretCandidate(elm.previousSibling)) {\n      return Option.some(afterOrEndOf(elm.previousSibling));\n    } else {\n      return elm.previousSibling ? CaretFinder.lastPositionIn(elm.previousSibling) : Option.none();\n    }\n  };\n\n  var getNextSiblingCaretPosition = function getNextSiblingCaretPosition(elm) {\n    if (isCaretCandidate(elm.nextSibling)) {\n      return Option.some(beforeOrStartOf(elm.nextSibling));\n    } else {\n      return elm.nextSibling ? CaretFinder.firstPositionIn(elm.nextSibling) : Option.none();\n    }\n  };\n\n  var findCaretPositionBackwardsFromElm = function findCaretPositionBackwardsFromElm(rootElement, elm) {\n    var startPosition = CaretPosition$1.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n    return CaretFinder.prevPosition(rootElement, startPosition).fold(function () {\n      return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm));\n    }, Option.some);\n  };\n\n  var findCaretPositionForwardsFromElm = function findCaretPositionForwardsFromElm(rootElement, elm) {\n    return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm)).fold(function () {\n      return CaretFinder.prevPosition(rootElement, CaretPosition$1.before(elm));\n    }, Option.some);\n  };\n\n  var findCaretPositionBackwards = function findCaretPositionBackwards(rootElement, elm) {\n    return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n      return getNextSiblingCaretPosition(elm);\n    }).orThunk(function () {\n      return findCaretPositionBackwardsFromElm(rootElement, elm);\n    });\n  };\n\n  var findCaretPositionForward = function findCaretPositionForward(rootElement, elm) {\n    return getNextSiblingCaretPosition(elm).orThunk(function () {\n      return getPreviousSiblingCaretPosition(elm);\n    }).orThunk(function () {\n      return findCaretPositionForwardsFromElm(rootElement, elm);\n    });\n  };\n\n  var findCaretPosition$1 = function findCaretPosition$1(forward, rootElement, elm) {\n    return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n  };\n\n  var findCaretPosOutsideElmAfterDelete = function findCaretPosOutsideElmAfterDelete(forward, rootElement, elm) {\n    return findCaretPosition$1(forward, rootElement, elm).map(curry(reposition, elm));\n  };\n\n  var setSelection = function setSelection(editor, forward, pos) {\n    pos.fold(function () {\n      editor.focus();\n    }, function (pos) {\n      editor.selection.setRng(pos.toRange(), forward);\n    });\n  };\n\n  var eqRawNode = function eqRawNode(rawNode) {\n    return function (elm) {\n      return elm.dom() === rawNode;\n    };\n  };\n\n  var isBlock$2 = function isBlock$2(editor, elm) {\n    return elm && editor.schema.getBlockElements().hasOwnProperty(name(elm));\n  };\n\n  var paddEmptyBlock = function paddEmptyBlock(elm) {\n    if (Empty.isEmpty(elm)) {\n      var br = Element.fromHtml('<br data-mce-bogus=\"1\">');\n      empty(elm);\n      append(elm, br);\n      return Option.some(CaretPosition$1.before(br.dom()));\n    } else {\n      return Option.none();\n    }\n  };\n\n  var deleteNormalized = function deleteNormalized(elm, afterDeletePosOpt, normalizeWhitespace) {\n    var prevTextOpt = prevSibling(elm).filter(isText);\n    var nextTextOpt = nextSibling(elm).filter(isText);\n    remove$1(elm);\n    return liftN([prevTextOpt, nextTextOpt, afterDeletePosOpt], function (prev, next, pos) {\n      var prevNode = prev.dom(),\n          nextNode = next.dom();\n      var offset = prevNode.data.length;\n      mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n      return pos.container() === nextNode ? CaretPosition$1(prevNode, offset) : pos;\n    }).orThunk(function () {\n      if (normalizeWhitespace) {\n        prevTextOpt.each(function (elm) {\n          return normalizeWhitespaceBefore(elm.dom(), elm.dom().length);\n        });\n        nextTextOpt.each(function (elm) {\n          return normalizeWhitespaceAfter(elm.dom(), 0);\n        });\n      }\n\n      return afterDeletePosOpt;\n    });\n  };\n\n  var isInlineElement = function isInlineElement(editor, element) {\n    return has(editor.schema.getTextInlineElements(), name(element));\n  };\n\n  var deleteElement = function deleteElement(editor, forward, elm, moveCaret) {\n    if (moveCaret === void 0) {\n      moveCaret = true;\n    }\n\n    var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom());\n    var parentBlock = ancestor(elm, curry(isBlock$2, editor), eqRawNode(editor.getBody()));\n    var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n\n    if (editor.dom.isEmpty(editor.getBody())) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n    } else {\n      parentBlock.bind(paddEmptyBlock).fold(function () {\n        if (moveCaret) {\n          setSelection(editor, forward, normalizedAfterDeletePos);\n        }\n      }, function (paddPos) {\n        if (moveCaret) {\n          setSelection(editor, forward, Option.some(paddPos));\n        }\n      });\n    }\n  };\n\n  var DeleteElement = {\n    deleteElement: deleteElement\n  };\n  var ZWSP$1 = Zwsp.ZWSP,\n      CARET_ID$1 = '_mce_caret';\n\n  var importNode = function importNode(ownerDocument, node) {\n    return ownerDocument.importNode(node, true);\n  };\n\n  var getEmptyCaretContainers = function getEmptyCaretContainers(node) {\n    var nodes = [];\n\n    while (node) {\n      if (node.nodeType === 3 && node.nodeValue !== ZWSP$1 || node.childNodes.length > 1) {\n        return [];\n      }\n\n      if (node.nodeType === 1) {\n        nodes.push(node);\n      }\n\n      node = node.firstChild;\n    }\n\n    return nodes;\n  };\n\n  var isCaretContainerEmpty = function isCaretContainerEmpty(node) {\n    return getEmptyCaretContainers(node).length > 0;\n  };\n\n  var findFirstTextNode = function findFirstTextNode(node) {\n    if (node) {\n      var walker = new TreeWalker(node, node);\n\n      for (node = walker.current(); node; node = walker.next()) {\n        if (node.nodeType === 3) {\n          return node;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  var createCaretContainer = function createCaretContainer(fill) {\n    var caretContainer = Element.fromTag('span');\n    setAll(caretContainer, {\n      'id': CARET_ID$1,\n      'data-mce-bogus': '1',\n      'data-mce-type': 'format-caret'\n    });\n\n    if (fill) {\n      append(caretContainer, Element.fromText(ZWSP$1));\n    }\n\n    return caretContainer;\n  };\n\n  var trimZwspFromCaretContainer = function trimZwspFromCaretContainer(caretContainerNode) {\n    var textNode = findFirstTextNode(caretContainerNode);\n\n    if (textNode && textNode.nodeValue.charAt(0) === ZWSP$1) {\n      textNode.deleteData(0, 1);\n    }\n\n    return textNode;\n  };\n\n  var removeCaretContainerNode = function removeCaretContainerNode(editor, node, moveCaret) {\n    if (moveCaret === void 0) {\n      moveCaret = true;\n    }\n\n    var dom = editor.dom,\n        selection = editor.selection;\n\n    if (isCaretContainerEmpty(node)) {\n      DeleteElement.deleteElement(editor, false, Element.fromDom(node), moveCaret);\n    } else {\n      var rng = selection.getRng();\n      var block = dom.getParent(node, dom.isBlock);\n      var textNode = trimZwspFromCaretContainer(node);\n\n      if (rng.startContainer === textNode && rng.startOffset > 0) {\n        rng.setStart(textNode, rng.startOffset - 1);\n      }\n\n      if (rng.endContainer === textNode && rng.endOffset > 0) {\n        rng.setEnd(textNode, rng.endOffset - 1);\n      }\n\n      dom.remove(node, true);\n\n      if (block && dom.isEmpty(block)) {\n        PaddingBr.fillWithPaddingBr(Element.fromDom(block));\n      }\n\n      selection.setRng(rng);\n    }\n  };\n\n  var removeCaretContainer = function removeCaretContainer(editor, node, moveCaret) {\n    if (moveCaret === void 0) {\n      moveCaret = true;\n    }\n\n    var dom = editor.dom,\n        selection = editor.selection;\n\n    if (!node) {\n      node = getParentCaretContainer(editor.getBody(), selection.getStart());\n\n      if (!node) {\n        while (node = dom.get(CARET_ID$1)) {\n          removeCaretContainerNode(editor, node, false);\n        }\n      }\n    } else {\n      removeCaretContainerNode(editor, node, moveCaret);\n    }\n  };\n\n  var insertCaretContainerNode = function insertCaretContainerNode(editor, caretContainer, formatNode) {\n    var dom = editor.dom,\n        block = dom.getParent(formatNode, curry(FormatUtils.isTextBlock, editor));\n\n    if (block && dom.isEmpty(block)) {\n      formatNode.parentNode.replaceChild(caretContainer, formatNode);\n    } else {\n      PaddingBr.removeTrailingBr(Element.fromDom(formatNode));\n\n      if (dom.isEmpty(formatNode)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        dom.insertAfter(caretContainer, formatNode);\n      }\n    }\n  };\n\n  var appendNode = function appendNode(parentNode, node) {\n    parentNode.appendChild(node);\n    return node;\n  };\n\n  var insertFormatNodesIntoCaretContainer = function insertFormatNodesIntoCaretContainer(formatNodes, caretContainer) {\n    var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n      return appendNode(parentNode, formatNode.cloneNode(false));\n    }, caretContainer);\n    return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1));\n  };\n\n  var applyCaretFormat = function applyCaretFormat(editor, name, vars) {\n    var rng, caretContainer, textNode, offset, bookmark, container, text;\n    var selection = editor.selection;\n    rng = selection.getRng();\n    offset = rng.startOffset;\n    container = rng.startContainer;\n    text = container.nodeValue;\n    caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n\n    if (caretContainer) {\n      textNode = findFirstTextNode(caretContainer);\n    }\n\n    var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n\n    if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n      bookmark = selection.getBookmark();\n      rng.collapse(true);\n      rng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name));\n      rng = split$1(rng);\n      editor.formatter.apply(name, vars, rng);\n      selection.moveToBookmark(bookmark);\n    } else {\n      if (!caretContainer || textNode.nodeValue !== ZWSP$1) {\n        caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom());\n        textNode = caretContainer.firstChild;\n        rng.insertNode(caretContainer);\n        offset = 1;\n        editor.formatter.apply(name, vars, caretContainer);\n      } else {\n        editor.formatter.apply(name, vars, caretContainer);\n      }\n\n      selection.setCursorLocation(textNode, offset);\n    }\n  };\n\n  var removeCaretFormat = function removeCaretFormat(editor, name, vars, similar) {\n    var dom = editor.dom,\n        selection = editor.selection;\n    var container, offset, bookmark;\n    var hasContentAfter, node, formatNode;\n    var parents = [],\n        rng = selection.getRng();\n    var caretContainer;\n    container = rng.startContainer;\n    offset = rng.startOffset;\n    node = container;\n\n    if (container.nodeType === 3) {\n      if (offset !== container.nodeValue.length) {\n        hasContentAfter = true;\n      }\n\n      node = node.parentNode;\n    }\n\n    while (node) {\n      if (MatchFormat.matchNode(editor, node, name, vars, similar)) {\n        formatNode = node;\n        break;\n      }\n\n      if (node.nextSibling) {\n        hasContentAfter = true;\n      }\n\n      parents.push(node);\n      node = node.parentNode;\n    }\n\n    if (!formatNode) {\n      return;\n    }\n\n    if (hasContentAfter) {\n      bookmark = selection.getBookmark();\n      rng.collapse(true);\n      var expandedRng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name), true);\n      expandedRng = split$1(expandedRng);\n      editor.formatter.remove(name, vars, expandedRng);\n      selection.moveToBookmark(bookmark);\n    } else {\n      caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n      var newCaretContainer = createCaretContainer(false).dom();\n      var caretNode = insertFormatNodesIntoCaretContainer(parents, newCaretContainer);\n\n      if (caretContainer) {\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer);\n      } else {\n        insertCaretContainerNode(editor, newCaretContainer, formatNode);\n      }\n\n      removeCaretContainerNode(editor, caretContainer, false);\n      selection.setCursorLocation(caretNode, 1);\n\n      if (dom.isEmpty(formatNode)) {\n        dom.remove(formatNode);\n      }\n    }\n  };\n\n  var disableCaretContainer = function disableCaretContainer(editor, keyCode) {\n    var selection = editor.selection,\n        body = editor.getBody();\n    removeCaretContainer(editor, null, false);\n\n    if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP$1) {\n      removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n    }\n\n    if (keyCode === 37 || keyCode === 39) {\n      removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n    }\n  };\n\n  var setup$5 = function setup$5(editor) {\n    editor.on('mouseup keydown', function (e) {\n      disableCaretContainer(editor, e.keyCode);\n    });\n  };\n\n  var replaceWithCaretFormat = function replaceWithCaretFormat(targetNode, formatNodes) {\n    var caretContainer = createCaretContainer(false);\n    var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom());\n    before(Element.fromDom(targetNode), caretContainer);\n    remove$1(Element.fromDom(targetNode));\n    return CaretPosition$1(innerMost, 0);\n  };\n\n  var isFormatElement = function isFormatElement(editor, element) {\n    var inlineElements = editor.schema.getTextInlineElements();\n    return inlineElements.hasOwnProperty(name(element)) && !isCaretNode(element.dom()) && !NodeType.isBogus(element.dom());\n  };\n\n  var isEmptyCaretFormatElement = function isEmptyCaretFormatElement(element) {\n    return isCaretNode(element.dom()) && isCaretContainerEmpty(element.dom());\n  };\n\n  var postProcessHooks = {},\n      filter$3 = ArrUtils.filter,\n      each$9 = ArrUtils.each;\n\n  var addPostProcessHook = function addPostProcessHook(name, hook) {\n    var hooks = postProcessHooks[name];\n\n    if (!hooks) {\n      postProcessHooks[name] = hooks = [];\n    }\n\n    postProcessHooks[name].push(hook);\n  };\n\n  var postProcess = function postProcess(name, editor) {\n    each$9(postProcessHooks[name], function (hook) {\n      hook(editor);\n    });\n  };\n\n  addPostProcessHook('pre', function (editor) {\n    var rng = editor.selection.getRng();\n    var isPre, blocks;\n\n    var hasPreSibling = function hasPreSibling(pre) {\n      return isPre(pre.previousSibling) && ArrUtils.indexOf(blocks, pre.previousSibling) !== -1;\n    };\n\n    var joinPre = function joinPre(pre1, pre2) {\n      DomQuery(pre2).remove();\n      DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n    };\n\n    isPre = NodeType.matchNodeNames(['pre']);\n\n    if (!rng.collapsed) {\n      blocks = editor.selection.getSelectedBlocks();\n      each$9(filter$3(filter$3(blocks, isPre), hasPreSibling), function (pre) {\n        joinPre(pre.previousSibling, pre);\n      });\n    }\n  });\n  var Hooks = {\n    postProcess: postProcess\n  };\n  var each$a = Tools.each;\n\n  var ElementUtils = function ElementUtils(dom) {\n    this.compare = function (node1, node2) {\n      if (node1.nodeName !== node2.nodeName) {\n        return false;\n      }\n\n      var getAttribs = function getAttribs(node) {\n        var attribs = {};\n        each$a(dom.getAttribs(node), function (attr) {\n          var name = attr.nodeName.toLowerCase();\n\n          if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n            attribs[name] = dom.getAttrib(node, name);\n          }\n        });\n        return attribs;\n      };\n\n      var compareObjects = function compareObjects(obj1, obj2) {\n        var value, name;\n\n        for (name in obj1) {\n          if (obj1.hasOwnProperty(name)) {\n            value = obj2[name];\n\n            if (typeof value === 'undefined') {\n              return false;\n            }\n\n            if (obj1[name] !== value) {\n              return false;\n            }\n\n            delete obj2[name];\n          }\n        }\n\n        for (name in obj2) {\n          if (obj2.hasOwnProperty(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      };\n\n      if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n        return false;\n      }\n\n      if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n        return false;\n      }\n\n      return !Bookmarks.isBookmarkNode(node1) && !Bookmarks.isBookmarkNode(node2);\n    };\n  };\n\n  var MCE_ATTR_RE = /^(src|href|style)$/;\n  var each$b = Tools.each;\n  var isEq$4 = FormatUtils.isEq;\n\n  var isTableCell$2 = function isTableCell$2(node) {\n    return /^(TH|TD)$/.test(node.nodeName);\n  };\n\n  var isChildOfInlineParent = function isChildOfInlineParent(dom, node, parent) {\n    return dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n  };\n\n  var getContainer = function getContainer(ed, rng, start) {\n    var container, offset, lastIdx;\n    container = rng[start ? 'startContainer' : 'endContainer'];\n    offset = rng[start ? 'startOffset' : 'endOffset'];\n\n    if (NodeType.isElement(container)) {\n      lastIdx = container.childNodes.length - 1;\n\n      if (!start && offset) {\n        offset--;\n      }\n\n      container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n    }\n\n    if (NodeType.isText(container) && start && offset >= container.nodeValue.length) {\n      container = new TreeWalker(container, ed.getBody()).next() || container;\n    }\n\n    if (NodeType.isText(container) && !start && offset === 0) {\n      container = new TreeWalker(container, ed.getBody()).prev() || container;\n    }\n\n    return container;\n  };\n\n  var wrap$2 = function wrap$2(dom, node, name, attrs) {\n    var wrapper = dom.create(name, attrs);\n    node.parentNode.insertBefore(wrapper, node);\n    wrapper.appendChild(node);\n    return wrapper;\n  };\n\n  var wrapWithSiblings = function wrapWithSiblings(dom, node, next, name, attrs) {\n    var start = Element.fromDom(node);\n    var wrapper = Element.fromDom(dom.create(name, attrs));\n    var siblings = next ? nextSiblings(start) : prevSiblings(start);\n    append$1(wrapper, siblings);\n\n    if (next) {\n      before(start, wrapper);\n      prepend(wrapper, start);\n    } else {\n      after(start, wrapper);\n      append(wrapper, start);\n    }\n\n    return wrapper.dom();\n  };\n\n  var matchName$1 = function matchName$1(dom, node, format) {\n    if (isEq$4(node, format.inline)) {\n      return true;\n    }\n\n    if (isEq$4(node, format.block)) {\n      return true;\n    }\n\n    if (format.selector) {\n      return NodeType.isElement(node) && dom.is(node, format.selector);\n    }\n  };\n\n  var isColorFormatAndAnchor = function isColorFormatAndAnchor(node, format) {\n    return format.links && node.tagName === 'A';\n  };\n\n  var find$3 = function find$3(dom, node, next, inc) {\n    node = FormatUtils.getNonWhiteSpaceSibling(node, next, inc);\n    return !node || node.nodeName === 'BR' || dom.isBlock(node);\n  };\n\n  var removeNode$1 = function removeNode$1(ed, node, format) {\n    var parentNode = node.parentNode;\n    var rootBlockElm;\n    var dom = ed.dom,\n        forcedRootBlock = Settings.getForcedRootBlock(ed);\n\n    if (format.block) {\n      if (!forcedRootBlock) {\n        if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n          if (!find$3(dom, node, false) && !find$3(dom, node.firstChild, true, 1)) {\n            node.insertBefore(dom.create('br'), node.firstChild);\n          }\n\n          if (!find$3(dom, node, true) && !find$3(dom, node.lastChild, false, 1)) {\n            node.appendChild(dom.create('br'));\n          }\n        }\n      } else {\n        if (parentNode === dom.getRoot()) {\n          if (!format.list_block || !isEq$4(node, format.list_block)) {\n            each$b(Tools.grep(node.childNodes), function (node) {\n              if (FormatUtils.isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                if (!rootBlockElm) {\n                  rootBlockElm = wrap$2(dom, node, forcedRootBlock);\n                  dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                } else {\n                  rootBlockElm.appendChild(node);\n                }\n              } else {\n                rootBlockElm = 0;\n              }\n            });\n          }\n        }\n      }\n    }\n\n    if (format.selector && format.inline && !isEq$4(format.inline, node)) {\n      return;\n    }\n\n    dom.remove(node, 1);\n  };\n\n  var removeFormat = function removeFormat(ed, format, vars, node, compareNode) {\n    var i, attrs, stylesModified;\n    var dom = ed.dom;\n\n    if (!matchName$1(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n      return false;\n    }\n\n    if (format.remove !== 'all') {\n      each$b(format.styles, function (value, name) {\n        value = FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(value, vars), name);\n\n        if (typeof name === 'number') {\n          name = value;\n          compareNode = 0;\n        }\n\n        if (format.remove_similar || !compareNode || isEq$4(FormatUtils.getStyle(dom, compareNode, name), value)) {\n          dom.setStyle(node, name, '');\n        }\n\n        stylesModified = 1;\n      });\n\n      if (stylesModified && dom.getAttrib(node, 'style') === '') {\n        node.removeAttribute('style');\n        node.removeAttribute('data-mce-style');\n      }\n\n      each$b(format.attributes, function (value, name) {\n        var valueOut;\n        value = FormatUtils.replaceVars(value, vars);\n\n        if (typeof name === 'number') {\n          name = value;\n          compareNode = 0;\n        }\n\n        if (format.remove_similar || !compareNode || isEq$4(dom.getAttrib(compareNode, name), value)) {\n          if (name === 'class') {\n            value = dom.getAttrib(node, name);\n\n            if (value) {\n              valueOut = '';\n              each$b(value.split(/\\s+/), function (cls) {\n                if (/mce\\-\\w+/.test(cls)) {\n                  valueOut += (valueOut ? ' ' : '') + cls;\n                }\n              });\n\n              if (valueOut) {\n                dom.setAttrib(node, name, valueOut);\n                return;\n              }\n            }\n          }\n\n          if (name === 'class') {\n            node.removeAttribute('className');\n          }\n\n          if (MCE_ATTR_RE.test(name)) {\n            node.removeAttribute('data-mce-' + name);\n          }\n\n          node.removeAttribute(name);\n        }\n      });\n      each$b(format.classes, function (value) {\n        value = FormatUtils.replaceVars(value, vars);\n\n        if (!compareNode || dom.hasClass(compareNode, value)) {\n          dom.removeClass(node, value);\n        }\n      });\n      attrs = dom.getAttribs(node);\n\n      for (i = 0; i < attrs.length; i++) {\n        var attrName = attrs[i].nodeName;\n\n        if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n          return false;\n        }\n      }\n    }\n\n    if (format.remove !== 'none') {\n      removeNode$1(ed, node, format);\n      return true;\n    }\n  };\n\n  var findFormatRoot = function findFormatRoot(editor, container, name, vars, similar) {\n    var formatRoot;\n    each$b(FormatUtils.getParents(editor.dom, container.parentNode).reverse(), function (parent) {\n      var format;\n\n      if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n        format = MatchFormat.matchNode(editor, parent, name, vars, similar);\n\n        if (format && format.split !== false) {\n          formatRoot = parent;\n        }\n      }\n    });\n    return formatRoot;\n  };\n\n  var wrapAndSplit = function wrapAndSplit(editor, formatList, formatRoot, container, target, split, format, vars) {\n    var parent, clone, lastClone, firstClone, i, formatRootParent;\n    var dom = editor.dom;\n\n    if (formatRoot) {\n      formatRootParent = formatRoot.parentNode;\n\n      for (parent = container.parentNode; parent && parent !== formatRootParent; parent = parent.parentNode) {\n        clone = dom.clone(parent, false);\n\n        for (i = 0; i < formatList.length; i++) {\n          if (removeFormat(editor, formatList[i], vars, clone, clone)) {\n            clone = 0;\n            break;\n          }\n        }\n\n        if (clone) {\n          if (lastClone) {\n            clone.appendChild(lastClone);\n          }\n\n          if (!firstClone) {\n            firstClone = clone;\n          }\n\n          lastClone = clone;\n        }\n      }\n\n      if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n        container = dom.split(formatRoot, container);\n      }\n\n      if (lastClone) {\n        target.parentNode.insertBefore(lastClone, target);\n        firstClone.appendChild(target);\n      }\n    }\n\n    return container;\n  };\n\n  var remove$7 = function remove$7(ed, name, vars, node, similar) {\n    var formatList = ed.formatter.get(name),\n        format = formatList[0];\n    var bookmark,\n        rng,\n        contentEditable = true;\n    var dom = ed.dom;\n    var selection = ed.selection;\n\n    var splitToFormatRoot = function splitToFormatRoot(container) {\n      var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n      return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n    };\n\n    var isRemoveBookmarkNode = function isRemoveBookmarkNode(node) {\n      return Bookmarks.isBookmarkNode(node) && NodeType.isElement(node) && (node.id === '_start' || node.id === '_end');\n    };\n\n    var process = function process(node) {\n      var children, i, l, lastContentEditable, hasContentEditableState;\n\n      if (NodeType.isElement(node) && dom.getContentEditable(node)) {\n        lastContentEditable = contentEditable;\n        contentEditable = dom.getContentEditable(node) === 'true';\n        hasContentEditableState = true;\n      }\n\n      children = Tools.grep(node.childNodes);\n\n      if (contentEditable && !hasContentEditableState) {\n        for (i = 0, l = formatList.length; i < l; i++) {\n          if (removeFormat(ed, formatList[i], vars, node, node)) {\n            break;\n          }\n        }\n      }\n\n      if (format.deep) {\n        if (children.length) {\n          for (i = 0, l = children.length; i < l; i++) {\n            process(children[i]);\n          }\n\n          if (hasContentEditableState) {\n            contentEditable = lastContentEditable;\n          }\n        }\n      }\n    };\n\n    var unwrap = function unwrap(start) {\n      var node = dom.get(start ? '_start' : '_end');\n      var out = node[start ? 'firstChild' : 'lastChild'];\n\n      if (isRemoveBookmarkNode(out)) {\n        out = out[start ? 'firstChild' : 'lastChild'];\n      }\n\n      if (NodeType.isText(out) && out.data.length === 0) {\n        out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n      }\n\n      dom.remove(node, true);\n      return out;\n    };\n\n    var removeRngStyle = function removeRngStyle(rng) {\n      var startContainer, endContainer;\n      var commonAncestorContainer = rng.commonAncestorContainer;\n      rng = ExpandRange.expandRng(ed, rng, formatList, true);\n\n      if (format.split) {\n        rng = split$1(rng);\n        startContainer = getContainer(ed, rng, true);\n        endContainer = getContainer(ed, rng);\n\n        if (startContainer !== endContainer) {\n          if (/^(TR|TH|TD)$/.test(startContainer.nodeName) && startContainer.firstChild) {\n            if (startContainer.nodeName === 'TR') {\n              startContainer = startContainer.firstChild.firstChild || startContainer;\n            } else {\n              startContainer = startContainer.firstChild || startContainer;\n            }\n          }\n\n          if (commonAncestorContainer && /^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName) && isTableCell$2(endContainer) && endContainer.firstChild) {\n            endContainer = endContainer.firstChild || endContainer;\n          }\n\n          if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n            var marker = Option.from(startContainer.firstChild).getOr(startContainer);\n            splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            }));\n            unwrap(true);\n            return;\n          }\n\n          if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n            var marker = Option.from(endContainer.lastChild).getOr(endContainer);\n            splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            }));\n            unwrap(false);\n            return;\n          }\n\n          startContainer = wrap$2(dom, startContainer, 'span', {\n            'id': '_start',\n            'data-mce-type': 'bookmark'\n          });\n          endContainer = wrap$2(dom, endContainer, 'span', {\n            'id': '_end',\n            'data-mce-type': 'bookmark'\n          });\n          splitToFormatRoot(startContainer);\n          splitToFormatRoot(endContainer);\n          startContainer = unwrap(true);\n          endContainer = unwrap();\n        } else {\n          startContainer = endContainer = splitToFormatRoot(startContainer);\n        }\n\n        rng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n        rng.startOffset = dom.nodeIndex(startContainer);\n        rng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n        rng.endOffset = dom.nodeIndex(endContainer) + 1;\n      }\n\n      RangeWalk.walk(dom, rng, function (nodes) {\n        each$b(nodes, function (node) {\n          process(node);\n\n          if (NodeType.isElement(node) && ed.dom.getStyle(node, 'text-decoration') === 'underline' && node.parentNode && FormatUtils.getTextDecoration(dom, node.parentNode) === 'underline') {\n            removeFormat(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: {\n                textDecoration: 'underline'\n              }\n            }, null, node);\n          }\n        });\n      });\n    };\n\n    if (node) {\n      if (node.nodeType) {\n        rng = dom.createRng();\n        rng.setStartBefore(node);\n        rng.setEndAfter(node);\n        removeRngStyle(rng);\n      } else {\n        removeRngStyle(node);\n      }\n\n      return;\n    }\n\n    if (dom.getContentEditable(selection.getNode()) === 'false') {\n      node = selection.getNode();\n\n      for (var i = 0, l = formatList.length; i < l; i++) {\n        if (formatList[i].ceFalseOverride) {\n          if (removeFormat(ed, formatList[i], vars, node, node)) {\n            break;\n          }\n        }\n      }\n\n      return;\n    }\n\n    if (!selection.isCollapsed() || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n      bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\n      removeRngStyle(selection.getRng());\n      selection.moveToBookmark(bookmark);\n\n      if (format.inline && MatchFormat.match(ed, name, vars, selection.getStart())) {\n        FormatUtils.moveStart(dom, selection, selection.getRng());\n      }\n\n      ed.nodeChanged();\n    } else {\n      removeCaretFormat(ed, name, vars, similar);\n    }\n  };\n\n  var RemoveFormat = {\n    removeFormat: removeFormat,\n    remove: remove$7\n  };\n  var each$c = Tools.each;\n\n  var isElementNode = function isElementNode(node) {\n    return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\n  };\n\n  var findElementSibling = function findElementSibling(node, siblingName) {\n    var sibling;\n\n    for (sibling = node; sibling; sibling = sibling[siblingName]) {\n      if (sibling.nodeType === 3 && sibling.nodeValue.length !== 0) {\n        return node;\n      }\n\n      if (sibling.nodeType === 1 && !Bookmarks.isBookmarkNode(sibling)) {\n        return sibling;\n      }\n    }\n\n    return node;\n  };\n\n  var mergeSiblingsNodes = function mergeSiblingsNodes(dom, prev, next) {\n    var sibling, tmpSibling;\n    var elementUtils = new ElementUtils(dom);\n\n    if (prev && next) {\n      prev = findElementSibling(prev, 'previousSibling');\n      next = findElementSibling(next, 'nextSibling');\n\n      if (elementUtils.compare(prev, next)) {\n        for (sibling = prev.nextSibling; sibling && sibling !== next;) {\n          tmpSibling = sibling;\n          sibling = sibling.nextSibling;\n          prev.appendChild(tmpSibling);\n        }\n\n        dom.remove(next);\n        Tools.each(Tools.grep(next.childNodes), function (node) {\n          prev.appendChild(node);\n        });\n        return prev;\n      }\n    }\n\n    return next;\n  };\n\n  var processChildElements = function processChildElements(node, filter, process) {\n    each$c(node.childNodes, function (node) {\n      if (isElementNode(node)) {\n        if (filter(node)) {\n          process(node);\n        }\n\n        if (node.hasChildNodes()) {\n          processChildElements(node, filter, process);\n        }\n      }\n    });\n  };\n\n  var hasStyle = function hasStyle(dom, name) {\n    return curry(function (name, node) {\n      return !!(node && FormatUtils.getStyle(dom, node, name));\n    }, name);\n  };\n\n  var applyStyle = function applyStyle(dom, name, value) {\n    return curry(function (name, value, node) {\n      dom.setStyle(node, name, value);\n\n      if (node.getAttribute('style') === '') {\n        node.removeAttribute('style');\n      }\n\n      unwrapEmptySpan(dom, node);\n    }, name, value);\n  };\n\n  var unwrapEmptySpan = function unwrapEmptySpan(dom, node) {\n    if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n      dom.remove(node, true);\n    }\n  };\n\n  var processUnderlineAndColor = function processUnderlineAndColor(dom, node) {\n    var textDecoration;\n\n    if (node.nodeType === 1 && node.parentNode && node.parentNode.nodeType === 1) {\n      textDecoration = FormatUtils.getTextDecoration(dom, node.parentNode);\n\n      if (dom.getStyle(node, 'color') && textDecoration) {\n        dom.setStyle(node, 'text-decoration', textDecoration);\n      } else if (dom.getStyle(node, 'text-decoration') === textDecoration) {\n        dom.setStyle(node, 'text-decoration', null);\n      }\n    }\n  };\n\n  var mergeUnderlineAndColor = function mergeUnderlineAndColor(dom, format, vars, node) {\n    if (format.styles.color || format.styles.textDecoration) {\n      Tools.walk(node, curry(processUnderlineAndColor, dom), 'childNodes');\n      processUnderlineAndColor(dom, node);\n    }\n  };\n\n  var mergeBackgroundColorAndFontSize = function mergeBackgroundColorAndFontSize(dom, format, vars, node) {\n    if (format.styles && format.styles.backgroundColor) {\n      processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', FormatUtils.replaceVars(format.styles.backgroundColor, vars)));\n    }\n  };\n\n  var mergeSubSup = function mergeSubSup(dom, format, vars, node) {\n    if (format.inline === 'sub' || format.inline === 'sup') {\n      processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n      dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n    }\n  };\n\n  var mergeSiblings = function mergeSiblings(dom, format, vars, node) {\n    if (node && format.merge_siblings !== false) {\n      node = mergeSiblingsNodes(dom, FormatUtils.getNonWhiteSpaceSibling(node), node);\n      node = mergeSiblingsNodes(dom, node, FormatUtils.getNonWhiteSpaceSibling(node, true));\n    }\n  };\n\n  var clearChildStyles = function clearChildStyles(dom, format, node) {\n    if (format.clear_child_styles) {\n      var selector = format.links ? '*:not(a)' : '*';\n      each$c(dom.select(selector, node), function (node) {\n        if (isElementNode(node)) {\n          each$c(format.styles, function (value, name) {\n            dom.setStyle(node, name, '');\n          });\n        }\n      });\n    }\n  };\n\n  var mergeWithChildren = function mergeWithChildren(editor, formatList, vars, node) {\n    each$c(formatList, function (format) {\n      each$c(editor.dom.select(format.inline, node), function (child) {\n        if (!isElementNode(child)) {\n          return;\n        }\n\n        RemoveFormat.removeFormat(editor, format, vars, child, format.exact ? child : null);\n      });\n      clearChildStyles(editor.dom, format, node);\n    });\n  };\n\n  var mergeWithParents = function mergeWithParents(editor, format, name, vars, node) {\n    if (MatchFormat.matchNode(editor, node.parentNode, name, vars)) {\n      if (RemoveFormat.removeFormat(editor, format, vars, node)) {\n        return;\n      }\n    }\n\n    if (format.merge_with_parents) {\n      editor.dom.getParent(node.parentNode, function (parent) {\n        if (MatchFormat.matchNode(editor, parent, name, vars)) {\n          RemoveFormat.removeFormat(editor, format, vars, node);\n          return true;\n        }\n      });\n    }\n  };\n\n  var MergeFormats = {\n    mergeWithChildren: mergeWithChildren,\n    mergeUnderlineAndColor: mergeUnderlineAndColor,\n    mergeBackgroundColorAndFontSize: mergeBackgroundColorAndFontSize,\n    mergeSubSup: mergeSubSup,\n    mergeSiblings: mergeSiblings,\n    mergeWithParents: mergeWithParents\n  };\n\n  var createRange$1 = function createRange$1(sc, so, ec, eo) {\n    var rng = domGlobals.document.createRange();\n    rng.setStart(sc, so);\n    rng.setEnd(ec, eo);\n    return rng;\n  };\n\n  var normalizeBlockSelectionRange = function normalizeBlockSelectionRange(rng) {\n    var startPos = CaretPosition$1.fromRangeStart(rng);\n    var endPos = CaretPosition$1.fromRangeEnd(rng);\n    var rootNode = rng.commonAncestorContainer;\n    return CaretFinder.fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n      if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n        return createRange$1(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n      } else {\n        return rng;\n      }\n    }).getOr(rng);\n  };\n\n  var normalize$1 = function normalize$1(rng) {\n    return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n  };\n\n  var RangeNormalizer = {\n    normalize: normalize$1\n  };\n  var each$d = Tools.each;\n\n  var isElementNode$1 = function isElementNode$1(node) {\n    return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\n  };\n\n  var applyFormat = function applyFormat(ed, name, vars, node) {\n    var formatList = ed.formatter.get(name);\n    var format = formatList[0];\n    var bookmark, rng;\n    var isCollapsed = !node && ed.selection.isCollapsed();\n    var dom = ed.dom,\n        selection = ed.selection;\n\n    var setElementFormat = function setElementFormat(elm, fmt) {\n      fmt = fmt || format;\n\n      if (elm) {\n        if (fmt.onformat) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n\n        each$d(fmt.styles, function (value, name) {\n          dom.setStyle(elm, name, FormatUtils.replaceVars(value, vars));\n        });\n\n        if (fmt.styles) {\n          var styleVal = dom.getAttrib(elm, 'style');\n\n          if (styleVal) {\n            elm.setAttribute('data-mce-style', styleVal);\n          }\n        }\n\n        each$d(fmt.attributes, function (value, name) {\n          dom.setAttrib(elm, name, FormatUtils.replaceVars(value, vars));\n        });\n        each$d(fmt.classes, function (value) {\n          value = FormatUtils.replaceVars(value, vars);\n\n          if (!dom.hasClass(elm, value)) {\n            dom.addClass(elm, value);\n          }\n        });\n      }\n    };\n\n    var applyNodeStyle = function applyNodeStyle(formatList, node) {\n      var found = false;\n\n      if (!format.selector) {\n        return false;\n      }\n\n      each$d(formatList, function (format) {\n        if ('collapsed' in format && format.collapsed !== isCollapsed) {\n          return;\n        }\n\n        if (dom.is(node, format.selector) && !isCaretNode(node)) {\n          setElementFormat(node, format);\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    };\n\n    var applyRngStyle = function applyRngStyle(dom, rng, bookmark, nodeSpecific) {\n      var newWrappers = [];\n      var wrapName,\n          wrapElm,\n          contentEditable = true;\n      wrapName = format.inline || format.block;\n      wrapElm = dom.create(wrapName);\n      setElementFormat(wrapElm);\n      RangeWalk.walk(dom, rng, function (nodes) {\n        var currentWrapElm;\n\n        var process = function process(node) {\n          var nodeName, parentName, hasContentEditableState, lastContentEditable;\n          lastContentEditable = contentEditable;\n          nodeName = node.nodeName.toLowerCase();\n          parentName = node.parentNode.nodeName.toLowerCase();\n\n          if (node.nodeType === 1 && dom.getContentEditable(node)) {\n            lastContentEditable = contentEditable;\n            contentEditable = dom.getContentEditable(node) === 'true';\n            hasContentEditableState = true;\n          }\n\n          if (FormatUtils.isEq(nodeName, 'br')) {\n            currentWrapElm = 0;\n\n            if (format.block) {\n              dom.remove(node);\n            }\n\n            return;\n          }\n\n          if (format.wrapper && MatchFormat.matchNode(ed, node, name, vars)) {\n            currentWrapElm = 0;\n            return;\n          }\n\n          if (contentEditable && !hasContentEditableState && format.block && !format.wrapper && FormatUtils.isTextBlock(ed, nodeName) && FormatUtils.isValid(ed, parentName, wrapName)) {\n            node = dom.rename(node, wrapName);\n            setElementFormat(node);\n            newWrappers.push(node);\n            currentWrapElm = 0;\n            return;\n          }\n\n          if (format.selector) {\n            var found = applyNodeStyle(formatList, node);\n\n            if (!format.inline || found) {\n              currentWrapElm = 0;\n              return;\n            }\n          }\n\n          if (contentEditable && !hasContentEditableState && FormatUtils.isValid(ed, wrapName, nodeName) && FormatUtils.isValid(ed, parentName, wrapName) && !(!nodeSpecific && node.nodeType === 3 && node.nodeValue.length === 1 && node.nodeValue.charCodeAt(0) === 65279) && !isCaretNode(node) && (!format.inline || !dom.isBlock(node))) {\n            if (!currentWrapElm) {\n              currentWrapElm = dom.clone(wrapElm, false);\n              node.parentNode.insertBefore(currentWrapElm, node);\n              newWrappers.push(currentWrapElm);\n            }\n\n            currentWrapElm.appendChild(node);\n          } else {\n            currentWrapElm = 0;\n            each$d(Tools.grep(node.childNodes), process);\n\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n\n            currentWrapElm = 0;\n          }\n        };\n\n        each$d(nodes, process);\n      });\n\n      if (format.links === true) {\n        each$d(newWrappers, function (node) {\n          var process = function process(node) {\n            if (node.nodeName === 'A') {\n              setElementFormat(node, format);\n            }\n\n            each$d(Tools.grep(node.childNodes), process);\n          };\n\n          process(node);\n        });\n      }\n\n      each$d(newWrappers, function (node) {\n        var childCount;\n\n        var getChildCount = function getChildCount(node) {\n          var count = 0;\n          each$d(node.childNodes, function (node) {\n            if (!FormatUtils.isWhiteSpaceNode(node) && !Bookmarks.isBookmarkNode(node)) {\n              count++;\n            }\n          });\n          return count;\n        };\n\n        var getChildElementNode = function getChildElementNode(root) {\n          var child = false;\n          each$d(root.childNodes, function (node) {\n            if (isElementNode$1(node)) {\n              child = node;\n              return false;\n            }\n          });\n          return child;\n        };\n\n        var mergeStyles = function mergeStyles(node) {\n          var child, clone;\n          child = getChildElementNode(node);\n\n          if (child && !Bookmarks.isBookmarkNode(child) && MatchFormat.matchName(dom, child, format)) {\n            clone = dom.clone(child, false);\n            setElementFormat(clone);\n            dom.replace(clone, node, true);\n            dom.remove(child, 1);\n          }\n\n          return clone || node;\n        };\n\n        childCount = getChildCount(node);\n\n        if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n          dom.remove(node, 1);\n          return;\n        }\n\n        if (format.inline || format.wrapper) {\n          if (!format.exact && childCount === 1) {\n            node = mergeStyles(node);\n          }\n\n          MergeFormats.mergeWithChildren(ed, formatList, vars, node);\n          MergeFormats.mergeWithParents(ed, format, name, vars, node);\n          MergeFormats.mergeBackgroundColorAndFontSize(dom, format, vars, node);\n          MergeFormats.mergeSubSup(dom, format, vars, node);\n          MergeFormats.mergeSiblings(dom, format, vars, node);\n        }\n      });\n    };\n\n    if (dom.getContentEditable(selection.getNode()) === 'false') {\n      node = selection.getNode();\n\n      for (var i = 0, l = formatList.length; i < l; i++) {\n        if (formatList[i].ceFalseOverride && dom.is(node, formatList[i].selector)) {\n          setElementFormat(node, formatList[i]);\n          return;\n        }\n      }\n\n      return;\n    }\n\n    if (format) {\n      if (node) {\n        if (node.nodeType) {\n          if (!applyNodeStyle(formatList, node)) {\n            rng = dom.createRng();\n            rng.setStartBefore(node);\n            rng.setEndAfter(node);\n            applyRngStyle(dom, ExpandRange.expandRng(ed, rng, formatList), null, true);\n          }\n        } else {\n          applyRngStyle(dom, node, null, true);\n        }\n      } else {\n        if (!isCollapsed || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n          var curSelNode = ed.selection.getNode();\n\n          if (!ed.settings.forced_root_block && formatList[0].defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n            applyFormat(ed, formatList[0].defaultBlock);\n          }\n\n          ed.selection.setRng(RangeNormalizer.normalize(ed.selection.getRng()));\n          bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\n          applyRngStyle(dom, ExpandRange.expandRng(ed, selection.getRng(), formatList));\n\n          if (format.styles) {\n            MergeFormats.mergeUnderlineAndColor(dom, format, vars, curSelNode);\n          }\n\n          selection.moveToBookmark(bookmark);\n          FormatUtils.moveStart(dom, selection, selection.getRng());\n          ed.nodeChanged();\n        } else {\n          applyCaretFormat(ed, name, vars);\n        }\n      }\n\n      Hooks.postProcess(name, ed);\n    }\n  };\n\n  var ApplyFormat = {\n    applyFormat: applyFormat\n  };\n\n  var setup$6 = function setup$6(registeredFormatListeners, editor) {\n    var currentFormats = Cell({});\n    registeredFormatListeners.set({});\n    editor.on('NodeChange', function (e) {\n      updateAndFireChangeCallbacks(editor, e.element, currentFormats, registeredFormatListeners.get());\n    });\n  };\n\n  var updateAndFireChangeCallbacks = function updateAndFireChangeCallbacks(editor, elm, currentFormats, formatChangeData) {\n    var formatsList = keys(currentFormats.get());\n    var newFormats = {};\n    var matchedFormats = {};\n    var parents = filter(FormatUtils.getParents(editor.dom, elm), function (node) {\n      return node.nodeType === 1 && !node.getAttribute('data-mce-bogus');\n    });\n    each$3(formatChangeData, function (data, format) {\n      Tools.each(parents, function (node) {\n        if (editor.formatter.matchNode(node, format, {}, data.similar)) {\n          if (formatsList.indexOf(format) === -1) {\n            each(data.callbacks, function (callback) {\n              callback(true, {\n                node: node,\n                format: format,\n                parents: parents\n              });\n            });\n            newFormats[format] = data.callbacks;\n          }\n\n          matchedFormats[format] = data.callbacks;\n          return false;\n        }\n\n        if (MatchFormat.matchesUnInheritedFormatSelector(editor, node, format)) {\n          return false;\n        }\n      });\n    });\n    var remainingFormats = filterRemainingFormats(currentFormats.get(), matchedFormats, elm, parents);\n    currentFormats.set(_assign({}, newFormats, remainingFormats));\n  };\n\n  var filterRemainingFormats = function filterRemainingFormats(currentFormats, matchedFormats, elm, parents) {\n    return bifilter(currentFormats, function (callbacks, format) {\n      if (!has(matchedFormats, format)) {\n        each(callbacks, function (callback) {\n          callback(false, {\n            node: elm,\n            format: format,\n            parents: parents\n          });\n        });\n        return false;\n      } else {\n        return true;\n      }\n    }).t;\n  };\n\n  var addListeners = function addListeners(registeredFormatListeners, formats, callback, similar) {\n    var formatChangeItems = registeredFormatListeners.get();\n    each(formats.split(','), function (format) {\n      if (!formatChangeItems[format]) {\n        formatChangeItems[format] = {\n          similar: similar,\n          callbacks: []\n        };\n      }\n\n      formatChangeItems[format].callbacks.push(callback);\n    });\n    registeredFormatListeners.set(formatChangeItems);\n  };\n\n  var removeListeners = function removeListeners(registeredFormatListeners, formats, callback) {\n    var formatChangeItems = registeredFormatListeners.get();\n    each(formats.split(','), function (format) {\n      formatChangeItems[format].callbacks = filter(formatChangeItems[format].callbacks, function (c) {\n        return c !== callback;\n      });\n\n      if (formatChangeItems[format].callbacks.length === 0) {\n        delete formatChangeItems[format];\n      }\n    });\n    registeredFormatListeners.set(formatChangeItems);\n  };\n\n  var formatChanged = function formatChanged(editor, registeredFormatListeners, formats, callback, similar) {\n    if (registeredFormatListeners.get() === null) {\n      setup$6(registeredFormatListeners, editor);\n    }\n\n    addListeners(registeredFormatListeners, formats, callback, similar);\n    return {\n      unbind: function unbind() {\n        return removeListeners(registeredFormatListeners, formats, callback);\n      }\n    };\n  };\n\n  var get$6 = function get$6(dom) {\n    var formats = {\n      valigntop: [{\n        selector: 'td,th',\n        styles: {\n          verticalAlign: 'top'\n        }\n      }],\n      valignmiddle: [{\n        selector: 'td,th',\n        styles: {\n          verticalAlign: 'middle'\n        }\n      }],\n      valignbottom: [{\n        selector: 'td,th',\n        styles: {\n          verticalAlign: 'bottom'\n        }\n      }],\n      alignleft: [{\n        selector: 'figure.image',\n        collapsed: false,\n        classes: 'align-left',\n        ceFalseOverride: true,\n        preview: 'font-family font-size'\n      }, {\n        selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n        styles: {\n          textAlign: 'left'\n        },\n        inherit: false,\n        preview: false,\n        defaultBlock: 'div'\n      }, {\n        selector: 'img,table',\n        collapsed: false,\n        styles: {\n          float: 'left'\n        },\n        preview: 'font-family font-size'\n      }],\n      aligncenter: [{\n        selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n        styles: {\n          textAlign: 'center'\n        },\n        inherit: false,\n        preview: 'font-family font-size',\n        defaultBlock: 'div'\n      }, {\n        selector: 'figure.image',\n        collapsed: false,\n        classes: 'align-center',\n        ceFalseOverride: true,\n        preview: 'font-family font-size'\n      }, {\n        selector: 'img',\n        collapsed: false,\n        styles: {\n          display: 'block',\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        },\n        preview: false\n      }, {\n        selector: 'table',\n        collapsed: false,\n        styles: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        },\n        preview: 'font-family font-size'\n      }],\n      alignright: [{\n        selector: 'figure.image',\n        collapsed: false,\n        classes: 'align-right',\n        ceFalseOverride: true,\n        preview: 'font-family font-size'\n      }, {\n        selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n        styles: {\n          textAlign: 'right'\n        },\n        inherit: false,\n        preview: 'font-family font-size',\n        defaultBlock: 'div'\n      }, {\n        selector: 'img,table',\n        collapsed: false,\n        styles: {\n          float: 'right'\n        },\n        preview: 'font-family font-size'\n      }],\n      alignjustify: [{\n        selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n        styles: {\n          textAlign: 'justify'\n        },\n        inherit: false,\n        defaultBlock: 'div',\n        preview: 'font-family font-size'\n      }],\n      bold: [{\n        inline: 'strong',\n        remove: 'all'\n      }, {\n        inline: 'span',\n        styles: {\n          fontWeight: 'bold'\n        }\n      }, {\n        inline: 'b',\n        remove: 'all'\n      }],\n      italic: [{\n        inline: 'em',\n        remove: 'all'\n      }, {\n        inline: 'span',\n        styles: {\n          fontStyle: 'italic'\n        }\n      }, {\n        inline: 'i',\n        remove: 'all'\n      }],\n      underline: [{\n        inline: 'span',\n        styles: {\n          textDecoration: 'underline'\n        },\n        exact: true\n      }, {\n        inline: 'u',\n        remove: 'all'\n      }],\n      strikethrough: [{\n        inline: 'span',\n        styles: {\n          textDecoration: 'line-through'\n        },\n        exact: true\n      }, {\n        inline: 'strike',\n        remove: 'all'\n      }],\n      forecolor: {\n        inline: 'span',\n        styles: {\n          color: '%value'\n        },\n        links: true,\n        remove_similar: true,\n        clear_child_styles: true\n      },\n      hilitecolor: {\n        inline: 'span',\n        styles: {\n          backgroundColor: '%value'\n        },\n        links: true,\n        remove_similar: true,\n        clear_child_styles: true\n      },\n      fontname: {\n        inline: 'span',\n        toggle: false,\n        styles: {\n          fontFamily: '%value'\n        },\n        clear_child_styles: true\n      },\n      fontsize: {\n        inline: 'span',\n        toggle: false,\n        styles: {\n          fontSize: '%value'\n        },\n        clear_child_styles: true\n      },\n      fontsize_class: {\n        inline: 'span',\n        attributes: {\n          class: '%value'\n        }\n      },\n      blockquote: {\n        block: 'blockquote',\n        wrapper: true,\n        remove: 'all'\n      },\n      subscript: {\n        inline: 'sub'\n      },\n      superscript: {\n        inline: 'sup'\n      },\n      code: {\n        inline: 'code'\n      },\n      link: {\n        inline: 'a',\n        selector: 'a',\n        remove: 'all',\n        split: true,\n        deep: true,\n        onmatch: function onmatch() {\n          return true;\n        },\n        onformat: function onformat(elm, fmt, vars) {\n          Tools.each(vars, function (value, key) {\n            dom.setAttrib(elm, key, value);\n          });\n        }\n      },\n      removeformat: [{\n        selector: 'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',\n        remove: 'all',\n        split: true,\n        expand: false,\n        block_expand: true,\n        deep: true\n      }, {\n        selector: 'span',\n        attributes: ['style', 'class'],\n        remove: 'empty',\n        split: true,\n        expand: false,\n        deep: true\n      }, {\n        selector: '*',\n        attributes: ['style', 'class'],\n        split: false,\n        expand: false,\n        deep: true\n      }]\n    };\n    Tools.each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\\s/), function (name) {\n      formats[name] = {\n        block: name,\n        remove: 'all'\n      };\n    });\n    return formats;\n  };\n\n  var DefaultFormats = {\n    get: get$6\n  };\n\n  function FormatRegistry(editor) {\n    var formats = {};\n\n    var get = function get(name) {\n      return name ? formats[name] : formats;\n    };\n\n    var has$1 = function has$1(name) {\n      return has(formats, name);\n    };\n\n    var register = function register(name, format) {\n      if (name) {\n        if (typeof name !== 'string') {\n          Tools.each(name, function (format, name) {\n            register(name, format);\n          });\n        } else {\n          if (!isArray(format)) {\n            format = [format];\n          }\n\n          Tools.each(format, function (format) {\n            if (typeof format.deep === 'undefined') {\n              format.deep = !format.selector;\n            }\n\n            if (typeof format.split === 'undefined') {\n              format.split = !format.selector || format.inline;\n            }\n\n            if (typeof format.remove === 'undefined' && format.selector && !format.inline) {\n              format.remove = 'none';\n            }\n\n            if (format.selector && format.inline) {\n              format.mixed = true;\n              format.block_expand = true;\n            }\n\n            if (typeof format.classes === 'string') {\n              format.classes = format.classes.split(/\\s+/);\n            }\n          });\n          formats[name] = format;\n        }\n      }\n    };\n\n    var unregister = function unregister(name) {\n      if (name && formats[name]) {\n        delete formats[name];\n      }\n\n      return formats;\n    };\n\n    register(DefaultFormats.get(editor.dom));\n    register(editor.settings.formats);\n    return {\n      get: get,\n      has: has$1,\n      register: register,\n      unregister: unregister\n    };\n  }\n\n  var each$e = Tools.each;\n  var dom = DOMUtils$1.DOM;\n\n  var parsedSelectorToHtml = function parsedSelectorToHtml(ancestry, editor) {\n    var elm, item, fragment;\n    var schema = editor && editor.schema || Schema({});\n\n    var decorate = function decorate(elm, item) {\n      if (item.classes.length) {\n        dom.addClass(elm, item.classes.join(' '));\n      }\n\n      dom.setAttribs(elm, item.attrs);\n    };\n\n    var createElement = function createElement(sItem) {\n      var elm;\n      item = typeof sItem === 'string' ? {\n        name: sItem,\n        classes: [],\n        attrs: {}\n      } : sItem;\n      elm = dom.create(item.name);\n      decorate(elm, item);\n      return elm;\n    };\n\n    var getRequiredParent = function getRequiredParent(elm, candidate) {\n      var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n      var elmRule = schema.getElementRule(name);\n      var parentsRequired = elmRule && elmRule.parentsRequired;\n\n      if (parentsRequired && parentsRequired.length) {\n        return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n      } else {\n        return false;\n      }\n    };\n\n    var wrapInHtml = function wrapInHtml(elm, ancestry, siblings) {\n      var parent, parentCandidate, parentRequired;\n      var ancestor = ancestry.length > 0 && ancestry[0];\n      var ancestorName = ancestor && ancestor.name;\n      parentRequired = getRequiredParent(elm, ancestorName);\n\n      if (parentRequired) {\n        if (ancestorName === parentRequired) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else {\n          parentCandidate = parentRequired;\n        }\n      } else if (ancestor) {\n        parentCandidate = ancestry[0];\n        ancestry = ancestry.slice(1);\n      } else if (!siblings) {\n        return elm;\n      }\n\n      if (parentCandidate) {\n        parent = createElement(parentCandidate);\n        parent.appendChild(elm);\n      }\n\n      if (siblings) {\n        if (!parent) {\n          parent = dom.create('div');\n          parent.appendChild(elm);\n        }\n\n        Tools.each(siblings, function (sibling) {\n          var siblingElm = createElement(sibling);\n          parent.insertBefore(siblingElm, elm);\n        });\n      }\n\n      return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n    };\n\n    if (ancestry && ancestry.length) {\n      item = ancestry[0];\n      elm = createElement(item);\n      fragment = dom.create('div');\n      fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n      return fragment;\n    } else {\n      return '';\n    }\n  };\n\n  var selectorToHtml = function selectorToHtml(selector, editor) {\n    return parsedSelectorToHtml(parseSelector(selector), editor);\n  };\n\n  var parseSelectorItem = function parseSelectorItem(item) {\n    var tagName;\n    var obj = {\n      classes: [],\n      attrs: {}\n    };\n    item = obj.selector = Tools.trim(item);\n\n    if (item !== '*') {\n      tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n        switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n\n          case '.':\n            obj.classes.push($2);\n            break;\n\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n\n            break;\n        }\n\n        if ($3 === '[') {\n          var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n\n          if (m) {\n            obj.attrs[m[1]] = m[2];\n          }\n        }\n\n        return '';\n      });\n    }\n\n    obj.name = tagName || 'div';\n    return obj;\n  };\n\n  var parseSelector = function parseSelector(selector) {\n    if (!selector || typeof selector !== 'string') {\n      return [];\n    }\n\n    selector = selector.split(/\\s*,\\s*/)[0];\n    selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n    return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n      var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n      var obj = siblings.pop();\n\n      if (siblings.length) {\n        obj.siblings = siblings;\n      }\n\n      return obj;\n    }).reverse();\n  };\n\n  var getCssText = function getCssText(editor, format) {\n    var name, previewFrag, previewElm, items;\n    var previewCss = '',\n        parentFontSize,\n        previewStyles;\n    previewStyles = editor.settings.preview_styles;\n\n    if (previewStyles === false) {\n      return '';\n    }\n\n    if (typeof previewStyles !== 'string') {\n      previewStyles = 'font-family font-size font-weight font-style text-decoration ' + 'text-transform color background-color border border-radius outline text-shadow';\n    }\n\n    var removeVars = function removeVars(val) {\n      return val.replace(/%(\\w+)/g, '');\n    };\n\n    if (typeof format === 'string') {\n      format = editor.formatter.get(format);\n\n      if (!format) {\n        return;\n      }\n\n      format = format[0];\n    }\n\n    if ('preview' in format) {\n      previewStyles = format.preview;\n\n      if (previewStyles === false) {\n        return '';\n      }\n    }\n\n    name = format.block || format.inline || 'span';\n    items = parseSelector(format.selector);\n\n    if (items.length) {\n      if (!items[0].name) {\n        items[0].name = name;\n      }\n\n      name = format.selector;\n      previewFrag = parsedSelectorToHtml(items, editor);\n    } else {\n      previewFrag = parsedSelectorToHtml([name], editor);\n    }\n\n    previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n    each$e(format.styles, function (value, name) {\n      value = removeVars(value);\n\n      if (value) {\n        dom.setStyle(previewElm, name, value);\n      }\n    });\n    each$e(format.attributes, function (value, name) {\n      value = removeVars(value);\n\n      if (value) {\n        dom.setAttrib(previewElm, name, value);\n      }\n    });\n    each$e(format.classes, function (value) {\n      value = removeVars(value);\n\n      if (!dom.hasClass(previewElm, value)) {\n        dom.addClass(previewElm, value);\n      }\n    });\n    editor.fire('PreviewFormats');\n    dom.setStyles(previewFrag, {\n      position: 'absolute',\n      left: -65535\n    });\n    editor.getBody().appendChild(previewFrag);\n    parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n    parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n    each$e(previewStyles.split(' '), function (name) {\n      var value = dom.getStyle(previewElm, name, true);\n\n      if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n        value = dom.getStyle(editor.getBody(), name, true);\n\n        if (dom.toHex(value).toLowerCase() === '#ffffff') {\n          return;\n        }\n      }\n\n      if (name === 'color') {\n        if (dom.toHex(value).toLowerCase() === '#000000') {\n          return;\n        }\n      }\n\n      if (name === 'font-size') {\n        if (/em|%$/.test(value)) {\n          if (parentFontSize === 0) {\n            return;\n          }\n\n          var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n          value = numValue * parentFontSize + 'px';\n        }\n      }\n\n      if (name === 'border' && value) {\n        previewCss += 'padding:0 2px;';\n      }\n\n      previewCss += name + ':' + value + ';';\n    });\n    editor.fire('AfterPreviewFormats');\n    dom.remove(previewFrag);\n    return previewCss;\n  };\n\n  var Preview = {\n    getCssText: getCssText,\n    parseSelector: parseSelector,\n    selectorToHtml: selectorToHtml\n  };\n\n  var toggle = function toggle(editor, formats, name, vars, node) {\n    var fmt = formats.get(name);\n\n    if (MatchFormat.match(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n      RemoveFormat.remove(editor, name, vars, node);\n    } else {\n      ApplyFormat.applyFormat(editor, name, vars, node);\n    }\n  };\n\n  var ToggleFormat = {\n    toggle: toggle\n  };\n\n  var setup$7 = function setup$7(editor) {\n    editor.addShortcut('meta+b', '', 'Bold');\n    editor.addShortcut('meta+i', '', 'Italic');\n    editor.addShortcut('meta+u', '', 'Underline');\n\n    for (var i = 1; i <= 6; i++) {\n      editor.addShortcut('access+' + i, '', ['FormatBlock', false, 'h' + i]);\n    }\n\n    editor.addShortcut('access+7', '', ['FormatBlock', false, 'p']);\n    editor.addShortcut('access+8', '', ['FormatBlock', false, 'div']);\n    editor.addShortcut('access+9', '', ['FormatBlock', false, 'address']);\n  };\n\n  var FormatShortcuts = {\n    setup: setup$7\n  };\n\n  var Formatter = function Formatter(editor) {\n    var formats = FormatRegistry(editor);\n    var formatChangeState = Cell(null);\n    FormatShortcuts.setup(editor);\n    setup$5(editor);\n    return {\n      get: formats.get,\n      has: formats.has,\n      register: formats.register,\n      unregister: formats.unregister,\n      apply: curry(ApplyFormat.applyFormat, editor),\n      remove: curry(RemoveFormat.remove, editor),\n      toggle: curry(ToggleFormat.toggle, editor, formats),\n      match: curry(MatchFormat.match, editor),\n      matchAll: curry(MatchFormat.matchAll, editor),\n      matchNode: curry(MatchFormat.matchNode, editor),\n      canApply: curry(MatchFormat.canApply, editor),\n      formatChanged: curry(formatChanged, editor, formatChangeState),\n      getCssText: curry(Preview.getCssText, editor)\n    };\n  };\n\n  var register$1 = function register$1(htmlParser, settings, dom) {\n    htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n      var i = nodes.length,\n          node;\n\n      while (i--) {\n        node = nodes[i];\n        node.attr('tabindex', node.attr('data-mce-tabindex'));\n        node.attr(name, null);\n      }\n    });\n    htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n      var i = nodes.length,\n          node,\n          value;\n      var internalName = 'data-mce-' + name;\n      var urlConverter = settings.url_converter;\n      var urlConverterScope = settings.url_converter_scope;\n\n      while (i--) {\n        node = nodes[i];\n        value = node.attr(internalName);\n\n        if (value !== undefined) {\n          node.attr(name, value.length > 0 ? value : null);\n          node.attr(internalName, null);\n        } else {\n          value = node.attr(name);\n\n          if (name === 'style') {\n            value = dom.serializeStyle(dom.parseStyle(value), node.name);\n          } else if (urlConverter) {\n            value = urlConverter.call(urlConverterScope, value, name, node.name);\n          }\n\n          node.attr(name, value.length > 0 ? value : null);\n        }\n      }\n    });\n    htmlParser.addAttributeFilter('class', function (nodes) {\n      var i = nodes.length,\n          node,\n          value;\n\n      while (i--) {\n        node = nodes[i];\n        value = node.attr('class');\n\n        if (value) {\n          value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n          node.attr('class', value.length > 0 ? value : null);\n        }\n      }\n    });\n    htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n      var i = nodes.length,\n          node;\n\n      while (i--) {\n        node = nodes[i];\n\n        if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n          var hasChildren = Option.from(node.firstChild).exists(function (firstChild) {\n            return !Zwsp.isZwsp(firstChild.value);\n          });\n\n          if (hasChildren) {\n            node.unwrap();\n          } else {\n            node.remove();\n          }\n        }\n      }\n    });\n    htmlParser.addNodeFilter('noscript', function (nodes) {\n      var i = nodes.length,\n          node;\n\n      while (i--) {\n        node = nodes[i].firstChild;\n\n        if (node) {\n          node.value = Entities.decode(node.value);\n        }\n      }\n    });\n    htmlParser.addNodeFilter('script,style', function (nodes, name) {\n      var i = nodes.length,\n          node,\n          value,\n          type;\n\n      var trim = function trim(value) {\n        return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n      };\n\n      while (i--) {\n        node = nodes[i];\n        value = node.firstChild ? node.firstChild.value : '';\n\n        if (name === 'script') {\n          type = node.attr('type');\n\n          if (type) {\n            node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n          }\n\n          if (settings.element_format === 'xhtml' && value.length > 0) {\n            node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n          }\n        } else {\n          if (settings.element_format === 'xhtml' && value.length > 0) {\n            node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n          }\n        }\n      }\n    });\n    htmlParser.addNodeFilter('#comment', function (nodes) {\n      var i = nodes.length,\n          node;\n\n      while (i--) {\n        node = nodes[i];\n\n        if (node.value.indexOf('[CDATA[') === 0) {\n          node.name = '#cdata';\n          node.type = 4;\n          node.value = node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, '');\n        } else if (node.value.indexOf('mce:protected ') === 0) {\n          node.name = '#text';\n          node.type = 3;\n          node.raw = true;\n          node.value = unescape(node.value).substr(14);\n        }\n      }\n    });\n    htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n      var i = nodes.length,\n          node;\n\n      while (i--) {\n        node = nodes[i];\n\n        if (node.type === 7) {\n          node.remove();\n        } else if (node.type === 1) {\n          if (name === 'input' && !node.attr('type')) {\n            node.attr('type', 'text');\n          }\n        }\n      }\n    });\n    htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n      each(nodes, function (node) {\n        if (node.attr('data-mce-type') === 'format-caret') {\n          if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n            node.remove();\n          } else {\n            node.unwrap();\n          }\n        }\n      });\n    });\n    htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize', function (nodes, name) {\n      var i = nodes.length;\n\n      while (i--) {\n        nodes[i].attr(name, null);\n      }\n    });\n  };\n\n  var trimTrailingBr = function trimTrailingBr(rootNode) {\n    var brNode1, brNode2;\n\n    var isBr = function isBr(node) {\n      return node && node.name === 'br';\n    };\n\n    brNode1 = rootNode.lastChild;\n\n    if (isBr(brNode1)) {\n      brNode2 = brNode1.prev;\n\n      if (isBr(brNode2)) {\n        brNode1.remove();\n        brNode2.remove();\n      }\n    }\n  };\n\n  var DomSerializerFilters = {\n    register: register$1,\n    trimTrailingBr: trimTrailingBr\n  };\n\n  var preProcess = function preProcess(editor, node, args) {\n    var impl, doc, oldDoc;\n    var dom = editor.dom;\n    node = node.cloneNode(true);\n    impl = domGlobals.document.implementation;\n\n    if (impl.createHTMLDocument) {\n      doc = impl.createHTMLDocument('');\n      Tools.each(node.nodeName === 'BODY' ? node.childNodes : [node], function (node) {\n        doc.body.appendChild(doc.importNode(node, true));\n      });\n\n      if (node.nodeName !== 'BODY') {\n        node = doc.body.firstChild;\n      } else {\n        node = doc.body;\n      }\n\n      oldDoc = dom.doc;\n      dom.doc = doc;\n    }\n\n    Events.firePreProcess(editor, merge(args, {\n      node: node\n    }));\n\n    if (oldDoc) {\n      dom.doc = oldDoc;\n    }\n\n    return node;\n  };\n\n  var shouldFireEvent = function shouldFireEvent(editor, args) {\n    return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n  };\n\n  var process = function process(editor, node, args) {\n    return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n  };\n\n  var DomSerializerPreProcess = {\n    process: process\n  };\n\n  var removeAttrs = function removeAttrs(node, names) {\n    each(names, function (name) {\n      node.attr(name, null);\n    });\n  };\n\n  var addFontToSpansFilter = function addFontToSpansFilter(domParser, styles, fontSizes) {\n    domParser.addNodeFilter('font', function (nodes) {\n      each(nodes, function (node) {\n        var props = styles.parse(node.attr('style'));\n        var color = node.attr('color');\n        var face = node.attr('face');\n        var size = node.attr('size');\n\n        if (color) {\n          props.color = color;\n        }\n\n        if (face) {\n          props['font-family'] = face;\n        }\n\n        if (size) {\n          props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n        }\n\n        node.name = 'span';\n        node.attr('style', styles.serialize(props));\n        removeAttrs(node, ['color', 'face', 'size']);\n      });\n    });\n  };\n\n  var addStrikeToSpanFilter = function addStrikeToSpanFilter(domParser, styles) {\n    domParser.addNodeFilter('strike', function (nodes) {\n      each(nodes, function (node) {\n        var props = styles.parse(node.attr('style'));\n        props['text-decoration'] = 'line-through';\n        node.name = 'span';\n        node.attr('style', styles.serialize(props));\n      });\n    });\n  };\n\n  var addFilters = function addFilters(domParser, settings) {\n    var styles = Styles();\n\n    if (settings.convert_fonts_to_spans) {\n      addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n    }\n\n    addStrikeToSpanFilter(domParser, styles);\n  };\n\n  var register$2 = function register$2(domParser, settings) {\n    if (settings.inline_styles) {\n      addFilters(domParser, settings);\n    }\n  };\n\n  var LegacyFilter = {\n    register: register$2\n  };\n\n  var paddEmptyNode = function paddEmptyNode(settings, args, blockElements, node) {\n    var brPreferred = settings.padd_empty_with_br || args.insert;\n\n    if (brPreferred && blockElements[node.name]) {\n      node.empty().append(new Node$1('br', 1)).shortEnded = true;\n    } else {\n      node.empty().append(new Node$1('#text', 3)).value = '\\xA0';\n    }\n  };\n\n  var isPaddedWithNbsp = function isPaddedWithNbsp(node) {\n    return hasOnlyChild(node, '#text') && node.firstChild.value === '\\xA0';\n  };\n\n  var hasOnlyChild = function hasOnlyChild(node, name) {\n    return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n  };\n\n  var isPadded = function isPadded(schema, node) {\n    var rule = schema.getElementRule(node.name);\n    return rule && rule.paddEmpty;\n  };\n\n  var isEmpty$2 = function isEmpty$2(schema, nonEmptyElements, whitespaceElements, node) {\n    return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n      return isPadded(schema, node);\n    });\n  };\n\n  var isLineBreakNode = function isLineBreakNode(node, blockElements) {\n    return node && (blockElements[node.name] || node.name === 'br');\n  };\n\n  var register$3 = function register$3(parser, settings) {\n    var schema = parser.schema;\n\n    if (settings.remove_trailing_brs) {\n      parser.addNodeFilter('br', function (nodes, _, args) {\n        var i;\n        var l = nodes.length;\n        var node;\n        var blockElements = Tools.extend({}, schema.getBlockElements());\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var parent, lastParent, prev, prevName;\n        var whiteSpaceElements = schema.getNonEmptyElements();\n        var elementRule, textNode;\n        blockElements.body = 1;\n\n        for (i = 0; i < l; i++) {\n          node = nodes[i];\n          parent = node.parent;\n\n          if (blockElements[node.parent.name] && node === parent.lastChild) {\n            prev = node.prev;\n\n            while (prev) {\n              prevName = prev.name;\n\n              if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                if (prevName !== 'br') {\n                  break;\n                }\n\n                if (prevName === 'br') {\n                  node = null;\n                  break;\n                }\n              }\n\n              prev = prev.prev;\n            }\n\n            if (node) {\n              node.remove();\n\n              if (isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                elementRule = schema.getElementRule(parent.name);\n\n                if (elementRule) {\n                  if (elementRule.removeEmpty) {\n                    parent.remove();\n                  } else if (elementRule.paddEmpty) {\n                    paddEmptyNode(settings, args, blockElements, parent);\n                  }\n                }\n              }\n            }\n          } else {\n            lastParent = node;\n\n            while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n              lastParent = parent;\n\n              if (blockElements[parent.name]) {\n                break;\n              }\n\n              parent = parent.parent;\n            }\n\n            if (lastParent === parent && settings.padd_empty_with_br !== true) {\n              textNode = new Node$1('#text', 3);\n              textNode.value = '\\xA0';\n              node.replace(textNode);\n            }\n          }\n        }\n      });\n    }\n\n    parser.addAttributeFilter('href', function (nodes) {\n      var i = nodes.length,\n          node;\n\n      var appendRel = function appendRel(rel) {\n        var parts = rel.split(' ').filter(function (p) {\n          return p.length > 0;\n        });\n        return parts.concat(['noopener']).sort().join(' ');\n      };\n\n      var addNoOpener = function addNoOpener(rel) {\n        var newRel = rel ? Tools.trim(rel) : '';\n\n        if (!/\\b(noopener)\\b/g.test(newRel)) {\n          return appendRel(newRel);\n        } else {\n          return newRel;\n        }\n      };\n\n      if (!settings.allow_unsafe_link_target) {\n        while (i--) {\n          node = nodes[i];\n\n          if (node.name === 'a' && node.attr('target') === '_blank') {\n            node.attr('rel', addNoOpener(node.attr('rel')));\n          }\n        }\n      }\n    });\n\n    if (!settings.allow_html_in_named_anchor) {\n      parser.addAttributeFilter('id,name', function (nodes) {\n        var i = nodes.length,\n            sibling,\n            prevSibling,\n            parent,\n            node;\n\n        while (i--) {\n          node = nodes[i];\n\n          if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n            parent = node.parent;\n            sibling = node.lastChild;\n\n            do {\n              prevSibling = sibling.prev;\n              parent.insert(sibling, node);\n              sibling = prevSibling;\n            } while (sibling);\n          }\n        }\n      });\n    }\n\n    if (settings.fix_list_elements) {\n      parser.addNodeFilter('ul,ol', function (nodes) {\n        var i = nodes.length,\n            node,\n            parentNode;\n\n        while (i--) {\n          node = nodes[i];\n          parentNode = node.parent;\n\n          if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n            if (node.prev && node.prev.name === 'li') {\n              node.prev.append(node);\n            } else {\n              var li = new Node$1('li', 1);\n              li.attr('style', 'list-style-type: none');\n              node.wrap(li);\n            }\n          }\n        }\n      });\n    }\n\n    if (settings.validate && schema.getValidClasses()) {\n      parser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length,\n            node,\n            classList,\n            ci,\n            className,\n            classValue;\n        var validClasses = schema.getValidClasses();\n        var validClassesMap, valid;\n\n        while (i--) {\n          node = nodes[i];\n          classList = node.attr('class').split(' ');\n          classValue = '';\n\n          for (ci = 0; ci < classList.length; ci++) {\n            className = classList[ci];\n            valid = false;\n            validClassesMap = validClasses['*'];\n\n            if (validClassesMap && validClassesMap[className]) {\n              valid = true;\n            }\n\n            validClassesMap = validClasses[node.name];\n\n            if (!valid && validClassesMap && validClassesMap[className]) {\n              valid = true;\n            }\n\n            if (valid) {\n              if (classValue) {\n                classValue += ' ';\n              }\n\n              classValue += className;\n            }\n          }\n\n          if (!classValue.length) {\n            classValue = null;\n          }\n\n          node.attr('class', classValue);\n        }\n      });\n    }\n  };\n\n  var makeMap$4 = Tools.makeMap,\n      each$f = Tools.each,\n      explode$2 = Tools.explode,\n      extend$2 = Tools.extend;\n\n  var DomParser = function DomParser(settings, schema) {\n    if (schema === void 0) {\n      schema = Schema();\n    }\n\n    var nodeFilters = {};\n    var attributeFilters = [];\n    var matchedNodes = {};\n    var matchedAttributes = {};\n    settings = settings || {};\n    settings.validate = 'validate' in settings ? settings.validate : true;\n    settings.root_name = settings.root_name || 'body';\n\n    var fixInvalidChildren = function fixInvalidChildren(nodes) {\n      var ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;\n      var nonEmptyElements, whitespaceElements, nonSplitableElements, textBlockElements, specialElements, sibling, nextNode;\n      nonSplitableElements = makeMap$4('tr,td,th,tbody,thead,tfoot,table');\n      nonEmptyElements = schema.getNonEmptyElements();\n      whitespaceElements = schema.getWhiteSpaceElements();\n      textBlockElements = schema.getTextBlockElements();\n      specialElements = schema.getSpecialElements();\n\n      for (ni = 0; ni < nodes.length; ni++) {\n        node = nodes[ni];\n\n        if (!node.parent || node.fixed) {\n          continue;\n        }\n\n        if (textBlockElements[node.name] && node.parent.name === 'li') {\n          sibling = node.next;\n\n          while (sibling) {\n            if (textBlockElements[sibling.name]) {\n              sibling.name = 'li';\n              sibling.fixed = true;\n              node.parent.insert(sibling, node.parent);\n            } else {\n              break;\n            }\n\n            sibling = sibling.next;\n          }\n\n          node.unwrap(node);\n          continue;\n        }\n\n        parents = [node];\n\n        for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplitableElements[parent.name]; parent = parent.parent) {\n          parents.push(parent);\n        }\n\n        if (parent && parents.length > 1) {\n          parents.reverse();\n          newParent = currentNode = filterNode(parents[0].clone());\n\n          for (i = 0; i < parents.length - 1; i++) {\n            if (schema.isValidChild(currentNode.name, parents[i].name)) {\n              tempNode = filterNode(parents[i].clone());\n              currentNode.append(tempNode);\n            } else {\n              tempNode = currentNode;\n            }\n\n            for (childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n              nextNode = childNode.next;\n              tempNode.append(childNode);\n              childNode = nextNode;\n            }\n\n            currentNode = tempNode;\n          }\n\n          if (!isEmpty$2(schema, nonEmptyElements, whitespaceElements, newParent)) {\n            parent.insert(newParent, parents[0], true);\n            parent.insert(node, newParent);\n          } else {\n            parent.insert(node, parents[0], true);\n          }\n\n          parent = parents[0];\n\n          if (isEmpty$2(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n            parent.empty().remove();\n          }\n        } else if (node.parent) {\n          if (node.name === 'li') {\n            sibling = node.prev;\n\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n              sibling.append(node);\n              continue;\n            }\n\n            sibling = node.next;\n\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n              sibling.insert(node, sibling.firstChild, true);\n              continue;\n            }\n\n            node.wrap(filterNode(new Node$1('ul', 1)));\n            continue;\n          }\n\n          if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n            node.wrap(filterNode(new Node$1('div', 1)));\n          } else {\n            if (specialElements[node.name]) {\n              node.empty().remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        }\n      }\n    };\n\n    var filterNode = function filterNode(node) {\n      var i, name, list;\n      name = node.name;\n\n      if (name in nodeFilters) {\n        list = matchedNodes[name];\n\n        if (list) {\n          list.push(node);\n        } else {\n          matchedNodes[name] = [node];\n        }\n      }\n\n      i = attributeFilters.length;\n\n      while (i--) {\n        name = attributeFilters[i].name;\n\n        if (name in node.attributes.map) {\n          list = matchedAttributes[name];\n\n          if (list) {\n            list.push(node);\n          } else {\n            matchedAttributes[name] = [node];\n          }\n        }\n      }\n\n      return node;\n    };\n\n    var addNodeFilter = function addNodeFilter(name, callback) {\n      each$f(explode$2(name), function (name) {\n        var list = nodeFilters[name];\n\n        if (!list) {\n          nodeFilters[name] = list = [];\n        }\n\n        list.push(callback);\n      });\n    };\n\n    var getNodeFilters = function getNodeFilters() {\n      var out = [];\n\n      for (var name in nodeFilters) {\n        if (nodeFilters.hasOwnProperty(name)) {\n          out.push({\n            name: name,\n            callbacks: nodeFilters[name]\n          });\n        }\n      }\n\n      return out;\n    };\n\n    var addAttributeFilter = function addAttributeFilter(name, callback) {\n      each$f(explode$2(name), function (name) {\n        var i;\n\n        for (i = 0; i < attributeFilters.length; i++) {\n          if (attributeFilters[i].name === name) {\n            attributeFilters[i].callbacks.push(callback);\n            return;\n          }\n        }\n\n        attributeFilters.push({\n          name: name,\n          callbacks: [callback]\n        });\n      });\n    };\n\n    var getAttributeFilters = function getAttributeFilters() {\n      return [].concat(attributeFilters);\n    };\n\n    var parse = function parse(html, args) {\n      var parser, nodes, i, l, fi, fl, list, name;\n      var blockElements;\n      var invalidChildren = [];\n      var isInWhiteSpacePreservedElement;\n      var node;\n\n      var getRootBlockName = function getRootBlockName(name) {\n        if (name === false) {\n          return '';\n        } else if (name === true) {\n          return 'p';\n        } else {\n          return name;\n        }\n      };\n\n      args = args || {};\n      matchedNodes = {};\n      matchedAttributes = {};\n      blockElements = extend$2(makeMap$4('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n      var nonEmptyElements = schema.getNonEmptyElements();\n      var children = schema.children;\n      var validate = settings.validate;\n      var forcedRootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n      var rootBlockName = getRootBlockName(forcedRootBlockName);\n      var whiteSpaceElements = schema.getWhiteSpaceElements();\n      var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n      var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n      var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n      var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n      isInWhiteSpacePreservedElement = whiteSpaceElements.hasOwnProperty(args.context) || whiteSpaceElements.hasOwnProperty(settings.root_name);\n\n      var addRootBlocks = function addRootBlocks() {\n        var node = rootNode.firstChild,\n            next,\n            rootBlockNode;\n\n        var trim = function trim(rootBlockNode) {\n          if (rootBlockNode) {\n            node = rootBlockNode.firstChild;\n\n            if (node && node.type === 3) {\n              node.value = node.value.replace(startWhiteSpaceRegExp, '');\n            }\n\n            node = rootBlockNode.lastChild;\n\n            if (node && node.type === 3) {\n              node.value = node.value.replace(endWhiteSpaceRegExp, '');\n            }\n          }\n        };\n\n        if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n          return;\n        }\n\n        while (node) {\n          next = node.next;\n\n          if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n            if (!rootBlockNode) {\n              rootBlockNode = createNode(rootBlockName, 1);\n              rootBlockNode.attr(settings.forced_root_block_attrs);\n              rootNode.insert(rootBlockNode, node);\n              rootBlockNode.append(node);\n            } else {\n              rootBlockNode.append(node);\n            }\n          } else {\n            trim(rootBlockNode);\n            rootBlockNode = null;\n          }\n\n          node = next;\n        }\n\n        trim(rootBlockNode);\n      };\n\n      var createNode = function createNode(name, type) {\n        var node = new Node$1(name, type);\n        var list;\n\n        if (name in nodeFilters) {\n          list = matchedNodes[name];\n\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n\n        return node;\n      };\n\n      var removeWhitespaceBefore = function removeWhitespaceBefore(node) {\n        var textNode, textNodeNext, textVal, sibling;\n        var blockElements = schema.getBlockElements();\n\n        for (textNode = node.prev; textNode && textNode.type === 3;) {\n          textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n\n          if (textVal.length > 0) {\n            textNode.value = textVal;\n            return;\n          }\n\n          textNodeNext = textNode.next;\n\n          if (textNodeNext) {\n            if (textNodeNext.type === 3 && textNodeNext.value.length) {\n              textNode = textNode.prev;\n              continue;\n            }\n\n            if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n              textNode = textNode.prev;\n              continue;\n            }\n          }\n\n          sibling = textNode.prev;\n          textNode.remove();\n          textNode = sibling;\n        }\n      };\n\n      var cloneAndExcludeBlocks = function cloneAndExcludeBlocks(input) {\n        var name;\n        var output = {};\n\n        for (name in input) {\n          if (name !== 'li' && name !== 'p') {\n            output[name] = input[name];\n          }\n        }\n\n        return output;\n      };\n\n      parser = SaxParser$1({\n        validate: validate,\n        allow_script_urls: settings.allow_script_urls,\n        allow_conditional_comments: settings.allow_conditional_comments,\n        self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n        cdata: function cdata(text) {\n          node.append(createNode('#cdata', 4)).value = text;\n        },\n        text: function text(_text2, raw) {\n          var textNode;\n\n          if (!isInWhiteSpacePreservedElement) {\n            _text2 = _text2.replace(allWhiteSpaceRegExp, ' ');\n\n            if (isLineBreakNode(node.lastChild, blockElements)) {\n              _text2 = _text2.replace(startWhiteSpaceRegExp, '');\n            }\n          }\n\n          if (_text2.length !== 0) {\n            textNode = createNode('#text', 3);\n            textNode.raw = !!raw;\n            node.append(textNode).value = _text2;\n          }\n        },\n        comment: function comment(text) {\n          node.append(createNode('#comment', 8)).value = text;\n        },\n        pi: function pi(name, text) {\n          node.append(createNode(name, 7)).value = text;\n          removeWhitespaceBefore(node);\n        },\n        doctype: function doctype(text) {\n          var newNode;\n          newNode = node.append(createNode('#doctype', 10));\n          newNode.value = text;\n          removeWhitespaceBefore(node);\n        },\n        start: function start(name, attrs, empty) {\n          var newNode, attrFiltersLen, elementRule, attrName, parent;\n          elementRule = validate ? schema.getElementRule(name) : {};\n\n          if (elementRule) {\n            newNode = createNode(elementRule.outputName || name, 1);\n            newNode.attributes = attrs;\n            newNode.shortEnded = empty;\n            node.append(newNode);\n            parent = children[node.name];\n\n            if (parent && children[newNode.name] && !parent[newNode.name]) {\n              invalidChildren.push(newNode);\n            }\n\n            attrFiltersLen = attributeFilters.length;\n\n            while (attrFiltersLen--) {\n              attrName = attributeFilters[attrFiltersLen].name;\n\n              if (attrName in attrs.map) {\n                list = matchedAttributes[attrName];\n\n                if (list) {\n                  list.push(newNode);\n                } else {\n                  matchedAttributes[attrName] = [newNode];\n                }\n              }\n            }\n\n            if (blockElements[name]) {\n              removeWhitespaceBefore(newNode);\n            }\n\n            if (!empty) {\n              node = newNode;\n            }\n\n            if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n              isInWhiteSpacePreservedElement = true;\n            }\n          }\n        },\n        end: function end(name) {\n          var textNode, elementRule, text, sibling, tempNode;\n          elementRule = validate ? schema.getElementRule(name) : {};\n\n          if (elementRule) {\n            if (blockElements[name]) {\n              if (!isInWhiteSpacePreservedElement) {\n                textNode = node.firstChild;\n\n                if (textNode && textNode.type === 3) {\n                  text = textNode.value.replace(startWhiteSpaceRegExp, '');\n\n                  if (text.length > 0) {\n                    textNode.value = text;\n                    textNode = textNode.next;\n                  } else {\n                    sibling = textNode.next;\n                    textNode.remove();\n                    textNode = sibling;\n\n                    while (textNode && textNode.type === 3) {\n                      text = textNode.value;\n                      sibling = textNode.next;\n\n                      if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                        textNode.remove();\n                        textNode = sibling;\n                      }\n\n                      textNode = sibling;\n                    }\n                  }\n                }\n\n                textNode = node.lastChild;\n\n                if (textNode && textNode.type === 3) {\n                  text = textNode.value.replace(endWhiteSpaceRegExp, '');\n\n                  if (text.length > 0) {\n                    textNode.value = text;\n                    textNode = textNode.prev;\n                  } else {\n                    sibling = textNode.prev;\n                    textNode.remove();\n                    textNode = sibling;\n\n                    while (textNode && textNode.type === 3) {\n                      text = textNode.value;\n                      sibling = textNode.prev;\n\n                      if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                        textNode.remove();\n                        textNode = sibling;\n                      }\n\n                      textNode = sibling;\n                    }\n                  }\n                }\n              }\n            }\n\n            if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n              isInWhiteSpacePreservedElement = false;\n            }\n\n            if (elementRule.removeEmpty && isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node)) {\n              if (!node.attr('name') && !node.attr('id')) {\n                tempNode = node.parent;\n\n                if (blockElements[node.name]) {\n                  node.empty().remove();\n                } else {\n                  node.unwrap();\n                }\n\n                node = tempNode;\n                return;\n              }\n            }\n\n            if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node))) {\n              paddEmptyNode(settings, args, blockElements, node);\n            }\n\n            node = node.parent;\n          }\n        }\n      }, schema);\n      var rootNode = node = new Node$1(args.context || settings.root_name, 11);\n      parser.parse(html);\n\n      if (validate && invalidChildren.length) {\n        if (!args.context) {\n          fixInvalidChildren(invalidChildren);\n        } else {\n          args.invalid = true;\n        }\n      }\n\n      if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n        addRootBlocks();\n      }\n\n      if (!args.invalid) {\n        for (name in matchedNodes) {\n          if (!matchedNodes.hasOwnProperty(name)) {\n            continue;\n          }\n\n          list = nodeFilters[name];\n          nodes = matchedNodes[name];\n          fi = nodes.length;\n\n          while (fi--) {\n            if (!nodes[fi].parent) {\n              nodes.splice(fi, 1);\n            }\n          }\n\n          for (i = 0, l = list.length; i < l; i++) {\n            list[i](nodes, name, args);\n          }\n        }\n\n        for (i = 0, l = attributeFilters.length; i < l; i++) {\n          list = attributeFilters[i];\n\n          if (list.name in matchedAttributes) {\n            nodes = matchedAttributes[list.name];\n            fi = nodes.length;\n\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n\n            for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n              list.callbacks[fi](nodes, list.name, args);\n            }\n          }\n        }\n      }\n\n      return rootNode;\n    };\n\n    var exports = {\n      schema: schema,\n      addAttributeFilter: addAttributeFilter,\n      getAttributeFilters: getAttributeFilters,\n      addNodeFilter: addNodeFilter,\n      getNodeFilters: getNodeFilters,\n      filterNode: filterNode,\n      parse: parse\n    };\n    register$3(exports, settings);\n    LegacyFilter.register(exports, settings);\n    return exports;\n  };\n\n  var addTempAttr = function addTempAttr(htmlParser, tempAttrs, name) {\n    if (Tools.inArray(tempAttrs, name) === -1) {\n      htmlParser.addAttributeFilter(name, function (nodes, name) {\n        var i = nodes.length;\n\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n      tempAttrs.push(name);\n    }\n  };\n\n  var postProcess$1 = function postProcess$1(editor, args, content) {\n    if (!args.no_events && editor) {\n      var outArgs = Events.firePostProcess(editor, merge(args, {\n        content: content\n      }));\n      return outArgs.content;\n    } else {\n      return content;\n    }\n  };\n\n  var getHtmlFromNode = function getHtmlFromNode(dom, node, args) {\n    var html = Zwsp.trim(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n    return args.selection || isWsPreserveElement(Element.fromDom(node)) ? html : Tools.trim(html);\n  };\n\n  var parseHtml = function parseHtml(htmlParser, html, args) {\n    var parserArgs = args.selection ? merge({\n      forced_root_block: false\n    }, args) : args;\n    var rootNode = htmlParser.parse(html, parserArgs);\n    DomSerializerFilters.trimTrailingBr(rootNode);\n    return rootNode;\n  };\n\n  var serializeNode = function serializeNode(settings, schema, node) {\n    var htmlSerializer = Serializer(settings, schema);\n    return htmlSerializer.serialize(node);\n  };\n\n  var toHtml = function toHtml(editor, settings, schema, rootNode, args) {\n    var content = serializeNode(settings, schema, rootNode);\n    return postProcess$1(editor, args, content);\n  };\n\n  var DomSerializer = function DomSerializer(settings, editor) {\n    var dom, schema, htmlParser;\n    var tempAttrs = ['data-mce-selected'];\n    dom = editor && editor.dom ? editor.dom : DOMUtils$1.DOM;\n    schema = editor && editor.schema ? editor.schema : Schema(settings);\n    settings.entity_encoding = settings.entity_encoding || 'named';\n    settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n    htmlParser = DomParser(settings, schema);\n    DomSerializerFilters.register(htmlParser, settings, dom);\n\n    var serialize = function serialize(node, parserArgs) {\n      var args = merge({\n        format: 'html'\n      }, parserArgs ? parserArgs : {});\n      var targetNode = DomSerializerPreProcess.process(editor, node, args);\n      var html = getHtmlFromNode(dom, targetNode, args);\n      var rootNode = parseHtml(htmlParser, html, args);\n      return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n    };\n\n    return {\n      schema: schema,\n      addNodeFilter: htmlParser.addNodeFilter,\n      addAttributeFilter: htmlParser.addAttributeFilter,\n      serialize: serialize,\n      addRules: function addRules(rules) {\n        schema.addValidElements(rules);\n      },\n      setRules: function setRules(rules) {\n        schema.setValidElements(rules);\n      },\n      addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n      getTempAttrs: function getTempAttrs() {\n        return tempAttrs;\n      }\n    };\n  };\n\n  var Serializer$1 = function Serializer$1(settings, editor) {\n    var domSerializer = DomSerializer(settings, editor);\n    return {\n      schema: domSerializer.schema,\n      addNodeFilter: domSerializer.addNodeFilter,\n      addAttributeFilter: domSerializer.addAttributeFilter,\n      serialize: domSerializer.serialize,\n      addRules: domSerializer.addRules,\n      setRules: domSerializer.setRules,\n      addTempAttr: domSerializer.addTempAttr,\n      getTempAttrs: domSerializer.getTempAttrs\n    };\n  };\n\n  function BookmarkManager(selection) {\n    return {\n      getBookmark: curry(Bookmarks.getBookmark, selection),\n      moveToBookmark: curry(Bookmarks.moveToBookmark, selection)\n    };\n  }\n\n  (function (BookmarkManager) {\n    BookmarkManager.isBookmarkNode = Bookmarks.isBookmarkNode;\n  })(BookmarkManager || (BookmarkManager = {}));\n\n  var BookmarkManager$1 = BookmarkManager;\n  var isContentEditableFalse$a = NodeType.isContentEditableFalse;\n  var isContentEditableTrue$5 = NodeType.isContentEditableTrue;\n\n  var getContentEditableRoot$1 = function getContentEditableRoot$1(root, node) {\n    while (node && node !== root) {\n      if (isContentEditableTrue$5(node) || isContentEditableFalse$a(node)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var ControlSelection = function ControlSelection(selection, editor) {\n    var dom = editor.dom,\n        each = Tools.each;\n    var selectedElm, selectedElmGhost, resizeHelper, resizeHandles, selectedHandle;\n    var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n    var width, height;\n    var editableDoc = editor.getDoc(),\n        rootDocument = domGlobals.document;\n    var abs = Math.abs,\n        round = Math.round,\n        rootElement = editor.getBody();\n    var startScrollWidth, startScrollHeight;\n    resizeHandles = {\n      nw: [0, 0, -1, -1],\n      ne: [1, 0, 1, -1],\n      se: [1, 1, 1, 1],\n      sw: [0, 1, -1, 1]\n    };\n\n    var isImage = function isImage(elm) {\n      return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n    };\n\n    var isEventOnImageOutsideRange = function isEventOnImageOutsideRange(evt, range) {\n      return isImage(evt.target) && !RangePoint.isXYWithinRange(evt.clientX, evt.clientY, range);\n    };\n\n    var contextMenuSelectImage = function contextMenuSelectImage(evt) {\n      var target = evt.target;\n\n      if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n        editor.selection.select(target);\n      }\n    };\n\n    var getResizeTarget = function getResizeTarget(elm) {\n      return editor.dom.is(elm, 'figure.image') ? elm.querySelector('img') : elm;\n    };\n\n    var isResizable = function isResizable(elm) {\n      var selector = editor.settings.object_resizing;\n\n      if (selector === false || Env.iOS) {\n        return false;\n      }\n\n      if (typeof selector !== 'string') {\n        selector = 'table,img,figure.image,div';\n      }\n\n      if (elm.getAttribute('data-mce-resize') === 'false') {\n        return false;\n      }\n\n      if (elm === editor.getBody()) {\n        return false;\n      }\n\n      return is$1(Element.fromDom(elm), selector);\n    };\n\n    var resizeGhostElement = function resizeGhostElement(e) {\n      var deltaX, deltaY, proportional;\n      var resizeHelperX, resizeHelperY;\n      deltaX = e.screenX - startX;\n      deltaY = e.screenY - startY;\n      width = deltaX * selectedHandle[2] + startW;\n      height = deltaY * selectedHandle[3] + startH;\n      width = width < 5 ? 5 : width;\n      height = height < 5 ? 5 : height;\n\n      if (isImage(selectedElm) && editor.settings.resize_img_proportional !== false) {\n        proportional = !VK.modifierPressed(e);\n      } else {\n        proportional = VK.modifierPressed(e) || isImage(selectedElm) && selectedHandle[2] * selectedHandle[3] !== 0;\n      }\n\n      if (proportional) {\n        if (abs(deltaX) > abs(deltaY)) {\n          height = round(width * ratio);\n          width = round(height / ratio);\n        } else {\n          width = round(height / ratio);\n          height = round(width * ratio);\n        }\n      }\n\n      dom.setStyles(getResizeTarget(selectedElmGhost), {\n        width: width,\n        height: height\n      });\n      resizeHelperX = selectedHandle.startPos.x + deltaX;\n      resizeHelperY = selectedHandle.startPos.y + deltaY;\n      resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n      resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n      dom.setStyles(resizeHelper, {\n        left: resizeHelperX,\n        top: resizeHelperY,\n        display: 'block'\n      });\n      resizeHelper.innerHTML = width + ' &times; ' + height;\n\n      if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n        dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n      }\n\n      if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n        dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n      }\n\n      deltaX = rootElement.scrollWidth - startScrollWidth;\n      deltaY = rootElement.scrollHeight - startScrollHeight;\n\n      if (deltaX + deltaY !== 0) {\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX - deltaX,\n          top: resizeHelperY - deltaY\n        });\n      }\n\n      if (!resizeStarted) {\n        Events.fireObjectResizeStart(editor, selectedElm, startW, startH);\n        resizeStarted = true;\n      }\n    };\n\n    var endGhostResize = function endGhostResize() {\n      resizeStarted = false;\n\n      var setSizeProp = function setSizeProp(name, value) {\n        if (value) {\n          if (selectedElm.style[name] || !editor.schema.isValid(selectedElm.nodeName.toLowerCase(), name)) {\n            dom.setStyle(getResizeTarget(selectedElm), name, value);\n          } else {\n            dom.setAttrib(getResizeTarget(selectedElm), name, value);\n          }\n        }\n      };\n\n      setSizeProp('width', width);\n      setSizeProp('height', height);\n      dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n      dom.unbind(editableDoc, 'mouseup', endGhostResize);\n\n      if (rootDocument !== editableDoc) {\n        dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n        dom.unbind(rootDocument, 'mouseup', endGhostResize);\n      }\n\n      dom.remove(selectedElmGhost);\n      dom.remove(resizeHelper);\n      showResizeRect(selectedElm);\n      Events.fireObjectResized(editor, selectedElm, width, height);\n      dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n      editor.nodeChanged();\n    };\n\n    var showResizeRect = function showResizeRect(targetElm) {\n      var position, targetWidth, targetHeight, e, rect;\n      hideResizeRect();\n      unbindResizeHandleEvents();\n      position = dom.getPos(targetElm, rootElement);\n      selectedElmX = position.x;\n      selectedElmY = position.y;\n      rect = targetElm.getBoundingClientRect();\n      targetWidth = rect.width || rect.right - rect.left;\n      targetHeight = rect.height || rect.bottom - rect.top;\n\n      if (selectedElm !== targetElm) {\n        selectedElm = targetElm;\n        width = height = 0;\n      }\n\n      e = editor.fire('ObjectSelected', {\n        target: targetElm\n      });\n\n      if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n        each(resizeHandles, function (handle, name) {\n          var handleElm;\n\n          var startDrag = function startDrag(e) {\n            startX = e.screenX;\n            startY = e.screenY;\n            startW = getResizeTarget(selectedElm).clientWidth;\n            startH = getResizeTarget(selectedElm).clientHeight;\n            ratio = startH / startW;\n            selectedHandle = handle;\n            handle.startPos = {\n              x: targetWidth * handle[0] + selectedElmX,\n              y: targetHeight * handle[1] + selectedElmY\n            };\n            startScrollWidth = rootElement.scrollWidth;\n            startScrollHeight = rootElement.scrollHeight;\n            selectedElmGhost = selectedElm.cloneNode(true);\n            dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n            dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n            selectedElmGhost.contentEditable = false;\n            selectedElmGhost.unSelectabe = true;\n            dom.setStyles(selectedElmGhost, {\n              left: selectedElmX,\n              top: selectedElmY,\n              margin: 0\n            });\n            selectedElmGhost.removeAttribute('data-mce-selected');\n            rootElement.appendChild(selectedElmGhost);\n            dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n            dom.bind(editableDoc, 'mouseup', endGhostResize);\n\n            if (rootDocument !== editableDoc) {\n              dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n              dom.bind(rootDocument, 'mouseup', endGhostResize);\n            }\n\n            resizeHelper = dom.add(rootElement, 'div', {\n              'class': 'mce-resize-helper',\n              'data-mce-bogus': 'all'\n            }, startW + ' &times; ' + startH);\n          };\n\n          handleElm = dom.get('mceResizeHandle' + name);\n\n          if (handleElm) {\n            dom.remove(handleElm);\n          }\n\n          handleElm = dom.add(rootElement, 'div', {\n            'id': 'mceResizeHandle' + name,\n            'data-mce-bogus': 'all',\n            'class': 'mce-resizehandle',\n            'unselectable': true,\n            'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n          });\n\n          if (Env.ie === 11) {\n            handleElm.contentEditable = false;\n          }\n\n          dom.bind(handleElm, 'mousedown', function (e) {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            startDrag(e);\n          });\n          handle.elm = handleElm;\n          dom.setStyles(handleElm, {\n            left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n            top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n          });\n        });\n      } else {\n        hideResizeRect();\n      }\n\n      selectedElm.setAttribute('data-mce-selected', '1');\n    };\n\n    var hideResizeRect = function hideResizeRect() {\n      var name, handleElm;\n      unbindResizeHandleEvents();\n\n      if (selectedElm) {\n        selectedElm.removeAttribute('data-mce-selected');\n      }\n\n      for (name in resizeHandles) {\n        handleElm = dom.get('mceResizeHandle' + name);\n\n        if (handleElm) {\n          dom.unbind(handleElm);\n          dom.remove(handleElm);\n        }\n      }\n    };\n\n    var updateResizeRect = function updateResizeRect(e) {\n      var startElm, controlElm;\n\n      var isChildOrEqual = function isChildOrEqual(node, parent) {\n        if (node) {\n          do {\n            if (node === parent) {\n              return true;\n            }\n          } while (node = node.parentNode);\n        }\n      };\n\n      if (resizeStarted || editor.removed) {\n        return;\n      }\n\n      each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n        img.removeAttribute('data-mce-selected');\n      });\n      controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n      controlElm = dom.$(controlElm).closest('table,img,figure.image,hr')[0];\n\n      if (isChildOrEqual(controlElm, rootElement)) {\n        disableGeckoResize();\n        startElm = selection.getStart(true);\n\n        if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n          showResizeRect(controlElm);\n          return;\n        }\n      }\n\n      hideResizeRect();\n    };\n\n    var isWithinContentEditableFalse = function isWithinContentEditableFalse(elm) {\n      return isContentEditableFalse$a(getContentEditableRoot$1(editor.getBody(), elm));\n    };\n\n    var unbindResizeHandleEvents = function unbindResizeHandleEvents() {\n      for (var name in resizeHandles) {\n        var handle = resizeHandles[name];\n\n        if (handle.elm) {\n          dom.unbind(handle.elm);\n          delete handle.elm;\n        }\n      }\n    };\n\n    var disableGeckoResize = function disableGeckoResize() {\n      try {\n        editor.getDoc().execCommand('enableObjectResizing', false, false);\n      } catch (ex) {}\n    };\n\n    editor.on('init', function () {\n      disableGeckoResize();\n\n      if (Env.ie && Env.ie >= 11) {\n        editor.on('mousedown click', function (e) {\n          var target = e.target,\n              nodeName = target.nodeName;\n\n          if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n            if (e.button !== 2) {\n              editor.selection.select(target, nodeName === 'TABLE');\n            }\n\n            if (e.type === 'mousedown') {\n              editor.nodeChanged();\n            }\n          }\n        });\n        editor.dom.bind(rootElement, 'mscontrolselect', function (e) {\n          var delayedSelect = function delayedSelect(node) {\n            Delay.setEditorTimeout(editor, function () {\n              editor.selection.select(node);\n            });\n          };\n\n          if (isWithinContentEditableFalse(e.target)) {\n            e.preventDefault();\n            delayedSelect(e.target);\n            return;\n          }\n\n          if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n            e.preventDefault();\n\n            if (e.target.tagName === 'IMG') {\n              delayedSelect(e.target);\n            }\n          }\n        });\n      }\n\n      var throttledUpdateResizeRect = Delay.throttle(function (e) {\n        if (!editor.composing) {\n          updateResizeRect(e);\n        }\n      });\n      editor.on('nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged', throttledUpdateResizeRect);\n      editor.on('keyup compositionend', function (e) {\n        if (selectedElm && selectedElm.nodeName === 'TABLE') {\n          throttledUpdateResizeRect(e);\n        }\n      });\n      editor.on('hide blur', hideResizeRect);\n      editor.on('contextmenu', contextMenuSelectImage, true);\n    });\n    editor.on('remove', unbindResizeHandleEvents);\n\n    var destroy = function destroy() {\n      selectedElm = selectedElmGhost = null;\n    };\n\n    return {\n      isResizable: isResizable,\n      showResizeRect: showResizeRect,\n      hideResizeRect: hideResizeRect,\n      updateResizeRect: updateResizeRect,\n      destroy: destroy\n    };\n  };\n\n  function Dimension(name, getOffset) {\n    var set = function set(element, h) {\n      if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n        throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n      }\n\n      var dom = element.dom();\n\n      if (isSupported(dom)) {\n        dom.style[name] = h + 'px';\n      }\n    };\n\n    var get = function get(element) {\n      var r = getOffset(element);\n\n      if (r <= 0 || r === null) {\n        var css = get$2(element, name);\n        return parseFloat(css) || 0;\n      }\n\n      return r;\n    };\n\n    var getOuter = get;\n\n    var aggregate = function aggregate(element, properties) {\n      return foldl(properties, function (acc, property) {\n        var val = get$2(element, property);\n        var value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n    };\n\n    var max = function max(element, value, properties) {\n      var cumulativeInclusions = aggregate(element, properties);\n      var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n      return absoluteMax;\n    };\n\n    return {\n      set: set,\n      get: get,\n      getOuter: getOuter,\n      aggregate: aggregate,\n      max: max\n    };\n  }\n\n  var api$1 = Dimension('height', function (element) {\n    var dom = element.dom();\n    return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n  });\n\n  var get$7 = function get$7(element) {\n    return api$1.get(element);\n  };\n\n  var r = function r(left, top) {\n    var translate = function translate(x, y) {\n      return r(left + x, top + y);\n    };\n\n    return {\n      left: constant(left),\n      top: constant(top),\n      translate: translate\n    };\n  };\n\n  var Position$1 = r;\n\n  var boxPosition = function boxPosition(dom) {\n    var box = dom.getBoundingClientRect();\n    return Position$1(box.left, box.top);\n  };\n\n  var firstDefinedOrZero = function firstDefinedOrZero(a, b) {\n    return a !== undefined ? a : b !== undefined ? b : 0;\n  };\n\n  var absolute = function absolute(element) {\n    var doc = element.dom().ownerDocument;\n    var body = doc.body;\n    var win = doc.defaultView;\n    var html = doc.documentElement;\n    var scrollTop = firstDefinedOrZero(win.pageYOffset, html.scrollTop);\n    var scrollLeft = firstDefinedOrZero(win.pageXOffset, html.scrollLeft);\n    var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n    var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n    return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n  };\n\n  var viewport = function viewport(element) {\n    var dom = element.dom();\n    var doc = dom.ownerDocument;\n    var body = doc.body;\n\n    if (body === dom) {\n      return Position$1(body.offsetLeft, body.offsetTop);\n    }\n\n    if (!inBody(element)) {\n      return Position$1(0, 0);\n    }\n\n    return boxPosition(dom);\n  };\n\n  var isSafari = PlatformDetection$1.detect().browser.isSafari();\n\n  var get$8 = function get$8(_DOC) {\n    var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n    var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n    var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n    return Position$1(x, y);\n  };\n\n  var to = function to(x, y, _DOC) {\n    var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n    var win = doc.defaultView;\n    win.scrollTo(x, y);\n  };\n\n  var intoView = function intoView(element, alignToTop) {\n    if (isSafari && isFunction(element.dom().scrollIntoViewIfNeeded)) {\n      element.dom().scrollIntoViewIfNeeded(false);\n    } else {\n      element.dom().scrollIntoView(alignToTop);\n    }\n  };\n\n  var walkUp = function walkUp(navigation, doc) {\n    var frame = navigation.view(doc);\n    return frame.fold(constant([]), function (f) {\n      var parent = navigation.owner(f);\n      var rest = walkUp(navigation, parent);\n      return [f].concat(rest);\n    });\n  };\n\n  var pathTo = function pathTo(element, navigation) {\n    var d = navigation.owner(element);\n    return walkUp(navigation, d);\n  };\n\n  var view = function view(doc) {\n    var element = doc.dom() === domGlobals.document ? Option.none() : Option.from(doc.dom().defaultView.frameElement);\n    return element.map(Element.fromDom);\n  };\n\n  var owner$1 = function owner$1(element) {\n    return owner(element);\n  };\n\n  var Navigation =\n  /*#__PURE__*/\n  Object.freeze({\n    view: view,\n    owner: owner$1\n  });\n\n  var find$4 = function find$4(element) {\n    var doc = Element.fromDom(domGlobals.document);\n    var scroll = get$8(doc);\n    var frames = pathTo(element, Navigation);\n    var offset = viewport(element);\n    var r = foldr(frames, function (b, a) {\n      var loc = viewport(a);\n      return {\n        left: b.left + loc.left(),\n        top: b.top + loc.top()\n      };\n    }, {\n      left: 0,\n      top: 0\n    });\n    return Position$1(r.left + offset.left() + scroll.left(), r.top + offset.top() + scroll.top());\n  };\n\n  var excludeFromDescend = function excludeFromDescend(element) {\n    return name(element) === 'textarea';\n  };\n\n  var descend = function descend(element, offset) {\n    var children$1 = children(element);\n\n    if (children$1.length === 0 || excludeFromDescend(element)) {\n      return {\n        element: element,\n        offset: offset\n      };\n    } else if (offset < children$1.length && !excludeFromDescend(children$1[offset])) {\n      return {\n        element: children$1[offset],\n        offset: 0\n      };\n    } else {\n      var last = children$1[children$1.length - 1];\n\n      if (excludeFromDescend(last)) {\n        return {\n          element: element,\n          offset: offset\n        };\n      } else {\n        if (name(last) === 'img') {\n          return {\n            element: last,\n            offset: 1\n          };\n        } else if (isText(last)) {\n          return {\n            element: last,\n            offset: get$5(last).length\n          };\n        } else {\n          return {\n            element: last,\n            offset: children(last).length\n          };\n        }\n      }\n    }\n  };\n\n  var markerInfo = function markerInfo(element, cleanupFun) {\n    var pos = absolute(element);\n    var height = get$7(element);\n    return {\n      element: element,\n      bottom: pos.top() + height,\n      pos: pos,\n      cleanup: cleanupFun\n    };\n  };\n\n  var createMarker = function createMarker(element, offset) {\n    var startPoint = descend(element, offset);\n    var span = Element.fromHtml('<span data-mce-bogus=\"all\">' + Zwsp.ZWSP + '</span>');\n    before(startPoint.element, span);\n    return markerInfo(span, function () {\n      return remove$1(span);\n    });\n  };\n\n  var elementMarker = function elementMarker(element) {\n    return markerInfo(Element.fromDom(element), noop);\n  };\n\n  var withMarker = function withMarker(editor, f, rng, alignToTop) {\n    preserveWith(editor, function (_s, _e) {\n      return applyWithMarker(editor, f, rng, alignToTop);\n    }, rng);\n  };\n\n  var applyWithMarker = function applyWithMarker(editor, f, rng, alignToTop) {\n    var body = Element.fromDom(editor.getBody());\n    var doc = Element.fromDom(editor.getDoc());\n    reflow(body);\n    var scrollTop = get$8(doc).top();\n    var marker = createMarker(Element.fromDom(rng.startContainer), rng.startOffset);\n    f(doc, scrollTop, marker, alignToTop);\n    marker.cleanup();\n  };\n\n  var withElement = function withElement(editor, element, f, alignToTop) {\n    var doc = Element.fromDom(editor.getDoc());\n    var scrollTop = get$8(doc).top();\n    f(doc, scrollTop, element, alignToTop);\n  };\n\n  var preserveWith = function preserveWith(editor, f, rng) {\n    var startElement = rng.startContainer;\n    var startOffset = rng.startOffset;\n    var endElement = rng.endContainer;\n    var endOffset = rng.endOffset;\n    f(Element.fromDom(startElement), Element.fromDom(endElement));\n    var newRng = editor.dom.createRng();\n    newRng.setStart(startElement, startOffset);\n    newRng.setEnd(endElement, endOffset);\n    editor.selection.setRng(rng);\n  };\n\n  var fireScrollIntoViewEvent = function fireScrollIntoViewEvent(editor, elm, alignToTop) {\n    var scrollEvent = editor.fire('ScrollIntoView', {\n      elm: elm,\n      alignToTop: alignToTop\n    });\n    return scrollEvent.isDefaultPrevented();\n  };\n\n  var scrollTo = function scrollTo(marker, viewHeight, alignToTop, doc) {\n    var pos = marker.pos;\n\n    if (alignToTop) {\n      to(pos.left(), pos.top(), doc);\n    } else {\n      var y = pos.top() - viewHeight + (marker.bottom - pos.top());\n      to(pos.left(), y, doc);\n    }\n  };\n\n  var intoWindowIfNeeded = function intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop) {\n    if (marker.pos.top() < scrollTop) {\n      scrollTo(marker, viewHeight, alignToTop !== false, doc);\n    } else if (marker.bottom > viewHeight + scrollTop) {\n      scrollTo(marker, viewHeight, alignToTop === true, doc);\n    }\n  };\n\n  var intoWindow = function intoWindow(doc, scrollTop, marker, alignToTop) {\n    var viewHeight = doc.dom().defaultView.innerHeight;\n    intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n  };\n\n  var intoFrame = function intoFrame(editor, doc, scrollTop, marker, alignToTop) {\n    var frameViewHeight = doc.dom().defaultView.innerHeight;\n    intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n    var op = find$4(marker.element);\n    var viewTop = get$8().top();\n    var viewBot = domGlobals.window.innerHeight + viewTop;\n\n    if (op.top() < viewTop) {\n      intoView(marker.element, alignToTop !== false);\n    } else if (op.top() > viewBot) {\n      intoView(marker.element, alignToTop === true);\n    }\n  };\n\n  var rangeIntoWindow = function rangeIntoWindow(editor, rng, alignToTop) {\n    return withMarker(editor, curry(intoWindow), rng, alignToTop);\n  };\n\n  var elementIntoWindow = function elementIntoWindow(editor, element, alignToTop) {\n    return withElement(editor, elementMarker(element), curry(intoWindow), alignToTop);\n  };\n\n  var rangeIntoFrame = function rangeIntoFrame(editor, rng, alignToTop) {\n    return withMarker(editor, curry(intoFrame, editor), rng, alignToTop);\n  };\n\n  var elementIntoFrame = function elementIntoFrame(editor, element, alignToTop) {\n    return withElement(editor, elementMarker(element), curry(intoFrame, editor), alignToTop);\n  };\n\n  var elementIntoView = function elementIntoView(editor, element, alignToTop) {\n    if (fireScrollIntoViewEvent(editor, element, alignToTop)) {\n      return;\n    }\n\n    var scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n    scroller(editor, element, alignToTop);\n  };\n\n  var rangeIntoView = function rangeIntoView(editor, rng, alignToTop) {\n    var scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n    scroller(editor, rng, alignToTop);\n  };\n\n  var ScrollIntoView = {\n    scrollElementIntoView: elementIntoView,\n    scrollRangeIntoView: rangeIntoView\n  };\n\n  var hasCeProperty = function hasCeProperty(node) {\n    return NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node);\n  };\n\n  var findParent = function findParent(node, rootNode, predicate) {\n    while (node && node !== rootNode) {\n      if (predicate(node)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var findClosestIeRange = function findClosestIeRange(clientX, clientY, doc) {\n    var element, rng, rects;\n    element = doc.elementFromPoint(clientX, clientY);\n    rng = doc.body.createTextRange();\n\n    if (!element || element.tagName === 'HTML') {\n      element = doc.body;\n    }\n\n    rng.moveToElementText(element);\n    rects = Tools.toArray(rng.getClientRects());\n    rects = rects.sort(function (a, b) {\n      a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n      b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n      return a - b;\n    });\n\n    if (rects.length > 0) {\n      clientY = (rects[0].bottom + rects[0].top) / 2;\n\n      try {\n        rng.moveToPoint(clientX, clientY);\n        rng.collapse(true);\n        return rng;\n      } catch (ex) {}\n    }\n\n    return null;\n  };\n\n  var moveOutOfContentEditableFalse = function moveOutOfContentEditableFalse(rng, rootNode) {\n    var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n    return NodeType.isContentEditableFalse(findParent(parentElement, rootNode, hasCeProperty)) ? null : rng;\n  };\n\n  var fromPoint$1 = function fromPoint$1(clientX, clientY, doc) {\n    var rng, point;\n    var pointDoc = doc;\n\n    if (pointDoc.caretPositionFromPoint) {\n      point = pointDoc.caretPositionFromPoint(clientX, clientY);\n\n      if (point) {\n        rng = doc.createRange();\n        rng.setStart(point.offsetNode, point.offset);\n        rng.collapse(true);\n      }\n    } else if (doc.caretRangeFromPoint) {\n      rng = doc.caretRangeFromPoint(clientX, clientY);\n    } else if (pointDoc.body.createTextRange) {\n      rng = pointDoc.body.createTextRange();\n\n      try {\n        rng.moveToPoint(clientX, clientY);\n        rng.collapse(true);\n      } catch (ex) {\n        rng = findClosestIeRange(clientX, clientY, doc);\n      }\n\n      return moveOutOfContentEditableFalse(rng, doc.body);\n    }\n\n    return rng;\n  };\n\n  var CaretRangeFromPoint = {\n    fromPoint: fromPoint$1\n  };\n\n  var processRanges = function processRanges(editor, ranges) {\n    return map(ranges, function (range) {\n      var evt = editor.fire('GetSelectionRange', {\n        range: range\n      });\n      return evt.range !== range ? evt.range : range;\n    });\n  };\n\n  var EventProcessRanges = {\n    processRanges: processRanges\n  };\n\n  var fromElements = function fromElements(elements, scope) {\n    var doc = scope || domGlobals.document;\n    var fragment = doc.createDocumentFragment();\n    each(elements, function (element) {\n      fragment.appendChild(element.dom());\n    });\n    return Element.fromDom(fragment);\n  };\n\n  var tableModel = Immutable('element', 'width', 'rows');\n  var tableRow = Immutable('element', 'cells');\n  var cellPosition = Immutable('x', 'y');\n\n  var getSpan = function getSpan(td, key) {\n    var value = parseInt(get$1(td, key), 10);\n    return isNaN(value) ? 1 : value;\n  };\n\n  var fillout = function fillout(table, x, y, tr, td) {\n    var rowspan = getSpan(td, 'rowspan');\n    var colspan = getSpan(td, 'colspan');\n    var rows = table.rows();\n\n    for (var y2 = y; y2 < y + rowspan; y2++) {\n      if (!rows[y2]) {\n        rows[y2] = tableRow(deep(tr), []);\n      }\n\n      for (var x2 = x; x2 < x + colspan; x2++) {\n        var cells = rows[y2].cells();\n        cells[x2] = y2 === y && x2 === x ? td : shallow(td);\n      }\n    }\n  };\n\n  var cellExists = function cellExists(table, x, y) {\n    var rows = table.rows();\n    var cells = rows[y] ? rows[y].cells() : [];\n    return !!cells[x];\n  };\n\n  var skipCellsX = function skipCellsX(table, x, y) {\n    while (cellExists(table, x, y)) {\n      x++;\n    }\n\n    return x;\n  };\n\n  var getWidth = function getWidth(rows) {\n    return foldl(rows, function (acc, row) {\n      return row.cells().length > acc ? row.cells().length : acc;\n    }, 0);\n  };\n\n  var findElementPos = function findElementPos(table, element) {\n    var rows = table.rows();\n\n    for (var y = 0; y < rows.length; y++) {\n      var cells = rows[y].cells();\n\n      for (var x = 0; x < cells.length; x++) {\n        if (eq(cells[x], element)) {\n          return Option.some(cellPosition(x, y));\n        }\n      }\n    }\n\n    return Option.none();\n  };\n\n  var extractRows = function extractRows(table, sx, sy, ex, ey) {\n    var newRows = [];\n    var rows = table.rows();\n\n    for (var y = sy; y <= ey; y++) {\n      var cells = rows[y].cells();\n      var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n      newRows.push(tableRow(rows[y].element(), slice));\n    }\n\n    return newRows;\n  };\n\n  var subTable = function subTable(table, startPos, endPos) {\n    var sx = startPos.x(),\n        sy = startPos.y();\n    var ex = endPos.x(),\n        ey = endPos.y();\n    var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n    return tableModel(table.element(), getWidth(newRows), newRows);\n  };\n\n  var createDomTable = function createDomTable(table, rows) {\n    var tableElement = shallow(table.element());\n    var tableBody = Element.fromTag('tbody');\n    append$1(tableBody, rows);\n    append(tableElement, tableBody);\n    return tableElement;\n  };\n\n  var modelRowsToDomRows = function modelRowsToDomRows(table) {\n    return map(table.rows(), function (row) {\n      var cells = map(row.cells(), function (cell) {\n        var td = deep(cell);\n        remove(td, 'colspan');\n        remove(td, 'rowspan');\n        return td;\n      });\n      var tr = shallow(row.element());\n      append$1(tr, cells);\n      return tr;\n    });\n  };\n\n  var fromDom$1 = function fromDom$1(tableElm) {\n    var table = tableModel(shallow(tableElm), 0, []);\n    each(descendants$1(tableElm, 'tr'), function (tr, y) {\n      each(descendants$1(tr, 'td,th'), function (td, x) {\n        fillout(table, skipCellsX(table, x, y), y, tr, td);\n      });\n    });\n    return tableModel(table.element(), getWidth(table.rows()), table.rows());\n  };\n\n  var toDom = function toDom(table) {\n    return createDomTable(table, modelRowsToDomRows(table));\n  };\n\n  var subsection = function subsection(table, startElement, endElement) {\n    return findElementPos(table, startElement).bind(function (startPos) {\n      return findElementPos(table, endElement).map(function (endPos) {\n        return subTable(table, startPos, endPos);\n      });\n    });\n  };\n\n  var SimpleTableModel = {\n    fromDom: fromDom$1,\n    toDom: toDom,\n    subsection: subsection\n  };\n\n  var getRanges = function getRanges(selection) {\n    var ranges = [];\n\n    if (selection) {\n      for (var i = 0; i < selection.rangeCount; i++) {\n        ranges.push(selection.getRangeAt(i));\n      }\n    }\n\n    return ranges;\n  };\n\n  var getSelectedNodes = function getSelectedNodes(ranges) {\n    return bind(ranges, function (range) {\n      var node = getSelectedNode(range);\n      return node ? [Element.fromDom(node)] : [];\n    });\n  };\n\n  var hasMultipleRanges = function hasMultipleRanges(selection) {\n    return getRanges(selection).length > 1;\n  };\n\n  var MultiRange = {\n    getRanges: getRanges,\n    getSelectedNodes: getSelectedNodes,\n    hasMultipleRanges: hasMultipleRanges\n  };\n\n  var getCellsFromRanges = function getCellsFromRanges(ranges) {\n    return filter(MultiRange.getSelectedNodes(ranges), isTableCell);\n  };\n\n  var getCellsFromElement = function getCellsFromElement(elm) {\n    return descendants$1(elm, 'td[data-mce-selected],th[data-mce-selected]');\n  };\n\n  var getCellsFromElementOrRanges = function getCellsFromElementOrRanges(ranges, element) {\n    var selectedCells = getCellsFromElement(element);\n    var rangeCells = getCellsFromRanges(ranges);\n    return selectedCells.length > 0 ? selectedCells : rangeCells;\n  };\n\n  var getCellsFromEditor = function getCellsFromEditor(editor) {\n    return getCellsFromElementOrRanges(MultiRange.getRanges(editor.selection.getSel()), Element.fromDom(editor.getBody()));\n  };\n\n  var TableCellSelection = {\n    getCellsFromRanges: getCellsFromRanges,\n    getCellsFromElement: getCellsFromElement,\n    getCellsFromElementOrRanges: getCellsFromElementOrRanges,\n    getCellsFromEditor: getCellsFromEditor\n  };\n\n  var findParentListContainer = function findParentListContainer(parents) {\n    return find(parents, function (elm) {\n      return name(elm) === 'ul' || name(elm) === 'ol';\n    });\n  };\n\n  var getFullySelectedListWrappers = function getFullySelectedListWrappers(parents, rng) {\n    return find(parents, function (elm) {\n      return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n    }).fold(constant([]), function (li) {\n      return findParentListContainer(parents).map(function (listCont) {\n        return [Element.fromTag('li'), Element.fromTag(name(listCont))];\n      }).getOr([]);\n    });\n  };\n\n  var wrap$3 = function wrap$3(innerElm, elms) {\n    var wrapped = foldl(elms, function (acc, elm) {\n      append(elm, acc);\n      return elm;\n    }, innerElm);\n    return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n  };\n\n  var directListWrappers = function directListWrappers(commonAnchorContainer) {\n    if (isListItem(commonAnchorContainer)) {\n      return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n        return [commonAnchorContainer, listElm];\n      });\n    } else {\n      return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n    }\n  };\n\n  var getWrapElements = function getWrapElements(rootNode, rng) {\n    var commonAnchorContainer = Element.fromDom(rng.commonAncestorContainer);\n    var parents = Parents.parentsAndSelf(commonAnchorContainer, rootNode);\n    var wrapElements = filter(parents, function (elm) {\n      return isInline(elm) || isHeading(elm);\n    });\n    var listWrappers = getFullySelectedListWrappers(parents, rng);\n    var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n    return map(allWrappers, shallow);\n  };\n\n  var emptyFragment = function emptyFragment() {\n    return fromElements([]);\n  };\n\n  var getFragmentFromRange = function getFragmentFromRange(rootNode, rng) {\n    return wrap$3(Element.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n  };\n\n  var getParentTable = function getParentTable(rootElm, cell) {\n    return ancestor$1(cell, 'table', curry(eq, rootElm));\n  };\n\n  var getTableFragment = function getTableFragment(rootNode, selectedTableCells) {\n    return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n      var firstCell = selectedTableCells[0];\n      var lastCell = selectedTableCells[selectedTableCells.length - 1];\n      var fullTableModel = SimpleTableModel.fromDom(tableElm);\n      return SimpleTableModel.subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n        return fromElements([SimpleTableModel.toDom(sectionedTableModel)]);\n      });\n    }).getOrThunk(emptyFragment);\n  };\n\n  var getSelectionFragment = function getSelectionFragment(rootNode, ranges) {\n    return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n  };\n\n  var read$2 = function read$2(rootNode, ranges) {\n    var selectedCells = TableCellSelection.getCellsFromElementOrRanges(ranges, rootNode);\n    return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n  };\n\n  var FragmentReader = {\n    read: read$2\n  };\n\n  var getTextContent = function getTextContent(editor) {\n    return Option.from(editor.selection.getRng()).map(function (rng) {\n      var bin = editor.dom.add(editor.getBody(), 'div', {\n        'data-mce-bogus': 'all',\n        'style': 'overflow: hidden; opacity: 0;'\n      }, rng.cloneContents());\n      var text = Zwsp.trim(bin.innerText);\n      editor.dom.remove(bin);\n      return text;\n    }).getOr('');\n  };\n\n  var getHtmlContent = function getHtmlContent(editor, args) {\n    var rng = editor.selection.getRng(),\n        tmpElm = editor.dom.create('body');\n    var sel = editor.selection.getSel();\n    var fragment;\n    var ranges = EventProcessRanges.processRanges(editor, MultiRange.getRanges(sel));\n    fragment = args.contextual ? FragmentReader.read(Element.fromDom(editor.getBody()), ranges).dom() : rng.cloneContents();\n\n    if (fragment) {\n      tmpElm.appendChild(fragment);\n    }\n\n    return editor.selection.serializer.serialize(tmpElm, args);\n  };\n\n  var getContent$1 = function getContent$1(editor, args) {\n    if (args === void 0) {\n      args = {};\n    }\n\n    args.get = true;\n    args.format = args.format || 'html';\n    args.selection = true;\n    args = editor.fire('BeforeGetContent', args);\n\n    if (args.isDefaultPrevented()) {\n      editor.fire('GetContent', args);\n      return args.content;\n    }\n\n    if (args.format === 'text') {\n      return getTextContent(editor);\n    } else {\n      args.getInner = true;\n      var content = getHtmlContent(editor, args);\n\n      if (args.format === 'tree') {\n        return content;\n      } else {\n        args.content = editor.selection.isCollapsed() ? '' : content;\n        editor.fire('GetContent', args);\n        return args.content;\n      }\n    }\n  };\n\n  var GetSelectionContent = {\n    getContent: getContent$1\n  };\n\n  var findParent$1 = function findParent$1(node, rootNode, predicate) {\n    while (node && node !== rootNode) {\n      if (predicate(node)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var hasParent = function hasParent(node, rootNode, predicate) {\n    return findParent$1(node, rootNode, predicate) !== null;\n  };\n\n  var hasParentWithName = function hasParentWithName(node, rootNode, name) {\n    return hasParent(node, rootNode, function (node) {\n      return node.nodeName === name;\n    });\n  };\n\n  var isTable$3 = function isTable$3(node) {\n    return node && node.nodeName === 'TABLE';\n  };\n\n  var isTableCell$3 = function isTableCell$3(node) {\n    return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n  };\n\n  var isCeFalseCaretContainer = function isCeFalseCaretContainer(node, rootNode) {\n    return isCaretContainer(node) && hasParent(node, rootNode, isCaretNode) === false;\n  };\n\n  var hasBrBeforeAfter = function hasBrBeforeAfter(dom, node, left) {\n    var walker = new TreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n\n    while (node = walker[left ? 'prev' : 'next']()) {\n      if (NodeType.isBr(node)) {\n        return true;\n      }\n    }\n  };\n\n  var isPrevNode = function isPrevNode(node, name) {\n    return node.previousSibling && node.previousSibling.nodeName === name;\n  };\n\n  var hasContentEditableFalseParent = function hasContentEditableFalseParent(body, node) {\n    while (node && node !== body) {\n      if (NodeType.isContentEditableFalse(node)) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  };\n\n  var findTextNodeRelative = function findTextNodeRelative(dom, isAfterNode, collapsed, left, startNode) {\n    var lastInlineElement;\n    var body = dom.getRoot();\n    var node;\n    var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n    var parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n\n    if (left && NodeType.isBr(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n      return Option.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n    }\n\n    var walker = new TreeWalker(startNode, parentBlockContainer);\n\n    while (node = walker[left ? 'prev' : 'next']()) {\n      if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n        return Option.none();\n      }\n\n      if (NodeType.isText(node) && node.nodeValue.length > 0) {\n        if (hasParentWithName(node, body, 'A') === false) {\n          return Option.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n        }\n\n        return Option.none();\n      }\n\n      if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n        return Option.none();\n      }\n\n      lastInlineElement = node;\n    }\n\n    if (collapsed && lastInlineElement) {\n      return Option.some(CaretPosition(lastInlineElement, 0));\n    }\n\n    return Option.none();\n  };\n\n  var normalizeEndPoint = function normalizeEndPoint(dom, collapsed, start, rng) {\n    var container, offset;\n    var body = dom.getRoot();\n    var node, nonEmptyElementsMap;\n    var directionLeft,\n        isAfterNode,\n        normalized = false;\n    container = rng[(start ? 'start' : 'end') + 'Container'];\n    offset = rng[(start ? 'start' : 'end') + 'Offset'];\n    isAfterNode = NodeType.isElement(container) && offset === container.childNodes.length;\n    nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n    directionLeft = start;\n\n    if (isCaretContainer(container)) {\n      return Option.none();\n    }\n\n    if (NodeType.isElement(container) && offset > container.childNodes.length - 1) {\n      directionLeft = false;\n    }\n\n    if (NodeType.isDocument(container)) {\n      container = body;\n      offset = 0;\n    }\n\n    if (container === body) {\n      if (directionLeft) {\n        node = container.childNodes[offset > 0 ? offset - 1 : 0];\n\n        if (node) {\n          if (isCaretContainer(node)) {\n            return Option.none();\n          }\n\n          if (nonEmptyElementsMap[node.nodeName] || isTable$3(node)) {\n            return Option.none();\n          }\n        }\n      }\n\n      if (container.hasChildNodes()) {\n        offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n        container = container.childNodes[offset];\n        offset = NodeType.isText(container) && isAfterNode ? container.data.length : 0;\n\n        if (!collapsed && container === body.lastChild && isTable$3(container)) {\n          return Option.none();\n        }\n\n        if (hasContentEditableFalseParent(body, container) || isCaretContainer(container)) {\n          return Option.none();\n        }\n\n        if (container.hasChildNodes() && isTable$3(container) === false) {\n          node = container;\n          var walker = new TreeWalker(container, body);\n\n          do {\n            if (NodeType.isContentEditableFalse(node) || isCaretContainer(node)) {\n              normalized = false;\n              break;\n            }\n\n            if (NodeType.isText(node) && node.nodeValue.length > 0) {\n              offset = directionLeft ? 0 : node.nodeValue.length;\n              container = node;\n              normalized = true;\n              break;\n            }\n\n            if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$3(node)) {\n              offset = dom.nodeIndex(node);\n              container = node.parentNode;\n\n              if (!directionLeft) {\n                offset++;\n              }\n\n              normalized = true;\n              break;\n            }\n          } while (node = directionLeft ? walker.next() : walker.prev());\n        }\n      }\n    }\n\n    if (collapsed) {\n      if (NodeType.isText(container) && offset === 0) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n\n      if (NodeType.isElement(container)) {\n        node = container.childNodes[offset];\n\n        if (!node) {\n          node = container.childNodes[offset - 1];\n        }\n\n        if (node && NodeType.isBr(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n      }\n    }\n\n    if (directionLeft && !collapsed && NodeType.isText(container) && offset === container.nodeValue.length) {\n      findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n        container = pos.container();\n        offset = pos.offset();\n        normalized = true;\n      });\n    }\n\n    return normalized ? Option.some(CaretPosition(container, offset)) : Option.none();\n  };\n\n  var normalize$2 = function normalize$2(dom, rng) {\n    var collapsed = rng.collapsed,\n        normRng = rng.cloneRange();\n    var startPos = CaretPosition.fromRangeStart(rng);\n    normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n      if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n        normRng.setStart(pos.container(), pos.offset());\n      }\n    });\n\n    if (!collapsed) {\n      normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n        normRng.setEnd(pos.container(), pos.offset());\n      });\n    }\n\n    if (collapsed) {\n      normRng.collapse(true);\n    }\n\n    return RangeCompare.isEq(rng, normRng) ? Option.none() : Option.some(normRng);\n  };\n\n  var NormalizeRange = {\n    normalize: normalize$2\n  };\n\n  var prependData = function prependData(target, data) {\n    target.insertData(0, data);\n  };\n\n  var removeEmpty = function removeEmpty(text) {\n    if (text.dom().length === 0) {\n      remove$1(text);\n      return Option.none();\n    }\n\n    return Option.some(text);\n  };\n\n  var rngSetContent = function rngSetContent(rng, fragment) {\n    var firstChild = Option.from(fragment.firstChild).map(Element.fromDom);\n    var lastChild = Option.from(fragment.lastChild).map(Element.fromDom);\n    rng.deleteContents();\n    rng.insertNode(fragment);\n    var prevText = firstChild.bind(prevSibling).filter(isText).bind(removeEmpty);\n    var nextText = lastChild.bind(nextSibling).filter(isText).bind(removeEmpty);\n    liftN([prevText, firstChild.filter(isText)], function (prev, start) {\n      prependData(start.dom(), prev.dom().data);\n      remove$1(prev);\n    });\n    liftN([nextText, lastChild.filter(isText)], function (next, end) {\n      var oldLength = end.dom().length;\n      end.dom().appendData(next.dom().data);\n      rng.setEnd(end.dom(), oldLength);\n      remove$1(next);\n    });\n    rng.collapse(false);\n  };\n\n  var setupArgs = function setupArgs(args, content) {\n    args = args || {\n      format: 'html'\n    };\n    args.set = true;\n    args.selection = true;\n    args.content = content;\n    return args;\n  };\n\n  var setContent$1 = function setContent$1(editor, content, args) {\n    args = setupArgs(args, content);\n\n    if (!args.no_events) {\n      args = editor.fire('BeforeSetContent', args);\n\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', args);\n        return;\n      }\n    }\n\n    var rng = editor.selection.getRng();\n    rngSetContent(rng, rng.createContextualFragment(args.content));\n    editor.selection.setRng(rng);\n    ScrollIntoView.scrollRangeIntoView(editor, rng);\n\n    if (!args.no_events) {\n      editor.fire('SetContent', args);\n    }\n  };\n\n  var SetSelectionContent = {\n    setContent: setContent$1\n  };\n\n  var getEndpointElement = function getEndpointElement(root, rng, start, real, resolve) {\n    var container = start ? rng.startContainer : rng.endContainer;\n    var offset = start ? rng.startOffset : rng.endOffset;\n    return Option.from(container).map(Element.fromDom).map(function (elm) {\n      return !real || !rng.collapsed ? child(elm, resolve(elm, offset)).getOr(elm) : elm;\n    }).bind(function (elm) {\n      return isElement(elm) ? Option.some(elm) : parent(elm);\n    }).map(function (elm) {\n      return elm.dom();\n    }).getOr(root);\n  };\n\n  var getStart$2 = function getStart$2(root, rng, real) {\n    return getEndpointElement(root, rng, true, real, function (elm, offset) {\n      return Math.min(childNodesCount(elm), offset);\n    });\n  };\n\n  var getEnd = function getEnd(root, rng, real) {\n    return getEndpointElement(root, rng, false, real, function (elm, offset) {\n      return offset > 0 ? offset - 1 : offset;\n    });\n  };\n\n  var skipEmptyTextNodes = function skipEmptyTextNodes(node, forwards) {\n    var orig = node;\n\n    while (node && NodeType.isText(node) && node.length === 0) {\n      node = forwards ? node.nextSibling : node.previousSibling;\n    }\n\n    return node || orig;\n  };\n\n  var getNode$1 = function getNode$1(root, rng) {\n    var elm, startContainer, endContainer, startOffset, endOffset;\n\n    if (!rng) {\n      return root;\n    }\n\n    startContainer = rng.startContainer;\n    endContainer = rng.endContainer;\n    startOffset = rng.startOffset;\n    endOffset = rng.endOffset;\n    elm = rng.commonAncestorContainer;\n\n    if (!rng.collapsed) {\n      if (startContainer === endContainer) {\n        if (endOffset - startOffset < 2) {\n          if (startContainer.hasChildNodes()) {\n            elm = startContainer.childNodes[startOffset];\n          }\n        }\n      }\n\n      if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n        if (startContainer.length === startOffset) {\n          startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n        } else {\n          startContainer = startContainer.parentNode;\n        }\n\n        if (endOffset === 0) {\n          endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n        } else {\n          endContainer = endContainer.parentNode;\n        }\n\n        if (startContainer && startContainer === endContainer) {\n          return startContainer;\n        }\n      }\n    }\n\n    if (elm && elm.nodeType === 3) {\n      return elm.parentNode;\n    }\n\n    return elm;\n  };\n\n  var getSelectedBlocks = function getSelectedBlocks(dom, rng, startElm, endElm) {\n    var node, root;\n    var selectedBlocks = [];\n    root = dom.getRoot();\n    startElm = dom.getParent(startElm || getStart$2(root, rng, rng.collapsed), dom.isBlock);\n    endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n\n    if (startElm && startElm !== root) {\n      selectedBlocks.push(startElm);\n    }\n\n    if (startElm && endElm && startElm !== endElm) {\n      node = startElm;\n      var walker = new TreeWalker(startElm, root);\n\n      while ((node = walker.next()) && node !== endElm) {\n        if (dom.isBlock(node)) {\n          selectedBlocks.push(node);\n        }\n      }\n    }\n\n    if (endElm && startElm !== endElm && endElm !== root) {\n      selectedBlocks.push(endElm);\n    }\n\n    return selectedBlocks;\n  };\n\n  var select$1 = function select$1(dom, node, content) {\n    return Option.from(node).map(function (node) {\n      var idx = dom.nodeIndex(node);\n      var rng = dom.createRng();\n      rng.setStart(node.parentNode, idx);\n      rng.setEnd(node.parentNode, idx + 1);\n\n      if (content) {\n        moveEndPoint$1(dom, rng, node, true);\n        moveEndPoint$1(dom, rng, node, false);\n      }\n\n      return rng;\n    });\n  };\n\n  var deleteFromCallbackMap = function deleteFromCallbackMap(callbackMap, selector, callback) {\n    if (callbackMap && callbackMap.hasOwnProperty(selector)) {\n      var newCallbacks = filter(callbackMap[selector], function (cb) {\n        return cb !== callback;\n      });\n\n      if (newCallbacks.length === 0) {\n        delete callbackMap[selector];\n      } else {\n        callbackMap[selector] = newCallbacks;\n      }\n    }\n  };\n\n  function SelectorChanged(dom, editor) {\n    var selectorChangedData;\n    var currentSelectors;\n    return {\n      selectorChangedWithUnbind: function selectorChangedWithUnbind(selector, callback) {\n        if (!selectorChangedData) {\n          selectorChangedData = {};\n          currentSelectors = {};\n          editor.on('NodeChange', function (e) {\n            var node = e.element,\n                parents = dom.getParents(node, null, dom.getRoot()),\n                matchedSelectors = {};\n            Tools.each(selectorChangedData, function (callbacks, selector) {\n              Tools.each(parents, function (node) {\n                if (dom.is(node, selector)) {\n                  if (!currentSelectors[selector]) {\n                    Tools.each(callbacks, function (callback) {\n                      callback(true, {\n                        node: node,\n                        selector: selector,\n                        parents: parents\n                      });\n                    });\n                    currentSelectors[selector] = callbacks;\n                  }\n\n                  matchedSelectors[selector] = callbacks;\n                  return false;\n                }\n              });\n            });\n            Tools.each(currentSelectors, function (callbacks, selector) {\n              if (!matchedSelectors[selector]) {\n                delete currentSelectors[selector];\n                Tools.each(callbacks, function (callback) {\n                  callback(false, {\n                    node: node,\n                    selector: selector,\n                    parents: parents\n                  });\n                });\n              }\n            });\n          });\n        }\n\n        if (!selectorChangedData[selector]) {\n          selectorChangedData[selector] = [];\n        }\n\n        selectorChangedData[selector].push(callback);\n        return {\n          unbind: function unbind() {\n            deleteFromCallbackMap(selectorChangedData, selector, callback);\n            deleteFromCallbackMap(currentSelectors, selector, callback);\n          }\n        };\n      }\n    };\n  }\n\n  var isNativeIeSelection = function isNativeIeSelection(rng) {\n    return !!rng.select;\n  };\n\n  var isAttachedToDom = function isAttachedToDom(node) {\n    return !!(node && node.ownerDocument) && contains$3(Element.fromDom(node.ownerDocument), Element.fromDom(node));\n  };\n\n  var isValidRange = function isValidRange(rng) {\n    if (!rng) {\n      return false;\n    } else if (isNativeIeSelection(rng)) {\n      return true;\n    } else {\n      return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n    }\n  };\n\n  var Selection$1 = function Selection$1(dom, win, serializer, editor) {\n    var bookmarkManager;\n    var controlSelection;\n    var selectedRange;\n    var explicitRange;\n    var selectorChangedWithUnbind = SelectorChanged(dom, editor).selectorChangedWithUnbind;\n\n    var setCursorLocation = function setCursorLocation(node, offset) {\n      var rng = dom.createRng();\n\n      if (!node) {\n        moveEndPoint$1(dom, rng, editor.getBody(), true);\n        setRng(rng);\n      } else {\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        setRng(rng);\n        collapse(false);\n      }\n    };\n\n    var getContent = function getContent(args) {\n      return GetSelectionContent.getContent(editor, args);\n    };\n\n    var setContent = function setContent(content, args) {\n      return SetSelectionContent.setContent(editor, content, args);\n    };\n\n    var getStart = function getStart(real) {\n      return getStart$2(editor.getBody(), getRng(), real);\n    };\n\n    var getEnd$1 = function getEnd$1(real) {\n      return getEnd(editor.getBody(), getRng(), real);\n    };\n\n    var getBookmark = function getBookmark(type, normalized) {\n      return bookmarkManager.getBookmark(type, normalized);\n    };\n\n    var moveToBookmark = function moveToBookmark(bookmark) {\n      return bookmarkManager.moveToBookmark(bookmark);\n    };\n\n    var select = function select(node, content) {\n      select$1(dom, node, content).each(setRng);\n      return node;\n    };\n\n    var isCollapsed = function isCollapsed() {\n      var rng = getRng(),\n          sel = getSel();\n\n      if (!rng || rng.item) {\n        return false;\n      }\n\n      if (rng.compareEndPoints) {\n        return rng.compareEndPoints('StartToEnd', rng) === 0;\n      }\n\n      return !sel || rng.collapsed;\n    };\n\n    var collapse = function collapse(toStart) {\n      var rng = getRng();\n      rng.collapse(!!toStart);\n      setRng(rng);\n    };\n\n    var getSel = function getSel() {\n      return win.getSelection ? win.getSelection() : win.document.selection;\n    };\n\n    var getRng = function getRng() {\n      var selection, rng, elm, doc;\n\n      var tryCompareBoundaryPoints = function tryCompareBoundaryPoints(how, sourceRange, destinationRange) {\n        try {\n          return sourceRange.compareBoundaryPoints(how, destinationRange);\n        } catch (ex) {\n          return -1;\n        }\n      };\n\n      if (!win) {\n        return null;\n      }\n\n      doc = win.document;\n\n      if (typeof doc === 'undefined' || doc === null) {\n        return null;\n      }\n\n      if (editor.bookmark !== undefined && EditorFocus.hasFocus(editor) === false) {\n        var bookmark = SelectionBookmark.getRng(editor);\n\n        if (bookmark.isSome()) {\n          return bookmark.map(function (r) {\n            return EventProcessRanges.processRanges(editor, [r])[0];\n          }).getOr(doc.createRange());\n        }\n      }\n\n      try {\n        if ((selection = getSel()) && !NodeType.isRestrictedNode(selection.anchorNode)) {\n          if (selection.rangeCount > 0) {\n            rng = selection.getRangeAt(0);\n          } else {\n            rng = selection.createRange ? selection.createRange() : doc.createRange();\n          }\n        }\n      } catch (ex) {}\n\n      rng = EventProcessRanges.processRanges(editor, [rng])[0];\n\n      if (!rng) {\n        rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n      }\n\n      if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n        elm = dom.getRoot();\n        rng.setStart(elm, 0);\n        rng.setEnd(elm, 0);\n      }\n\n      if (selectedRange && explicitRange) {\n        if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n          rng = explicitRange;\n        } else {\n          selectedRange = null;\n          explicitRange = null;\n        }\n      }\n\n      return rng;\n    };\n\n    var setRng = function setRng(rng, forward) {\n      var sel, node, evt;\n\n      if (!isValidRange(rng)) {\n        return;\n      }\n\n      var ieRange = isNativeIeSelection(rng) ? rng : null;\n\n      if (ieRange) {\n        explicitRange = null;\n\n        try {\n          ieRange.select();\n        } catch (ex) {}\n\n        return;\n      }\n\n      sel = getSel();\n      evt = editor.fire('SetSelectionRange', {\n        range: rng,\n        forward: forward\n      });\n      rng = evt.range;\n\n      if (sel) {\n        explicitRange = rng;\n\n        try {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        } catch (ex) {}\n\n        if (forward === false && sel.extend) {\n          sel.collapse(rng.endContainer, rng.endOffset);\n          sel.extend(rng.startContainer, rng.startOffset);\n        }\n\n        selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n      }\n\n      if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\n        if (rng.endOffset - rng.startOffset < 2) {\n          if (rng.startContainer.hasChildNodes()) {\n            node = rng.startContainer.childNodes[rng.startOffset];\n\n            if (node && node.tagName === 'IMG') {\n              sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n\n              if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                sel.setBaseAndExtent(node, 0, node, 1);\n              }\n            }\n          }\n        }\n      }\n\n      editor.fire('AfterSetSelectionRange', {\n        range: rng,\n        forward: forward\n      });\n    };\n\n    var setNode = function setNode(elm) {\n      setContent(dom.getOuterHTML(elm));\n      return elm;\n    };\n\n    var getNode = function getNode() {\n      return getNode$1(editor.getBody(), getRng());\n    };\n\n    var getSelectedBlocks$1 = function getSelectedBlocks$1(startElm, endElm) {\n      return getSelectedBlocks(dom, getRng(), startElm, endElm);\n    };\n\n    var isForward = function isForward() {\n      var sel = getSel();\n      var anchorRange, focusRange;\n\n      if (!sel || !sel.anchorNode || !sel.focusNode) {\n        return true;\n      }\n\n      anchorRange = dom.createRng();\n      anchorRange.setStart(sel.anchorNode, sel.anchorOffset);\n      anchorRange.collapse(true);\n      focusRange = dom.createRng();\n      focusRange.setStart(sel.focusNode, sel.focusOffset);\n      focusRange.collapse(true);\n      return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n    };\n\n    var normalize = function normalize() {\n      var rng = getRng();\n      var sel = getSel();\n\n      if (!MultiRange.hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n        var normRng = NormalizeRange.normalize(dom, rng);\n        normRng.each(function (normRng) {\n          setRng(normRng, isForward());\n        });\n        return normRng.getOr(rng);\n      }\n\n      return rng;\n    };\n\n    var selectorChanged = function selectorChanged(selector, callback) {\n      selectorChangedWithUnbind(selector, callback);\n      return exports;\n    };\n\n    var getScrollContainer = function getScrollContainer() {\n      var scrollContainer;\n      var node = dom.getRoot();\n\n      while (node && node.nodeName !== 'BODY') {\n        if (node.scrollHeight > node.clientHeight) {\n          scrollContainer = node;\n          break;\n        }\n\n        node = node.parentNode;\n      }\n\n      return scrollContainer;\n    };\n\n    var scrollIntoView = function scrollIntoView(elm, alignToTop) {\n      return ScrollIntoView.scrollElementIntoView(editor, elm, alignToTop);\n    };\n\n    var placeCaretAt = function placeCaretAt(clientX, clientY) {\n      return setRng(CaretRangeFromPoint.fromPoint(clientX, clientY, editor.getDoc()));\n    };\n\n    var getBoundingClientRect = function getBoundingClientRect() {\n      var rng = getRng();\n      return rng.collapsed ? CaretPosition$1.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n    };\n\n    var destroy = function destroy() {\n      win = selectedRange = explicitRange = null;\n      controlSelection.destroy();\n    };\n\n    var exports = {\n      bookmarkManager: null,\n      controlSelection: null,\n      dom: dom,\n      win: win,\n      serializer: serializer,\n      editor: editor,\n      collapse: collapse,\n      setCursorLocation: setCursorLocation,\n      getContent: getContent,\n      setContent: setContent,\n      getBookmark: getBookmark,\n      moveToBookmark: moveToBookmark,\n      select: select,\n      isCollapsed: isCollapsed,\n      isForward: isForward,\n      setNode: setNode,\n      getNode: getNode,\n      getSel: getSel,\n      setRng: setRng,\n      getRng: getRng,\n      getStart: getStart,\n      getEnd: getEnd$1,\n      getSelectedBlocks: getSelectedBlocks$1,\n      normalize: normalize,\n      selectorChanged: selectorChanged,\n      selectorChangedWithUnbind: selectorChangedWithUnbind,\n      getScrollContainer: getScrollContainer,\n      scrollIntoView: scrollIntoView,\n      placeCaretAt: placeCaretAt,\n      getBoundingClientRect: getBoundingClientRect,\n      destroy: destroy\n    };\n    bookmarkManager = BookmarkManager$1(exports);\n    controlSelection = ControlSelection(exports, editor);\n    exports.bookmarkManager = bookmarkManager;\n    exports.controlSelection = controlSelection;\n    return exports;\n  };\n\n  var isText$8 = NodeType.isText;\n\n  var startsWithCaretContainer$1 = function startsWithCaretContainer$1(node) {\n    return isText$8(node) && node.data[0] === Zwsp.ZWSP;\n  };\n\n  var endsWithCaretContainer$1 = function endsWithCaretContainer$1(node) {\n    return isText$8(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\n  };\n\n  var createZwsp = function createZwsp(node) {\n    return node.ownerDocument.createTextNode(Zwsp.ZWSP);\n  };\n\n  var insertBefore = function insertBefore(node) {\n    if (isText$8(node.previousSibling)) {\n      if (endsWithCaretContainer$1(node.previousSibling)) {\n        return node.previousSibling;\n      } else {\n        node.previousSibling.appendData(Zwsp.ZWSP);\n        return node.previousSibling;\n      }\n    } else if (isText$8(node)) {\n      if (startsWithCaretContainer$1(node)) {\n        return node;\n      } else {\n        node.insertData(0, Zwsp.ZWSP);\n        return node;\n      }\n    } else {\n      var newNode = createZwsp(node);\n      node.parentNode.insertBefore(newNode, node);\n      return newNode;\n    }\n  };\n\n  var insertAfter = function insertAfter(node) {\n    if (isText$8(node.nextSibling)) {\n      if (startsWithCaretContainer$1(node.nextSibling)) {\n        return node.nextSibling;\n      } else {\n        node.nextSibling.insertData(0, Zwsp.ZWSP);\n        return node.nextSibling;\n      }\n    } else if (isText$8(node)) {\n      if (endsWithCaretContainer$1(node)) {\n        return node;\n      } else {\n        node.appendData(Zwsp.ZWSP);\n        return node;\n      }\n    } else {\n      var newNode = createZwsp(node);\n\n      if (node.nextSibling) {\n        node.parentNode.insertBefore(newNode, node.nextSibling);\n      } else {\n        node.parentNode.appendChild(newNode);\n      }\n\n      return newNode;\n    }\n  };\n\n  var insertInline$1 = function insertInline$1(before, node) {\n    return before ? insertBefore(node) : insertAfter(node);\n  };\n\n  var insertInlineBefore = curry(insertInline$1, true);\n  var insertInlineAfter = curry(insertInline$1, false);\n\n  var insertInlinePos = function insertInlinePos(pos, before) {\n    if (NodeType.isText(pos.container())) {\n      return insertInline$1(before, pos.container());\n    } else {\n      return insertInline$1(before, pos.getNode());\n    }\n  };\n\n  var isPosCaretContainer = function isPosCaretContainer(pos, caret) {\n    var caretNode = caret.get();\n    return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n  };\n\n  var renderCaret = function renderCaret(caret, location) {\n    return location.fold(function (element) {\n      CaretContainerRemove.remove(caret.get());\n      var text = insertInlineBefore(element);\n      caret.set(text);\n      return Option.some(CaretPosition$1(text, text.length - 1));\n    }, function (element) {\n      return CaretFinder.firstPositionIn(element).map(function (pos) {\n        if (!isPosCaretContainer(pos, caret)) {\n          CaretContainerRemove.remove(caret.get());\n          var text = insertInlinePos(pos, true);\n          caret.set(text);\n          return CaretPosition$1(text, 1);\n        } else {\n          return CaretPosition$1(caret.get(), 1);\n        }\n      });\n    }, function (element) {\n      return CaretFinder.lastPositionIn(element).map(function (pos) {\n        if (!isPosCaretContainer(pos, caret)) {\n          CaretContainerRemove.remove(caret.get());\n          var text = insertInlinePos(pos, false);\n          caret.set(text);\n          return CaretPosition$1(text, text.length - 1);\n        } else {\n          return CaretPosition$1(caret.get(), caret.get().length - 1);\n        }\n      });\n    }, function (element) {\n      CaretContainerRemove.remove(caret.get());\n      var text = insertInlineAfter(element);\n      caret.set(text);\n      return Option.some(CaretPosition$1(text, 1));\n    });\n  };\n\n  var BoundaryCaret = {\n    renderCaret: renderCaret\n  };\n  var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n\n  var hasStrongRtl = function hasStrongRtl(text) {\n    return strongRtl.test(text);\n  };\n\n  var isInlineTarget = function isInlineTarget(editor, elm) {\n    return is$1(Element.fromDom(elm), Settings.getInlineBoundarySelector(editor));\n  };\n\n  var isRtl$1 = function isRtl$1(element) {\n    return DOMUtils$1.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n  };\n\n  var findInlineParents = function findInlineParents(isInlineTarget, rootNode, pos) {\n    return filter(DOMUtils$1.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n  };\n\n  var findRootInline = function findRootInline(isInlineTarget, rootNode, pos) {\n    var parents = findInlineParents(isInlineTarget, rootNode, pos);\n    return Option.from(parents[parents.length - 1]);\n  };\n\n  var hasSameParentBlock = function hasSameParentBlock(rootNode, node1, node2) {\n    var block1 = getParentBlock(node1, rootNode);\n    var block2 = getParentBlock(node2, rootNode);\n    return block1 && block1 === block2;\n  };\n\n  var isAtZwsp = function isAtZwsp(pos) {\n    return isBeforeInline(pos) || isAfterInline(pos);\n  };\n\n  var normalizePosition = function normalizePosition(forward, pos) {\n    if (!pos) {\n      return pos;\n    }\n\n    var container = pos.container(),\n        offset = pos.offset();\n\n    if (forward) {\n      if (isCaretContainerInline(container)) {\n        if (NodeType.isText(container.nextSibling)) {\n          return CaretPosition$1(container.nextSibling, 0);\n        } else {\n          return CaretPosition$1.after(container);\n        }\n      } else {\n        return isBeforeInline(pos) ? CaretPosition$1(container, offset + 1) : pos;\n      }\n    } else {\n      if (isCaretContainerInline(container)) {\n        if (NodeType.isText(container.previousSibling)) {\n          return CaretPosition$1(container.previousSibling, container.previousSibling.data.length);\n        } else {\n          return CaretPosition$1.before(container);\n        }\n      } else {\n        return isAfterInline(pos) ? CaretPosition$1(container, offset - 1) : pos;\n      }\n    }\n  };\n\n  var normalizeForwards = curry(normalizePosition, true);\n  var normalizeBackwards = curry(normalizePosition, false);\n  var InlineUtils = {\n    isInlineTarget: isInlineTarget,\n    findRootInline: findRootInline,\n    isRtl: isRtl$1,\n    isAtZwsp: isAtZwsp,\n    normalizePosition: normalizePosition,\n    normalizeForwards: normalizeForwards,\n    normalizeBackwards: normalizeBackwards,\n    hasSameParentBlock: hasSameParentBlock\n  };\n\n  var evaluateUntil = function evaluateUntil(fns, args) {\n    for (var i = 0; i < fns.length; i++) {\n      var result = fns[i].apply(null, args);\n\n      if (result.isSome()) {\n        return result;\n      }\n    }\n\n    return Option.none();\n  };\n\n  var LazyEvaluator = {\n    evaluateUntil: evaluateUntil\n  };\n  var Location = Adt.generate([{\n    before: ['element']\n  }, {\n    start: ['element']\n  }, {\n    end: ['element']\n  }, {\n    after: ['element']\n  }]);\n\n  var rescope = function rescope(rootNode, node) {\n    var parentBlock = getParentBlock(node, rootNode);\n    return parentBlock ? parentBlock : rootNode;\n  };\n\n  var before$4 = function before$4(isInlineTarget, rootNode, pos) {\n    var nPos = InlineUtils.normalizeForwards(pos);\n    var scope = rescope(rootNode, nPos.container());\n    return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n      return CaretFinder.nextPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\n        return Location.before(inline);\n      });\n    }, Option.none);\n  };\n\n  var isNotInsideFormatCaretContainer = function isNotInsideFormatCaretContainer(rootNode, elm) {\n    return getParentCaretContainer(rootNode, elm) === null;\n  };\n\n  var findInsideRootInline = function findInsideRootInline(isInlineTarget, rootNode, pos) {\n    return InlineUtils.findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n  };\n\n  var start$1 = function start$1(isInlineTarget, rootNode, pos) {\n    var nPos = InlineUtils.normalizeBackwards(pos);\n    return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n      var prevPos = CaretFinder.prevPosition(inline, nPos);\n      return prevPos.isNone() ? Option.some(Location.start(inline)) : Option.none();\n    });\n  };\n\n  var end = function end(isInlineTarget, rootNode, pos) {\n    var nPos = InlineUtils.normalizeForwards(pos);\n    return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n      var nextPos = CaretFinder.nextPosition(inline, nPos);\n      return nextPos.isNone() ? Option.some(Location.end(inline)) : Option.none();\n    });\n  };\n\n  var after$3 = function after$3(isInlineTarget, rootNode, pos) {\n    var nPos = InlineUtils.normalizeBackwards(pos);\n    var scope = rescope(rootNode, nPos.container());\n    return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n      return CaretFinder.prevPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\n        return Location.after(inline);\n      });\n    }, Option.none);\n  };\n\n  var isValidLocation = function isValidLocation(location) {\n    return InlineUtils.isRtl(getElement(location)) === false;\n  };\n\n  var readLocation = function readLocation(isInlineTarget, rootNode, pos) {\n    var location = LazyEvaluator.evaluateUntil([before$4, start$1, end, after$3], [isInlineTarget, rootNode, pos]);\n    return location.filter(isValidLocation);\n  };\n\n  var getElement = function getElement(location) {\n    return location.fold(identity, identity, identity, identity);\n  };\n\n  var getName = function getName(location) {\n    return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n  };\n\n  var outside = function outside(location) {\n    return location.fold(Location.before, Location.before, Location.after, Location.after);\n  };\n\n  var inside = function inside(location) {\n    return location.fold(Location.start, Location.start, Location.end, Location.end);\n  };\n\n  var isEq$5 = function isEq$5(location1, location2) {\n    return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n  };\n\n  var betweenInlines = function betweenInlines(forward, isInlineTarget, rootNode, from, to, location) {\n    return liftN([InlineUtils.findRootInline(isInlineTarget, rootNode, from), InlineUtils.findRootInline(isInlineTarget, rootNode, to)], function (fromInline, toInline) {\n      if (fromInline !== toInline && InlineUtils.hasSameParentBlock(rootNode, fromInline, toInline)) {\n        return Location.after(forward ? fromInline : toInline);\n      } else {\n        return location;\n      }\n    }).getOr(location);\n  };\n\n  var skipNoMovement = function skipNoMovement(fromLocation, toLocation) {\n    return fromLocation.fold(constant(true), function (fromLocation) {\n      return !isEq$5(fromLocation, toLocation);\n    });\n  };\n\n  var findLocationTraverse = function findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos) {\n    var from = InlineUtils.normalizePosition(forward, pos);\n    var to = CaretFinder.fromPosition(forward, rootNode, from).map(curry(InlineUtils.normalizePosition, forward));\n    var location = to.fold(function () {\n      return fromLocation.map(outside);\n    }, function (to) {\n      return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n    });\n    return location.filter(isValidLocation);\n  };\n\n  var findLocationSimple = function findLocationSimple(forward, location) {\n    if (forward) {\n      return location.fold(compose(Option.some, Location.start), Option.none, compose(Option.some, Location.after), Option.none);\n    } else {\n      return location.fold(Option.none, compose(Option.some, Location.before), Option.none, compose(Option.some, Location.end));\n    }\n  };\n\n  var findLocation = function findLocation(forward, isInlineTarget, rootNode, pos) {\n    var from = InlineUtils.normalizePosition(forward, pos);\n    var fromLocation = readLocation(isInlineTarget, rootNode, from);\n    return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n      return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n    });\n  };\n\n  var BoundaryLocation = {\n    readLocation: readLocation,\n    findLocation: findLocation,\n    prevLocation: curry(findLocation, false),\n    nextLocation: curry(findLocation, true),\n    getElement: getElement,\n    outside: outside,\n    inside: inside\n  };\n\n  var hasSelectionModifyApi = function hasSelectionModifyApi(editor) {\n    return isFunction(editor.selection.getSel().modify);\n  };\n\n  var moveRel = function moveRel(forward, selection, pos) {\n    var delta = forward ? 1 : -1;\n    selection.setRng(CaretPosition$1(pos.container(), pos.offset() + delta).toRange());\n    selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n    return true;\n  };\n\n  var moveByWord = function moveByWord(forward, editor) {\n    var rng = editor.selection.getRng();\n    var pos = forward ? CaretPosition$1.fromRangeEnd(rng) : CaretPosition$1.fromRangeStart(rng);\n\n    if (!hasSelectionModifyApi(editor)) {\n      return false;\n    } else if (forward && isBeforeInline(pos)) {\n      return moveRel(true, editor.selection, pos);\n    } else if (!forward && isAfterInline(pos)) {\n      return moveRel(false, editor.selection, pos);\n    } else {\n      return false;\n    }\n  };\n\n  var WordSelection = {\n    hasSelectionModifyApi: hasSelectionModifyApi,\n    moveByWord: moveByWord\n  };\n\n  var setCaretPosition = function setCaretPosition(editor, pos) {\n    var rng = editor.dom.createRng();\n    rng.setStart(pos.container(), pos.offset());\n    rng.setEnd(pos.container(), pos.offset());\n    editor.selection.setRng(rng);\n  };\n\n  var isFeatureEnabled = function isFeatureEnabled(editor) {\n    return editor.settings.inline_boundaries !== false;\n  };\n\n  var setSelected = function setSelected(state, elm) {\n    if (state) {\n      elm.setAttribute('data-mce-selected', 'inline-boundary');\n    } else {\n      elm.removeAttribute('data-mce-selected');\n    }\n  };\n\n  var renderCaretLocation = function renderCaretLocation(editor, caret, location) {\n    return BoundaryCaret.renderCaret(caret, location).map(function (pos) {\n      setCaretPosition(editor, pos);\n      return location;\n    });\n  };\n\n  var findLocation$1 = function findLocation$1(editor, caret, forward) {\n    var rootNode = editor.getBody();\n    var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n    var location = BoundaryLocation.findLocation(forward, isInlineTarget, rootNode, from);\n    return location.bind(function (location) {\n      return renderCaretLocation(editor, caret, location);\n    });\n  };\n\n  var toggleInlines = function toggleInlines(isInlineTarget, dom, elms) {\n    var selectedInlines = filter(dom.select('*[data-mce-selected=\"inline-boundary\"]'), isInlineTarget);\n    var targetInlines = filter(elms, isInlineTarget);\n    each(difference(selectedInlines, targetInlines), curry(setSelected, false));\n    each(difference(targetInlines, selectedInlines), curry(setSelected, true));\n  };\n\n  var safeRemoveCaretContainer = function safeRemoveCaretContainer(editor, caret) {\n    if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n\n      if (CaretPosition$1.isTextPosition(pos) && InlineUtils.isAtZwsp(pos) === false) {\n        setCaretPosition(editor, CaretContainerRemove.removeAndReposition(caret.get(), pos));\n        caret.set(null);\n      }\n    }\n  };\n\n  var renderInsideInlineCaret = function renderInsideInlineCaret(isInlineTarget, editor, caret, elms) {\n    if (editor.selection.isCollapsed()) {\n      var inlines = filter(elms, isInlineTarget);\n      each(inlines, function (inline) {\n        var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n          return renderCaretLocation(editor, caret, location);\n        });\n      });\n    }\n  };\n\n  var move$1 = function move$1(editor, caret, forward) {\n    return function () {\n      return isFeatureEnabled(editor) ? findLocation$1(editor, caret, forward).isSome() : false;\n    };\n  };\n\n  var moveWord = function moveWord(forward, editor, caret) {\n    return function () {\n      return isFeatureEnabled(editor) ? WordSelection.moveByWord(forward, editor) : false;\n    };\n  };\n\n  var setupSelectedState = function setupSelectedState(editor) {\n    var caret = Cell(null);\n    var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n    editor.on('NodeChange', function (e) {\n      if (isFeatureEnabled(editor)) {\n        toggleInlines(isInlineTarget, editor.dom, e.parents);\n        safeRemoveCaretContainer(editor, caret);\n        renderInsideInlineCaret(isInlineTarget, editor, caret, e.parents);\n      }\n    });\n    return caret;\n  };\n\n  var moveNextWord = curry(moveWord, true);\n  var movePrevWord = curry(moveWord, false);\n  var BoundarySelection = {\n    move: move$1,\n    moveNextWord: moveNextWord,\n    movePrevWord: movePrevWord,\n    setupSelectedState: setupSelectedState,\n    setCaretPosition: setCaretPosition\n  };\n  var BreakType;\n\n  (function (BreakType) {\n    BreakType[BreakType['Br'] = 0] = 'Br';\n    BreakType[BreakType['Block'] = 1] = 'Block';\n    BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n    BreakType[BreakType['Eol'] = 3] = 'Eol';\n  })(BreakType || (BreakType = {}));\n\n  var flip = function flip(direction, positions) {\n    return direction === HDirection.Backwards ? positions.reverse() : positions;\n  };\n\n  var walk$3 = function walk$3(direction, caretWalker, pos) {\n    return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n  };\n\n  var getBreakType = function getBreakType(scope, direction, currentPos, nextPos) {\n    if (NodeType.isBr(nextPos.getNode(direction === HDirection.Forwards))) {\n      return BreakType.Br;\n    } else if (isInSameBlock(currentPos, nextPos) === false) {\n      return BreakType.Block;\n    } else {\n      return BreakType.Wrap;\n    }\n  };\n\n  var getPositionsUntil = function getPositionsUntil(predicate, direction, scope, start) {\n    var caretWalker = CaretWalker(scope);\n    var currentPos = start,\n        nextPos;\n    var positions = [];\n\n    while (currentPos) {\n      nextPos = walk$3(direction, caretWalker, currentPos);\n\n      if (!nextPos) {\n        break;\n      }\n\n      if (NodeType.isBr(nextPos.getNode(false))) {\n        if (direction === HDirection.Forwards) {\n          return {\n            positions: flip(direction, positions).concat([nextPos]),\n            breakType: BreakType.Br,\n            breakAt: Option.some(nextPos)\n          };\n        } else {\n          return {\n            positions: flip(direction, positions),\n            breakType: BreakType.Br,\n            breakAt: Option.some(nextPos)\n          };\n        }\n      }\n\n      if (!nextPos.isVisible()) {\n        currentPos = nextPos;\n        continue;\n      }\n\n      if (predicate(currentPos, nextPos)) {\n        var breakType = getBreakType(scope, direction, currentPos, nextPos);\n        return {\n          positions: flip(direction, positions),\n          breakType: breakType,\n          breakAt: Option.some(nextPos)\n        };\n      }\n\n      positions.push(nextPos);\n      currentPos = nextPos;\n    }\n\n    return {\n      positions: flip(direction, positions),\n      breakType: BreakType.Eol,\n      breakAt: Option.none()\n    };\n  };\n\n  var getAdjacentLinePositions = function getAdjacentLinePositions(direction, getPositionsUntilBreak, scope, start) {\n    return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n      var positions = getPositionsUntilBreak(scope, pos).positions;\n      return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n    }).getOr([]);\n  };\n\n  var findClosestHorizontalPositionFromPoint = function findClosestHorizontalPositionFromPoint(positions, x) {\n    return foldl(positions, function (acc, newPos) {\n      return acc.fold(function () {\n        return Option.some(newPos);\n      }, function (lastPos) {\n        return liftN([head(lastPos.getClientRects()), head(newPos.getClientRects())], function (lastRect, newRect) {\n          var lastDist = Math.abs(x - lastRect.left);\n          var newDist = Math.abs(x - newRect.left);\n          return newDist <= lastDist ? newPos : lastPos;\n        }).or(acc);\n      });\n    }, Option.none());\n  };\n\n  var findClosestHorizontalPosition = function findClosestHorizontalPosition(positions, pos) {\n    return head(pos.getClientRects()).bind(function (targetRect) {\n      return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n    });\n  };\n\n  var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n  var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n\n  var isAtFirstLine = function isAtFirstLine(scope, pos) {\n    return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n  };\n\n  var isAtLastLine = function isAtLastLine(scope, pos) {\n    return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n  };\n\n  var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n  var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n\n  var getFirstLinePositions = function getFirstLinePositions(scope) {\n    return CaretFinder.firstPositionIn(scope).map(function (pos) {\n      return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n    }).getOr([]);\n  };\n\n  var getLastLinePositions = function getLastLinePositions(scope) {\n    return CaretFinder.lastPositionIn(scope).map(function (pos) {\n      return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n    }).getOr([]);\n  };\n\n  var isContentEditableFalse$b = NodeType.isContentEditableFalse;\n  var getSelectedNode$1 = getSelectedNode;\n\n  var moveToCeFalseHorizontally = function moveToCeFalseHorizontally(direction, editor, getNextPosFn, range) {\n    var forwards = direction === HDirection.Forwards;\n    var isBeforeContentEditableFalseFn = forwards ? isBeforeContentEditableFalse : isAfterContentEditableFalse;\n\n    if (!range.collapsed) {\n      var node = getSelectedNode$1(range);\n\n      if (isContentEditableFalse$b(node)) {\n        return showCaret(direction, editor, node, direction === HDirection.Backwards, true);\n      }\n    }\n\n    var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n    var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n\n    if (isBeforeContentEditableFalseFn(caretPosition)) {\n      return selectNode(editor, caretPosition.getNode(!forwards));\n    }\n\n    var nextCaretPosition = InlineUtils.normalizePosition(forwards, getNextPosFn(caretPosition));\n\n    if (!nextCaretPosition) {\n      if (rangeIsInContainerBlock) {\n        return range;\n      }\n\n      return null;\n    }\n\n    if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\n      return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, true);\n    }\n\n    var peekCaretPosition = getNextPosFn(nextCaretPosition);\n\n    if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\n      if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n        return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, true);\n      }\n    }\n\n    if (rangeIsInContainerBlock) {\n      return renderRangeCaret(editor, nextCaretPosition.toRange(), true);\n    }\n\n    return null;\n  };\n\n  var moveToCeFalseVertically = function moveToCeFalseVertically(direction, editor, walkerFn, range) {\n    var caretPosition, linePositions, nextLinePositions;\n    var closestNextLineRect, caretClientRect, clientX;\n    var dist1, dist2, contentEditableFalseNode;\n    contentEditableFalseNode = getSelectedNode$1(range);\n    caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n    linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n    nextLinePositions = filter(linePositions, isLine(1));\n    caretClientRect = ArrUtils.last(caretPosition.getClientRects());\n\n    if (isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition)) {\n      contentEditableFalseNode = caretPosition.getNode();\n    }\n\n    if (isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition)) {\n      contentEditableFalseNode = caretPosition.getNode(true);\n    }\n\n    if (!caretClientRect) {\n      return null;\n    }\n\n    clientX = caretClientRect.left;\n    closestNextLineRect = findClosestClientRect(nextLinePositions, clientX);\n\n    if (closestNextLineRect) {\n      if (isContentEditableFalse$b(closestNextLineRect.node)) {\n        dist1 = Math.abs(clientX - closestNextLineRect.left);\n        dist2 = Math.abs(clientX - closestNextLineRect.right);\n        return showCaret(direction, editor, closestNextLineRect.node, dist1 < dist2, true);\n      }\n    }\n\n    if (contentEditableFalseNode) {\n      var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), contentEditableFalseNode);\n      closestNextLineRect = findClosestClientRect(filter(caretPositions, isLine(1)), clientX);\n\n      if (closestNextLineRect) {\n        return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n      }\n\n      closestNextLineRect = ArrUtils.last(filter(caretPositions, isLine(0)));\n\n      if (closestNextLineRect) {\n        return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n      }\n    }\n  };\n\n  var createTextBlock = function createTextBlock(editor) {\n    var textBlock = editor.dom.create(Settings.getForcedRootBlock(editor));\n\n    if (!Env.ie || Env.ie >= 11) {\n      textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n    }\n\n    return textBlock;\n  };\n\n  var exitPreBlock = function exitPreBlock(editor, direction, range) {\n    var pre, caretPos, newBlock;\n    var caretWalker = CaretWalker(editor.getBody());\n    var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n    var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n\n    if (range.collapsed && editor.settings.forced_root_block) {\n      pre = editor.dom.getParent(range.startContainer, 'PRE');\n\n      if (!pre) {\n        return;\n      }\n\n      if (direction === 1) {\n        caretPos = getNextVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n      } else {\n        caretPos = getPrevVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n      }\n\n      if (!caretPos) {\n        newBlock = createTextBlock(editor);\n\n        if (direction === 1) {\n          editor.$(pre).after(newBlock);\n        } else {\n          editor.$(pre).before(newBlock);\n        }\n\n        editor.selection.select(newBlock, true);\n        editor.selection.collapse();\n      }\n    }\n  };\n\n  var getHorizontalRange = function getHorizontalRange(editor, forward) {\n    var caretWalker = CaretWalker(editor.getBody());\n    var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n    var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n    var newRange;\n    var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n    var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\n    var range = editor.selection.getRng();\n    newRange = moveToCeFalseHorizontally(direction, editor, getNextPosFn, range);\n\n    if (newRange) {\n      return newRange;\n    }\n\n    newRange = exitPreBlock(editor, direction, range);\n\n    if (newRange) {\n      return newRange;\n    }\n\n    return null;\n  };\n\n  var getVerticalRange = function getVerticalRange(editor, down) {\n    var newRange;\n    var direction = down ? 1 : -1;\n    var walkerFn = down ? downUntil : upUntil;\n    var range = editor.selection.getRng();\n    newRange = moveToCeFalseVertically(direction, editor, walkerFn, range);\n\n    if (newRange) {\n      return newRange;\n    }\n\n    newRange = exitPreBlock(editor, direction, range);\n\n    if (newRange) {\n      return newRange;\n    }\n\n    return null;\n  };\n\n  var moveH = function moveH(editor, forward) {\n    return function () {\n      var newRng = getHorizontalRange(editor, forward);\n\n      if (newRng) {\n        editor.selection.setRng(newRng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n  };\n\n  var moveV = function moveV(editor, down) {\n    return function () {\n      var newRng = getVerticalRange(editor, down);\n\n      if (newRng) {\n        editor.selection.setRng(newRng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n  };\n\n  var isCefPosition = function isCefPosition(forward) {\n    return function (pos) {\n      return forward ? isAfterContentEditableFalse(pos) : isBeforeContentEditableFalse(pos);\n    };\n  };\n\n  var moveToLineEndPoint = function moveToLineEndPoint(editor, forward) {\n    return function () {\n      var from = forward ? CaretPosition$1.fromRangeEnd(editor.selection.getRng()) : CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      var result = forward ? getPositionsUntilNextLine(editor.getBody(), from) : getPositionsUntilPreviousLine(editor.getBody(), from);\n      var to = forward ? last(result.positions) : head(result.positions);\n      return to.filter(isCefPosition(forward)).fold(constant(false), function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      });\n    };\n  };\n\n  var deflate = function deflate(rect, delta) {\n    return {\n      left: rect.left - delta,\n      top: rect.top - delta,\n      right: rect.right + delta * 2,\n      bottom: rect.bottom + delta * 2,\n      width: rect.width + delta,\n      height: rect.height + delta\n    };\n  };\n\n  var getCorners = function getCorners(getYAxisValue, tds) {\n    return bind(tds, function (td) {\n      var rect = deflate(clone$1(td.getBoundingClientRect()), -1);\n      return [{\n        x: rect.left,\n        y: getYAxisValue(rect),\n        cell: td\n      }, {\n        x: rect.right,\n        y: getYAxisValue(rect),\n        cell: td\n      }];\n    });\n  };\n\n  var findClosestCorner = function findClosestCorner(corners, x, y) {\n    return foldl(corners, function (acc, newCorner) {\n      return acc.fold(function () {\n        return Option.some(newCorner);\n      }, function (oldCorner) {\n        var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n        var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n        return Option.some(newDist < oldDist ? newCorner : oldCorner);\n      });\n    }, Option.none());\n  };\n\n  var getClosestCell = function getClosestCell(getYAxisValue, isTargetCorner, table, x, y) {\n    var cells = descendants$1(Element.fromDom(table), 'td,th,caption').map(function (e) {\n      return e.dom();\n    });\n    var corners = filter(getCorners(getYAxisValue, cells), function (corner) {\n      return isTargetCorner(corner, y);\n    });\n    return findClosestCorner(corners, x, y).map(function (corner) {\n      return corner.cell;\n    });\n  };\n\n  var getBottomValue = function getBottomValue(rect) {\n    return rect.bottom;\n  };\n\n  var getTopValue = function getTopValue(rect) {\n    return rect.top;\n  };\n\n  var isAbove$1 = function isAbove$1(corner, y) {\n    return corner.y < y;\n  };\n\n  var isBelow$1 = function isBelow$1(corner, y) {\n    return corner.y > y;\n  };\n\n  var getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove$1);\n  var getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow$1);\n\n  var findClosestPositionInAboveCell = function findClosestPositionInAboveCell(table, pos) {\n    return head(pos.getClientRects()).bind(function (rect) {\n      return getClosestCellAbove(table, rect.left, rect.top);\n    }).bind(function (cell) {\n      return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n    });\n  };\n\n  var findClosestPositionInBelowCell = function findClosestPositionInBelowCell(table, pos) {\n    return last(pos.getClientRects()).bind(function (rect) {\n      return getClosestCellBelow(table, rect.left, rect.top);\n    }).bind(function (cell) {\n      return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n    });\n  };\n\n  var moveToRange = function moveToRange(editor, rng) {\n    editor.selection.setRng(rng);\n    ScrollIntoView.scrollRangeIntoView(editor, rng);\n  };\n\n  var hasNextBreak = function hasNextBreak(getPositionsUntil, scope, lineInfo) {\n    return lineInfo.breakAt.map(function (breakPos) {\n      return getPositionsUntil(scope, breakPos).breakAt.isSome();\n    }).getOr(false);\n  };\n\n  var startsWithWrapBreak = function startsWithWrapBreak(lineInfo) {\n    return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n  };\n\n  var startsWithBrBreak = function startsWithBrBreak(lineInfo) {\n    return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n  };\n\n  var isAtTableCellLine = function isAtTableCellLine(getPositionsUntil, scope, pos) {\n    var lineInfo = getPositionsUntil(scope, pos);\n\n    if (startsWithWrapBreak(lineInfo) || !NodeType.isBr(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n      return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n    } else {\n      return lineInfo.breakAt.isNone();\n    }\n  };\n\n  var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n  var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n\n  var isCaretAtStartOrEndOfTable = function isCaretAtStartOrEndOfTable(forward, rng, table) {\n    var caretPos = CaretPosition$1.fromRangeStart(rng);\n    return CaretFinder.positionIn(!forward, table).map(function (pos) {\n      return pos.isEqual(caretPos);\n    }).getOr(false);\n  };\n\n  var navigateHorizontally = function navigateHorizontally(editor, forward, table, td) {\n    var rng = editor.selection.getRng();\n    var direction = forward ? 1 : -1;\n\n    if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n      var newRng = showCaret(direction, editor, table, !forward, true);\n      moveToRange(editor, newRng);\n      return true;\n    }\n\n    return false;\n  };\n\n  var getClosestAbovePosition = function getClosestAbovePosition(root, table, start) {\n    return findClosestPositionInAboveCell(table, start).orThunk(function () {\n      return head(start.getClientRects()).bind(function (rect) {\n        return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition$1.before(table)), rect.left);\n      });\n    }).getOr(CaretPosition$1.before(table));\n  };\n\n  var getClosestBelowPosition = function getClosestBelowPosition(root, table, start) {\n    return findClosestPositionInBelowCell(table, start).orThunk(function () {\n      return head(start.getClientRects()).bind(function (rect) {\n        return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition$1.after(table)), rect.left);\n      });\n    }).getOr(CaretPosition$1.after(table));\n  };\n\n  var getTable = function getTable(previous, pos) {\n    var node = pos.getNode(previous);\n    return NodeType.isElement(node) && node.nodeName === 'TABLE' ? Option.some(node) : Option.none();\n  };\n\n  var renderBlock = function renderBlock(down, editor, table, pos) {\n    var forcedRootBlock = Settings.getForcedRootBlock(editor);\n\n    if (forcedRootBlock) {\n      editor.undoManager.transact(function () {\n        var element = Element.fromTag(forcedRootBlock);\n        setAll(element, Settings.getForcedRootBlockAttrs(editor));\n        append(element, Element.fromTag('br'));\n\n        if (down) {\n          after(Element.fromDom(table), element);\n        } else {\n          before(Element.fromDom(table), element);\n        }\n\n        var rng = editor.dom.createRng();\n        rng.setStart(element.dom(), 0);\n        rng.setEnd(element.dom(), 0);\n        moveToRange(editor, rng);\n      });\n    } else {\n      moveToRange(editor, pos.toRange());\n    }\n  };\n\n  var moveCaret = function moveCaret(editor, down, pos) {\n    var table = down ? getTable(true, pos) : getTable(false, pos);\n    var last = down === false;\n    table.fold(function () {\n      return moveToRange(editor, pos.toRange());\n    }, function (table) {\n      return CaretFinder.positionIn(last, editor.getBody()).filter(function (lastPos) {\n        return lastPos.isEqual(pos);\n      }).fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (_) {\n        return renderBlock(down, editor, table, pos);\n      });\n    });\n  };\n\n  var navigateVertically = function navigateVertically(editor, down, table, td) {\n    var rng = editor.selection.getRng();\n    var pos = CaretPosition$1.fromRangeStart(rng);\n    var root = editor.getBody();\n\n    if (!down && isAtFirstTableCellLine(td, pos)) {\n      var newPos = getClosestAbovePosition(root, table, pos);\n      moveCaret(editor, down, newPos);\n      return true;\n    } else if (down && isAtLastTableCellLine(td, pos)) {\n      var newPos = getClosestBelowPosition(root, table, pos);\n      moveCaret(editor, down, newPos);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var moveH$1 = function moveH$1(editor, forward) {\n    return function () {\n      return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return navigateHorizontally(editor, forward, table);\n        });\n      }).getOr(false);\n    };\n  };\n\n  var moveV$1 = function moveV$1(editor, forward) {\n    return function () {\n      return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return navigateVertically(editor, forward, table, td);\n        });\n      }).getOr(false);\n    };\n  };\n\n  var isTarget = function isTarget(node) {\n    return contains(['figcaption'], name(node));\n  };\n\n  var rangeBefore = function rangeBefore(target) {\n    var rng = domGlobals.document.createRange();\n    rng.setStartBefore(target.dom());\n    rng.setEndBefore(target.dom());\n    return rng;\n  };\n\n  var insertElement = function insertElement(root, elm, forward) {\n    if (forward) {\n      append(root, elm);\n    } else {\n      prepend(root, elm);\n    }\n  };\n\n  var insertBr = function insertBr(root, forward) {\n    var br = Element.fromTag('br');\n    insertElement(root, br, forward);\n    return rangeBefore(br);\n  };\n\n  var insertBlock$1 = function insertBlock$1(root, forward, blockName, attrs) {\n    var block = Element.fromTag(blockName);\n    var br = Element.fromTag('br');\n    setAll(block, attrs);\n    append(block, br);\n    insertElement(root, block, forward);\n    return rangeBefore(br);\n  };\n\n  var insertEmptyLine = function insertEmptyLine(root, rootBlockName, attrs, forward) {\n    if (rootBlockName === '') {\n      return insertBr(root, forward);\n    } else {\n      return insertBlock$1(root, forward, rootBlockName, attrs);\n    }\n  };\n\n  var getClosestTargetBlock = function getClosestTargetBlock(pos, root) {\n    var isRoot = curry(eq, root);\n    return closest(Element.fromDom(pos.container()), isBlock, isRoot).filter(isTarget);\n  };\n\n  var isAtFirstOrLastLine = function isAtFirstOrLastLine(root, forward, pos) {\n    return forward ? isAtLastLine(root.dom(), pos) : isAtFirstLine(root.dom(), pos);\n  };\n\n  var moveCaretToNewEmptyLine = function moveCaretToNewEmptyLine(editor, forward) {\n    var root = Element.fromDom(editor.getBody());\n    var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    var rootBlock = Settings.getForcedRootBlock(editor);\n    var rootBlockAttrs = Settings.getForcedRootBlockAttrs(editor);\n    return getClosestTargetBlock(pos, root).exists(function () {\n      if (isAtFirstOrLastLine(root, forward, pos)) {\n        var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\n        editor.selection.setRng(rng);\n        return true;\n      } else {\n        return false;\n      }\n    });\n  };\n\n  var moveV$2 = function moveV$2(editor, forward) {\n    return function () {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n  };\n\n  var defaultPatterns = function defaultPatterns(patterns) {\n    return map(patterns, function (pattern) {\n      return merge({\n        shiftKey: false,\n        altKey: false,\n        ctrlKey: false,\n        metaKey: false,\n        keyCode: 0,\n        action: noop\n      }, pattern);\n    });\n  };\n\n  var matchesEvent = function matchesEvent(pattern, evt) {\n    return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n  };\n\n  var match$1 = function match$1(patterns, evt) {\n    return bind(defaultPatterns(patterns), function (pattern) {\n      return matchesEvent(pattern, evt) ? [pattern] : [];\n    });\n  };\n\n  var action = function action(f) {\n    var x = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      return f.apply(null, args);\n    };\n  };\n\n  var execute = function execute(patterns, evt) {\n    return find(match$1(patterns, evt), function (pattern) {\n      return pattern.action();\n    });\n  };\n\n  var MatchKeys = {\n    match: match$1,\n    action: action,\n    execute: execute\n  };\n\n  var executeKeydownOverride = function executeKeydownOverride(editor, caret, evt) {\n    var os = PlatformDetection$1.detect().os;\n    MatchKeys.execute([{\n      keyCode: VK.RIGHT,\n      action: moveH(editor, true)\n    }, {\n      keyCode: VK.LEFT,\n      action: moveH(editor, false)\n    }, {\n      keyCode: VK.UP,\n      action: moveV(editor, false)\n    }, {\n      keyCode: VK.DOWN,\n      action: moveV(editor, true)\n    }, {\n      keyCode: VK.RIGHT,\n      action: moveH$1(editor, true)\n    }, {\n      keyCode: VK.LEFT,\n      action: moveH$1(editor, false)\n    }, {\n      keyCode: VK.UP,\n      action: moveV$1(editor, false)\n    }, {\n      keyCode: VK.DOWN,\n      action: moveV$1(editor, true)\n    }, {\n      keyCode: VK.RIGHT,\n      action: BoundarySelection.move(editor, caret, true)\n    }, {\n      keyCode: VK.LEFT,\n      action: BoundarySelection.move(editor, caret, false)\n    }, {\n      keyCode: VK.RIGHT,\n      ctrlKey: !os.isOSX(),\n      altKey: os.isOSX(),\n      action: BoundarySelection.moveNextWord(editor, caret)\n    }, {\n      keyCode: VK.LEFT,\n      ctrlKey: !os.isOSX(),\n      altKey: os.isOSX(),\n      action: BoundarySelection.movePrevWord(editor, caret)\n    }, {\n      keyCode: VK.UP,\n      action: moveV$2(editor, false)\n    }, {\n      keyCode: VK.DOWN,\n      action: moveV$2(editor, true)\n    }], evt).each(function (_) {\n      evt.preventDefault();\n    });\n  };\n\n  var setup$8 = function setup$8(editor, caret) {\n    editor.on('keydown', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeydownOverride(editor, caret, evt);\n      }\n    });\n  };\n\n  var ArrowKeys = {\n    setup: setup$8\n  };\n\n  var isBeforeRoot = function isBeforeRoot(rootNode) {\n    return function (elm) {\n      return eq(rootNode, Element.fromDom(elm.dom().parentNode));\n    };\n  };\n\n  var getParentBlock$1 = function getParentBlock$1(rootNode, elm) {\n    return contains$3(rootNode, elm) ? closest(elm, function (element) {\n      return isTextBlock(element) || isListItem(element);\n    }, isBeforeRoot(rootNode)) : Option.none();\n  };\n\n  var placeCaretInEmptyBody = function placeCaretInEmptyBody(editor) {\n    var body = editor.getBody();\n    var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n    editor.selection.setCursorLocation(node, 0);\n  };\n\n  var paddEmptyBody = function paddEmptyBody(editor) {\n    if (editor.dom.isEmpty(editor.getBody())) {\n      editor.setContent('');\n      placeCaretInEmptyBody(editor);\n    }\n  };\n\n  var willDeleteLastPositionInElement = function willDeleteLastPositionInElement(forward, fromPos, elm) {\n    return liftN([CaretFinder.firstPositionIn(elm), CaretFinder.lastPositionIn(elm)], function (firstPos, lastPos) {\n      var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\n      var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\n      var normalizedFromPos = InlineUtils.normalizePosition(false, fromPos);\n\n      if (forward) {\n        return CaretFinder.nextPosition(elm, normalizedFromPos).map(function (nextPos) {\n          return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n        }).getOr(false);\n      } else {\n        return CaretFinder.prevPosition(elm, normalizedFromPos).map(function (prevPos) {\n          return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n        }).getOr(false);\n      }\n    }).getOr(true);\n  };\n\n  var DeleteUtils = {\n    getParentBlock: getParentBlock$1,\n    paddEmptyBody: paddEmptyBody,\n    willDeleteLastPositionInElement: willDeleteLastPositionInElement\n  };\n  var BlockPosition = Immutable('block', 'position');\n  var BlockBoundary = Immutable('from', 'to');\n\n  var getBlockPosition = function getBlockPosition(rootNode, pos) {\n    var rootElm = Element.fromDom(rootNode);\n    var containerElm = Element.fromDom(pos.container());\n    return DeleteUtils.getParentBlock(rootElm, containerElm).map(function (block) {\n      return BlockPosition(block, pos);\n    });\n  };\n\n  var isDifferentBlocks = function isDifferentBlocks(blockBoundary) {\n    return eq(blockBoundary.from().block(), blockBoundary.to().block()) === false;\n  };\n\n  var hasSameParent = function hasSameParent(blockBoundary) {\n    return parent(blockBoundary.from().block()).bind(function (parent1) {\n      return parent(blockBoundary.to().block()).filter(function (parent2) {\n        return eq(parent1, parent2);\n      });\n    }).isSome();\n  };\n\n  var isEditable = function isEditable(blockBoundary) {\n    return NodeType.isContentEditableFalse(blockBoundary.from().block()) === false && NodeType.isContentEditableFalse(blockBoundary.to().block()) === false;\n  };\n\n  var skipLastBr = function skipLastBr(rootNode, forward, blockPosition) {\n    if (NodeType.isBr(blockPosition.position().getNode()) && Empty.isEmpty(blockPosition.block()) === false) {\n      return CaretFinder.positionIn(false, blockPosition.block().dom()).bind(function (lastPositionInBlock) {\n        if (lastPositionInBlock.isEqual(blockPosition.position())) {\n          return CaretFinder.fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n            return getBlockPosition(rootNode, to);\n          });\n        } else {\n          return Option.some(blockPosition);\n        }\n      }).getOr(blockPosition);\n    } else {\n      return blockPosition;\n    }\n  };\n\n  var readFromRange = function readFromRange(rootNode, forward, rng) {\n    var fromBlockPos = getBlockPosition(rootNode, CaretPosition$1.fromRangeStart(rng));\n    var toBlockPos = fromBlockPos.bind(function (blockPos) {\n      return CaretFinder.fromPosition(forward, rootNode, blockPos.position()).bind(function (to) {\n        return getBlockPosition(rootNode, to).map(function (blockPos) {\n          return skipLastBr(rootNode, forward, blockPos);\n        });\n      });\n    });\n    return liftN([fromBlockPos, toBlockPos], BlockBoundary).filter(function (blockBoundary) {\n      return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable(blockBoundary);\n    });\n  };\n\n  var read$3 = function read$3(rootNode, forward, rng) {\n    return rng.collapsed ? readFromRange(rootNode, forward, rng) : Option.none();\n  };\n\n  var BlockMergeBoundary = {\n    read: read$3\n  };\n\n  var getChildrenUntilBlockBoundary = function getChildrenUntilBlockBoundary(block) {\n    var children$1 = children(block);\n    return findIndex(children$1, isBlock).fold(function () {\n      return children$1;\n    }, function (index) {\n      return children$1.slice(0, index);\n    });\n  };\n\n  var extractChildren = function extractChildren(block) {\n    var children = getChildrenUntilBlockBoundary(block);\n    each(children, remove$1);\n    return children;\n  };\n\n  var removeEmptyRoot = function removeEmptyRoot(rootNode, block) {\n    var parents = Parents.parentsAndSelf(block, rootNode);\n    return find(parents.reverse(), Empty.isEmpty).each(remove$1);\n  };\n\n  var isEmptyBefore = function isEmptyBefore(el) {\n    return filter(prevSiblings(el), function (el) {\n      return !Empty.isEmpty(el);\n    }).length === 0;\n  };\n\n  var nestedBlockMerge = function nestedBlockMerge(rootNode, fromBlock, toBlock, insertionPoint) {\n    if (Empty.isEmpty(toBlock)) {\n      PaddingBr.fillWithPaddingBr(toBlock);\n      return CaretFinder.firstPositionIn(toBlock.dom());\n    }\n\n    if (isEmptyBefore(insertionPoint) && Empty.isEmpty(fromBlock)) {\n      before(insertionPoint, Element.fromTag('br'));\n    }\n\n    var position = CaretFinder.prevPosition(toBlock.dom(), CaretPosition$1.before(insertionPoint.dom()));\n    each(extractChildren(fromBlock), function (child) {\n      before(insertionPoint, child);\n    });\n    removeEmptyRoot(rootNode, fromBlock);\n    return position;\n  };\n\n  var sidelongBlockMerge = function sidelongBlockMerge(rootNode, fromBlock, toBlock) {\n    if (Empty.isEmpty(toBlock)) {\n      remove$1(toBlock);\n\n      if (Empty.isEmpty(fromBlock)) {\n        PaddingBr.fillWithPaddingBr(fromBlock);\n      }\n\n      return CaretFinder.firstPositionIn(fromBlock.dom());\n    }\n\n    var position = CaretFinder.lastPositionIn(toBlock.dom());\n    each(extractChildren(fromBlock), function (child) {\n      append(toBlock, child);\n    });\n    removeEmptyRoot(rootNode, fromBlock);\n    return position;\n  };\n\n  var findInsertionPoint = function findInsertionPoint(toBlock, block) {\n    var parentsAndSelf = Parents.parentsAndSelf(block, toBlock);\n    return Option.from(parentsAndSelf[parentsAndSelf.length - 1]);\n  };\n\n  var getInsertionPoint = function getInsertionPoint(fromBlock, toBlock) {\n    return contains$3(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Option.none();\n  };\n\n  var trimBr = function trimBr(first, block) {\n    CaretFinder.positionIn(first, block.dom()).map(function (position) {\n      return position.getNode();\n    }).map(Element.fromDom).filter(isBr$1).each(remove$1);\n  };\n\n  var mergeBlockInto = function mergeBlockInto(rootNode, fromBlock, toBlock) {\n    trimBr(true, fromBlock);\n    trimBr(false, toBlock);\n    return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n  };\n\n  var mergeBlocks = function mergeBlocks(rootNode, forward, block1, block2) {\n    return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n  };\n\n  var MergeBlocks = {\n    mergeBlocks: mergeBlocks\n  };\n\n  var backspaceDelete = function backspaceDelete(editor, forward) {\n    var position;\n    var rootNode = Element.fromDom(editor.getBody());\n    position = BlockMergeBoundary.read(rootNode.dom(), forward, editor.selection.getRng()).bind(function (blockBoundary) {\n      return MergeBlocks.mergeBlocks(rootNode, forward, blockBoundary.from().block(), blockBoundary.to().block());\n    });\n    position.each(function (pos) {\n      editor.selection.setRng(pos.toRange());\n    });\n    return position.isSome();\n  };\n\n  var BlockBoundaryDelete = {\n    backspaceDelete: backspaceDelete\n  };\n\n  var deleteRangeMergeBlocks = function deleteRangeMergeBlocks(rootNode, selection) {\n    var rng = selection.getRng();\n    return liftN([DeleteUtils.getParentBlock(rootNode, Element.fromDom(rng.startContainer)), DeleteUtils.getParentBlock(rootNode, Element.fromDom(rng.endContainer))], function (block1, block2) {\n      if (eq(block1, block2) === false) {\n        rng.deleteContents();\n        MergeBlocks.mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n          selection.setRng(pos.toRange());\n        });\n        return true;\n      } else {\n        return false;\n      }\n    }).getOr(false);\n  };\n\n  var isRawNodeInTable = function isRawNodeInTable(root, rawNode) {\n    var node = Element.fromDom(rawNode);\n    var isRoot = curry(eq, root);\n    return ancestor(node, isTableCell, isRoot).isSome();\n  };\n\n  var isSelectionInTable = function isSelectionInTable(root, rng) {\n    return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n  };\n\n  var isEverythingSelected = function isEverythingSelected(root, rng) {\n    var noPrevious = CaretFinder.prevPosition(root.dom(), CaretPosition$1.fromRangeStart(rng)).isNone();\n    var noNext = CaretFinder.nextPosition(root.dom(), CaretPosition$1.fromRangeEnd(rng)).isNone();\n    return !isSelectionInTable(root, rng) && noPrevious && noNext;\n  };\n\n  var emptyEditor = function emptyEditor(editor) {\n    editor.setContent('');\n    editor.selection.setCursorLocation();\n    return true;\n  };\n\n  var deleteRange = function deleteRange(editor) {\n    var rootNode = Element.fromDom(editor.getBody());\n    var rng = editor.selection.getRng();\n    return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n  };\n\n  var backspaceDelete$1 = function backspaceDelete$1(editor, forward) {\n    return editor.selection.isCollapsed() ? false : deleteRange(editor);\n  };\n\n  var BlockRangeDelete = {\n    backspaceDelete: backspaceDelete$1\n  };\n\n  var isBr$5 = function isBr$5(pos) {\n    return getElementFromPosition(pos).exists(isBr$1);\n  };\n\n  var findBr = function findBr(forward, root, pos) {\n    var parentBlocks = filter(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n    var scope = head(parentBlocks).getOr(root);\n    return CaretFinder.fromPosition(forward, scope.dom(), pos).filter(isBr$5);\n  };\n\n  var isBeforeBr = function isBeforeBr(root, pos) {\n    return getElementFromPosition(pos).exists(isBr$1) || findBr(true, root, pos).isSome();\n  };\n\n  var isAfterBr = function isAfterBr(root, pos) {\n    return getElementFromPrevPosition(pos).exists(isBr$1) || findBr(false, root, pos).isSome();\n  };\n\n  var findPreviousBr = curry(findBr, false);\n  var findNextBr = curry(findBr, true);\n\n  var isCompoundElement = function isCompoundElement(node) {\n    return isTableCell(Element.fromDom(node)) || isListItem(Element.fromDom(node));\n  };\n\n  var DeleteAction = Adt.generate([{\n    remove: ['element']\n  }, {\n    moveToElement: ['element']\n  }, {\n    moveToPosition: ['position']\n  }]);\n\n  var isAtContentEditableBlockCaret = function isAtContentEditableBlockCaret(forward, from) {\n    var elm = from.getNode(forward === false);\n    var caretLocation = forward ? 'after' : 'before';\n    return NodeType.isElement(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n  };\n\n  var isDeleteFromCefDifferentBlocks = function isDeleteFromCefDifferentBlocks(root, forward, from, to) {\n    var inSameBlock = function inSameBlock(elm) {\n      return isInline(Element.fromDom(elm)) && !isInSameBlock(from, to, root);\n    };\n\n    return getRelativeCefElm(!forward, from).fold(function () {\n      return getRelativeCefElm(forward, to).fold(constant(false), inSameBlock);\n    }, inSameBlock);\n  };\n\n  var deleteEmptyBlockOrMoveToCef = function deleteEmptyBlockOrMoveToCef(root, forward, from, to) {\n    var toCefElm = to.getNode(forward === false);\n    return DeleteUtils.getParentBlock(Element.fromDom(root), Element.fromDom(from.getNode())).map(function (blockElm) {\n      return Empty.isEmpty(blockElm) ? DeleteAction.remove(blockElm.dom()) : DeleteAction.moveToElement(toCefElm);\n    }).orThunk(function () {\n      return Option.some(DeleteAction.moveToElement(toCefElm));\n    });\n  };\n\n  var findCefPosition = function findCefPosition(root, forward, from) {\n    return CaretFinder.fromPosition(forward, root, from).bind(function (to) {\n      if (isCompoundElement(to.getNode())) {\n        return Option.none();\n      } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n        return Option.none();\n      } else if (forward && NodeType.isContentEditableFalse(to.getNode())) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward === false && NodeType.isContentEditableFalse(to.getNode(true))) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward && isAfterContentEditableFalse(from)) {\n        return Option.some(DeleteAction.moveToPosition(to));\n      } else if (forward === false && isBeforeContentEditableFalse(from)) {\n        return Option.some(DeleteAction.moveToPosition(to));\n      } else {\n        return Option.none();\n      }\n    });\n  };\n\n  var getContentEditableBlockAction = function getContentEditableBlockAction(forward, elm) {\n    if (forward && NodeType.isContentEditableFalse(elm.nextSibling)) {\n      return Option.some(DeleteAction.moveToElement(elm.nextSibling));\n    } else if (forward === false && NodeType.isContentEditableFalse(elm.previousSibling)) {\n      return Option.some(DeleteAction.moveToElement(elm.previousSibling));\n    } else {\n      return Option.none();\n    }\n  };\n\n  var skipMoveToActionFromInlineCefToContent = function skipMoveToActionFromInlineCefToContent(root, from, deleteAction) {\n    return deleteAction.fold(function (elm) {\n      return Option.some(DeleteAction.remove(elm));\n    }, function (elm) {\n      return Option.some(DeleteAction.moveToElement(elm));\n    }, function (to) {\n      if (isInSameBlock(from, to, root)) {\n        return Option.none();\n      } else {\n        return Option.some(DeleteAction.moveToPosition(to));\n      }\n    });\n  };\n\n  var getContentEditableAction = function getContentEditableAction(root, forward, from) {\n    if (isAtContentEditableBlockCaret(forward, from)) {\n      return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n        return findCefPosition(root, forward, from);\n      }, Option.some);\n    } else {\n      return findCefPosition(root, forward, from).bind(function (deleteAction) {\n        return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n      });\n    }\n  };\n\n  var read$4 = function read$4(root, forward, rng) {\n    var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n    var from = CaretPosition$1.fromRangeStart(normalizedRange);\n    var rootElement = Element.fromDom(root);\n\n    if (forward === false && isAfterContentEditableFalse(from)) {\n      return Option.some(DeleteAction.remove(from.getNode(true)));\n    } else if (forward && isBeforeContentEditableFalse(from)) {\n      return Option.some(DeleteAction.remove(from.getNode()));\n    } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n      return findPreviousBr(rootElement, from).map(function (br) {\n        return DeleteAction.remove(br.getNode());\n      });\n    } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr(rootElement, from)) {\n      return findNextBr(rootElement, from).map(function (br) {\n        return DeleteAction.remove(br.getNode());\n      });\n    } else {\n      return getContentEditableAction(root, forward, from);\n    }\n  };\n\n  var deleteElement$1 = function deleteElement$1(editor, forward) {\n    return function (element) {\n      editor._selectionOverrides.hideFakeCaret();\n\n      DeleteElement.deleteElement(editor, forward, Element.fromDom(element));\n      return true;\n    };\n  };\n\n  var moveToElement = function moveToElement(editor, forward) {\n    return function (element) {\n      var pos = forward ? CaretPosition$1.before(element) : CaretPosition$1.after(element);\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n  };\n\n  var moveToPosition = function moveToPosition(editor) {\n    return function (pos) {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n  };\n\n  var getAncestorCe = function getAncestorCe(editor, node) {\n    return Option.from(getContentEditableRoot$2(editor.getBody(), node));\n  };\n\n  var backspaceDeleteCaret = function backspaceDeleteCaret(editor, forward) {\n    var selectedNode = editor.selection.getNode();\n    return getAncestorCe(editor, selectedNode).filter(NodeType.isContentEditableFalse).fold(function () {\n      var result = read$4(editor.getBody(), forward, editor.selection.getRng()).map(function (deleteAction) {\n        return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n      });\n      return result.getOr(false);\n    }, function () {\n      return true;\n    });\n  };\n\n  var deleteOffscreenSelection = function deleteOffscreenSelection(rootElement) {\n    each(descendants$1(rootElement, '.mce-offscreen-selection'), remove$1);\n  };\n\n  var backspaceDeleteRange = function backspaceDeleteRange(editor, forward) {\n    var selectedNode = editor.selection.getNode();\n\n    if (NodeType.isContentEditableFalse(selectedNode)) {\n      var hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(NodeType.isContentEditableFalse);\n      return hasCefAncestor.fold(function () {\n        deleteOffscreenSelection(Element.fromDom(editor.getBody()));\n        DeleteElement.deleteElement(editor, forward, Element.fromDom(editor.selection.getNode()));\n        DeleteUtils.paddEmptyBody(editor);\n        return true;\n      }, function () {\n        return true;\n      });\n    }\n\n    return false;\n  };\n\n  var getContentEditableRoot$2 = function getContentEditableRoot$2(root, node) {\n    while (node && node !== root) {\n      if (NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return null;\n  };\n\n  var paddEmptyElement = function paddEmptyElement(editor) {\n    var br;\n    var ceRoot = getContentEditableRoot$2(editor.getBody(), editor.selection.getNode());\n\n    if (NodeType.isContentEditableTrue(ceRoot) && editor.dom.isBlock(ceRoot) && editor.dom.isEmpty(ceRoot)) {\n      br = editor.dom.create('br', {\n        'data-mce-bogus': '1'\n      });\n      editor.dom.setHTML(ceRoot, '');\n      ceRoot.appendChild(br);\n      editor.selection.setRng(CaretPosition$1.before(br).toRange());\n    }\n\n    return true;\n  };\n\n  var backspaceDelete$2 = function backspaceDelete$2(editor, forward) {\n    if (editor.selection.isCollapsed()) {\n      return backspaceDeleteCaret(editor, forward);\n    } else {\n      return backspaceDeleteRange(editor, forward);\n    }\n  };\n\n  var CefDelete = {\n    backspaceDelete: backspaceDelete$2,\n    paddEmptyElement: paddEmptyElement\n  };\n\n  var trimEmptyTextNode$1 = function trimEmptyTextNode$1(dom, node) {\n    if (NodeType.isText(node) && node.data.length === 0) {\n      dom.remove(node);\n    }\n  };\n\n  var deleteContentAndShowCaret = function deleteContentAndShowCaret(editor, range, node, direction, forward, peekCaretPosition) {\n    var caretRange = showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true);\n\n    if (range.collapsed) {\n      var deleteRange = range.cloneRange();\n\n      if (forward) {\n        deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n      } else {\n        deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n      }\n\n      deleteRange.deleteContents();\n    } else {\n      range.deleteContents();\n    }\n\n    editor.selection.setRng(caretRange);\n    trimEmptyTextNode$1(editor.dom, node);\n    return true;\n  };\n\n  var deleteCefBoundaryText = function deleteCefBoundaryText(editor, forward) {\n    var range = editor.selection.getRng();\n\n    if (!NodeType.isText(range.commonAncestorContainer)) {\n      return false;\n    }\n\n    var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n    var caretWalker = CaretWalker(editor.getBody());\n    var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n    var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n    var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\n    var isBeforeContentEditableFalseFn = forward ? isBeforeContentEditableFalse : isAfterContentEditableFalse;\n    var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n    var nextCaretPosition = InlineUtils.normalizePosition(forward, getNextPosFn(caretPosition));\n\n    if (!nextCaretPosition) {\n      return false;\n    } else if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\n      return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\n    }\n\n    var peekCaretPosition = getNextPosFn(nextCaretPosition);\n\n    if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\n      if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\n      }\n    }\n\n    return false;\n  };\n\n  var backspaceDelete$3 = function backspaceDelete$3(editor, forward) {\n    return deleteCefBoundaryText(editor, forward);\n  };\n\n  var CefBoundaryDelete = {\n    backspaceDelete: backspaceDelete$3\n  };\n\n  var isFeatureEnabled$1 = function isFeatureEnabled$1(editor) {\n    return editor.settings.inline_boundaries !== false;\n  };\n\n  var rangeFromPositions = function rangeFromPositions(from, to) {\n    var range = domGlobals.document.createRange();\n    range.setStart(from.container(), from.offset());\n    range.setEnd(to.container(), to.offset());\n    return range;\n  };\n\n  var hasOnlyTwoOrLessPositionsLeft = function hasOnlyTwoOrLessPositionsLeft(elm) {\n    return liftN([CaretFinder.firstPositionIn(elm), CaretFinder.lastPositionIn(elm)], function (firstPos, lastPos) {\n      var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\n      var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\n      return CaretFinder.nextPosition(elm, normalizedFirstPos).map(function (pos) {\n        return pos.isEqual(normalizedLastPos);\n      }).getOr(true);\n    }).getOr(true);\n  };\n\n  var setCaretLocation = function setCaretLocation(editor, caret) {\n    return function (location) {\n      return BoundaryCaret.renderCaret(caret, location).map(function (pos) {\n        BoundarySelection.setCaretPosition(editor, pos);\n        return true;\n      }).getOr(false);\n    };\n  };\n\n  var deleteFromTo = function deleteFromTo(editor, caret, from, to) {\n    var rootNode = editor.getBody();\n    var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n    editor.undoManager.ignore(function () {\n      editor.selection.setRng(rangeFromPositions(from, to));\n      editor.execCommand('Delete');\n      BoundaryLocation.readLocation(isInlineTarget, rootNode, CaretPosition$1.fromRangeStart(editor.selection.getRng())).map(BoundaryLocation.inside).map(setCaretLocation(editor, caret));\n    });\n    editor.nodeChanged();\n  };\n\n  var rescope$1 = function rescope$1(rootNode, node) {\n    var parentBlock = getParentBlock(node, rootNode);\n    return parentBlock ? parentBlock : rootNode;\n  };\n\n  var backspaceDeleteCollapsed = function backspaceDeleteCollapsed(editor, caret, forward, from) {\n    var rootNode = rescope$1(editor.getBody(), from.container());\n    var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n    var fromLocation = BoundaryLocation.readLocation(isInlineTarget, rootNode, from);\n    return fromLocation.bind(function (location) {\n      if (forward) {\n        return location.fold(constant(Option.some(BoundaryLocation.inside(location))), Option.none, constant(Option.some(BoundaryLocation.outside(location))), Option.none);\n      } else {\n        return location.fold(Option.none, constant(Option.some(BoundaryLocation.outside(location))), Option.none, constant(Option.some(BoundaryLocation.inside(location))));\n      }\n    }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n      var toPosition = CaretFinder.navigate(forward, rootNode, from);\n      var toLocation = toPosition.bind(function (pos) {\n        return BoundaryLocation.readLocation(isInlineTarget, rootNode, pos);\n      });\n\n      if (fromLocation.isSome() && toLocation.isSome()) {\n        return InlineUtils.findRootInline(isInlineTarget, rootNode, from).map(function (elm) {\n          if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n            DeleteElement.deleteElement(editor, forward, Element.fromDom(elm));\n            return true;\n          } else {\n            return false;\n          }\n        }).getOr(false);\n      } else {\n        return toLocation.bind(function (_) {\n          return toPosition.map(function (to) {\n            if (forward) {\n              deleteFromTo(editor, caret, from, to);\n            } else {\n              deleteFromTo(editor, caret, to, from);\n            }\n\n            return true;\n          });\n        }).getOr(false);\n      }\n    });\n  };\n\n  var backspaceDelete$4 = function backspaceDelete$4(editor, caret, forward) {\n    if (editor.selection.isCollapsed() && isFeatureEnabled$1(editor)) {\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return backspaceDeleteCollapsed(editor, caret, forward, from);\n    }\n\n    return false;\n  };\n\n  var BoundaryDelete = {\n    backspaceDelete: backspaceDelete$4\n  };\n\n  var getParentInlines = function getParentInlines(rootElm, startElm) {\n    var parents = Parents.parentsAndSelf(startElm, rootElm);\n    return findIndex(parents, isBlock).fold(constant(parents), function (index) {\n      return parents.slice(0, index);\n    });\n  };\n\n  var hasOnlyOneChild = function hasOnlyOneChild(elm) {\n    return children(elm).length === 1;\n  };\n\n  var deleteLastPosition = function deleteLastPosition(forward, editor, target, parentInlines) {\n    var isFormatElement$1 = curry(isFormatElement, editor);\n    var formatNodes = map(filter(parentInlines, isFormatElement$1), function (elm) {\n      return elm.dom();\n    });\n\n    if (formatNodes.length === 0) {\n      DeleteElement.deleteElement(editor, forward, target);\n    } else {\n      var pos = replaceWithCaretFormat(target.dom(), formatNodes);\n      editor.selection.setRng(pos.toRange());\n    }\n  };\n\n  var deleteCaret = function deleteCaret(editor, forward) {\n    var rootElm = Element.fromDom(editor.getBody());\n    var startElm = Element.fromDom(editor.selection.getStart());\n    var parentInlines = filter(getParentInlines(rootElm, startElm), hasOnlyOneChild);\n    return last(parentInlines).map(function (target) {\n      var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n\n      if (DeleteUtils.willDeleteLastPositionInElement(forward, fromPos, target.dom()) && !isEmptyCaretFormatElement(target)) {\n        deleteLastPosition(forward, editor, target, parentInlines);\n        return true;\n      } else {\n        return false;\n      }\n    }).getOr(false);\n  };\n\n  var backspaceDelete$5 = function backspaceDelete$5(editor, forward) {\n    return editor.selection.isCollapsed() ? deleteCaret(editor, forward) : false;\n  };\n\n  var InlineFormatDelete = {\n    backspaceDelete: backspaceDelete$5\n  };\n  var tableCellRng = Immutable('start', 'end');\n  var tableSelection = Immutable('rng', 'table', 'cells');\n  var deleteAction = Adt.generate([{\n    removeTable: ['element']\n  }, {\n    emptyCells: ['cells']\n  }]);\n\n  var isRootFromElement = function isRootFromElement(root) {\n    return curry(eq, root);\n  };\n\n  var getClosestCell$1 = function getClosestCell$1(container, isRoot) {\n    return closest$1(Element.fromDom(container), 'td,th', isRoot);\n  };\n\n  var getClosestTable = function getClosestTable(cell, isRoot) {\n    return ancestor$1(cell, 'table', isRoot);\n  };\n\n  var isExpandedCellRng = function isExpandedCellRng(cellRng) {\n    return eq(cellRng.start(), cellRng.end()) === false;\n  };\n\n  var getTableFromCellRng = function getTableFromCellRng(cellRng, isRoot) {\n    return getClosestTable(cellRng.start(), isRoot).bind(function (startParentTable) {\n      return getClosestTable(cellRng.end(), isRoot).bind(function (endParentTable) {\n        return eq(startParentTable, endParentTable) ? Option.some(startParentTable) : Option.none();\n      });\n    });\n  };\n\n  var getTableCells = function getTableCells(table) {\n    return descendants$1(table, 'td,th');\n  };\n\n  var getCellRangeFromStartTable = function getCellRangeFromStartTable(cellRng, isRoot) {\n    return getClosestTable(cellRng.start(), isRoot).bind(function (table) {\n      return last(getTableCells(table)).map(function (endCell) {\n        return tableCellRng(cellRng.start(), endCell);\n      });\n    });\n  };\n\n  var partialSelection = function partialSelection(isRoot, rng) {\n    var startCell = getClosestCell$1(rng.startContainer, isRoot);\n    var endCell = getClosestCell$1(rng.endContainer, isRoot);\n    return rng.collapsed ? Option.none() : liftN([startCell, endCell], tableCellRng).fold(function () {\n      return startCell.fold(function () {\n        return endCell.bind(function (endCell) {\n          return getClosestTable(endCell, isRoot).bind(function (table) {\n            return head(getTableCells(table)).map(function (startCell) {\n              return tableCellRng(startCell, endCell);\n            });\n          });\n        });\n      }, function (startCell) {\n        return getClosestTable(startCell, isRoot).bind(function (table) {\n          return last(getTableCells(table)).map(function (endCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      });\n    }, function (cellRng) {\n      return isWithinSameTable(isRoot, cellRng) ? Option.none() : getCellRangeFromStartTable(cellRng, isRoot);\n    });\n  };\n\n  var isWithinSameTable = function isWithinSameTable(isRoot, cellRng) {\n    return getTableFromCellRng(cellRng, isRoot).isSome();\n  };\n\n  var getCellRng = function getCellRng(rng, isRoot) {\n    var startCell = getClosestCell$1(rng.startContainer, isRoot);\n    var endCell = getClosestCell$1(rng.endContainer, isRoot);\n    return liftN([startCell, endCell], tableCellRng).filter(isExpandedCellRng).filter(function (cellRng) {\n      return isWithinSameTable(isRoot, cellRng);\n    }).orThunk(function () {\n      return partialSelection(isRoot, rng);\n    });\n  };\n\n  var getTableSelectionFromCellRng = function getTableSelectionFromCellRng(cellRng, isRoot) {\n    return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n      return tableSelection(cellRng, table, getTableCells(table));\n    });\n  };\n\n  var getTableSelectionFromRng = function getTableSelectionFromRng(root, rng) {\n    var isRoot = isRootFromElement(root);\n    return getCellRng(rng, isRoot).bind(function (cellRng) {\n      return getTableSelectionFromCellRng(cellRng, isRoot);\n    });\n  };\n\n  var getCellIndex = function getCellIndex(cells, cell) {\n    return findIndex(cells, function (x) {\n      return eq(x, cell);\n    });\n  };\n\n  var getSelectedCells = function getSelectedCells(tableSelection) {\n    return liftN([getCellIndex(tableSelection.cells(), tableSelection.rng().start()), getCellIndex(tableSelection.cells(), tableSelection.rng().end())], function (startIndex, endIndex) {\n      return tableSelection.cells().slice(startIndex, endIndex + 1);\n    });\n  };\n\n  var getAction = function getAction(tableSelection) {\n    return getSelectedCells(tableSelection).map(function (selected) {\n      var cells = tableSelection.cells();\n      return selected.length === cells.length ? deleteAction.removeTable(tableSelection.table()) : deleteAction.emptyCells(selected);\n    });\n  };\n\n  var getActionFromCells = function getActionFromCells(cells) {\n    return deleteAction.emptyCells(cells);\n  };\n\n  var getActionFromRange = function getActionFromRange(root, rng) {\n    return getTableSelectionFromRng(root, rng).bind(getAction);\n  };\n\n  var TableDeleteAction = {\n    getActionFromRange: getActionFromRange,\n    getActionFromCells: getActionFromCells\n  };\n\n  var emptyCells = function emptyCells(editor, cells) {\n    each(cells, PaddingBr.fillWithPaddingBr);\n    editor.selection.setCursorLocation(cells[0].dom(), 0);\n    return true;\n  };\n\n  var deleteTableElement = function deleteTableElement(editor, table) {\n    DeleteElement.deleteElement(editor, false, table);\n    return true;\n  };\n\n  var deleteCellRange = function deleteCellRange(editor, rootElm, rng) {\n    return TableDeleteAction.getActionFromRange(rootElm, rng).map(function (action) {\n      return action.fold(curry(deleteTableElement, editor), curry(emptyCells, editor));\n    });\n  };\n\n  var deleteCaptionRange = function deleteCaptionRange(editor, caption) {\n    return emptyElement(editor, caption);\n  };\n\n  var deleteTableRange = function deleteTableRange(editor, rootElm, rng, startElm) {\n    return getParentCaption(rootElm, startElm).fold(function () {\n      return deleteCellRange(editor, rootElm, rng);\n    }, function (caption) {\n      return deleteCaptionRange(editor, caption);\n    }).getOr(false);\n  };\n\n  var deleteRange$1 = function deleteRange$1(editor, startElm) {\n    var rootNode = Element.fromDom(editor.getBody());\n    var rng = editor.selection.getRng();\n    var selectedCells = TableCellSelection.getCellsFromEditor(editor);\n    return selectedCells.length !== 0 ? emptyCells(editor, selectedCells) : deleteTableRange(editor, rootNode, rng, startElm);\n  };\n\n  var getParentCell = function getParentCell(rootElm, elm) {\n    return find(Parents.parentsAndSelf(elm, rootElm), isTableCell);\n  };\n\n  var getParentCaption = function getParentCaption(rootElm, elm) {\n    return find(Parents.parentsAndSelf(elm, rootElm), function (elm) {\n      return name(elm) === 'caption';\n    });\n  };\n\n  var deleteBetweenCells = function deleteBetweenCells(editor, rootElm, forward, fromCell, from) {\n    return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\n      return getParentCell(rootElm, Element.fromDom(to.getNode())).map(function (toCell) {\n        return eq(toCell, fromCell) === false;\n      });\n    });\n  };\n\n  var emptyElement = function emptyElement(editor, elm) {\n    PaddingBr.fillWithPaddingBr(elm);\n    editor.selection.setCursorLocation(elm.dom(), 0);\n    return Option.some(true);\n  };\n\n  var isDeleteOfLastCharPos = function isDeleteOfLastCharPos(fromCaption, forward, from, to) {\n    return CaretFinder.firstPositionIn(fromCaption.dom()).bind(function (first) {\n      return CaretFinder.lastPositionIn(fromCaption.dom()).map(function (last) {\n        return forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first);\n      });\n    }).getOr(true);\n  };\n\n  var emptyCaretCaption = function emptyCaretCaption(editor, elm) {\n    return emptyElement(editor, elm);\n  };\n\n  var validateCaretCaption = function validateCaretCaption(rootElm, fromCaption, to) {\n    return getParentCaption(rootElm, Element.fromDom(to.getNode())).map(function (toCaption) {\n      return eq(toCaption, fromCaption) === false;\n    });\n  };\n\n  var deleteCaretInsideCaption = function deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from) {\n    return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\n      return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n    }).or(Option.some(true));\n  };\n\n  var deleteCaretCells = function deleteCaretCells(editor, forward, rootElm, startElm) {\n    var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return getParentCell(rootElm, startElm).bind(function (fromCell) {\n      return Empty.isEmpty(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n    }).getOr(false);\n  };\n\n  var deleteCaretCaption = function deleteCaretCaption(editor, forward, rootElm, fromCaption) {\n    var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return Empty.isEmpty(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n  };\n\n  var isNearTable = function isNearTable(forward, pos) {\n    return forward ? isBeforeTable(pos) : isAfterTable(pos);\n  };\n\n  var isBeforeOrAfterTable = function isBeforeOrAfterTable(editor, forward) {\n    var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return isNearTable(forward, fromPos) || CaretFinder.fromPosition(forward, editor.getBody(), fromPos).map(function (pos) {\n      return isNearTable(forward, pos);\n    }).getOr(false);\n  };\n\n  var deleteCaret$1 = function deleteCaret$1(editor, forward, startElm) {\n    var rootElm = Element.fromDom(editor.getBody());\n    return getParentCaption(rootElm, startElm).fold(function () {\n      return deleteCaretCells(editor, forward, rootElm, startElm) || isBeforeOrAfterTable(editor, forward);\n    }, function (fromCaption) {\n      return deleteCaretCaption(editor, forward, rootElm, fromCaption).getOr(false);\n    });\n  };\n\n  var backspaceDelete$6 = function backspaceDelete$6(editor, forward) {\n    var startElm = Element.fromDom(editor.selection.getStart(true));\n    var cells = TableCellSelection.getCellsFromEditor(editor);\n    return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$1(editor, forward, startElm) : deleteRange$1(editor, startElm);\n  };\n\n  var TableDelete = {\n    backspaceDelete: backspaceDelete$6\n  };\n\n  var deleteCaret$2 = function deleteCaret$2(editor, forward) {\n    var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return CaretFinder.fromPosition(forward, editor.getBody(), fromPos).filter(function (pos) {\n      return forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos);\n    }).bind(function (pos) {\n      return Option.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, pos));\n    }).map(function (elm) {\n      editor.selection.select(elm);\n      return true;\n    }).getOr(false);\n  };\n\n  var backspaceDelete$7 = function backspaceDelete$7(editor, forward) {\n    return editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : false;\n  };\n\n  var PageBreakDelete = {\n    backspaceDelete: backspaceDelete$7\n  };\n\n  var isEditable$1 = function isEditable$1(target) {\n    return closest(target, function (elm) {\n      return NodeType.isContentEditableTrue(elm.dom()) || NodeType.isContentEditableFalse(elm.dom());\n    }).exists(function (elm) {\n      return NodeType.isContentEditableTrue(elm.dom());\n    });\n  };\n\n  var parseIndentValue = function parseIndentValue(value) {\n    var number = parseInt(value, 10);\n    return isNaN(number) ? 0 : number;\n  };\n\n  var getIndentStyleName = function getIndentStyleName(useMargin, element) {\n    var indentStyleName = useMargin || isTable$1(element) ? 'margin' : 'padding';\n    var suffix = get$2(element, 'direction') === 'rtl' ? '-right' : '-left';\n    return indentStyleName + suffix;\n  };\n\n  var indentElement = function indentElement(dom, command, useMargin, value, unit, element) {\n    var indentStyleName = getIndentStyleName(useMargin, Element.fromDom(element));\n\n    if (command === 'outdent') {\n      var styleValue = Math.max(0, parseIndentValue(element.style[indentStyleName]) - value);\n      dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n    } else {\n      var styleValue = parseIndentValue(element.style[indentStyleName]) + value + unit;\n      dom.setStyle(element, indentStyleName, styleValue);\n    }\n  };\n\n  var validateBlocks = function validateBlocks(editor, blocks) {\n    return forall(blocks, function (block) {\n      var indentStyleName = getIndentStyleName(Settings.shouldIndentUseMargin(editor), block);\n      var intentValue = getRaw(block, indentStyleName).map(parseIndentValue).getOr(0);\n      var contentEditable = editor.dom.getContentEditable(block.dom());\n      return contentEditable !== 'false' && intentValue > 0;\n    });\n  };\n\n  var canOutdent = function canOutdent(editor) {\n    var blocks = getBlocksToIndent(editor);\n    return editor.readonly !== true && (blocks.length > 1 || validateBlocks(editor, blocks));\n  };\n\n  var isListComponent = function isListComponent(el) {\n    return isList(el) || isListItem(el);\n  };\n\n  var parentIsListComponent = function parentIsListComponent(el) {\n    return parent(el).map(isListComponent).getOr(false);\n  };\n\n  var getBlocksToIndent = function getBlocksToIndent(editor) {\n    return filter(map(editor.selection.getSelectedBlocks(), Element.fromDom), function (el) {\n      return !isListComponent(el) && !parentIsListComponent(el) && isEditable$1(el);\n    });\n  };\n\n  var handle = function handle(editor, command) {\n    var dom = editor.dom,\n        selection = editor.selection,\n        formatter = editor.formatter;\n    var indentation = Settings.getIndentation(editor);\n    var indentUnit = /[a-z%]+$/i.exec(indentation)[0];\n    var indentValue = parseInt(indentation, 10);\n    var useMargin = Settings.shouldIndentUseMargin(editor);\n    var forcedRootBlock = Settings.getForcedRootBlock(editor);\n\n    if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n      if (forcedRootBlock === '' && !dom.getParent(selection.getNode(), dom.isBlock)) {\n        formatter.apply('div');\n      }\n    }\n\n    each(getBlocksToIndent(editor), function (block) {\n      indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom());\n    });\n  };\n\n  var navigateIgnoreEmptyTextNodes = function navigateIgnoreEmptyTextNodes(forward, root, from) {\n    return CaretFinder.navigateIgnore(forward, root, from, isEmptyText);\n  };\n\n  var getClosestBlock = function getClosestBlock(root, pos) {\n    return find(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n  };\n\n  var isAtBeforeAfterBlockBoundary = function isAtBeforeAfterBlockBoundary(forward, root, pos) {\n    return navigateIgnoreEmptyTextNodes(forward, root.dom(), pos).forall(function (newPos) {\n      return getClosestBlock(root, pos).fold(function () {\n        return isInSameBlock(newPos, pos, root.dom()) === false;\n      }, function (fromBlock) {\n        return isInSameBlock(newPos, pos, root.dom()) === false && contains$3(fromBlock, Element.fromDom(newPos.container()));\n      });\n    });\n  };\n\n  var isAtBlockBoundary = function isAtBlockBoundary(forward, root, pos) {\n    return getClosestBlock(root, pos).fold(function () {\n      return navigateIgnoreEmptyTextNodes(forward, root.dom(), pos).forall(function (newPos) {\n        return isInSameBlock(newPos, pos, root.dom()) === false;\n      });\n    }, function (parent) {\n      return navigateIgnoreEmptyTextNodes(forward, parent.dom(), pos).isNone();\n    });\n  };\n\n  var isAtStartOfBlock = curry(isAtBlockBoundary, false);\n  var isAtEndOfBlock = curry(isAtBlockBoundary, true);\n  var isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n  var isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n  var backspaceDelete$8 = function backspaceDelete$8(editor, _caret, _forward) {\n    if (editor.selection.isCollapsed() && canOutdent(editor)) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      var pos = CaretPosition$1.fromRangeStart(rng);\n      var block = Element.fromDom(dom.getParent(rng.startContainer, dom.isBlock));\n\n      if (isAtStartOfBlock(block, pos)) {\n        handle(editor, 'outdent');\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var Outdent = {\n    backspaceDelete: backspaceDelete$8\n  };\n\n  var executeKeydownOverride$1 = function executeKeydownOverride$1(editor, caret, evt) {\n    MatchKeys.execute([{\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(Outdent.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(CefDelete.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(CefDelete.backspaceDelete, editor, true)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, true)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(BoundaryDelete.backspaceDelete, editor, caret, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(BoundaryDelete.backspaceDelete, editor, caret, true)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(TableDelete.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(TableDelete.backspaceDelete, editor, true)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(PageBreakDelete.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(PageBreakDelete.backspaceDelete, editor, true)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, true)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, true)\n    }, {\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, false)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, true)\n    }], evt).each(function (_) {\n      evt.preventDefault();\n    });\n  };\n\n  var executeKeyupOverride = function executeKeyupOverride(editor, evt) {\n    MatchKeys.execute([{\n      keyCode: VK.BACKSPACE,\n      action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\n    }, {\n      keyCode: VK.DELETE,\n      action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\n    }], evt);\n  };\n\n  var setup$9 = function setup$9(editor, caret) {\n    editor.on('keydown', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeydownOverride$1(editor, caret, evt);\n      }\n    });\n    editor.on('keyup', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeyupOverride(editor, evt);\n      }\n    });\n  };\n\n  var DeleteBackspaceKeys = {\n    setup: setup$9\n  };\n\n  var firstNonWhiteSpaceNodeSibling = function firstNonWhiteSpaceNodeSibling(node) {\n    while (node) {\n      if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n        return node;\n      }\n\n      node = node.nextSibling;\n    }\n  };\n\n  var moveToCaretPosition = function moveToCaretPosition(editor, root) {\n    var node,\n        rng,\n        lastNode = root;\n    var dom = editor.dom;\n    var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n\n    if (!root) {\n      return;\n    }\n\n    if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n      var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n\n      if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n        root.insertBefore(dom.doc.createTextNode('\\xA0'), root.firstChild);\n      }\n    }\n\n    rng = dom.createRng();\n    root.normalize();\n\n    if (root.hasChildNodes()) {\n      var walker = new TreeWalker(root, root);\n\n      while (node = walker.current()) {\n        if (NodeType.isText(node)) {\n          rng.setStart(node, 0);\n          rng.setEnd(node, 0);\n          break;\n        }\n\n        if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n          rng.setStartBefore(node);\n          rng.setEndBefore(node);\n          break;\n        }\n\n        lastNode = node;\n        node = walker.next();\n      }\n\n      if (!node) {\n        rng.setStart(lastNode, 0);\n        rng.setEnd(lastNode, 0);\n      }\n    } else {\n      if (NodeType.isBr(root)) {\n        if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n          rng.setStartBefore(root);\n          rng.setEndBefore(root);\n        } else {\n          rng.setStartAfter(root);\n          rng.setEndAfter(root);\n        }\n      } else {\n        rng.setStart(root, 0);\n        rng.setEnd(root, 0);\n      }\n    }\n\n    editor.selection.setRng(rng);\n    editor.selection.scrollIntoView(root);\n  };\n\n  var getEditableRoot = function getEditableRoot(dom, node) {\n    var root = dom.getRoot();\n    var parent, editableRoot;\n    parent = node;\n\n    while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n      if (dom.getContentEditable(parent) === 'true') {\n        editableRoot = parent;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return parent !== root ? editableRoot : root;\n  };\n\n  var getParentBlock$2 = function getParentBlock$2(editor) {\n    return Option.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n  };\n\n  var getParentBlockName = function getParentBlockName(editor) {\n    return getParentBlock$2(editor).fold(constant(''), function (parentBlock) {\n      return parentBlock.nodeName.toUpperCase();\n    });\n  };\n\n  var isListItemParentBlock = function isListItemParentBlock(editor) {\n    return getParentBlock$2(editor).filter(function (elm) {\n      return isListItem(Element.fromDom(elm));\n    }).isSome();\n  };\n\n  var NewLineUtils = {\n    moveToCaretPosition: moveToCaretPosition,\n    getEditableRoot: getEditableRoot,\n    getParentBlock: getParentBlock$2,\n    getParentBlockName: getParentBlockName,\n    isListItemParentBlock: isListItemParentBlock\n  };\n\n  var hasFirstChild = function hasFirstChild(elm, name) {\n    return elm.firstChild && elm.firstChild.nodeName === name;\n  };\n\n  var hasParent$1 = function hasParent$1(elm, parentName) {\n    return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n  };\n\n  var isListBlock = function isListBlock(elm) {\n    return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n  };\n\n  var isNestedList = function isNestedList(elm) {\n    return isListBlock(elm) && isListBlock(elm.parentNode);\n  };\n\n  var getContainerBlock = function getContainerBlock(containerBlock) {\n    var containerBlockParent = containerBlock.parentNode;\n\n    if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n      return containerBlockParent;\n    }\n\n    return containerBlock;\n  };\n\n  var isFirstOrLastLi = function isFirstOrLastLi(containerBlock, parentBlock, first) {\n    var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n\n    while (node) {\n      if (NodeType.isElement(node)) {\n        break;\n      }\n\n      node = node[first ? 'nextSibling' : 'previousSibling'];\n    }\n\n    return node === parentBlock;\n  };\n\n  var insert = function insert(editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n    var dom = editor.dom;\n    var rng = editor.selection.getRng();\n\n    if (containerBlock === editor.getBody()) {\n      return;\n    }\n\n    if (isNestedList(containerBlock)) {\n      newBlockName = 'LI';\n    }\n\n    var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n\n    if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n      if (hasParent$1(containerBlock, 'LI')) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n      } else {\n        dom.replace(newBlock, containerBlock);\n      }\n    } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n      if (hasParent$1(containerBlock, 'LI')) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        newBlock.appendChild(dom.doc.createTextNode(' '));\n        newBlock.appendChild(containerBlock);\n      } else {\n        containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n      }\n    } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n      dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n    } else {\n      containerBlock = getContainerBlock(containerBlock);\n      var tmpRng = rng.cloneRange();\n      tmpRng.setStartAfter(parentBlock);\n      tmpRng.setEndAfter(containerBlock);\n      var fragment = tmpRng.extractContents();\n\n      if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, containerBlock);\n      } else {\n        dom.insertAfter(fragment, containerBlock);\n        dom.insertAfter(newBlock, containerBlock);\n      }\n    }\n\n    dom.remove(parentBlock);\n    NewLineUtils.moveToCaretPosition(editor, newBlock);\n  };\n\n  var InsertLi = {\n    insert: insert\n  };\n\n  var trimZwsp = function trimZwsp(fragment) {\n    each(descendants(Element.fromDom(fragment), isText), function (text) {\n      var rawNode = text.dom();\n      rawNode.nodeValue = Zwsp.trim(rawNode.nodeValue);\n    });\n  };\n\n  var isEmptyAnchor = function isEmptyAnchor(dom, elm) {\n    return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n  };\n\n  var isTableCell$4 = function isTableCell$4(node) {\n    return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n  };\n\n  var emptyBlock = function emptyBlock(elm) {\n    elm.innerHTML = '<br data-mce-bogus=\"1\">';\n  };\n\n  var containerAndSiblingName = function containerAndSiblingName(container, nodeName) {\n    return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n  };\n\n  var canSplitBlock = function canSplitBlock(dom, node) {\n    return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n  };\n\n  var trimInlineElementsOnLeftSideOfBlock = function trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, block) {\n    var node = block;\n    var firstChilds = [];\n    var i;\n\n    if (!node) {\n      return;\n    }\n\n    while (node = node.firstChild) {\n      if (dom.isBlock(node)) {\n        return;\n      }\n\n      if (NodeType.isElement(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n        firstChilds.push(node);\n      }\n    }\n\n    i = firstChilds.length;\n\n    while (i--) {\n      node = firstChilds[i];\n\n      if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n        dom.remove(node);\n      } else {\n        if (isEmptyAnchor(dom, node)) {\n          dom.remove(node);\n        }\n      }\n    }\n  };\n\n  var normalizeZwspOffset = function normalizeZwspOffset(start, container, offset) {\n    if (NodeType.isText(container) === false) {\n      return offset;\n    } else if (start) {\n      return offset === 1 && container.data.charAt(offset - 1) === Zwsp.ZWSP ? 0 : offset;\n    } else {\n      return offset === container.data.length - 1 && container.data.charAt(offset) === Zwsp.ZWSP ? container.data.length : offset;\n    }\n  };\n\n  var includeZwspInRange = function includeZwspInRange(rng) {\n    var newRng = rng.cloneRange();\n    newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n    newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n    return newRng;\n  };\n\n  var trimLeadingLineBreaks = function trimLeadingLineBreaks(node) {\n    do {\n      if (NodeType.isText(node)) {\n        node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n      }\n\n      node = node.firstChild;\n    } while (node);\n  };\n\n  var getEditableRoot$1 = function getEditableRoot$1(dom, node) {\n    var root = dom.getRoot();\n    var parent, editableRoot;\n    parent = node;\n\n    while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n      if (dom.getContentEditable(parent) === 'true') {\n        editableRoot = parent;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return parent !== root ? editableRoot : root;\n  };\n\n  var setForcedBlockAttrs = function setForcedBlockAttrs(editor, node) {\n    var forcedRootBlockName = Settings.getForcedRootBlock(editor);\n\n    if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n      editor.dom.setAttribs(node, Settings.getForcedRootBlockAttrs(editor));\n    }\n  };\n\n  var wrapSelfAndSiblingsInDefaultBlock = function wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset) {\n    var newBlock, parentBlock, startNode, node, next, rootBlockName;\n    var blockName = newBlockName || 'P';\n    var dom = editor.dom,\n        editableRoot = getEditableRoot$1(dom, container);\n    parentBlock = dom.getParent(container, dom.isBlock);\n\n    if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n      parentBlock = parentBlock || editableRoot;\n\n      if (parentBlock === editor.getBody() || isTableCell$4(parentBlock)) {\n        rootBlockName = parentBlock.nodeName.toLowerCase();\n      } else {\n        rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n      }\n\n      if (!parentBlock.hasChildNodes()) {\n        newBlock = dom.create(blockName);\n        setForcedBlockAttrs(editor, newBlock);\n        parentBlock.appendChild(newBlock);\n        rng.setStart(newBlock, 0);\n        rng.setEnd(newBlock, 0);\n        return newBlock;\n      }\n\n      node = container;\n\n      while (node.parentNode !== parentBlock) {\n        node = node.parentNode;\n      }\n\n      while (node && !dom.isBlock(node)) {\n        startNode = node;\n        node = node.previousSibling;\n      }\n\n      if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n        newBlock = dom.create(blockName);\n        setForcedBlockAttrs(editor, newBlock);\n        startNode.parentNode.insertBefore(newBlock, startNode);\n        node = startNode;\n\n        while (node && !dom.isBlock(node)) {\n          next = node.nextSibling;\n          newBlock.appendChild(node);\n          node = next;\n        }\n\n        rng.setStart(container, offset);\n        rng.setEnd(container, offset);\n      }\n    }\n\n    return container;\n  };\n\n  var addBrToBlockIfNeeded = function addBrToBlockIfNeeded(dom, block) {\n    var lastChild;\n    block.normalize();\n    lastChild = block.lastChild;\n\n    if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n      dom.add(block, 'br');\n    }\n  };\n\n  var insert$1 = function insert$1(editor, evt) {\n    var tmpRng, editableRoot, container, offset, parentBlock, shiftKey;\n    var newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;\n    var dom = editor.dom;\n    var schema = editor.schema,\n        nonEmptyElementsMap = schema.getNonEmptyElements();\n    var rng = editor.selection.getRng();\n\n    var createNewBlock = function createNewBlock(name) {\n      var node = container,\n          block,\n          clonedNode,\n          caretNode;\n      var textInlineElements = schema.getTextInlineElements();\n\n      if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n        block = dom.create(name || newBlockName);\n        setForcedBlockAttrs(editor, block);\n      } else {\n        block = parentBlock.cloneNode(false);\n      }\n\n      caretNode = block;\n\n      if (Settings.shouldKeepStyles(editor) === false) {\n        dom.setAttrib(block, 'style', null);\n        dom.setAttrib(block, 'class', null);\n      } else {\n        do {\n          if (textInlineElements[node.nodeName]) {\n            if (isCaretNode(node) || Bookmarks.isBookmarkNode(node)) {\n              continue;\n            }\n\n            clonedNode = node.cloneNode(false);\n            dom.setAttrib(clonedNode, 'id', '');\n\n            if (block.hasChildNodes()) {\n              clonedNode.appendChild(block.firstChild);\n              block.appendChild(clonedNode);\n            } else {\n              caretNode = clonedNode;\n              block.appendChild(clonedNode);\n            }\n          }\n        } while ((node = node.parentNode) && node !== editableRoot);\n      }\n\n      emptyBlock(caretNode);\n      return block;\n    };\n\n    var isCaretAtStartOrEndOfBlock = function isCaretAtStartOrEndOfBlock(start) {\n      var node, name;\n      var normalizedOffset = normalizeZwspOffset(start, container, offset);\n\n      if (NodeType.isText(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n        return false;\n      }\n\n      if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n        return true;\n      }\n\n      if (start && NodeType.isElement(container) && container === parentBlock.firstChild) {\n        return true;\n      }\n\n      if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n        return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n      }\n\n      var walker = new TreeWalker(container, parentBlock);\n\n      if (NodeType.isText(container)) {\n        if (start && normalizedOffset === 0) {\n          walker.prev();\n        } else if (!start && normalizedOffset === container.nodeValue.length) {\n          walker.next();\n        }\n      }\n\n      while (node = walker.current()) {\n        if (NodeType.isElement(node)) {\n          if (!node.getAttribute('data-mce-bogus')) {\n            name = node.nodeName.toLowerCase();\n\n            if (nonEmptyElementsMap[name] && name !== 'br') {\n              return false;\n            }\n          }\n        } else if (NodeType.isText(node) && !/^[ \\t\\r\\n]*$/.test(node.nodeValue)) {\n          return false;\n        }\n\n        if (start) {\n          walker.prev();\n        } else {\n          walker.next();\n        }\n      }\n\n      return true;\n    };\n\n    var insertNewBlockAfter = function insertNewBlockAfter() {\n      if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n        newBlock = createNewBlock(newBlockName);\n      } else {\n        newBlock = createNewBlock();\n      }\n\n      if (Settings.shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n        newBlock = dom.split(containerBlock, parentBlock);\n      } else {\n        dom.insertAfter(newBlock, parentBlock);\n      }\n\n      NewLineUtils.moveToCaretPosition(editor, newBlock);\n    };\n\n    NormalizeRange.normalize(dom, rng).each(function (normRng) {\n      rng.setStart(normRng.startContainer, normRng.startOffset);\n      rng.setEnd(normRng.endContainer, normRng.endOffset);\n    });\n    container = rng.startContainer;\n    offset = rng.startOffset;\n    newBlockName = Settings.getForcedRootBlock(editor);\n    shiftKey = !!(evt && evt.shiftKey);\n    var ctrlKey = !!(evt && evt.ctrlKey);\n\n    if (NodeType.isElement(container) && container.hasChildNodes()) {\n      isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n      container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n\n      if (isAfterLastNodeInContainer && NodeType.isText(container)) {\n        offset = container.nodeValue.length;\n      } else {\n        offset = 0;\n      }\n    }\n\n    editableRoot = getEditableRoot$1(dom, container);\n\n    if (!editableRoot) {\n      return;\n    }\n\n    if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n      container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n    }\n\n    parentBlock = dom.getParent(container, dom.isBlock);\n    containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n    parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n    containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n\n    if (containerBlockName === 'LI' && !ctrlKey) {\n      parentBlock = containerBlock;\n      containerBlock = containerBlock.parentNode;\n      parentBlockName = containerBlockName;\n    }\n\n    if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n      if (dom.isEmpty(parentBlock)) {\n        InsertLi.insert(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n        return;\n      }\n    }\n\n    if (newBlockName && parentBlock === editor.getBody()) {\n      return;\n    }\n\n    newBlockName = newBlockName || 'P';\n\n    if (isCaretContainerBlock(parentBlock)) {\n      newBlock = showCaretContainerBlock(parentBlock);\n\n      if (dom.isEmpty(parentBlock)) {\n        emptyBlock(parentBlock);\n      }\n\n      NewLineUtils.moveToCaretPosition(editor, newBlock);\n    } else if (isCaretAtStartOrEndOfBlock()) {\n      insertNewBlockAfter();\n    } else if (isCaretAtStartOrEndOfBlock(true)) {\n      newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n      NewLineUtils.moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n    } else {\n      tmpRng = includeZwspInRange(rng).cloneRange();\n      tmpRng.setEndAfter(parentBlock);\n      fragment = tmpRng.extractContents();\n      trimZwsp(fragment);\n      trimLeadingLineBreaks(fragment);\n      newBlock = fragment.firstChild;\n      dom.insertAfter(fragment, parentBlock);\n      trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n      addBrToBlockIfNeeded(dom, parentBlock);\n\n      if (dom.isEmpty(parentBlock)) {\n        emptyBlock(parentBlock);\n      }\n\n      newBlock.normalize();\n\n      if (dom.isEmpty(newBlock)) {\n        dom.remove(newBlock);\n        insertNewBlockAfter();\n      } else {\n        NewLineUtils.moveToCaretPosition(editor, newBlock);\n      }\n    }\n\n    dom.setAttrib(newBlock, 'id', '');\n    editor.fire('NewBlock', {\n      newBlock: newBlock\n    });\n  };\n\n  var InsertBlock = {\n    insert: insert$1\n  };\n\n  var hasRightSideContent = function hasRightSideContent(schema, container, parentBlock) {\n    var walker = new TreeWalker(container, parentBlock);\n    var node;\n    var nonEmptyElementsMap = schema.getNonEmptyElements();\n\n    while (node = walker.next()) {\n      if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n        return true;\n      }\n    }\n  };\n\n  var scrollToBr = function scrollToBr(dom, selection, brElm) {\n    var marker = dom.create('span', {}, '&nbsp;');\n    brElm.parentNode.insertBefore(marker, brElm);\n    selection.scrollIntoView(marker);\n    dom.remove(marker);\n  };\n\n  var moveSelectionToBr = function moveSelectionToBr(dom, selection, brElm, extraBr) {\n    var rng = dom.createRng();\n\n    if (!extraBr) {\n      rng.setStartAfter(brElm);\n      rng.setEndAfter(brElm);\n    } else {\n      rng.setStartBefore(brElm);\n      rng.setEndBefore(brElm);\n    }\n\n    selection.setRng(rng);\n  };\n\n  var insertBrAtCaret = function insertBrAtCaret(editor, evt) {\n    var selection = editor.selection;\n    var dom = editor.dom;\n    var rng = selection.getRng();\n    var brElm;\n    var extraBr;\n    NormalizeRange.normalize(dom, rng).each(function (normRng) {\n      rng.setStart(normRng.startContainer, normRng.startOffset);\n      rng.setEnd(normRng.endContainer, normRng.endOffset);\n    });\n    var offset = rng.startOffset;\n    var container = rng.startContainer;\n\n    if (container.nodeType === 1 && container.hasChildNodes()) {\n      var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n      container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n\n      if (isAfterLastNodeInContainer && container.nodeType === 3) {\n        offset = container.nodeValue.length;\n      } else {\n        offset = 0;\n      }\n    }\n\n    var parentBlock = dom.getParent(container, dom.isBlock);\n    var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n    var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n    var isControlKey = !!(evt && evt.ctrlKey);\n\n    if (containerBlockName === 'LI' && !isControlKey) {\n      parentBlock = containerBlock;\n    }\n\n    if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n      if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n        brElm = dom.create('br');\n        rng.insertNode(brElm);\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n        extraBr = true;\n      }\n    }\n\n    brElm = dom.create('br');\n    rangeInsertNode(dom, rng, brElm);\n    scrollToBr(dom, selection, brElm);\n    moveSelectionToBr(dom, selection, brElm, extraBr);\n    editor.undoManager.add();\n  };\n\n  var insertBrBefore = function insertBrBefore(editor, inline) {\n    var br = Element.fromTag('br');\n    before(Element.fromDom(inline), br);\n    editor.undoManager.add();\n  };\n\n  var insertBrAfter = function insertBrAfter(editor, inline) {\n    if (!hasBrAfter(editor.getBody(), inline)) {\n      after(Element.fromDom(inline), Element.fromTag('br'));\n    }\n\n    var br = Element.fromTag('br');\n    after(Element.fromDom(inline), br);\n    scrollToBr(editor.dom, editor.selection, br.dom());\n    moveSelectionToBr(editor.dom, editor.selection, br.dom(), false);\n    editor.undoManager.add();\n  };\n\n  var isBeforeBr$1 = function isBeforeBr$1(pos) {\n    return NodeType.isBr(pos.getNode());\n  };\n\n  var hasBrAfter = function hasBrAfter(rootNode, startNode) {\n    if (isBeforeBr$1(CaretPosition$1.after(startNode))) {\n      return true;\n    } else {\n      return CaretFinder.nextPosition(rootNode, CaretPosition$1.after(startNode)).map(function (pos) {\n        return NodeType.isBr(pos.getNode());\n      }).getOr(false);\n    }\n  };\n\n  var isAnchorLink = function isAnchorLink(elm) {\n    return elm && elm.nodeName === 'A' && 'href' in elm;\n  };\n\n  var isInsideAnchor = function isInsideAnchor(location) {\n    return location.fold(constant(false), isAnchorLink, isAnchorLink, constant(false));\n  };\n\n  var readInlineAnchorLocation = function readInlineAnchorLocation(editor) {\n    var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n    var position = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), position).filter(isInsideAnchor);\n  };\n\n  var insertBrOutsideAnchor = function insertBrOutsideAnchor(editor, location) {\n    location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n  };\n\n  var insert$2 = function insert$2(editor, evt) {\n    var anchorLocation = readInlineAnchorLocation(editor);\n\n    if (anchorLocation.isSome()) {\n      anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n    } else {\n      insertBrAtCaret(editor, evt);\n    }\n  };\n\n  var InsertBr = {\n    insert: insert$2\n  };\n\n  var matchesSelector = function matchesSelector(editor, selector) {\n    return NewLineUtils.getParentBlock(editor).filter(function (parentBlock) {\n      return selector.length > 0 && is$1(Element.fromDom(parentBlock), selector);\n    }).isSome();\n  };\n\n  var shouldInsertBr = function shouldInsertBr(editor) {\n    return matchesSelector(editor, Settings.getBrNewLineSelector(editor));\n  };\n\n  var shouldBlockNewLine = function shouldBlockNewLine(editor) {\n    return matchesSelector(editor, Settings.getNoNewLineSelector(editor));\n  };\n\n  var ContextSelectors = {\n    shouldInsertBr: shouldInsertBr,\n    shouldBlockNewLine: shouldBlockNewLine\n  };\n  var newLineAction = Adt.generate([{\n    br: []\n  }, {\n    block: []\n  }, {\n    none: []\n  }]);\n\n  var shouldBlockNewLine$1 = function shouldBlockNewLine$1(editor, shiftKey) {\n    return ContextSelectors.shouldBlockNewLine(editor);\n  };\n\n  var isBrMode = function isBrMode(requiredState) {\n    return function (editor, shiftKey) {\n      var brMode = Settings.getForcedRootBlock(editor) === '';\n      return brMode === requiredState;\n    };\n  };\n\n  var inListBlock = function inListBlock(requiredState) {\n    return function (editor, shiftKey) {\n      return NewLineUtils.isListItemParentBlock(editor) === requiredState;\n    };\n  };\n\n  var inBlock = function inBlock(blockName, requiredState) {\n    return function (editor, shiftKey) {\n      var state = NewLineUtils.getParentBlockName(editor) === blockName.toUpperCase();\n      return state === requiredState;\n    };\n  };\n\n  var inPreBlock = function inPreBlock(requiredState) {\n    return inBlock('pre', requiredState);\n  };\n\n  var inSummaryBlock = function inSummaryBlock() {\n    return inBlock('summary', true);\n  };\n\n  var shouldPutBrInPre$1 = function shouldPutBrInPre$1(requiredState) {\n    return function (editor, shiftKey) {\n      return Settings.shouldPutBrInPre(editor) === requiredState;\n    };\n  };\n\n  var inBrContext = function inBrContext(editor, shiftKey) {\n    return ContextSelectors.shouldInsertBr(editor);\n  };\n\n  var hasShiftKey = function hasShiftKey(editor, shiftKey) {\n    return shiftKey;\n  };\n\n  var canInsertIntoEditableRoot = function canInsertIntoEditableRoot(editor) {\n    var forcedRootBlock = Settings.getForcedRootBlock(editor);\n    var rootEditable = NewLineUtils.getEditableRoot(editor.dom, editor.selection.getStart());\n    return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n  };\n\n  var match$2 = function match$2(predicates, action) {\n    return function (editor, shiftKey) {\n      var isMatch = foldl(predicates, function (res, p) {\n        return res && p(editor, shiftKey);\n      }, true);\n      return isMatch ? Option.some(action) : Option.none();\n    };\n  };\n\n  var getAction$1 = function getAction$1(editor, evt) {\n    return LazyEvaluator.evaluateUntil([match$2([shouldBlockNewLine$1], newLineAction.none()), match$2([inSummaryBlock()], newLineAction.br()), match$2([inPreBlock(true), shouldPutBrInPre$1(false), hasShiftKey], newLineAction.br()), match$2([inPreBlock(true), shouldPutBrInPre$1(false)], newLineAction.block()), match$2([inPreBlock(true), shouldPutBrInPre$1(true), hasShiftKey], newLineAction.block()), match$2([inPreBlock(true), shouldPutBrInPre$1(true)], newLineAction.br()), match$2([inListBlock(true), hasShiftKey], newLineAction.br()), match$2([inListBlock(true)], newLineAction.block()), match$2([isBrMode(true), hasShiftKey, canInsertIntoEditableRoot], newLineAction.block()), match$2([isBrMode(true)], newLineAction.br()), match$2([inBrContext], newLineAction.br()), match$2([isBrMode(false), hasShiftKey], newLineAction.br()), match$2([canInsertIntoEditableRoot], newLineAction.block())], [editor, !!(evt && evt.shiftKey)]).getOr(newLineAction.none());\n  };\n\n  var NewLineAction = {\n    getAction: getAction$1\n  };\n\n  var insert$3 = function insert$3(editor, evt) {\n    NewLineAction.getAction(editor, evt).fold(function () {\n      InsertBr.insert(editor, evt);\n    }, function () {\n      InsertBlock.insert(editor, evt);\n    }, noop);\n  };\n\n  var InsertNewLine = {\n    insert: insert$3\n  };\n\n  var endTypingLevel = function endTypingLevel(undoManager) {\n    if (undoManager.typing) {\n      undoManager.typing = false;\n      undoManager.add();\n    }\n  };\n\n  var handleEnterKeyEvent = function handleEnterKeyEvent(editor, event) {\n    if (event.isDefaultPrevented()) {\n      return;\n    }\n\n    event.preventDefault();\n    endTypingLevel(editor.undoManager);\n    editor.undoManager.transact(function () {\n      if (editor.selection.isCollapsed() === false) {\n        editor.execCommand('Delete');\n      }\n\n      InsertNewLine.insert(editor, event);\n    });\n  };\n\n  var setup$a = function setup$a(editor) {\n    editor.on('keydown', function (event) {\n      if (event.keyCode === VK.ENTER) {\n        handleEnterKeyEvent(editor, event);\n      }\n    });\n  };\n\n  var EnterKey = {\n    setup: setup$a\n  };\n\n  var insertTextAtPosition = function insertTextAtPosition(text, pos) {\n    var container = pos.container();\n    var offset = pos.offset();\n\n    if (NodeType.isText(container)) {\n      container.insertData(offset, text);\n      return Option.some(CaretPosition(container, offset + text.length));\n    } else {\n      return getElementFromPosition(pos).map(function (elm) {\n        var textNode = Element.fromText(text);\n\n        if (pos.isAtEnd()) {\n          after(elm, textNode);\n        } else {\n          before(elm, textNode);\n        }\n\n        return CaretPosition(textNode.dom(), text.length);\n      });\n    }\n  };\n\n  var insertNbspAtPosition = curry(insertTextAtPosition, '\\xA0');\n  var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n  var nbsp = '\\xA0';\n\n  var isInMiddleOfText = function isInMiddleOfText(pos) {\n    return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n  };\n\n  var getClosestBlock$1 = function getClosestBlock$1(root, pos) {\n    var parentBlocks = filter(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n    return head(parentBlocks).getOr(root);\n  };\n\n  var hasSpaceBefore = function hasSpaceBefore(root, pos) {\n    if (isInMiddleOfText(pos)) {\n      return isAfterSpace(pos);\n    } else {\n      return isAfterSpace(pos) || CaretFinder.prevPosition(getClosestBlock$1(root, pos).dom(), pos).exists(isAfterSpace);\n    }\n  };\n\n  var hasSpaceAfter = function hasSpaceAfter(root, pos) {\n    if (isInMiddleOfText(pos)) {\n      return isBeforeSpace(pos);\n    } else {\n      return isBeforeSpace(pos) || CaretFinder.nextPosition(getClosestBlock$1(root, pos).dom(), pos).exists(isBeforeSpace);\n    }\n  };\n\n  var isPreValue = function isPreValue(value) {\n    return contains(['pre', 'pre-wrap'], value);\n  };\n\n  var isInPre = function isInPre(pos) {\n    return getElementFromPosition(pos).bind(function (elm) {\n      return closest(elm, isElement);\n    }).exists(function (elm) {\n      return isPreValue(get$2(elm, 'white-space'));\n    });\n  };\n\n  var isAtBeginningOfBody = function isAtBeginningOfBody(root, pos) {\n    return CaretFinder.prevPosition(root.dom(), pos).isNone();\n  };\n\n  var isAtEndOfBody = function isAtEndOfBody(root, pos) {\n    return CaretFinder.nextPosition(root.dom(), pos).isNone();\n  };\n\n  var isAtLineBoundary = function isAtLineBoundary(root, pos) {\n    return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr(root, pos);\n  };\n\n  var needsToHaveNbsp = function needsToHaveNbsp(root, pos) {\n    if (isInPre(pos)) {\n      return false;\n    } else {\n      return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n    }\n  };\n\n  var needsToBeNbspLeft = function needsToBeNbspLeft(root, pos) {\n    if (isInPre(pos)) {\n      return false;\n    } else {\n      return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n    }\n  };\n\n  var leanRight = function leanRight(pos) {\n    var container = pos.container();\n    var offset = pos.offset();\n\n    if (NodeType.isText(container) && offset < container.data.length) {\n      return CaretPosition(container, offset + 1);\n    } else {\n      return pos;\n    }\n  };\n\n  var needsToBeNbspRight = function needsToBeNbspRight(root, pos) {\n    var afterPos = leanRight(pos);\n\n    if (isInPre(afterPos)) {\n      return false;\n    } else {\n      return isAtEndOfBlock(root, afterPos) || isAfterBlock(root, afterPos) || isBeforeBr(root, afterPos) || hasSpaceAfter(root, afterPos);\n    }\n  };\n\n  var needsToBeNbsp = function needsToBeNbsp(root, pos) {\n    return needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, pos);\n  };\n\n  var isNbspAt = function isNbspAt(text, offset) {\n    return isNbsp(text.charAt(offset));\n  };\n\n  var hasNbsp = function hasNbsp(pos) {\n    var container = pos.container();\n    return NodeType.isText(container) && contains$2(container.data, nbsp);\n  };\n\n  var normalizeNbspMiddle = function normalizeNbspMiddle(text) {\n    return map(text.split(''), function (chr, i, chars) {\n      if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n        return ' ';\n      } else {\n        return chr;\n      }\n    }).join('');\n  };\n\n  var normalizeNbspAtStart = function normalizeNbspAtStart(root, node) {\n    var text = node.data;\n    var firstPos = CaretPosition(node, 0);\n\n    if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n      node.data = ' ' + text.slice(1);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var normalizeNbspInMiddleOfTextNode = function normalizeNbspInMiddleOfTextNode(node) {\n    var text = node.data;\n    var newText = normalizeNbspMiddle(text);\n\n    if (newText !== text) {\n      node.data = newText;\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var normalizeNbspAtEnd = function normalizeNbspAtEnd(root, node) {\n    var text = node.data;\n    var lastPos = CaretPosition(node, text.length - 1);\n\n    if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n      node.data = text.slice(0, -1) + ' ';\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var normalizeNbsps = function normalizeNbsps(root, pos) {\n    return Option.some(pos).filter(hasNbsp).bind(function (pos) {\n      var container = pos.container();\n      var normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n      return normalized ? Option.some(pos) : Option.none();\n    });\n  };\n\n  var normalizeNbspsInEditor = function normalizeNbspsInEditor(editor) {\n    var root = Element.fromDom(editor.getBody());\n\n    if (editor.selection.isCollapsed()) {\n      normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\n        editor.selection.setRng(pos.toRange());\n      });\n    }\n  };\n\n  var locationToCaretPosition = function locationToCaretPosition(root) {\n    return function (location) {\n      return location.fold(function (element) {\n        return CaretFinder.prevPosition(root.dom(), CaretPosition$1.before(element));\n      }, function (element) {\n        return CaretFinder.firstPositionIn(element);\n      }, function (element) {\n        return CaretFinder.lastPositionIn(element);\n      }, function (element) {\n        return CaretFinder.nextPosition(root.dom(), CaretPosition$1.after(element));\n      });\n    };\n  };\n\n  var insertInlineBoundarySpaceOrNbsp = function insertInlineBoundarySpaceOrNbsp(root, pos) {\n    return function (checkPos) {\n      return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n    };\n  };\n\n  var setSelection$1 = function setSelection$1(editor) {\n    return function (pos) {\n      editor.selection.setRng(pos.toRange());\n      editor.nodeChanged();\n      return true;\n    };\n  };\n\n  var insertSpaceOrNbspAtSelection = function insertSpaceOrNbspAtSelection(editor) {\n    var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    var root = Element.fromDom(editor.getBody());\n\n    if (editor.selection.isCollapsed()) {\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      var caretPosition = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection$1(editor));\n    } else {\n      return false;\n    }\n  };\n\n  var executeKeydownOverride$2 = function executeKeydownOverride$2(editor, evt) {\n    MatchKeys.execute([{\n      keyCode: VK.SPACEBAR,\n      action: MatchKeys.action(insertSpaceOrNbspAtSelection, editor)\n    }], evt).each(function (_) {\n      evt.preventDefault();\n    });\n  };\n\n  var setup$b = function setup$b(editor) {\n    editor.on('keydown', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeydownOverride$2(editor, evt);\n      }\n    });\n  };\n\n  var SpaceKey = {\n    setup: setup$b\n  };\n\n  var findBlockCaretContainer = function findBlockCaretContainer(editor) {\n    return descendant(Element.fromDom(editor.getBody()), '*[data-mce-caret]').fold(constant(null), function (elm) {\n      return elm.dom();\n    });\n  };\n\n  var removeIeControlRect = function removeIeControlRect(editor) {\n    editor.selection.setRng(editor.selection.getRng());\n  };\n\n  var showBlockCaretContainer = function showBlockCaretContainer(editor, blockCaretContainer) {\n    if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n      showCaretContainerBlock(blockCaretContainer);\n      removeIeControlRect(editor);\n      editor.selection.scrollIntoView(blockCaretContainer);\n    }\n  };\n\n  var handleBlockContainer = function handleBlockContainer(editor, e) {\n    var blockCaretContainer = findBlockCaretContainer(editor);\n\n    if (!blockCaretContainer) {\n      return;\n    }\n\n    if (e.type === 'compositionstart') {\n      e.preventDefault();\n      e.stopPropagation();\n      showBlockCaretContainer(editor, blockCaretContainer);\n      return;\n    }\n\n    if (hasContent(blockCaretContainer)) {\n      showBlockCaretContainer(editor, blockCaretContainer);\n      editor.undoManager.add();\n    }\n  };\n\n  var setup$c = function setup$c(editor) {\n    editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n  };\n\n  var CaretContainerInput = {\n    setup: setup$c\n  };\n  var browser$4 = PlatformDetection$1.detect().browser;\n\n  var setupIeInput = function setupIeInput(editor) {\n    var keypressThrotter = first(function () {\n      if (!editor.composing) {\n        normalizeNbspsInEditor(editor);\n      }\n    }, 0);\n\n    if (browser$4.isIE()) {\n      editor.on('keypress', function (e) {\n        keypressThrotter.throttle();\n      });\n      editor.on('remove', function (e) {\n        keypressThrotter.cancel();\n      });\n    }\n  };\n\n  var setup$d = function setup$d(editor) {\n    setupIeInput(editor);\n    editor.on('input', function (e) {\n      if (e.isComposing === false) {\n        normalizeNbspsInEditor(editor);\n      }\n    });\n  };\n\n  var executeKeydownOverride$3 = function executeKeydownOverride$3(editor, evt) {\n    MatchKeys.execute([{\n      keyCode: VK.END,\n      action: moveToLineEndPoint(editor, true)\n    }, {\n      keyCode: VK.HOME,\n      action: moveToLineEndPoint(editor, false)\n    }], evt).each(function (_) {\n      evt.preventDefault();\n    });\n  };\n\n  var setup$e = function setup$e(editor) {\n    editor.on('keydown', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeydownOverride$3(editor, evt);\n      }\n    });\n  };\n\n  var HomeEndKeys = {\n    setup: setup$e\n  };\n\n  var setup$f = function setup$f(editor) {\n    var caret = BoundarySelection.setupSelectedState(editor);\n    CaretContainerInput.setup(editor);\n    ArrowKeys.setup(editor, caret);\n    DeleteBackspaceKeys.setup(editor, caret);\n    EnterKey.setup(editor);\n    SpaceKey.setup(editor);\n    setup$d(editor);\n    HomeEndKeys.setup(editor);\n  };\n\n  var KeyboardOverrides = {\n    setup: setup$f\n  };\n\n  var Quirks = function Quirks(editor) {\n    var each = Tools.each;\n    var BACKSPACE = VK.BACKSPACE,\n        DELETE = VK.DELETE,\n        dom = editor.dom,\n        selection = editor.selection,\n        settings = editor.settings,\n        parser = editor.parser;\n    var isGecko = Env.gecko,\n        isIE = Env.ie,\n        isWebKit = Env.webkit;\n    var mceInternalUrlPrefix = 'data:text/mce-internal,';\n    var mceInternalDataType = isIE ? 'Text' : 'URL';\n\n    var setEditorCommandState = function setEditorCommandState(cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, state);\n      } catch (ex) {}\n    };\n\n    var isDefaultPrevented = function isDefaultPrevented(e) {\n      return e.isDefaultPrevented();\n    };\n\n    var setMceInternalContent = function setMceInternalContent(e) {\n      var selectionHtml, internalContent;\n\n      if (e.dataTransfer) {\n        if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n          selection.select(e.target);\n        }\n\n        selectionHtml = editor.selection.getContent();\n\n        if (selectionHtml.length > 0) {\n          internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n          e.dataTransfer.setData(mceInternalDataType, internalContent);\n        }\n      }\n    };\n\n    var getMceInternalContent = function getMceInternalContent(e) {\n      var internalContent;\n\n      if (e.dataTransfer) {\n        internalContent = e.dataTransfer.getData(mceInternalDataType);\n\n        if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n          internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n          return {\n            id: unescape(internalContent[0]),\n            html: unescape(internalContent[1])\n          };\n        }\n      }\n\n      return null;\n    };\n\n    var insertClipboardContents = function insertClipboardContents(content, internal) {\n      if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n        editor.execCommand('mceInsertClipboardContent', false, {\n          content: content,\n          internal: internal\n        });\n      } else {\n        editor.execCommand('mceInsertContent', false, content);\n      }\n    };\n\n    var emptyEditorWhenDeleting = function emptyEditorWhenDeleting() {\n      var serializeRng = function serializeRng(rng) {\n        var body = dom.create('body');\n        var contents = rng.cloneContents();\n        body.appendChild(contents);\n        return selection.serializer.serialize(body, {\n          format: 'html'\n        });\n      };\n\n      var allContentsSelected = function allContentsSelected(rng) {\n        var selection = serializeRng(rng);\n        var allRng = dom.createRng();\n        allRng.selectNode(editor.getBody());\n        var allSelection = serializeRng(allRng);\n        return selection === allSelection;\n      };\n\n      editor.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        var isCollapsed, body;\n\n        if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n          isCollapsed = editor.selection.isCollapsed();\n          body = editor.getBody();\n\n          if (isCollapsed && !dom.isEmpty(body)) {\n            return;\n          }\n\n          if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n            return;\n          }\n\n          e.preventDefault();\n          editor.setContent('');\n\n          if (body.firstChild && dom.isBlock(body.firstChild)) {\n            editor.selection.setCursorLocation(body.firstChild, 0);\n          } else {\n            editor.selection.setCursorLocation(body, 0);\n          }\n\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    var selectAll = function selectAll() {\n      editor.shortcuts.add('meta+a', null, 'SelectAll');\n    };\n\n    var inputMethodFocus = function inputMethodFocus() {\n      if (!editor.inline) {\n        dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n          var rng;\n\n          if (e.target === editor.getDoc().documentElement) {\n            rng = selection.getRng();\n            editor.getBody().focus();\n\n            if (e.type === 'mousedown') {\n              if (isCaretContainer(rng.startContainer)) {\n                return;\n              }\n\n              selection.placeCaretAt(e.clientX, e.clientY);\n            } else {\n              selection.setRng(rng);\n            }\n          }\n        });\n      }\n    };\n\n    var removeHrOnBackspace = function removeHrOnBackspace() {\n      editor.on('keydown', function (e) {\n        if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n          if (!editor.getBody().getElementsByTagName('hr').length) {\n            return;\n          }\n\n          if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n            var node = selection.getNode();\n            var previousSibling = node.previousSibling;\n\n            if (node.nodeName === 'HR') {\n              dom.remove(node);\n              e.preventDefault();\n              return;\n            }\n\n            if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n              dom.remove(previousSibling);\n              e.preventDefault();\n            }\n          }\n        }\n      });\n    };\n\n    var focusBody = function focusBody() {\n      if (!domGlobals.Range.prototype.getClientRects) {\n        editor.on('mousedown', function (e) {\n          if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n            var body_1 = editor.getBody();\n            body_1.blur();\n            Delay.setEditorTimeout(editor, function () {\n              body_1.focus();\n            });\n          }\n        });\n      }\n    };\n\n    var selectControlElements = function selectControlElements() {\n      editor.on('click', function (e) {\n        var target = e.target;\n\n        if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n          e.preventDefault();\n          editor.selection.select(target);\n          editor.nodeChanged();\n        }\n\n        if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n          e.preventDefault();\n          selection.select(target);\n        }\n      });\n    };\n\n    var removeStylesWhenDeletingAcrossBlockElements = function removeStylesWhenDeletingAcrossBlockElements() {\n      var getAttributeApplyFunction = function getAttributeApplyFunction() {\n        var template = dom.getAttribs(selection.getStart().cloneNode(false));\n        return function () {\n          var target = selection.getStart();\n\n          if (target !== editor.getBody()) {\n            dom.setAttrib(target, 'style', null);\n            each(template, function (attr) {\n              target.setAttributeNode(attr.cloneNode(true));\n            });\n          }\n        };\n      };\n\n      var isSelectionAcrossElements = function isSelectionAcrossElements() {\n        return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n      };\n\n      editor.on('keypress', function (e) {\n        var applyAttributes;\n\n        if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n          applyAttributes = getAttributeApplyFunction();\n          editor.getDoc().execCommand('delete', false, null);\n          applyAttributes();\n          e.preventDefault();\n          return false;\n        }\n      });\n      dom.bind(editor.getDoc(), 'cut', function (e) {\n        var applyAttributes;\n\n        if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n          applyAttributes = getAttributeApplyFunction();\n          Delay.setEditorTimeout(editor, function () {\n            applyAttributes();\n          });\n        }\n      });\n    };\n\n    var disableBackspaceIntoATable = function disableBackspaceIntoATable() {\n      editor.on('keydown', function (e) {\n        if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n          if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n            var previousSibling = selection.getNode().previousSibling;\n\n            if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n              e.preventDefault();\n              return false;\n            }\n          }\n        }\n      });\n    };\n\n    var removeBlockQuoteOnBackSpace = function removeBlockQuoteOnBackSpace() {\n      editor.on('keydown', function (e) {\n        var rng, container, offset, root, parent;\n\n        if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n          return;\n        }\n\n        rng = selection.getRng();\n        container = rng.startContainer;\n        offset = rng.startOffset;\n        root = dom.getRoot();\n        parent = container;\n\n        if (!rng.collapsed || offset !== 0) {\n          return;\n        }\n\n        while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n          parent = parent.parentNode;\n        }\n\n        if (parent.tagName === 'BLOCKQUOTE') {\n          editor.formatter.toggle('blockquote', null, parent);\n          rng = dom.createRng();\n          rng.setStart(container, 0);\n          rng.setEnd(container, 0);\n          selection.setRng(rng);\n        }\n      });\n    };\n\n    var setGeckoEditingOptions = function setGeckoEditingOptions() {\n      var setOpts = function setOpts() {\n        setEditorCommandState('StyleWithCSS', false);\n        setEditorCommandState('enableInlineTableEditing', false);\n\n        if (!settings.object_resizing) {\n          setEditorCommandState('enableObjectResizing', false);\n        }\n      };\n\n      if (!settings.readonly) {\n        editor.on('BeforeExecCommand mousedown', setOpts);\n      }\n    };\n\n    var addBrAfterLastLinks = function addBrAfterLastLinks() {\n      var fixLinks = function fixLinks() {\n        each(dom.select('a'), function (node) {\n          var parentNode = node.parentNode;\n          var root = dom.getRoot();\n\n          if (parentNode.lastChild === node) {\n            while (parentNode && !dom.isBlock(parentNode)) {\n              if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                return;\n              }\n\n              parentNode = parentNode.parentNode;\n            }\n\n            dom.add(parentNode, 'br', {\n              'data-mce-bogus': 1\n            });\n          }\n        });\n      };\n\n      editor.on('SetContent ExecCommand', function (e) {\n        if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n          fixLinks();\n        }\n      });\n    };\n\n    var setDefaultBlockType = function setDefaultBlockType() {\n      if (settings.forced_root_block) {\n        editor.on('init', function () {\n          setEditorCommandState('DefaultParagraphSeparator', Settings.getForcedRootBlock(editor));\n        });\n      }\n    };\n\n    var normalizeSelection = function normalizeSelection() {\n      editor.on('keyup focusin mouseup', function (e) {\n        if (!VK.modifierPressed(e)) {\n          selection.normalize();\n        }\n      }, true);\n    };\n\n    var showBrokenImageIcon = function showBrokenImageIcon() {\n      editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n    };\n\n    var restoreFocusOnKeyDown = function restoreFocusOnKeyDown() {\n      if (!editor.inline) {\n        editor.on('keydown', function () {\n          if (domGlobals.document.activeElement === domGlobals.document.body) {\n            editor.getWin().focus();\n          }\n        });\n      }\n    };\n\n    var bodyHeight = function bodyHeight() {\n      if (!editor.inline) {\n        editor.contentStyles.push('body {min-height: 150px}');\n        editor.on('click', function (e) {\n          var rng;\n\n          if (e.target.nodeName === 'HTML') {\n            if (Env.ie > 11) {\n              editor.getBody().focus();\n              return;\n            }\n\n            rng = editor.selection.getRng();\n            editor.getBody().focus();\n            editor.selection.setRng(rng);\n            editor.selection.normalize();\n            editor.nodeChanged();\n          }\n        });\n      }\n    };\n\n    var blockCmdArrowNavigation = function blockCmdArrowNavigation() {\n      if (Env.mac) {\n        editor.on('keydown', function (e) {\n          if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n            e.preventDefault();\n            var selection_1 = editor.selection.getSel();\n            selection_1.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n          }\n        });\n      }\n    };\n\n    var disableAutoUrlDetect = function disableAutoUrlDetect() {\n      setEditorCommandState('AutoUrlDetect', false);\n    };\n\n    var tapLinksAndImages = function tapLinksAndImages() {\n      editor.on('click', function (e) {\n        var elm = e.target;\n\n        do {\n          if (elm.tagName === 'A') {\n            e.preventDefault();\n            return;\n          }\n        } while (elm = elm.parentNode);\n      });\n      editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n    };\n\n    var blockFormSubmitInsideEditor = function blockFormSubmitInsideEditor() {\n      editor.on('init', function () {\n        editor.dom.bind(editor.getBody(), 'submit', function (e) {\n          e.preventDefault();\n        });\n      });\n    };\n\n    var removeAppleInterchangeBrs = function removeAppleInterchangeBrs() {\n      parser.addNodeFilter('br', function (nodes) {\n        var i = nodes.length;\n\n        while (i--) {\n          if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n            nodes[i].remove();\n          }\n        }\n      });\n    };\n\n    var ieInternalDragAndDrop = function ieInternalDragAndDrop() {\n      editor.on('dragstart', function (e) {\n        setMceInternalContent(e);\n      });\n      editor.on('drop', function (e) {\n        if (!isDefaultPrevented(e)) {\n          var internalContent = getMceInternalContent(e);\n\n          if (internalContent && internalContent.id !== editor.id) {\n            e.preventDefault();\n            var rng = CaretRangeFromPoint.fromPoint(e.x, e.y, editor.getDoc());\n            selection.setRng(rng);\n            insertClipboardContents(internalContent.html, true);\n          }\n        }\n      });\n    };\n\n    var refreshContentEditable = function refreshContentEditable() {};\n\n    var isHidden = function isHidden() {\n      var sel;\n\n      if (!isGecko || editor.removed) {\n        return false;\n      }\n\n      sel = editor.selection.getSel();\n      return !sel || !sel.rangeCount || sel.rangeCount === 0;\n    };\n\n    removeBlockQuoteOnBackSpace();\n    emptyEditorWhenDeleting();\n\n    if (!Env.windowsPhone) {\n      normalizeSelection();\n    }\n\n    if (isWebKit) {\n      inputMethodFocus();\n      selectControlElements();\n      setDefaultBlockType();\n      blockFormSubmitInsideEditor();\n      disableBackspaceIntoATable();\n      removeAppleInterchangeBrs();\n\n      if (Env.iOS) {\n        restoreFocusOnKeyDown();\n        bodyHeight();\n        tapLinksAndImages();\n      } else {\n        selectAll();\n      }\n    }\n\n    if (Env.ie >= 11) {\n      bodyHeight();\n      disableBackspaceIntoATable();\n    }\n\n    if (Env.ie) {\n      selectAll();\n      disableAutoUrlDetect();\n      ieInternalDragAndDrop();\n    }\n\n    if (isGecko) {\n      removeHrOnBackspace();\n      focusBody();\n      removeStylesWhenDeletingAcrossBlockElements();\n      setGeckoEditingOptions();\n      addBrAfterLastLinks();\n      showBrokenImageIcon();\n      blockCmdArrowNavigation();\n      disableBackspaceIntoATable();\n    }\n\n    return {\n      refreshContentEditable: refreshContentEditable,\n      isHidden: isHidden\n    };\n  };\n\n  var isTextBlockNode = function isTextBlockNode(node) {\n    return NodeType.isElement(node) && isTextBlock(Element.fromDom(node));\n  };\n\n  var normalizeSelection$1 = function normalizeSelection$1(editor) {\n    var rng = editor.selection.getRng();\n    var startPos = CaretPosition.fromRangeStart(rng);\n    var endPos = CaretPosition.fromRangeEnd(rng);\n\n    if (CaretPosition.isElementPosition(startPos)) {\n      var container = startPos.container();\n\n      if (isTextBlockNode(container)) {\n        CaretFinder.firstPositionIn(container).each(function (pos) {\n          return rng.setStart(pos.container(), pos.offset());\n        });\n      }\n    }\n\n    if (CaretPosition.isElementPosition(endPos)) {\n      var container = startPos.container();\n\n      if (isTextBlockNode(container)) {\n        CaretFinder.lastPositionIn(container).each(function (pos) {\n          return rng.setEnd(pos.container(), pos.offset());\n        });\n      }\n    }\n\n    editor.selection.setRng(RangeNormalizer.normalize(rng));\n  };\n\n  var setup$g = function setup$g(editor) {\n    editor.on('click', function (e) {\n      if (e.detail >= 3) {\n        normalizeSelection$1(editor);\n      }\n    });\n  };\n\n  var preventSummaryToggle = function preventSummaryToggle(editor) {\n    editor.on('click', function (e) {\n      if (editor.dom.getParent(e.target, 'details')) {\n        e.preventDefault();\n      }\n    });\n  };\n\n  var filterDetails = function filterDetails(editor) {\n    editor.parser.addNodeFilter('details', function (elms) {\n      each(elms, function (details) {\n        details.attr('data-mce-open', details.attr('open'));\n        details.attr('open', 'open');\n      });\n    });\n    editor.serializer.addNodeFilter('details', function (elms) {\n      each(elms, function (details) {\n        var open = details.attr('data-mce-open');\n        details.attr('open', isString(open) ? open : null);\n        details.attr('data-mce-open', null);\n      });\n    });\n  };\n\n  var setup$h = function setup$h(editor) {\n    preventSummaryToggle(editor);\n    filterDetails(editor);\n  };\n\n  var DOM$3 = DOMUtils$1.DOM;\n\n  var appendStyle = function appendStyle(editor, text) {\n    var head = Element.fromDom(editor.getDoc().head);\n    var tag = Element.fromTag('style');\n    set(tag, 'type', 'text/css');\n    append(tag, Element.fromText(text));\n    append(head, tag);\n  };\n\n  var createParser = function createParser(editor) {\n    var parser = DomParser(editor.settings, editor.schema);\n    parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {\n      var i = nodes.length,\n          node;\n      var dom = editor.dom;\n      var value, internalName;\n\n      while (i--) {\n        node = nodes[i];\n        value = node.attr(name);\n        internalName = 'data-mce-' + name;\n\n        if (!node.attr(internalName)) {\n          if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n            continue;\n          }\n\n          if (name === 'style') {\n            value = dom.serializeStyle(dom.parseStyle(value), node.name);\n\n            if (!value.length) {\n              value = null;\n            }\n\n            node.attr(internalName, value);\n            node.attr(name, value);\n          } else if (name === 'tabindex') {\n            node.attr(internalName, value);\n            node.attr(name, null);\n          } else {\n            node.attr(internalName, editor.convertURL(value, name, node.name));\n          }\n        }\n      }\n    });\n    parser.addNodeFilter('script', function (nodes) {\n      var i = nodes.length,\n          node,\n          type;\n\n      while (i--) {\n        node = nodes[i];\n        type = node.attr('type') || 'no/type';\n\n        if (type.indexOf('mce-') !== 0) {\n          node.attr('type', 'mce-' + type);\n        }\n      }\n    });\n    parser.addNodeFilter('#cdata', function (nodes) {\n      var i = nodes.length,\n          node;\n\n      while (i--) {\n        node = nodes[i];\n        node.type = 8;\n        node.name = '#comment';\n        node.value = '[CDATA[' + node.value + ']]';\n      }\n    });\n    parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n      var i = nodes.length,\n          node;\n      var nonEmptyElements = editor.schema.getNonEmptyElements();\n\n      while (i--) {\n        node = nodes[i];\n\n        if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n          node.append(new Node$1('br', 1)).shortEnded = true;\n        }\n      }\n    });\n    return parser;\n  };\n\n  var autoFocus = function autoFocus(editor) {\n    if (editor.settings.auto_focus) {\n      Delay.setEditorTimeout(editor, function () {\n        var focusEditor;\n\n        if (editor.settings.auto_focus === true) {\n          focusEditor = editor;\n        } else {\n          focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n        }\n\n        if (!focusEditor.destroyed) {\n          focusEditor.focus();\n        }\n      }, 100);\n    }\n  };\n\n  var initEditor = function initEditor(editor) {\n    editor.bindPendingEventDelegates();\n    editor.initialized = true;\n    editor.fire('init');\n    editor.focus(true);\n    editor.nodeChanged({\n      initial: true\n    });\n    editor.execCallback('init_instance_callback', editor);\n    autoFocus(editor);\n  };\n\n  var getStyleSheetLoader = function getStyleSheetLoader(editor) {\n    return editor.inline ? DOM$3.styleSheetLoader : editor.dom.styleSheetLoader;\n  };\n\n  var initContentBody = function initContentBody(editor, skipWrite) {\n    var settings = editor.settings;\n    var targetElm = editor.getElement();\n    var doc = editor.getDoc(),\n        body,\n        contentCssText;\n\n    if (!settings.inline) {\n      editor.getElement().style.visibility = editor.orgVisibility;\n    }\n\n    if (!skipWrite && !editor.inline) {\n      doc.open();\n      doc.write(editor.iframeHTML);\n      doc.close();\n    }\n\n    if (editor.inline) {\n      editor.on('remove', function () {\n        var bodyEl = this.getBody();\n        DOM$3.removeClass(bodyEl, 'mce-content-body');\n        DOM$3.removeClass(bodyEl, 'mce-edit-focus');\n        DOM$3.setAttrib(bodyEl, 'contentEditable', null);\n      });\n      DOM$3.addClass(targetElm, 'mce-content-body');\n      editor.contentDocument = doc = domGlobals.document;\n      editor.contentWindow = domGlobals.window;\n      editor.bodyElement = targetElm;\n      editor.contentAreaContainer = targetElm;\n      settings.root_name = targetElm.nodeName.toLowerCase();\n    }\n\n    body = editor.getBody();\n    body.disabled = true;\n    editor.readonly = settings.readonly;\n\n    if (!editor.readonly) {\n      if (editor.inline && DOM$3.getStyle(body, 'position', true) === 'static') {\n        body.style.position = 'relative';\n      }\n\n      body.contentEditable = editor.getParam('content_editable_state', true);\n    }\n\n    body.disabled = false;\n    editor.editorUpload = EditorUpload(editor);\n    editor.schema = Schema(settings);\n    editor.dom = DOMUtils$1(doc, {\n      keep_values: true,\n      url_converter: editor.convertURL,\n      url_converter_scope: editor,\n      hex_colors: settings.force_hex_style_colors,\n      update_styles: true,\n      root_element: editor.inline ? editor.getBody() : null,\n      collect: function collect() {\n        return editor.inline;\n      },\n      schema: editor.schema,\n      contentCssCors: Settings.shouldUseContentCssCors(editor),\n      onSetAttrib: function onSetAttrib(e) {\n        editor.fire('SetAttrib', e);\n      }\n    });\n    editor.parser = createParser(editor);\n    editor.serializer = Serializer$1(settings, editor);\n    editor.selection = Selection$1(editor.dom, editor.getWin(), editor.serializer, editor);\n    editor.annotator = Annotator(editor);\n    editor.formatter = Formatter(editor);\n    editor.undoManager = UndoManager(editor);\n    editor._nodeChangeDispatcher = new NodeChange(editor);\n    editor._selectionOverrides = SelectionOverrides(editor);\n    setup$h(editor);\n    setup$g(editor);\n    KeyboardOverrides.setup(editor);\n    ForceBlocks.setup(editor);\n    editor.fire('PreInit');\n\n    if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n      doc.body.spellcheck = false;\n      DOM$3.setAttrib(body, 'spellcheck', 'false');\n    }\n\n    editor.quirks = Quirks(editor);\n    editor.fire('PostRender');\n    var directionality = Settings.getDirectionality(editor);\n\n    if (directionality !== undefined) {\n      body.dir = directionality;\n    }\n\n    if (settings.protect) {\n      editor.on('BeforeSetContent', function (e) {\n        Tools.each(settings.protect, function (pattern) {\n          e.content = e.content.replace(pattern, function (str) {\n            return '<!--mce:protected ' + escape(str) + '-->';\n          });\n        });\n      });\n    }\n\n    editor.on('SetContent', function () {\n      editor.addVisual(editor.getBody());\n    });\n    editor.load({\n      initial: true,\n      format: 'html'\n    });\n    editor.startContent = editor.getContent({\n      format: 'raw'\n    });\n    editor.on('compositionstart compositionend', function (e) {\n      editor.composing = e.type === 'compositionstart';\n    });\n\n    if (editor.contentStyles.length > 0) {\n      contentCssText = '';\n      Tools.each(editor.contentStyles, function (style) {\n        contentCssText += style + '\\r\\n';\n      });\n      editor.dom.addStyle(contentCssText);\n    }\n\n    getStyleSheetLoader(editor).loadAll(editor.contentCSS, function (_) {\n      initEditor(editor);\n    }, function (urls) {\n      initEditor(editor);\n    });\n\n    if (settings.content_style) {\n      appendStyle(editor, settings.content_style);\n    }\n  };\n\n  var InitContentBody = {\n    initContentBody: initContentBody\n  };\n  var DOM$4 = DOMUtils$1.DOM;\n\n  var relaxDomain = function relaxDomain(editor, ifr) {\n    if (domGlobals.document.domain !== domGlobals.window.location.hostname && Env.ie && Env.ie < 12) {\n      var bodyUuid = Uuid.uuid('mce');\n\n      editor[bodyUuid] = function () {\n        InitContentBody.initContentBody(editor);\n      };\n\n      var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + domGlobals.document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n      DOM$4.setAttrib(ifr, 'src', domainRelaxUrl);\n      return true;\n    }\n\n    return false;\n  };\n\n  var createIframeElement = function createIframeElement(id, title, height, customAttrs) {\n    var iframe = Element.fromTag('iframe');\n    setAll(iframe, customAttrs);\n    setAll(iframe, {\n      id: id + '_ifr',\n      frameBorder: '0',\n      allowTransparency: 'true',\n      title: title\n    });\n    add$3(iframe, 'tox-edit-area__iframe');\n    return iframe;\n  };\n\n  var getIframeHtml = function getIframeHtml(editor) {\n    var bodyId, bodyClass, iframeHTML;\n    iframeHTML = Settings.getDocType(editor) + '<html><head>';\n\n    if (Settings.getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n      iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n    }\n\n    iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n    bodyId = Settings.getBodyId(editor);\n    bodyClass = Settings.getBodyClass(editor);\n\n    if (Settings.getContentSecurityPolicy(editor)) {\n      iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + Settings.getContentSecurityPolicy(editor) + '\" />';\n    }\n\n    iframeHTML += '</head><body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\"><br></body></html>';\n    return iframeHTML;\n  };\n\n  var createIframe = function createIframe(editor, o) {\n    var title = editor.editorManager.translate('Rich Text Area. Press ALT-0 for help.');\n    var ifr = createIframeElement(editor.id, title, o.height, Settings.getIframeAttrs(editor)).dom();\n\n    ifr.onload = function () {\n      ifr.onload = null;\n      editor.fire('load');\n    };\n\n    var isDomainRelaxed = relaxDomain(editor, ifr);\n    editor.contentAreaContainer = o.iframeContainer;\n    editor.iframeElement = ifr;\n    editor.iframeHTML = getIframeHtml(editor);\n    DOM$4.add(o.iframeContainer, ifr);\n    return isDomainRelaxed;\n  };\n\n  var init$1 = function init$1(editor, boxInfo) {\n    var isDomainRelaxed = createIframe(editor, boxInfo);\n\n    if (boxInfo.editorContainer) {\n      DOM$4.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n      editor.hidden = DOM$4.isHidden(boxInfo.editorContainer);\n    }\n\n    editor.getElement().style.display = 'none';\n    DOM$4.setAttrib(editor.id, 'aria-hidden', 'true');\n\n    if (!isDomainRelaxed) {\n      InitContentBody.initContentBody(editor);\n    }\n  };\n\n  var InitIframe = {\n    init: init$1\n  };\n\n  var isContentCssSkinName = function isContentCssSkinName(url) {\n    return /^[a-z0-9\\-]+$/i.test(url);\n  };\n\n  var getContentCssUrls = function getContentCssUrls(editor) {\n    var contentCss = Settings.getContentCss(editor);\n    var skinUrl = editor.editorManager.baseURL + '/skins/content';\n    var suffix = editor.editorManager.suffix;\n    var contentCssFile = 'content' + suffix + '.css';\n    var inline = editor.inline === true;\n    return map(contentCss, function (url) {\n      if (isContentCssSkinName(url) && !inline) {\n        return skinUrl + '/' + url + '/' + contentCssFile;\n      } else {\n        return editor.documentBaseURI.toAbsolute(url);\n      }\n    });\n  };\n\n  var appendContentCssFromSettings = function appendContentCssFromSettings(editor) {\n    editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor));\n  };\n\n  var DOM$5 = DOMUtils$1.DOM;\n\n  var initPlugin = function initPlugin(editor, initializedPlugins, plugin) {\n    var Plugin = PluginManager.get(plugin);\n    var pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n    plugin = Tools.trim(plugin);\n\n    if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n      Tools.each(PluginManager.dependencies(plugin), function (dep) {\n        initPlugin(editor, initializedPlugins, dep);\n      });\n\n      if (editor.plugins[plugin]) {\n        return;\n      }\n\n      try {\n        var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n        editor.plugins[plugin] = pluginInstance;\n\n        if (pluginInstance.init) {\n          pluginInstance.init(editor, pluginUrl);\n          initializedPlugins.push(plugin);\n        }\n      } catch (e) {\n        ErrorReporter.pluginInitError(editor, plugin, e);\n      }\n    }\n  };\n\n  var trimLegacyPrefix = function trimLegacyPrefix(name) {\n    return name.replace(/^\\-/, '');\n  };\n\n  var initPlugins = function initPlugins(editor) {\n    var initializedPlugins = [];\n    Tools.each(editor.settings.plugins.split(/[ ,]/), function (name) {\n      initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n    });\n  };\n\n  var initIcons = function initIcons(editor) {\n    var iconPackName = Tools.trim(editor.settings.icons);\n    var currentIcons = editor.ui.registry.getAll().icons;\n    var defaultIcons = getAll();\n\n    var loadIcons = _assign({}, defaultIcons, IconManager.get(iconPackName).icons);\n\n    each$3(loadIcons, function (svgData, icon) {\n      if (!has(currentIcons, icon)) {\n        editor.ui.registry.addIcon(icon, svgData);\n      }\n    });\n  };\n\n  var initTheme = function initTheme(editor) {\n    var theme = editor.settings.theme;\n\n    if (isString(theme)) {\n      editor.settings.theme = trimLegacyPrefix(theme);\n      var Theme = ThemeManager.get(theme);\n      editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n\n      if (editor.theme.init) {\n        editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n      }\n    } else {\n      editor.theme = {};\n    }\n  };\n\n  var renderFromLoadedTheme = function renderFromLoadedTheme(editor) {\n    return editor.theme.renderUI();\n  };\n\n  var renderFromThemeFunc = function renderFromThemeFunc(editor) {\n    var elm = editor.getElement();\n    var theme = editor.settings.theme;\n    var info = theme(editor, elm);\n\n    if (info.editorContainer.nodeType) {\n      info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n    }\n\n    if (info.iframeContainer && info.iframeContainer.nodeType) {\n      info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n    }\n\n    info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n    return info;\n  };\n\n  var createThemeFalseResult = function createThemeFalseResult(element) {\n    return {\n      editorContainer: element,\n      iframeContainer: element\n    };\n  };\n\n  var renderThemeFalseIframe = function renderThemeFalseIframe(targetElement) {\n    var iframeContainer = DOM$5.create('div');\n    DOM$5.insertAfter(iframeContainer, targetElement);\n    return createThemeFalseResult(iframeContainer);\n  };\n\n  var renderThemeFalse = function renderThemeFalse(editor) {\n    var targetElement = editor.getElement();\n    return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n  };\n\n  var renderThemeUi = function renderThemeUi(editor) {\n    var elm = editor.getElement();\n    editor.orgDisplay = elm.style.display;\n\n    if (isString(editor.settings.theme)) {\n      return renderFromLoadedTheme(editor);\n    } else if (isFunction(editor.settings.theme)) {\n      return renderFromThemeFunc(editor);\n    } else {\n      return renderThemeFalse(editor);\n    }\n  };\n\n  var init$2 = function init$2(editor) {\n    editor.fire('ScriptsLoaded');\n    initIcons(editor);\n    initTheme(editor);\n    initPlugins(editor);\n    var boxInfo = renderThemeUi(editor);\n    editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n    appendContentCssFromSettings(editor);\n\n    if (editor.inline) {\n      return InitContentBody.initContentBody(editor);\n    } else {\n      return InitIframe.init(editor, boxInfo);\n    }\n  };\n\n  var Init = {\n    init: init$2\n  };\n  var DOM$6 = DOMUtils$1.DOM;\n\n  var hasSkipLoadPrefix = function hasSkipLoadPrefix(name) {\n    return name.charAt(0) === '-';\n  };\n\n  var loadLanguage = function loadLanguage(scriptLoader, editor) {\n    var languageCode = Settings.getLanguageCode(editor);\n    var languageUrl = Settings.getLanguageUrl(editor);\n\n    if (I18n.hasCode(languageCode) === false && languageCode !== 'en') {\n      var url_1 = languageUrl !== '' ? languageUrl : editor.editorManager.baseURL + '/langs/' + languageCode + '.js';\n      scriptLoader.add(url_1, noop, undefined, function () {\n        ErrorReporter.languageLoadError(url_1, languageCode);\n      });\n    }\n  };\n\n  var loadTheme = function loadTheme(scriptLoader, editor, suffix, callback) {\n    var settings = editor.settings,\n        theme = settings.theme;\n\n    if (isString(theme)) {\n      if (!hasSkipLoadPrefix(theme) && !ThemeManager.urls.hasOwnProperty(theme)) {\n        var themeUrl = settings.theme_url;\n\n        if (themeUrl) {\n          ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n        } else {\n          ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n        }\n      }\n\n      scriptLoader.loadQueue(function () {\n        ThemeManager.waitFor(theme, callback);\n      });\n    } else {\n      callback();\n    }\n  };\n\n  var getIconsUrlMetaFromUrl = function getIconsUrlMetaFromUrl(editor) {\n    return Option.from(Settings.getIconsUrl(editor)).filter(function (url) {\n      return url.length > 0;\n    }).map(function (url) {\n      return {\n        url: url,\n        name: Option.none()\n      };\n    });\n  };\n\n  var getIconsUrlMetaFromName = function getIconsUrlMetaFromName(editor) {\n    return Option.from(Settings.getIconPackName(editor)).filter(function (name) {\n      return name.length > 0 && !IconManager.has(name);\n    }).map(function (name) {\n      return {\n        url: editor.editorManager.baseURL + '/icons/' + name + '/icons.js',\n        name: Option.some(name)\n      };\n    });\n  };\n\n  var loadIcons = function loadIcons(scriptLoader, editor) {\n    getIconsUrlMetaFromUrl(editor).orThunk(function () {\n      return getIconsUrlMetaFromName(editor);\n    }).each(function (urlMeta) {\n      scriptLoader.add(urlMeta.url, noop, undefined, function () {\n        ErrorReporter.iconsLoadError(urlMeta.url, urlMeta.name.getOrUndefined());\n      });\n    });\n  };\n\n  var loadPlugins = function loadPlugins(settings, suffix) {\n    if (isArray(settings.plugins)) {\n      settings.plugins = settings.plugins.join(' ');\n    }\n\n    Tools.each(settings.external_plugins, function (url, name) {\n      PluginManager.load(name, url, noop, undefined, function () {\n        ErrorReporter.pluginLoadError(name, url);\n      });\n      settings.plugins += ' ' + name;\n    });\n    Tools.each(settings.plugins.split(/[ ,]/), function (plugin) {\n      plugin = Tools.trim(plugin);\n\n      if (plugin && !PluginManager.urls[plugin]) {\n        if (hasSkipLoadPrefix(plugin)) {\n          plugin = plugin.substr(1, plugin.length);\n          var dependencies = PluginManager.dependencies(plugin);\n          Tools.each(dependencies, function (dep) {\n            var defaultSettings = {\n              prefix: 'plugins/',\n              resource: dep,\n              suffix: '/plugin' + suffix + '.js'\n            };\n            dep = PluginManager.createUrl(defaultSettings, dep);\n            PluginManager.load(dep.resource, dep, noop, undefined, function () {\n              ErrorReporter.pluginLoadError(dep.prefix + dep.resource + dep.suffix, dep.resource);\n            });\n          });\n        } else {\n          var url_2 = {\n            prefix: 'plugins/',\n            resource: plugin,\n            suffix: '/plugin' + suffix + '.js'\n          };\n          PluginManager.load(plugin, url_2, noop, undefined, function () {\n            ErrorReporter.pluginLoadError(url_2.prefix + url_2.resource + url_2.suffix, plugin);\n          });\n        }\n      }\n    });\n  };\n\n  var loadScripts = function loadScripts(editor, suffix) {\n    var scriptLoader = ScriptLoader.ScriptLoader;\n    loadTheme(scriptLoader, editor, suffix, function () {\n      loadLanguage(scriptLoader, editor);\n      loadIcons(scriptLoader, editor);\n      loadPlugins(editor.settings, suffix);\n      scriptLoader.loadQueue(function () {\n        if (!editor.removed) {\n          Init.init(editor);\n        }\n      }, editor, function () {\n        if (!editor.removed) {\n          Init.init(editor);\n        }\n      });\n    });\n  };\n\n  var render = function render(editor) {\n    var settings = editor.settings,\n        id = editor.id;\n    I18n.setCode(Settings.getLanguageCode(editor));\n\n    var readyHandler = function readyHandler() {\n      DOM$6.unbind(domGlobals.window, 'ready', readyHandler);\n      editor.render();\n    };\n\n    if (!EventUtils.Event.domLoaded) {\n      DOM$6.bind(domGlobals.window, 'ready', readyHandler);\n      return;\n    }\n\n    if (!editor.getElement()) {\n      return;\n    }\n\n    if (!Env.contentEditable) {\n      return;\n    }\n\n    if (!settings.inline) {\n      editor.orgVisibility = editor.getElement().style.visibility;\n      editor.getElement().style.visibility = 'hidden';\n    } else {\n      editor.inline = true;\n    }\n\n    var form = editor.getElement().form || DOM$6.getParent(id, 'form');\n\n    if (form) {\n      editor.formElement = form;\n\n      if (settings.hidden_input && !NodeType.isTextareaOrInput(editor.getElement())) {\n        DOM$6.insertAfter(DOM$6.create('input', {\n          type: 'hidden',\n          name: id\n        }), id);\n        editor.hasHiddenInput = true;\n      }\n\n      editor.formEventDelegate = function (e) {\n        editor.fire(e.type, e);\n      };\n\n      DOM$6.bind(form, 'submit reset', editor.formEventDelegate);\n      editor.on('reset', function () {\n        editor.resetContent();\n      });\n\n      if (settings.submit_patch && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n        form._mceOldSubmit = form.submit;\n\n        form.submit = function () {\n          editor.editorManager.triggerSave();\n          editor.setDirty(false);\n          return form._mceOldSubmit(form);\n        };\n      }\n    }\n\n    editor.windowManager = WindowManager(editor);\n    editor.notificationManager = NotificationManager(editor);\n\n    if (settings.encoding === 'xml') {\n      editor.on('GetContent', function (e) {\n        if (e.save) {\n          e.content = DOM$6.encode(e.content);\n        }\n      });\n    }\n\n    if (settings.add_form_submit_trigger) {\n      editor.on('submit', function () {\n        if (editor.initialized) {\n          editor.save();\n        }\n      });\n    }\n\n    if (settings.add_unload_trigger) {\n      editor._beforeUnload = function () {\n        if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n          editor.save({\n            format: 'raw',\n            no_events: true,\n            set_dirty: false\n          });\n        }\n      };\n\n      editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n    }\n\n    editor.editorManager.add(editor);\n    loadScripts(editor, editor.suffix);\n  };\n\n  var Render = {\n    render: render\n  };\n  var internalContentEditableAttr = 'data-mce-contenteditable';\n\n  var toggleClass = function toggleClass(elm, cls, state) {\n    if (has$2(elm, cls) && state === false) {\n      remove$4(elm, cls);\n    } else if (state) {\n      add$3(elm, cls);\n    }\n  };\n\n  var setEditorCommandState = function setEditorCommandState(editor, cmd, state) {\n    try {\n      editor.getDoc().execCommand(cmd, false, state);\n    } catch (ex) {}\n  };\n\n  var setContentEditable = function setContentEditable(elm, state) {\n    elm.dom().contentEditable = state ? 'true' : 'false';\n  };\n\n  var switchOffContentEditableTrue = function switchOffContentEditableTrue(elm) {\n    each(descendants$1(elm, '*[contenteditable=\"true\"]'), function (elm) {\n      set(elm, internalContentEditableAttr, 'true');\n      setContentEditable(elm, false);\n    });\n  };\n\n  var switchOnContentEditableTrue = function switchOnContentEditableTrue(elm) {\n    each(descendants$1(elm, '*[' + internalContentEditableAttr + '=\"true\"]'), function (elm) {\n      remove(elm, internalContentEditableAttr);\n      setContentEditable(elm, true);\n    });\n  };\n\n  var removeFakeSelection = function removeFakeSelection(editor) {\n    Option.from(editor.selection.getNode()).each(function (elm) {\n      elm.removeAttribute('data-mce-selected');\n    });\n  };\n\n  var restoreFakeSelection = function restoreFakeSelection(editor) {\n    editor.selection.setRng(editor.selection.getRng());\n  };\n\n  var toggleReadOnly = function toggleReadOnly(editor, state) {\n    var body = Element.fromDom(editor.getBody());\n    toggleClass(body, 'mce-content-readonly', state);\n\n    if (state) {\n      editor.selection.controlSelection.hideResizeRect();\n\n      editor._selectionOverrides.hideFakeCaret();\n\n      removeFakeSelection(editor);\n      editor.readonly = true;\n      setContentEditable(body, false);\n      switchOffContentEditableTrue(body);\n    } else {\n      editor.readonly = false;\n      setContentEditable(body, true);\n      switchOnContentEditableTrue(body);\n      setEditorCommandState(editor, 'StyleWithCSS', false);\n      setEditorCommandState(editor, 'enableInlineTableEditing', false);\n      setEditorCommandState(editor, 'enableObjectResizing', false);\n\n      if (EditorFocus.hasEditorOrUiFocus(editor)) {\n        editor.focus();\n      }\n\n      restoreFakeSelection(editor);\n      editor.nodeChanged();\n    }\n  };\n\n  var _isReadOnly = function isReadOnly(editor) {\n    return editor.readonly === true;\n  };\n\n  var registerFilters = function registerFilters(editor) {\n    editor.parser.addAttributeFilter('contenteditable', function (nodes) {\n      if (_isReadOnly(editor)) {\n        each(nodes, function (node) {\n          node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n          node.attr('contenteditable', 'false');\n        });\n      }\n    });\n    editor.serializer.addAttributeFilter(internalContentEditableAttr, function (nodes) {\n      if (_isReadOnly(editor)) {\n        each(nodes, function (node) {\n          node.attr('contenteditable', node.attr(internalContentEditableAttr));\n        });\n      }\n    });\n    editor.serializer.addTempAttr(internalContentEditableAttr);\n  };\n\n  var registerReadOnlyContentFilters = function registerReadOnlyContentFilters(editor) {\n    if (editor.serializer) {\n      registerFilters(editor);\n    } else {\n      editor.on('PreInit', function () {\n        registerFilters(editor);\n      });\n    }\n  };\n\n  var preventReadOnlyEvents = function preventReadOnlyEvents(e) {\n    var target = e.target;\n\n    if (e.type === 'click' && target.tagName === 'A') {\n      e.preventDefault();\n    }\n  };\n\n  var registerReadOnlySelectionBlockers = function registerReadOnlySelectionBlockers(editor) {\n    editor.on('ShowCaret', function (e) {\n      if (_isReadOnly(editor)) {\n        e.preventDefault();\n      }\n    });\n    editor.on('ObjectSelected', function (e) {\n      if (_isReadOnly(editor)) {\n        e.preventDefault();\n      }\n    });\n  };\n\n  var defaultModes = ['design', 'readonly'];\n\n  var switchToMode = function switchToMode(editor, activeMode, availableModes, mode) {\n    var oldMode = availableModes[activeMode.get()];\n    var newMode = availableModes[mode];\n\n    try {\n      newMode.activate();\n    } catch (e) {\n      domGlobals.console.error('problem while activating editor mode ' + mode + ':', e);\n      return;\n    }\n\n    oldMode.deactivate();\n\n    if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n      toggleReadOnly(editor, newMode.editorReadOnly);\n    }\n\n    activeMode.set(mode);\n    Events.fireSwitchMode(editor, mode);\n  };\n\n  var setMode = function setMode(editor, availableModes, activeMode, mode) {\n    if (mode === activeMode.get()) {\n      return;\n    } else if (!has(availableModes, mode)) {\n      throw new Error('Editor mode \\'' + mode + '\\' is invalid');\n    }\n\n    if (editor.initialized) {\n      switchToMode(editor, activeMode, availableModes, mode);\n    } else {\n      editor.on('init', function () {\n        return switchToMode(editor, activeMode, availableModes, mode);\n      });\n    }\n  };\n\n  var registerMode = function registerMode(availableModes, mode, api) {\n    var _a;\n\n    if (contains(defaultModes, mode)) {\n      throw new Error('Cannot override default mode ' + mode);\n    }\n\n    return _assign({}, availableModes, (_a = {}, _a[mode] = _assign({}, api, {\n      deactivate: function deactivate() {\n        try {\n          api.deactivate();\n        } catch (e) {\n          domGlobals.console.error('problem while deactivating editor mode ' + mode + ':', e);\n        }\n      }\n    }), _a));\n  };\n\n  var create$4 = function create$4(editor) {\n    var activeMode = Cell('design');\n    var availableModes = Cell({\n      design: {\n        activate: noop,\n        deactivate: noop,\n        editorReadOnly: false\n      },\n      readonly: {\n        activate: noop,\n        deactivate: noop,\n        editorReadOnly: true\n      }\n    });\n    registerReadOnlyContentFilters(editor);\n    registerReadOnlySelectionBlockers(editor);\n    return {\n      isReadOnly: function isReadOnly() {\n        return _isReadOnly(editor);\n      },\n      set: function set(mode) {\n        return setMode(editor, availableModes.get(), activeMode, mode);\n      },\n      get: function get() {\n        return activeMode.get();\n      },\n      register: function register(mode, api) {\n        availableModes.set(registerMode(availableModes.get(), mode, api));\n      }\n    };\n  };\n\n  var hasOnlyOneChild$1 = function hasOnlyOneChild$1(node) {\n    return node.firstChild && node.firstChild === node.lastChild;\n  };\n\n  var isPaddingNode = function isPaddingNode(node) {\n    return node.name === 'br' || node.value === '\\xA0';\n  };\n\n  var isPaddedEmptyBlock = function isPaddedEmptyBlock(schema, node) {\n    var blockElements = schema.getBlockElements();\n    return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n  };\n\n  var isEmptyFragmentElement = function isEmptyFragmentElement(schema, node) {\n    var nonEmptyElements = schema.getNonEmptyElements();\n    return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n  };\n\n  var isListFragment = function isListFragment(schema, fragment) {\n    var firstChild = fragment.firstChild;\n    var lastChild = fragment.lastChild;\n\n    if (firstChild && firstChild.name === 'meta') {\n      firstChild = firstChild.next;\n    }\n\n    if (lastChild && lastChild.attr('id') === 'mce_marker') {\n      lastChild = lastChild.prev;\n    }\n\n    if (isEmptyFragmentElement(schema, lastChild)) {\n      lastChild = lastChild.prev;\n    }\n\n    if (!firstChild || firstChild !== lastChild) {\n      return false;\n    }\n\n    return firstChild.name === 'ul' || firstChild.name === 'ol';\n  };\n\n  var cleanupDomFragment = function cleanupDomFragment(domFragment) {\n    var firstChild = domFragment.firstChild;\n    var lastChild = domFragment.lastChild;\n\n    if (firstChild && firstChild.nodeName === 'META') {\n      firstChild.parentNode.removeChild(firstChild);\n    }\n\n    if (lastChild && lastChild.id === 'mce_marker') {\n      lastChild.parentNode.removeChild(lastChild);\n    }\n\n    return domFragment;\n  };\n\n  var toDomFragment = function toDomFragment(dom, serializer, fragment) {\n    var html = serializer.serialize(fragment);\n    var domFragment = dom.createFragment(html);\n    return cleanupDomFragment(domFragment);\n  };\n\n  var listItems$1 = function listItems$1(elm) {\n    return Tools.grep(elm.childNodes, function (child) {\n      return child.nodeName === 'LI';\n    });\n  };\n\n  var isPadding = function isPadding(node) {\n    return node.data === '\\xA0' || NodeType.isBr(node);\n  };\n\n  var isListItemPadded = function isListItemPadded(node) {\n    return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n  };\n\n  var isEmptyOrPadded = function isEmptyOrPadded(elm) {\n    return !elm.firstChild || isListItemPadded(elm);\n  };\n\n  var trimListItems = function trimListItems(elms) {\n    return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n  };\n\n  var getParentLi = function getParentLi(dom, node) {\n    var parentBlock = dom.getParent(node, dom.isBlock);\n    return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n  };\n\n  var isParentBlockLi = function isParentBlockLi(dom, node) {\n    return !!getParentLi(dom, node);\n  };\n\n  var getSplit = function getSplit(parentNode, rng) {\n    var beforeRng = rng.cloneRange();\n    var afterRng = rng.cloneRange();\n    beforeRng.setStartBefore(parentNode);\n    afterRng.setEndAfter(parentNode);\n    return [beforeRng.cloneContents(), afterRng.cloneContents()];\n  };\n\n  var findFirstIn = function findFirstIn(node, rootNode) {\n    var caretPos = CaretPosition$1.before(node);\n    var caretWalker = CaretWalker(rootNode);\n    var newCaretPos = caretWalker.next(caretPos);\n    return newCaretPos ? newCaretPos.toRange() : null;\n  };\n\n  var findLastOf = function findLastOf(node, rootNode) {\n    var caretPos = CaretPosition$1.after(node);\n    var caretWalker = CaretWalker(rootNode);\n    var newCaretPos = caretWalker.prev(caretPos);\n    return newCaretPos ? newCaretPos.toRange() : null;\n  };\n\n  var insertMiddle = function insertMiddle(target, elms, rootNode, rng) {\n    var parts = getSplit(target, rng);\n    var parentElm = target.parentNode;\n    parentElm.insertBefore(parts[0], target);\n    Tools.each(elms, function (li) {\n      parentElm.insertBefore(li, target);\n    });\n    parentElm.insertBefore(parts[1], target);\n    parentElm.removeChild(target);\n    return findLastOf(elms[elms.length - 1], rootNode);\n  };\n\n  var insertBefore$1 = function insertBefore$1(target, elms, rootNode) {\n    var parentElm = target.parentNode;\n    Tools.each(elms, function (elm) {\n      parentElm.insertBefore(elm, target);\n    });\n    return findFirstIn(target, rootNode);\n  };\n\n  var insertAfter$1 = function insertAfter$1(target, elms, rootNode, dom) {\n    dom.insertAfter(elms.reverse(), target);\n    return findLastOf(elms[0], rootNode);\n  };\n\n  var insertAtCaret = function insertAtCaret(serializer, dom, rng, fragment) {\n    var domFragment = toDomFragment(dom, serializer, fragment);\n    var liTarget = getParentLi(dom, rng.startContainer);\n    var liElms = trimListItems(listItems$1(domFragment.firstChild));\n    var BEGINNING = 1,\n        END = 2;\n    var rootNode = dom.getRoot();\n\n    var isAt = function isAt(location) {\n      var caretPos = CaretPosition$1.fromRangeStart(rng);\n      var caretWalker = CaretWalker(dom.getRoot());\n      var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n      return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n    };\n\n    if (isAt(BEGINNING)) {\n      return insertBefore$1(liTarget, liElms, rootNode);\n    } else if (isAt(END)) {\n      return insertAfter$1(liTarget, liElms, rootNode, dom);\n    }\n\n    return insertMiddle(liTarget, liElms, rootNode, rng);\n  };\n\n  var InsertList = {\n    isListFragment: isListFragment,\n    insertAtCaret: insertAtCaret,\n    isParentBlockLi: isParentBlockLi,\n    trimListItems: trimListItems,\n    listItems: listItems$1\n  };\n\n  var isAfterNbsp = function isAfterNbsp(container, offset) {\n    return NodeType.isText(container) && container.nodeValue[offset - 1] === '\\xA0';\n  };\n\n  var trimOrPadLeftRight = function trimOrPadLeftRight(rng, html) {\n    var container, offset;\n    container = rng.startContainer;\n    offset = rng.startOffset;\n\n    var hasSiblingText = function hasSiblingText(siblingName) {\n      return container[siblingName] && container[siblingName].nodeType === 3;\n    };\n\n    if (container.nodeType === 3) {\n      if (offset > 0) {\n        html = html.replace(/^&nbsp;/, ' ');\n      } else if (!hasSiblingText('previousSibling')) {\n        html = html.replace(/^ /, '&nbsp;');\n      }\n\n      if (offset < container.length) {\n        html = html.replace(/&nbsp;(<br>|)$/, ' ');\n      } else if (!hasSiblingText('nextSibling')) {\n        html = html.replace(/(&nbsp;| )(<br>|)$/, '&nbsp;');\n      }\n    }\n\n    return html;\n  };\n\n  var trimNbspAfterDeleteAndPadValue = function trimNbspAfterDeleteAndPadValue(rng, value) {\n    var container, offset;\n    container = rng.startContainer;\n    offset = rng.startOffset;\n\n    if (container.nodeType === 3 && rng.collapsed) {\n      if (container.data[offset] === '\\xA0') {\n        container.deleteData(offset, 1);\n\n        if (!/[\\u00a0| ]$/.test(value)) {\n          value += ' ';\n        }\n      } else if (container.data[offset - 1] === '\\xA0') {\n        container.deleteData(offset - 1, 1);\n\n        if (!/[\\u00a0| ]$/.test(value)) {\n          value = ' ' + value;\n        }\n      }\n    }\n\n    return value;\n  };\n\n  var isTableCell$5 = NodeType.matchNodeNames(['td', 'th']);\n\n  var selectionSetContent = function selectionSetContent(editor, content) {\n    var rng = editor.selection.getRng();\n    var container = rng.startContainer;\n    var offset = rng.startOffset;\n\n    if (rng.collapsed && isAfterNbsp(container, offset) && NodeType.isText(container)) {\n      container.insertData(offset - 1, ' ');\n      container.deleteData(offset, 1);\n      rng.setStart(container, offset);\n      rng.setEnd(container, offset);\n      editor.selection.setRng(rng);\n    }\n\n    editor.selection.setContent(content);\n  };\n\n  var validInsertion = function validInsertion(editor, value, parentNode) {\n    if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n      parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n    } else {\n      var node = parentNode.firstChild;\n      var node2 = parentNode.lastChild;\n\n      if (!node || node === node2 && node.nodeName === 'BR') {\n        editor.dom.setHTML(parentNode, value);\n      } else {\n        selectionSetContent(editor, value);\n      }\n    }\n  };\n\n  var trimBrsFromTableCell = function trimBrsFromTableCell(dom, elm) {\n    Option.from(dom.getParent(elm, 'td,th')).map(Element.fromDom).each(PaddingBr.trimBlockTrailingBr);\n  };\n\n  var reduceInlineTextElements = function reduceInlineTextElements(editor, merge) {\n    var textInlineElements = editor.schema.getTextInlineElements();\n    var dom = editor.dom;\n\n    if (merge) {\n      var root_1 = editor.getBody(),\n          elementUtils_1 = new ElementUtils(dom);\n      Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\n        for (var testNode = node.parentNode; testNode && testNode !== root_1; testNode = testNode.parentNode) {\n          if (textInlineElements[node.nodeName.toLowerCase()] && elementUtils_1.compare(testNode, node)) {\n            dom.remove(node, true);\n          }\n        }\n      });\n    }\n  };\n\n  var markFragmentElements = function markFragmentElements(fragment) {\n    var node = fragment;\n\n    while (node = node.walk()) {\n      if (node.type === 1) {\n        node.attr('data-mce-fragment', '1');\n      }\n    }\n  };\n\n  var umarkFragmentElements = function umarkFragmentElements(elm) {\n    Tools.each(elm.getElementsByTagName('*'), function (elm) {\n      elm.removeAttribute('data-mce-fragment');\n    });\n  };\n\n  var isPartOfFragment = function isPartOfFragment(node) {\n    return !!node.getAttribute('data-mce-fragment');\n  };\n\n  var canHaveChildren = function canHaveChildren(editor, node) {\n    return node && !editor.schema.getShortEndedElements()[node.nodeName];\n  };\n\n  var moveSelectionToMarker = function moveSelectionToMarker(editor, marker) {\n    var parentEditableFalseElm, parentBlock, nextRng;\n    var dom = editor.dom,\n        selection = editor.selection;\n    var node, node2;\n\n    var getContentEditableFalseParent = function getContentEditableFalseParent(node) {\n      var root = editor.getBody();\n\n      for (; node && node !== root; node = node.parentNode) {\n        if (editor.dom.getContentEditable(node) === 'false') {\n          return node;\n        }\n      }\n\n      return null;\n    };\n\n    if (!marker) {\n      return;\n    }\n\n    editor.selection.scrollIntoView(marker);\n    parentEditableFalseElm = getContentEditableFalseParent(marker);\n\n    if (parentEditableFalseElm) {\n      dom.remove(marker);\n      selection.select(parentEditableFalseElm);\n      return;\n    }\n\n    var rng = dom.createRng();\n    node = marker.previousSibling;\n\n    if (node && node.nodeType === 3) {\n      rng.setStart(node, node.nodeValue.length);\n\n      if (!Env.ie) {\n        node2 = marker.nextSibling;\n\n        if (node2 && node2.nodeType === 3) {\n          node.appendData(node2.data);\n          node2.parentNode.removeChild(node2);\n        }\n      }\n    } else {\n      rng.setStartBefore(marker);\n      rng.setEndBefore(marker);\n    }\n\n    var findNextCaretRng = function findNextCaretRng(rng) {\n      var caretPos = CaretPosition$1.fromRangeStart(rng);\n      var caretWalker = CaretWalker(editor.getBody());\n      caretPos = caretWalker.next(caretPos);\n\n      if (caretPos) {\n        return caretPos.toRange();\n      }\n    };\n\n    parentBlock = dom.getParent(marker, dom.isBlock);\n    dom.remove(marker);\n\n    if (parentBlock && dom.isEmpty(parentBlock)) {\n      editor.$(parentBlock).empty();\n      rng.setStart(parentBlock, 0);\n      rng.setEnd(parentBlock, 0);\n\n      if (!isTableCell$5(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n        rng = nextRng;\n        dom.remove(parentBlock);\n      } else {\n        dom.add(parentBlock, dom.create('br', {\n          'data-mce-bogus': '1'\n        }));\n      }\n    }\n\n    selection.setRng(rng);\n  };\n\n  var insertHtmlAtCaret = function insertHtmlAtCaret(editor, value, details) {\n    var parser, serializer, parentNode, rootNode, fragment, args;\n    var marker, rng, node, bookmarkHtml, merge;\n    var selection = editor.selection,\n        dom = editor.dom;\n\n    if (/^ | $/.test(value)) {\n      value = trimOrPadLeftRight(selection.getRng(), value);\n    }\n\n    parser = editor.parser;\n    merge = details.merge;\n    serializer = Serializer({\n      validate: editor.settings.validate\n    }, editor.schema);\n    bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>';\n    args = {\n      content: value,\n      format: 'html',\n      selection: true,\n      paste: details.paste\n    };\n    args = editor.fire('BeforeSetContent', args);\n\n    if (args.isDefaultPrevented()) {\n      editor.fire('SetContent', {\n        content: args.content,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      });\n      return;\n    }\n\n    value = args.content;\n\n    if (value.indexOf('{$caret}') === -1) {\n      value += '{$caret}';\n    }\n\n    value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n    rng = selection.getRng();\n    var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n    var body = editor.getBody();\n\n    if (caretElement === body && selection.isCollapsed()) {\n      if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n        rng = dom.createRng();\n        rng.setStart(body.firstChild, 0);\n        rng.setEnd(body.firstChild, 0);\n        selection.setRng(rng);\n      }\n    }\n\n    if (!selection.isCollapsed()) {\n      editor.selection.setRng(RangeNormalizer.normalize(editor.selection.getRng()));\n      editor.getDoc().execCommand('Delete', false, null);\n      value = trimNbspAfterDeleteAndPadValue(editor.selection.getRng(), value);\n    }\n\n    parentNode = selection.getNode();\n    var parserArgs = {\n      context: parentNode.nodeName.toLowerCase(),\n      data: details.data,\n      insert: true\n    };\n    fragment = parser.parse(value, parserArgs);\n\n    if (details.paste === true && InsertList.isListFragment(editor.schema, fragment) && InsertList.isParentBlockLi(dom, parentNode)) {\n      rng = InsertList.insertAtCaret(serializer, dom, editor.selection.getRng(), fragment);\n      editor.selection.setRng(rng);\n      editor.fire('SetContent', args);\n      return;\n    }\n\n    markFragmentElements(fragment);\n    node = fragment.lastChild;\n\n    if (node.attr('id') === 'mce_marker') {\n      marker = node;\n\n      for (node = node.prev; node; node = node.walk(true)) {\n        if (node.type === 3 || !dom.isBlock(node.name)) {\n          if (editor.schema.isValidChild(node.parent.name, 'span')) {\n            node.parent.insert(marker, node, node.name === 'br');\n          }\n\n          break;\n        }\n      }\n    }\n\n    editor._selectionOverrides.showBlockCaretContainer(parentNode);\n\n    if (!parserArgs.invalid) {\n      value = serializer.serialize(fragment);\n      validInsertion(editor, value, parentNode);\n    } else {\n      selectionSetContent(editor, bookmarkHtml);\n      parentNode = selection.getNode();\n      rootNode = editor.getBody();\n\n      if (parentNode.nodeType === 9) {\n        parentNode = node = rootNode;\n      } else {\n        node = parentNode;\n      }\n\n      while (node !== rootNode) {\n        parentNode = node;\n        node = node.parentNode;\n      }\n\n      value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n      value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n        return serializer.serialize(fragment);\n      })));\n\n      if (parentNode === rootNode) {\n        dom.setHTML(rootNode, value);\n      } else {\n        dom.setOuterHTML(parentNode, value);\n      }\n    }\n\n    reduceInlineTextElements(editor, merge);\n    moveSelectionToMarker(editor, dom.get('mce_marker'));\n    umarkFragmentElements(editor.getBody());\n    trimBrsFromTableCell(editor.dom, editor.selection.getStart());\n    editor.fire('SetContent', args);\n    editor.addVisual();\n  };\n\n  var processValue = function processValue(value) {\n    var details;\n\n    if (typeof value !== 'string') {\n      details = Tools.extend({\n        paste: value.paste,\n        data: {\n          paste: value.paste\n        }\n      }, value);\n      return {\n        content: value.content,\n        details: details\n      };\n    }\n\n    return {\n      content: value,\n      details: {}\n    };\n  };\n\n  var insertAtCaret$1 = function insertAtCaret$1(editor, value) {\n    var result = processValue(value);\n    insertHtmlAtCaret(editor, result.content, result.details);\n  };\n\n  var InsertContent = {\n    insertAtCaret: insertAtCaret$1\n  };\n\n  var nativeCommand = function nativeCommand(editor, command) {\n    editor.getDoc().execCommand(command, false, null);\n  };\n\n  var deleteCommand = function deleteCommand(editor) {\n    if (Outdent.backspaceDelete(editor, false)) {\n      return;\n    } else if (CefDelete.backspaceDelete(editor, false)) {\n      return;\n    } else if (CefBoundaryDelete.backspaceDelete(editor, false)) {\n      return;\n    } else if (BoundaryDelete.backspaceDelete(editor, false)) {\n      return;\n    } else if (BlockBoundaryDelete.backspaceDelete(editor, false)) {\n      return;\n    } else if (TableDelete.backspaceDelete(editor)) {\n      return;\n    } else if (BlockRangeDelete.backspaceDelete(editor, false)) {\n      return;\n    } else if (InlineFormatDelete.backspaceDelete(editor, false)) {\n      return;\n    } else {\n      nativeCommand(editor, 'Delete');\n      DeleteUtils.paddEmptyBody(editor);\n    }\n  };\n\n  var forwardDeleteCommand = function forwardDeleteCommand(editor) {\n    if (CefDelete.backspaceDelete(editor, true)) {\n      return;\n    } else if (CefBoundaryDelete.backspaceDelete(editor, true)) {\n      return;\n    } else if (BoundaryDelete.backspaceDelete(editor, true)) {\n      return;\n    } else if (BlockBoundaryDelete.backspaceDelete(editor, true)) {\n      return;\n    } else if (TableDelete.backspaceDelete(editor)) {\n      return;\n    } else if (BlockRangeDelete.backspaceDelete(editor, true)) {\n      return;\n    } else if (InlineFormatDelete.backspaceDelete(editor, true)) {\n      return;\n    } else {\n      nativeCommand(editor, 'ForwardDelete');\n    }\n  };\n\n  var DeleteCommands = {\n    deleteCommand: deleteCommand,\n    forwardDeleteCommand: forwardDeleteCommand\n  };\n\n  var getSpecifiedFontProp = function getSpecifiedFontProp(propName, rootElm, elm) {\n    var getProperty = function getProperty(elm) {\n      return getRaw(elm, propName);\n    };\n\n    var isRoot = function isRoot(elm) {\n      return eq(Element.fromDom(rootElm), elm);\n    };\n\n    return closest(Element.fromDom(elm), function (elm) {\n      return getProperty(elm).isSome();\n    }, isRoot).bind(getProperty);\n  };\n\n  var round$1 = function round$1(number, precision) {\n    var factor = Math.pow(10, precision);\n    return Math.round(number * factor) / factor;\n  };\n\n  var toPt = function toPt(fontSize, precision) {\n    if (/[0-9.]+px$/.test(fontSize)) {\n      return round$1(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n    }\n\n    return fontSize;\n  };\n\n  var normalizeFontFamily = function normalizeFontFamily(fontFamily) {\n    return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n  };\n\n  var getComputedFontProp = function getComputedFontProp(propName, elm) {\n    return Option.from(DOMUtils$1.DOM.getStyle(elm, propName, true));\n  };\n\n  var getFontProp = function getFontProp(propName) {\n    return function (rootElm, elm) {\n      return Option.from(elm).map(Element.fromDom).filter(isElement).bind(function (element) {\n        return getSpecifiedFontProp(propName, rootElm, element.dom()).or(getComputedFontProp(propName, element.dom()));\n      }).getOr('');\n    };\n  };\n\n  var FontInfo = {\n    getFontSize: getFontProp('font-size'),\n    getFontFamily: compose(normalizeFontFamily, getFontProp('font-family')),\n    toPt: toPt\n  };\n\n  var findFirstCaretElement = function findFirstCaretElement(editor) {\n    return CaretFinder.firstPositionIn(editor.getBody()).map(function (caret) {\n      var container = caret.container();\n      return NodeType.isText(container) ? container.parentNode : container;\n    });\n  };\n\n  var isRangeAtStartOfNode = function isRangeAtStartOfNode(rng, root) {\n    return rng.startContainer === root && rng.startOffset === 0;\n  };\n\n  var getCaretElement = function getCaretElement(editor) {\n    return Option.from(editor.selection.getRng()).bind(function (rng) {\n      var root = editor.getBody();\n      return isRangeAtStartOfNode(rng, root) ? Option.none() : Option.from(editor.selection.getStart(true));\n    });\n  };\n\n  var fromFontSizeNumber = function fromFontSizeNumber(editor, value) {\n    if (/^[0-9\\.]+$/.test(value)) {\n      var fontSizeNumber = parseInt(value, 10);\n\n      if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n        var fontSizes = Settings.getFontStyleValues(editor);\n        var fontClasses = Settings.getFontSizeClasses(editor);\n\n        if (fontClasses) {\n          return fontClasses[fontSizeNumber - 1] || value;\n        } else {\n          return fontSizes[fontSizeNumber - 1] || value;\n        }\n      } else {\n        return value;\n      }\n    } else {\n      return value;\n    }\n  };\n\n  var normalizeFontNames = function normalizeFontNames(font) {\n    var fonts = font.split(/\\s*,\\s*/);\n    return map(fonts, function (font) {\n      if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, '\\''))) {\n        return '\"' + font + '\"';\n      } else {\n        return font;\n      }\n    }).join(',');\n  };\n\n  var fontNameAction = function fontNameAction(editor, value) {\n    var font = fromFontSizeNumber(editor, value);\n    editor.formatter.toggle('fontname', {\n      value: normalizeFontNames(font)\n    });\n    editor.nodeChanged();\n  };\n\n  var fontNameQuery = function fontNameQuery(editor) {\n    return getCaretElement(editor).fold(function () {\n      return findFirstCaretElement(editor).map(function (caretElement) {\n        return FontInfo.getFontFamily(editor.getBody(), caretElement);\n      }).getOr('');\n    }, function (caretElement) {\n      return FontInfo.getFontFamily(editor.getBody(), caretElement);\n    });\n  };\n\n  var fontSizeAction = function fontSizeAction(editor, value) {\n    editor.formatter.toggle('fontsize', {\n      value: fromFontSizeNumber(editor, value)\n    });\n    editor.nodeChanged();\n  };\n\n  var fontSizeQuery = function fontSizeQuery(editor) {\n    return getCaretElement(editor).fold(function () {\n      return findFirstCaretElement(editor).map(function (caretElement) {\n        return FontInfo.getFontSize(editor.getBody(), caretElement);\n      }).getOr('');\n    }, function (caretElement) {\n      return FontInfo.getFontSize(editor.getBody(), caretElement);\n    });\n  };\n\n  var each$g = Tools.each;\n  var map$3 = Tools.map,\n      inArray$2 = Tools.inArray;\n\n  var EditorCommands = function () {\n    function EditorCommands(editor) {\n      this.commands = {\n        state: {},\n        exec: {},\n        value: {}\n      };\n      this.editor = editor;\n      this.setupCommands(editor);\n    }\n\n    EditorCommands.prototype.execCommand = function (command, ui, value, args) {\n      var func,\n          customCommand,\n          state = false;\n      var self = this;\n\n      if (self.editor.removed) {\n        return;\n      }\n\n      if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n        self.editor.focus();\n      } else {\n        SelectionBookmark.restore(self.editor);\n      }\n\n      args = self.editor.fire('BeforeExecCommand', {\n        command: command,\n        ui: ui,\n        value: value\n      });\n\n      if (args.isDefaultPrevented()) {\n        return false;\n      }\n\n      customCommand = command.toLowerCase();\n\n      if (func = self.commands.exec[customCommand]) {\n        func(customCommand, ui, value);\n        self.editor.fire('ExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        return true;\n      }\n\n      each$g(this.editor.plugins, function (p) {\n        if (p.execCommand && p.execCommand(command, ui, value)) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          state = true;\n          return false;\n        }\n      });\n\n      if (state) {\n        return state;\n      }\n\n      if (self.editor.theme && self.editor.theme.execCommand && self.editor.theme.execCommand(command, ui, value)) {\n        self.editor.fire('ExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        return true;\n      }\n\n      try {\n        state = self.editor.getDoc().execCommand(command, ui, value);\n      } catch (ex) {}\n\n      if (state) {\n        self.editor.fire('ExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        return true;\n      }\n\n      return false;\n    };\n\n    EditorCommands.prototype.queryCommandState = function (command) {\n      var func;\n\n      if (this.editor.quirks.isHidden() || this.editor.removed) {\n        return;\n      }\n\n      command = command.toLowerCase();\n\n      if (func = this.commands.state[command]) {\n        return func(command);\n      }\n\n      try {\n        return this.editor.getDoc().queryCommandState(command);\n      } catch (ex) {}\n\n      return false;\n    };\n\n    EditorCommands.prototype.queryCommandValue = function (command) {\n      var func;\n\n      if (this.editor.quirks.isHidden() || this.editor.removed) {\n        return;\n      }\n\n      command = command.toLowerCase();\n\n      if (func = this.commands.value[command]) {\n        return func(command);\n      }\n\n      try {\n        return this.editor.getDoc().queryCommandValue(command);\n      } catch (ex) {}\n    };\n\n    EditorCommands.prototype.addCommands = function (commandList, type) {\n      var self = this;\n      type = type || 'exec';\n      each$g(commandList, function (callback, command) {\n        each$g(command.toLowerCase().split(','), function (command) {\n          self.commands[type][command] = callback;\n        });\n      });\n    };\n\n    EditorCommands.prototype.addCommand = function (command, callback, scope) {\n      var _this = this;\n\n      command = command.toLowerCase();\n\n      this.commands.exec[command] = function (command, ui, value, args) {\n        return callback.call(scope || _this.editor, ui, value, args);\n      };\n    };\n\n    EditorCommands.prototype.queryCommandSupported = function (command) {\n      command = command.toLowerCase();\n\n      if (this.commands.exec[command]) {\n        return true;\n      }\n\n      try {\n        return this.editor.getDoc().queryCommandSupported(command);\n      } catch (ex) {}\n\n      return false;\n    };\n\n    EditorCommands.prototype.addQueryStateHandler = function (command, callback, scope) {\n      var _this = this;\n\n      command = command.toLowerCase();\n\n      this.commands.state[command] = function () {\n        return callback.call(scope || _this.editor);\n      };\n    };\n\n    EditorCommands.prototype.addQueryValueHandler = function (command, callback, scope) {\n      var _this = this;\n\n      command = command.toLowerCase();\n\n      this.commands.value[command] = function () {\n        return callback.call(scope || _this.editor);\n      };\n    };\n\n    EditorCommands.prototype.hasCustomCommand = function (command) {\n      command = command.toLowerCase();\n      return !!this.commands.exec[command];\n    };\n\n    EditorCommands.prototype.execNativeCommand = function (command, ui, value) {\n      if (ui === undefined) {\n        ui = false;\n      }\n\n      if (value === undefined) {\n        value = null;\n      }\n\n      return this.editor.getDoc().execCommand(command, ui, value);\n    };\n\n    EditorCommands.prototype.isFormatMatch = function (name) {\n      return this.editor.formatter.match(name);\n    };\n\n    EditorCommands.prototype.toggleFormat = function (name, value) {\n      this.editor.formatter.toggle(name, value ? {\n        value: value\n      } : undefined);\n      this.editor.nodeChanged();\n    };\n\n    EditorCommands.prototype.storeSelection = function (type) {\n      this.selectionBookmark = this.editor.selection.getBookmark(type);\n    };\n\n    EditorCommands.prototype.restoreSelection = function () {\n      this.editor.selection.moveToBookmark(this.selectionBookmark);\n    };\n\n    EditorCommands.prototype.setupCommands = function (editor) {\n      var self = this;\n      this.addCommands({\n        'mceResetDesignMode,mceBeginUndoLevel': function mceResetDesignModeMceBeginUndoLevel() {},\n        'mceEndUndoLevel,mceAddUndoLevel': function mceEndUndoLevelMceAddUndoLevel() {\n          editor.undoManager.add();\n        },\n        'Cut,Copy,Paste': function CutCopyPaste(command) {\n          var doc = editor.getDoc();\n          var failed;\n\n          try {\n            self.execNativeCommand(command);\n          } catch (ex) {\n            failed = true;\n          }\n\n          if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n            failed = true;\n          }\n\n          if (failed || !doc.queryCommandSupported(command)) {\n            var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n\n            if (Env.mac) {\n              msg = msg.replace(/Ctrl\\+/g, \"\\u2318+\");\n            }\n\n            editor.notificationManager.open({\n              text: msg,\n              type: 'error'\n            });\n          }\n        },\n        'unlink': function unlink() {\n          if (editor.selection.isCollapsed()) {\n            var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n\n            if (elm) {\n              editor.dom.remove(elm, true);\n            }\n\n            return;\n          }\n\n          editor.formatter.remove('link');\n        },\n        'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function JustifyLeftJustifyCenterJustifyRightJustifyFullJustifyNone(command) {\n          var align = command.substring(7);\n\n          if (align === 'full') {\n            align = 'justify';\n          }\n\n          each$g('left,center,right,justify'.split(','), function (name) {\n            if (align !== name) {\n              editor.formatter.remove('align' + name);\n            }\n          });\n\n          if (align !== 'none') {\n            self.toggleFormat('align' + align);\n          }\n        },\n        'InsertUnorderedList,InsertOrderedList': function InsertUnorderedListInsertOrderedList(command) {\n          var listElm, listParent;\n          self.execNativeCommand(command);\n          listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n\n          if (listElm) {\n            listParent = listElm.parentNode;\n\n            if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n              self.storeSelection();\n              editor.dom.split(listParent, listElm);\n              self.restoreSelection();\n            }\n          }\n        },\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function BoldItalicUnderlineStrikethroughSuperscriptSubscript(command) {\n          self.toggleFormat(command);\n        },\n        'ForeColor,HiliteColor': function ForeColorHiliteColor(command, ui, value) {\n          self.toggleFormat(command, value);\n        },\n        'FontName': function FontName(command, ui, value) {\n          fontNameAction(editor, value);\n        },\n        'FontSize': function FontSize(command, ui, value) {\n          fontSizeAction(editor, value);\n        },\n        'RemoveFormat': function RemoveFormat(command) {\n          editor.formatter.remove(command);\n        },\n        'mceBlockQuote': function mceBlockQuote() {\n          self.toggleFormat('blockquote');\n        },\n        'FormatBlock': function FormatBlock(command, ui, value) {\n          return self.toggleFormat(value || 'p');\n        },\n        'mceCleanup': function mceCleanup() {\n          var bookmark = editor.selection.getBookmark();\n          editor.setContent(editor.getContent());\n          editor.selection.moveToBookmark(bookmark);\n        },\n        'mceRemoveNode': function mceRemoveNode(command, ui, value) {\n          var node = value || editor.selection.getNode();\n\n          if (node !== editor.getBody()) {\n            self.storeSelection();\n            editor.dom.remove(node, true);\n            self.restoreSelection();\n          }\n        },\n        'mceSelectNodeDepth': function mceSelectNodeDepth(command, ui, value) {\n          var counter = 0;\n          editor.dom.getParent(editor.selection.getNode(), function (node) {\n            if (node.nodeType === 1 && counter++ === value) {\n              editor.selection.select(node);\n              return false;\n            }\n          }, editor.getBody());\n        },\n        'mceSelectNode': function mceSelectNode(command, ui, value) {\n          editor.selection.select(value);\n        },\n        'mceInsertContent': function mceInsertContent(command, ui, value) {\n          InsertContent.insertAtCaret(editor, value);\n        },\n        'mceInsertRawHTML': function mceInsertRawHTML(command, ui, value) {\n          editor.selection.setContent('tiny_mce_marker');\n          var content = editor.getContent();\n          editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n            return value;\n          }));\n        },\n        'mceInsertNewLine': function mceInsertNewLine(command, ui, value) {\n          InsertNewLine.insert(editor, value);\n        },\n        'mceToggleFormat': function mceToggleFormat(command, ui, value) {\n          self.toggleFormat(value);\n        },\n        'mceSetContent': function mceSetContent(command, ui, value) {\n          editor.setContent(value);\n        },\n        'Indent,Outdent': function IndentOutdent(command) {\n          handle(editor, command);\n        },\n        'mceRepaint': function mceRepaint() {},\n        'InsertHorizontalRule': function InsertHorizontalRule() {\n          editor.execCommand('mceInsertContent', false, '<hr />');\n        },\n        'mceToggleVisualAid': function mceToggleVisualAid() {\n          editor.hasVisual = !editor.hasVisual;\n          editor.addVisual();\n        },\n        'mceReplaceContent': function mceReplaceContent(command, ui, value) {\n          editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({\n            format: 'text'\n          })));\n        },\n        'mceInsertLink': function mceInsertLink(command, ui, value) {\n          var anchor;\n\n          if (typeof value === 'string') {\n            value = {\n              href: value\n            };\n          }\n\n          anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n          value.href = value.href.replace(/ /g, '%20');\n\n          if (!anchor || !value.href) {\n            editor.formatter.remove('link');\n          }\n\n          if (value.href) {\n            editor.formatter.apply('link', value, anchor);\n          }\n        },\n        'selectAll': function selectAll() {\n          var editingHost = editor.dom.getParent(editor.selection.getStart(), NodeType.isContentEditableTrue);\n\n          if (editingHost) {\n            var rng = editor.dom.createRng();\n            rng.selectNodeContents(editingHost);\n            editor.selection.setRng(rng);\n          }\n        },\n        'delete': function _delete() {\n          DeleteCommands.deleteCommand(editor);\n        },\n        'forwardDelete': function forwardDelete() {\n          DeleteCommands.forwardDeleteCommand(editor);\n        },\n        'mceNewDocument': function mceNewDocument() {\n          editor.setContent('');\n        },\n        'InsertLineBreak': function InsertLineBreak(command, ui, value) {\n          InsertBr.insert(editor, value);\n          return true;\n        }\n      });\n\n      var alignStates = function alignStates(name) {\n        return function () {\n          var nodes = editor.selection.isCollapsed() ? [editor.dom.getParent(editor.selection.getNode(), editor.dom.isBlock)] : editor.selection.getSelectedBlocks();\n          var matches = map$3(nodes, function (node) {\n            return !!editor.formatter.matchNode(node, name);\n          });\n          return inArray$2(matches, true) !== -1;\n        };\n      };\n\n      self.addCommands({\n        'JustifyLeft': alignStates('alignleft'),\n        'JustifyCenter': alignStates('aligncenter'),\n        'JustifyRight': alignStates('alignright'),\n        'JustifyFull': alignStates('alignjustify'),\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function BoldItalicUnderlineStrikethroughSuperscriptSubscript(command) {\n          return self.isFormatMatch(command);\n        },\n        'mceBlockQuote': function mceBlockQuote() {\n          return self.isFormatMatch('blockquote');\n        },\n        'Outdent': function Outdent() {\n          return canOutdent(editor);\n        },\n        'InsertUnorderedList,InsertOrderedList': function InsertUnorderedListInsertOrderedList(command) {\n          var list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n          return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n        }\n      }, 'state');\n      self.addCommands({\n        Undo: function Undo() {\n          editor.undoManager.undo();\n        },\n        Redo: function Redo() {\n          editor.undoManager.redo();\n        }\n      });\n      self.addQueryValueHandler('FontName', function () {\n        return fontNameQuery(editor);\n      }, this);\n      self.addQueryValueHandler('FontSize', function () {\n        return fontSizeQuery(editor);\n      }, this);\n    };\n\n    return EditorCommands;\n  }();\n\n  var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend', ' ');\n\n  var EventDispatcher = function () {\n    function EventDispatcher(settings) {\n      this.bindings = {};\n      this.settings = settings || {};\n      this.scope = this.settings.scope || this;\n      this.toggleEvent = this.settings.toggleEvent || never;\n    }\n\n    EventDispatcher.isNative = function (name) {\n      return !!nativeEvents[name.toLowerCase()];\n    };\n\n    EventDispatcher.prototype.fire = function (name, args) {\n      var handlers, i, l, callback;\n      name = name.toLowerCase();\n      args = args || {};\n      args.type = name;\n\n      if (!args.target) {\n        args.target = this.scope;\n      }\n\n      if (!args.preventDefault) {\n        args.preventDefault = function () {\n          args.isDefaultPrevented = always;\n        };\n\n        args.stopPropagation = function () {\n          args.isPropagationStopped = always;\n        };\n\n        args.stopImmediatePropagation = function () {\n          args.isImmediatePropagationStopped = always;\n        };\n\n        args.isDefaultPrevented = never;\n        args.isPropagationStopped = never;\n        args.isImmediatePropagationStopped = never;\n      }\n\n      if (this.settings.beforeFire) {\n        this.settings.beforeFire(args);\n      }\n\n      handlers = this.bindings[name];\n\n      if (handlers) {\n        for (i = 0, l = handlers.length; i < l; i++) {\n          callback = handlers[i];\n\n          if (callback.once) {\n            this.off(name, callback.func);\n          }\n\n          if (args.isImmediatePropagationStopped()) {\n            args.stopPropagation();\n            return args;\n          }\n\n          if (callback.func.call(this.scope, args) === false) {\n            args.preventDefault();\n            return args;\n          }\n        }\n      }\n\n      return args;\n    };\n\n    EventDispatcher.prototype.on = function (name, callback, prepend, extra) {\n      var handlers, names, i;\n\n      if (callback === false) {\n        callback = never;\n      }\n\n      if (callback) {\n        var wrappedCallback = {\n          func: callback\n        };\n\n        if (extra) {\n          Tools.extend(wrappedCallback, extra);\n        }\n\n        names = name.toLowerCase().split(' ');\n        i = names.length;\n\n        while (i--) {\n          name = names[i];\n          handlers = this.bindings[name];\n\n          if (!handlers) {\n            handlers = this.bindings[name] = [];\n            this.toggleEvent(name, true);\n          }\n\n          if (prepend) {\n            handlers.unshift(wrappedCallback);\n          } else {\n            handlers.push(wrappedCallback);\n          }\n        }\n      }\n\n      return this;\n    };\n\n    EventDispatcher.prototype.off = function (name, callback) {\n      var i, handlers, bindingName, names, hi;\n\n      if (name) {\n        names = name.toLowerCase().split(' ');\n        i = names.length;\n\n        while (i--) {\n          name = names[i];\n          handlers = this.bindings[name];\n\n          if (!name) {\n            for (bindingName in this.bindings) {\n              this.toggleEvent(bindingName, false);\n              delete this.bindings[bindingName];\n            }\n\n            return this;\n          }\n\n          if (handlers) {\n            if (!callback) {\n              handlers.length = 0;\n            } else {\n              hi = handlers.length;\n\n              while (hi--) {\n                if (handlers[hi].func === callback) {\n                  handlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));\n                  this.bindings[name] = handlers;\n                }\n              }\n            }\n\n            if (!handlers.length) {\n              this.toggleEvent(name, false);\n              delete this.bindings[name];\n            }\n          }\n        }\n      } else {\n        for (name in this.bindings) {\n          this.toggleEvent(name, false);\n        }\n\n        this.bindings = {};\n      }\n\n      return this;\n    };\n\n    EventDispatcher.prototype.once = function (name, callback, prepend) {\n      return this.on(name, callback, prepend, {\n        once: true\n      });\n    };\n\n    EventDispatcher.prototype.has = function (name) {\n      name = name.toLowerCase();\n      return !(!this.bindings[name] || this.bindings[name].length === 0);\n    };\n\n    return EventDispatcher;\n  }();\n\n  var getEventDispatcher = function getEventDispatcher(obj) {\n    if (!obj._eventDispatcher) {\n      obj._eventDispatcher = new EventDispatcher({\n        scope: obj,\n        toggleEvent: function toggleEvent(name, state) {\n          if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n            obj.toggleNativeEvent(name, state);\n          }\n        }\n      });\n    }\n\n    return obj._eventDispatcher;\n  };\n\n  var Observable = {\n    fire: function fire(name, args, bubble) {\n      var self = this;\n\n      if (self.removed && name !== 'remove' && name !== 'detach') {\n        return args;\n      }\n\n      var dispatcherArgs = getEventDispatcher(self).fire(name, args);\n\n      if (bubble !== false && self.parent) {\n        var parent = self.parent();\n\n        while (parent && !dispatcherArgs.isPropagationStopped()) {\n          parent.fire(name, dispatcherArgs, false);\n          parent = parent.parent();\n        }\n      }\n\n      return dispatcherArgs;\n    },\n    on: function on(name, callback, prepend) {\n      return getEventDispatcher(this).on(name, callback, prepend);\n    },\n    off: function off(name, callback) {\n      return getEventDispatcher(this).off(name, callback);\n    },\n    once: function once(name, callback) {\n      return getEventDispatcher(this).once(name, callback);\n    },\n    hasEventListeners: function hasEventListeners(name) {\n      return getEventDispatcher(this).has(name);\n    }\n  };\n  var DOM$7 = DOMUtils$1.DOM;\n  var customEventRootDelegates;\n\n  var getEventTarget = function getEventTarget(editor, eventName) {\n    if (eventName === 'selectionchange') {\n      return editor.getDoc();\n    }\n\n    if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n      return editor.getDoc().documentElement;\n    }\n\n    if (editor.settings.event_root) {\n      if (!editor.eventRoot) {\n        editor.eventRoot = DOM$7.select(editor.settings.event_root)[0];\n      }\n\n      return editor.eventRoot;\n    }\n\n    return editor.getBody();\n  };\n\n  var isListening = function isListening(editor) {\n    return !editor.hidden && !_isReadOnly(editor);\n  };\n\n  var fireEvent = function fireEvent(editor, eventName, e) {\n    if (isListening(editor)) {\n      editor.fire(eventName, e);\n    } else if (_isReadOnly(editor)) {\n      preventReadOnlyEvents(e);\n    }\n  };\n\n  var bindEventDelegate = function bindEventDelegate(editor, eventName) {\n    var eventRootElm, delegate;\n\n    if (!editor.delegates) {\n      editor.delegates = {};\n    }\n\n    if (editor.delegates[eventName] || editor.removed) {\n      return;\n    }\n\n    eventRootElm = getEventTarget(editor, eventName);\n\n    if (editor.settings.event_root) {\n      if (!customEventRootDelegates) {\n        customEventRootDelegates = {};\n        editor.editorManager.on('removeEditor', function () {\n          var name;\n\n          if (!editor.editorManager.activeEditor) {\n            if (customEventRootDelegates) {\n              for (name in customEventRootDelegates) {\n                editor.dom.unbind(getEventTarget(editor, name));\n              }\n\n              customEventRootDelegates = null;\n            }\n          }\n        });\n      }\n\n      if (customEventRootDelegates[eventName]) {\n        return;\n      }\n\n      delegate = function delegate(e) {\n        var target = e.target;\n        var editors = editor.editorManager.get();\n        var i = editors.length;\n\n        while (i--) {\n          var body = editors[i].getBody();\n\n          if (body === target || DOM$7.isChildOf(target, body)) {\n            fireEvent(editors[i], eventName, e);\n          }\n        }\n      };\n\n      customEventRootDelegates[eventName] = delegate;\n      DOM$7.bind(eventRootElm, eventName, delegate);\n    } else {\n      delegate = function delegate(e) {\n        fireEvent(editor, eventName, e);\n      };\n\n      DOM$7.bind(eventRootElm, eventName, delegate);\n      editor.delegates[eventName] = delegate;\n    }\n  };\n\n  var EditorObservable = _assign({}, Observable, {\n    bindPendingEventDelegates: function bindPendingEventDelegates() {\n      var self = this;\n      Tools.each(self._pendingNativeEvents, function (name) {\n        bindEventDelegate(self, name);\n      });\n    },\n    toggleNativeEvent: function toggleNativeEvent(name, state) {\n      var self = this;\n\n      if (name === 'focus' || name === 'blur') {\n        return;\n      }\n\n      if (state) {\n        if (self.initialized) {\n          bindEventDelegate(self, name);\n        } else {\n          if (!self._pendingNativeEvents) {\n            self._pendingNativeEvents = [name];\n          } else {\n            self._pendingNativeEvents.push(name);\n          }\n        }\n      } else if (self.initialized) {\n        self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n        delete self.delegates[name];\n      }\n    },\n    unbindAllNativeEvents: function unbindAllNativeEvents() {\n      var self = this;\n      var body = self.getBody();\n      var dom = self.dom;\n      var name;\n\n      if (self.delegates) {\n        for (name in self.delegates) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n        }\n\n        delete self.delegates;\n      }\n\n      if (!self.inline && body && dom) {\n        body.onload = null;\n        dom.unbind(self.getWin());\n        dom.unbind(self.getDoc());\n      }\n\n      if (dom) {\n        dom.unbind(body);\n        dom.unbind(self.getContainer());\n      }\n    }\n  });\n\n  var each$h = Tools.each,\n      explode$3 = Tools.explode;\n  var keyCodeLookup = {\n    f1: 112,\n    f2: 113,\n    f3: 114,\n    f4: 115,\n    f5: 116,\n    f6: 117,\n    f7: 118,\n    f8: 119,\n    f9: 120,\n    f10: 121,\n    f11: 122,\n    f12: 123\n  };\n  var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n\n  var Shortcuts = function () {\n    function Shortcuts(editor) {\n      this.shortcuts = {};\n      this.pendingPatterns = [];\n      this.editor = editor;\n      var self = this;\n      editor.on('keyup keypress keydown', function (e) {\n        if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n          each$h(self.shortcuts, function (shortcut) {\n            if (self.matchShortcut(e, shortcut)) {\n              self.pendingPatterns = shortcut.subpatterns.slice(0);\n\n              if (e.type === 'keydown') {\n                self.executeShortcutAction(shortcut);\n              }\n\n              return true;\n            }\n          });\n\n          if (self.matchShortcut(e, self.pendingPatterns[0])) {\n            if (self.pendingPatterns.length === 1) {\n              if (e.type === 'keydown') {\n                self.executeShortcutAction(self.pendingPatterns[0]);\n              }\n            }\n\n            self.pendingPatterns.shift();\n          }\n        }\n      });\n    }\n\n    Shortcuts.prototype.add = function (pattern, desc, cmdFunc, scope) {\n      var self = this;\n      var cmd;\n      cmd = cmdFunc;\n\n      if (typeof cmdFunc === 'string') {\n        cmdFunc = function cmdFunc() {\n          self.editor.execCommand(cmd, false, null);\n        };\n      } else if (Tools.isArray(cmd)) {\n        cmdFunc = function cmdFunc() {\n          self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n        };\n      }\n\n      each$h(explode$3(Tools.trim(pattern)), function (pattern) {\n        var shortcut = self.createShortcut(pattern, desc, cmdFunc, scope);\n        self.shortcuts[shortcut.id] = shortcut;\n      });\n      return true;\n    };\n\n    Shortcuts.prototype.remove = function (pattern) {\n      var shortcut = this.createShortcut(pattern);\n\n      if (this.shortcuts[shortcut.id]) {\n        delete this.shortcuts[shortcut.id];\n        return true;\n      }\n\n      return false;\n    };\n\n    Shortcuts.prototype.parseShortcut = function (pattern) {\n      var id, key;\n      var shortcut = {};\n      each$h(explode$3(pattern.toLowerCase(), '+'), function (value) {\n        if (value in modifierNames) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      id = [shortcut.keyCode];\n\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n\n      shortcut.id = id.join(',');\n\n      if (shortcut.access) {\n        shortcut.alt = true;\n\n        if (Env.mac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n\n      if (shortcut.meta) {\n        if (Env.mac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n\n      return shortcut;\n    };\n\n    Shortcuts.prototype.createShortcut = function (pattern, desc, cmdFunc, scope) {\n      var shortcuts;\n      shortcuts = Tools.map(explode$3(pattern, '>'), this.parseShortcut);\n      shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n        func: cmdFunc,\n        scope: scope || this.editor\n      });\n      return Tools.extend(shortcuts[0], {\n        desc: this.editor.translate(desc),\n        subpatterns: shortcuts.slice(1)\n      });\n    };\n\n    Shortcuts.prototype.hasModifier = function (e) {\n      return e.altKey || e.ctrlKey || e.metaKey;\n    };\n\n    Shortcuts.prototype.isFunctionKey = function (e) {\n      return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n    };\n\n    Shortcuts.prototype.matchShortcut = function (e, shortcut) {\n      if (!shortcut) {\n        return false;\n      }\n\n      if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n        return false;\n      }\n\n      if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n        return false;\n      }\n\n      if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n        e.preventDefault();\n        return true;\n      }\n\n      return false;\n    };\n\n    Shortcuts.prototype.executeShortcutAction = function (shortcut) {\n      return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n    };\n\n    return Shortcuts;\n  }();\n\n  var each$i = Tools.each,\n      trim$4 = Tools.trim;\n  var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n  var DEFAULT_PORTS = {\n    ftp: 21,\n    http: 80,\n    https: 443,\n    mailto: 25\n  };\n\n  var URI = function () {\n    function URI(url, settings) {\n      url = trim$4(url);\n      this.settings = settings || {};\n      var baseUri = this.settings.base_uri;\n      var self = this;\n\n      if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n        self.source = url;\n        return;\n      }\n\n      var isProtocolRelative = url.indexOf('//') === 0;\n\n      if (url.indexOf('/') === 0 && !isProtocolRelative) {\n        url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n      }\n\n      if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n        var baseUrl = this.settings.base_uri ? this.settings.base_uri.path : new URI(domGlobals.document.location.href).directory;\n\n        if (this.settings.base_uri && this.settings.base_uri.protocol == '') {\n          url = '//mce_host' + self.toAbsPath(baseUrl, url);\n        } else {\n          var match = /([^#?]*)([#?]?.*)/.exec(url);\n          url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n        }\n      }\n\n      url = url.replace(/@@/g, '(mce_at)');\n      var urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n      each$i(queryParts, function (v, i) {\n        var part = urlMatch[i];\n\n        if (part) {\n          part = part.replace(/\\(mce_at\\)/g, '@@');\n        }\n\n        self[v] = part;\n      });\n\n      if (baseUri) {\n        if (!self.protocol) {\n          self.protocol = baseUri.protocol;\n        }\n\n        if (!self.userInfo) {\n          self.userInfo = baseUri.userInfo;\n        }\n\n        if (!self.port && self.host === 'mce_host') {\n          self.port = baseUri.port;\n        }\n\n        if (!self.host || self.host === 'mce_host') {\n          self.host = baseUri.host;\n        }\n\n        self.source = '';\n      }\n\n      if (isProtocolRelative) {\n        self.protocol = '';\n      }\n    }\n\n    URI.parseDataUri = function (uri) {\n      var type;\n      var uriComponents = decodeURIComponent(uri).split(',');\n      var matches = /data:([^;]+)/.exec(uriComponents[0]);\n\n      if (matches) {\n        type = matches[1];\n      }\n\n      return {\n        type: type,\n        data: uriComponents[1]\n      };\n    };\n\n    URI.getDocumentBaseUrl = function (loc) {\n      var baseUrl;\n\n      if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n        baseUrl = loc.href;\n      } else {\n        baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n      }\n\n      if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n        baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n\n        if (!/[\\/\\\\]$/.test(baseUrl)) {\n          baseUrl += '/';\n        }\n      }\n\n      return baseUrl;\n    };\n\n    URI.prototype.setPath = function (path) {\n      var pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n      this.path = pathMatch[0];\n      this.directory = pathMatch[1];\n      this.file = pathMatch[2];\n      this.source = '';\n      this.getURI();\n    };\n\n    URI.prototype.toRelative = function (uri) {\n      var output;\n\n      if (uri === './') {\n        return uri;\n      }\n\n      var relativeUri = new URI(uri, {\n        base_uri: this\n      });\n\n      if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n        return relativeUri.getURI();\n      }\n\n      var tu = this.getURI(),\n          uu = relativeUri.getURI();\n\n      if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n        return tu;\n      }\n\n      output = this.toRelPath(this.path, relativeUri.path);\n\n      if (relativeUri.query) {\n        output += '?' + relativeUri.query;\n      }\n\n      if (relativeUri.anchor) {\n        output += '#' + relativeUri.anchor;\n      }\n\n      return output;\n    };\n\n    URI.prototype.toAbsolute = function (uri, noHost) {\n      var absoluteUri = new URI(uri, {\n        base_uri: this\n      });\n      return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n    };\n\n    URI.prototype.isSameOrigin = function (uri) {\n      if (this.host == uri.host && this.protocol == uri.protocol) {\n        if (this.port == uri.port) {\n          return true;\n        }\n\n        var defaultPort = DEFAULT_PORTS[this.protocol];\n\n        if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    URI.prototype.toRelPath = function (base, path) {\n      var items,\n          breakPoint = 0,\n          out = '',\n          i,\n          l;\n      var normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n      items = path.split('/');\n\n      if (normalizedBase.length >= items.length) {\n        for (i = 0, l = normalizedBase.length; i < l; i++) {\n          if (i >= items.length || normalizedBase[i] !== items[i]) {\n            breakPoint = i + 1;\n            break;\n          }\n        }\n      }\n\n      if (normalizedBase.length < items.length) {\n        for (i = 0, l = items.length; i < l; i++) {\n          if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n            breakPoint = i + 1;\n            break;\n          }\n        }\n      }\n\n      if (breakPoint === 1) {\n        return path;\n      }\n\n      for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n        out += '../';\n      }\n\n      for (i = breakPoint - 1, l = items.length; i < l; i++) {\n        if (i !== breakPoint - 1) {\n          out += '/' + items[i];\n        } else {\n          out += items[i];\n        }\n      }\n\n      return out;\n    };\n\n    URI.prototype.toAbsPath = function (base, path) {\n      var i,\n          nb = 0,\n          o = [],\n          tr,\n          outPath;\n      tr = /\\/$/.test(path) ? '/' : '';\n      var normalizedBase = base.split('/');\n      var normalizedPath = path.split('/');\n      each$i(normalizedBase, function (k) {\n        if (k) {\n          o.push(k);\n        }\n      });\n      normalizedBase = o;\n\n      for (i = normalizedPath.length - 1, o = []; i >= 0; i--) {\n        if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n          continue;\n        }\n\n        if (normalizedPath[i] === '..') {\n          nb++;\n          continue;\n        }\n\n        if (nb > 0) {\n          nb--;\n          continue;\n        }\n\n        o.push(normalizedPath[i]);\n      }\n\n      i = normalizedBase.length - nb;\n\n      if (i <= 0) {\n        outPath = o.reverse().join('/');\n      } else {\n        outPath = normalizedBase.slice(0, i).join('/') + '/' + o.reverse().join('/');\n      }\n\n      if (outPath.indexOf('/') !== 0) {\n        outPath = '/' + outPath;\n      }\n\n      if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n        outPath += tr;\n      }\n\n      return outPath;\n    };\n\n    URI.prototype.getURI = function (noProtoHost) {\n      if (noProtoHost === void 0) {\n        noProtoHost = false;\n      }\n\n      var s;\n\n      if (!this.source || noProtoHost) {\n        s = '';\n\n        if (!noProtoHost) {\n          if (this.protocol) {\n            s += this.protocol + '://';\n          } else {\n            s += '//';\n          }\n\n          if (this.userInfo) {\n            s += this.userInfo + '@';\n          }\n\n          if (this.host) {\n            s += this.host;\n          }\n\n          if (this.port) {\n            s += ':' + this.port;\n          }\n        }\n\n        if (this.path) {\n          s += this.path;\n        }\n\n        if (this.query) {\n          s += '?' + this.query;\n        }\n\n        if (this.anchor) {\n          s += '#' + this.anchor;\n        }\n\n        this.source = s;\n      }\n\n      return this.source;\n    };\n\n    return URI;\n  }();\n\n  var create$5 = function create$5() {\n    var buttons = {};\n    var menuItems = {};\n    var popups = {};\n    var icons = {};\n    var contextMenus = {};\n    var contextToolbars = {};\n    var sidebars = {};\n\n    var add = function add(collection, type) {\n      return function (name, spec) {\n        return collection[name.toLowerCase()] = _assign({}, spec, {\n          type: type\n        });\n      };\n    };\n\n    var addIcon = function addIcon(name, svgData) {\n      return icons[name.toLowerCase()] = svgData;\n    };\n\n    return {\n      addButton: add(buttons, 'button'),\n      addToggleButton: add(buttons, 'togglebutton'),\n      addMenuButton: add(buttons, 'menubutton'),\n      addSplitButton: add(buttons, 'splitbutton'),\n      addMenuItem: add(menuItems, 'menuitem'),\n      addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n      addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n      addAutocompleter: add(popups, 'autocompleter'),\n      addContextMenu: add(contextMenus, 'contextmenu'),\n      addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n      addContextForm: add(contextToolbars, 'contextform'),\n      addSidebar: add(sidebars, 'sidebar'),\n      addIcon: addIcon,\n      getAll: function getAll() {\n        return {\n          buttons: buttons,\n          menuItems: menuItems,\n          icons: icons,\n          popups: popups,\n          contextMenus: contextMenus,\n          contextToolbars: contextToolbars,\n          sidebars: sidebars\n        };\n      }\n    };\n  };\n\n  var registry = function registry() {\n    var bridge = create$5();\n    return {\n      addAutocompleter: bridge.addAutocompleter,\n      addButton: bridge.addButton,\n      addContextForm: bridge.addContextForm,\n      addContextMenu: bridge.addContextMenu,\n      addContextToolbar: bridge.addContextToolbar,\n      addIcon: bridge.addIcon,\n      addMenuButton: bridge.addMenuButton,\n      addMenuItem: bridge.addMenuItem,\n      addNestedMenuItem: bridge.addNestedMenuItem,\n      addSidebar: bridge.addSidebar,\n      addSplitButton: bridge.addSplitButton,\n      addToggleButton: bridge.addToggleButton,\n      addToggleMenuItem: bridge.addToggleMenuItem,\n      getAll: bridge.getAll\n    };\n  };\n\n  var DOM$8 = DOMUtils$1.DOM;\n  var extend$3 = Tools.extend,\n      each$j = Tools.each;\n  var resolve$3 = Tools.resolve;\n  var ie$2 = Env.ie;\n\n  var Editor = function () {\n    function Editor(id, settings, editorManager) {\n      var _this = this;\n\n      this.plugins = {};\n      this.contentCSS = [];\n      this.contentStyles = [];\n      this.loadedCSS = {};\n      this.isNotDirty = false;\n      this.editorManager = editorManager;\n      this.documentBaseUrl = editorManager.documentBaseURL;\n      extend$3(this, EditorObservable);\n      this.settings = getEditorSettings(this, id, this.documentBaseUrl, editorManager.defaultSettings, settings);\n\n      if (this.settings.suffix) {\n        editorManager.suffix = this.settings.suffix;\n      }\n\n      this.suffix = editorManager.suffix;\n\n      if (this.settings.base_url) {\n        editorManager._setBaseUrl(this.settings.base_url);\n      }\n\n      this.baseUri = editorManager.baseURI;\n      AddOnManager$1.languageLoad = this.settings.language_load;\n      AddOnManager$1.baseURL = editorManager.baseURL;\n      this.id = id;\n      this.setDirty(false);\n      this.documentBaseURI = new URI(this.settings.document_base_url, {\n        base_uri: this.baseUri\n      });\n      this.baseURI = this.baseUri;\n      this.inline = this.settings.inline;\n      this.shortcuts = new Shortcuts(this);\n      this.editorCommands = new EditorCommands(this);\n\n      if (this.settings.cache_suffix) {\n        Env.cacheSuffix = this.settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n      }\n\n      this.ui = {\n        registry: registry()\n      };\n      var self = this;\n      var modeInstance = create$4(self);\n      this.mode = modeInstance;\n      this.setMode = modeInstance.set;\n      editorManager.fire('SetupEditor', {\n        editor: this\n      });\n      this.execCallback('setup', this);\n      this.$ = DomQuery.overrideDefaults(function () {\n        return {\n          context: _this.inline ? _this.getBody() : _this.getDoc(),\n          element: _this.getBody()\n        };\n      });\n    }\n\n    Editor.prototype.render = function () {\n      Render.render(this);\n    };\n\n    Editor.prototype.focus = function (skipFocus) {\n      EditorFocus.focus(this, skipFocus);\n    };\n\n    Editor.prototype.hasFocus = function () {\n      return EditorFocus.hasFocus(this);\n    };\n\n    Editor.prototype.execCallback = function (name) {\n      var x = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n\n      var self = this;\n      var callback = self.settings[name],\n          scope;\n\n      if (!callback) {\n        return;\n      }\n\n      if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n        callback = scope.func;\n        scope = scope.scope;\n      }\n\n      if (typeof callback === 'string') {\n        scope = callback.replace(/\\.\\w+$/, '');\n        scope = scope ? resolve$3(scope) : 0;\n        callback = resolve$3(callback);\n        self.callbackLookup = self.callbackLookup || {};\n        self.callbackLookup[name] = {\n          func: callback,\n          scope: scope\n        };\n      }\n\n      return callback.apply(scope || self, Array.prototype.slice.call(arguments, 1));\n    };\n\n    Editor.prototype.translate = function (text) {\n      return I18n.translate(text);\n    };\n\n    Editor.prototype.getParam = function (name, defaultVal, type) {\n      return getParam(this, name, defaultVal, type);\n    };\n\n    Editor.prototype.nodeChanged = function (args) {\n      this._nodeChangeDispatcher.nodeChanged(args);\n    };\n\n    Editor.prototype.addCommand = function (name, callback, scope) {\n      this.editorCommands.addCommand(name, callback, scope);\n    };\n\n    Editor.prototype.addQueryStateHandler = function (name, callback, scope) {\n      this.editorCommands.addQueryStateHandler(name, callback, scope);\n    };\n\n    Editor.prototype.addQueryValueHandler = function (name, callback, scope) {\n      this.editorCommands.addQueryValueHandler(name, callback, scope);\n    };\n\n    Editor.prototype.addShortcut = function (pattern, desc, cmdFunc, scope) {\n      this.shortcuts.add(pattern, desc, cmdFunc, scope);\n    };\n\n    Editor.prototype.execCommand = function (cmd, ui, value, args) {\n      return this.editorCommands.execCommand(cmd, ui, value, args);\n    };\n\n    Editor.prototype.queryCommandState = function (cmd) {\n      return this.editorCommands.queryCommandState(cmd);\n    };\n\n    Editor.prototype.queryCommandValue = function (cmd) {\n      return this.editorCommands.queryCommandValue(cmd);\n    };\n\n    Editor.prototype.queryCommandSupported = function (cmd) {\n      return this.editorCommands.queryCommandSupported(cmd);\n    };\n\n    Editor.prototype.show = function () {\n      var self = this;\n\n      if (self.hidden) {\n        self.hidden = false;\n\n        if (self.inline) {\n          self.getBody().contentEditable = 'true';\n        } else {\n          DOM$8.show(self.getContainer());\n          DOM$8.hide(self.id);\n        }\n\n        self.load();\n        self.fire('show');\n      }\n    };\n\n    Editor.prototype.hide = function () {\n      var self = this,\n          doc = self.getDoc();\n\n      if (!self.hidden) {\n        if (ie$2 && doc && !self.inline) {\n          doc.execCommand('SelectAll');\n        }\n\n        self.save();\n\n        if (self.inline) {\n          self.getBody().contentEditable = 'false';\n\n          if (self === self.editorManager.focusedEditor) {\n            self.editorManager.focusedEditor = null;\n          }\n        } else {\n          DOM$8.hide(self.getContainer());\n          DOM$8.setStyle(self.id, 'display', self.orgDisplay);\n        }\n\n        self.hidden = true;\n        self.fire('hide');\n      }\n    };\n\n    Editor.prototype.isHidden = function () {\n      return !!this.hidden;\n    };\n\n    Editor.prototype.setProgressState = function (state, time) {\n      this.fire('ProgressState', {\n        state: state,\n        time: time\n      });\n    };\n\n    Editor.prototype.load = function (args) {\n      var self = this;\n      var elm = self.getElement(),\n          html;\n\n      if (self.removed) {\n        return '';\n      }\n\n      if (elm) {\n        args = args || {};\n        args.load = true;\n        var value = NodeType.isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n        html = self.setContent(value, args);\n        args.element = elm;\n\n        if (!args.no_events) {\n          self.fire('LoadContent', args);\n        }\n\n        args.element = elm = null;\n        return html;\n      }\n    };\n\n    Editor.prototype.save = function (args) {\n      var self = this;\n      var elm = self.getElement(),\n          html,\n          form;\n\n      if (!elm || !self.initialized || self.removed) {\n        return;\n      }\n\n      args = args || {};\n      args.save = true;\n      args.element = elm;\n      html = args.content = self.getContent(args);\n\n      if (!args.no_events) {\n        self.fire('SaveContent', args);\n      }\n\n      if (args.format === 'raw') {\n        self.fire('RawSaveContent', args);\n      }\n\n      html = args.content;\n\n      if (!NodeType.isTextareaOrInput(elm)) {\n        if (args.is_removing || !self.inline) {\n          elm.innerHTML = html;\n        }\n\n        if (form = DOM$8.getParent(self.id, 'form')) {\n          each$j(form.elements, function (elm) {\n            if (elm.name === self.id) {\n              elm.value = html;\n              return false;\n            }\n          });\n        }\n      } else {\n        elm.value = html;\n      }\n\n      args.element = elm = null;\n\n      if (args.set_dirty !== false) {\n        self.setDirty(false);\n      }\n\n      return html;\n    };\n\n    Editor.prototype.setContent = function (content, args) {\n      return setContent(this, content, args);\n    };\n\n    Editor.prototype.getContent = function (args) {\n      return getContent(this, args);\n    };\n\n    Editor.prototype.insertContent = function (content, args) {\n      if (args) {\n        content = extend$3({\n          content: content\n        }, args);\n      }\n\n      this.execCommand('mceInsertContent', false, content);\n    };\n\n    Editor.prototype.resetContent = function (initialContent) {\n      if (initialContent === undefined) {\n        setContent(this, this.startContent, {\n          format: 'raw'\n        });\n      } else {\n        setContent(this, initialContent);\n      }\n\n      this.undoManager.reset();\n      this.setDirty(false);\n      this.nodeChanged();\n    };\n\n    Editor.prototype.isDirty = function () {\n      return !this.isNotDirty;\n    };\n\n    Editor.prototype.setDirty = function (state) {\n      var oldState = !this.isNotDirty;\n      this.isNotDirty = !state;\n\n      if (state && state !== oldState) {\n        this.fire('dirty');\n      }\n    };\n\n    Editor.prototype.getContainer = function () {\n      var self = this;\n\n      if (!self.container) {\n        self.container = DOM$8.get(self.editorContainer || self.id + '_parent');\n      }\n\n      return self.container;\n    };\n\n    Editor.prototype.getContentAreaContainer = function () {\n      return this.contentAreaContainer;\n    };\n\n    Editor.prototype.getElement = function () {\n      if (!this.targetElm) {\n        this.targetElm = DOM$8.get(this.id);\n      }\n\n      return this.targetElm;\n    };\n\n    Editor.prototype.getWin = function () {\n      var self = this;\n      var elm;\n\n      if (!self.contentWindow) {\n        elm = self.iframeElement;\n\n        if (elm) {\n          self.contentWindow = elm.contentWindow;\n        }\n      }\n\n      return self.contentWindow;\n    };\n\n    Editor.prototype.getDoc = function () {\n      var self = this;\n      var win;\n\n      if (!self.contentDocument) {\n        win = self.getWin();\n\n        if (win) {\n          self.contentDocument = win.document;\n        }\n      }\n\n      return self.contentDocument;\n    };\n\n    Editor.prototype.getBody = function () {\n      var doc = this.getDoc();\n      return this.bodyElement || (doc ? doc.body : null);\n    };\n\n    Editor.prototype.convertURL = function (url, name, elm) {\n      var self = this,\n          settings = self.settings;\n\n      if (settings.urlconverter_callback) {\n        return self.execCallback('urlconverter_callback', url, elm, true, name);\n      }\n\n      if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n        return url;\n      }\n\n      if (settings.relative_urls) {\n        return self.documentBaseURI.toRelative(url);\n      }\n\n      url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n      return url;\n    };\n\n    Editor.prototype.addVisual = function (elm) {\n      var self = this;\n      var settings = self.settings;\n      var dom = self.dom;\n      var cls;\n      elm = elm || self.getBody();\n\n      if (self.hasVisual === undefined) {\n        self.hasVisual = settings.visual;\n      }\n\n      each$j(dom.select('table,a', elm), function (elm) {\n        var value;\n\n        switch (elm.nodeName) {\n          case 'TABLE':\n            cls = settings.visual_table_class || 'mce-item-table';\n            value = dom.getAttrib(elm, 'border');\n\n            if ((!value || value === '0') && self.hasVisual) {\n              dom.addClass(elm, cls);\n            } else {\n              dom.removeClass(elm, cls);\n            }\n\n            return;\n\n          case 'A':\n            if (!dom.getAttrib(elm, 'href')) {\n              value = dom.getAttrib(elm, 'name') || elm.id;\n              cls = settings.visual_anchor_class || 'mce-item-anchor';\n\n              if (value && self.hasVisual) {\n                dom.addClass(elm, cls);\n              } else {\n                dom.removeClass(elm, cls);\n              }\n            }\n\n            return;\n        }\n      });\n      self.fire('VisualAid', {\n        element: elm,\n        hasVisual: self.hasVisual\n      });\n    };\n\n    Editor.prototype.remove = function () {\n      remove$6(this);\n    };\n\n    Editor.prototype.destroy = function (automatic) {\n      destroy(this, automatic);\n    };\n\n    Editor.prototype.uploadImages = function (callback) {\n      return this.editorUpload.uploadImages(callback);\n    };\n\n    Editor.prototype._scanForImages = function () {\n      return this.editorUpload.scanForImages();\n    };\n\n    Editor.prototype.addButton = function () {\n      throw new Error('editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead');\n    };\n\n    Editor.prototype.addSidebar = function () {\n      throw new Error('editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead');\n    };\n\n    Editor.prototype.addMenuItem = function () {\n      throw new Error('editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead');\n    };\n\n    Editor.prototype.addContextToolbar = function () {\n      throw new Error('editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead');\n    };\n\n    return Editor;\n  }();\n\n  var DOM$9 = DOMUtils$1.DOM;\n  var explode$4 = Tools.explode,\n      each$k = Tools.each,\n      extend$4 = Tools.extend;\n  var instanceCounter = 0,\n      boundGlobalEvents = false;\n  var beforeUnloadDelegate;\n  var legacyEditors = [];\n  var editors = [];\n\n  var isValidLegacyKey = function isValidLegacyKey(id) {\n    return id !== 'length';\n  };\n\n  var globalEventDelegate = function globalEventDelegate(e) {\n    var type = e.type;\n    each$k(EditorManager.get(), function (editor) {\n      switch (type) {\n        case 'scroll':\n          editor.fire('ScrollWindow', e);\n          break;\n\n        case 'resize':\n          editor.fire('ResizeWindow', e);\n          break;\n      }\n    });\n  };\n\n  var toggleGlobalEvents = function toggleGlobalEvents(state) {\n    if (state !== boundGlobalEvents) {\n      if (state) {\n        DomQuery(window).on('resize scroll', globalEventDelegate);\n      } else {\n        DomQuery(window).off('resize scroll', globalEventDelegate);\n      }\n\n      boundGlobalEvents = state;\n    }\n  };\n\n  var removeEditorFromList = function removeEditorFromList(targetEditor) {\n    var oldEditors = editors;\n    delete legacyEditors[targetEditor.id];\n\n    for (var i = 0; i < legacyEditors.length; i++) {\n      if (legacyEditors[i] === targetEditor) {\n        legacyEditors.splice(i, 1);\n        break;\n      }\n    }\n\n    editors = filter(editors, function (editor) {\n      return targetEditor !== editor;\n    });\n\n    if (EditorManager.activeEditor === targetEditor) {\n      EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n    }\n\n    if (EditorManager.focusedEditor === targetEditor) {\n      EditorManager.focusedEditor = null;\n    }\n\n    return oldEditors.length !== editors.length;\n  };\n\n  var purgeDestroyedEditor = function purgeDestroyedEditor(editor) {\n    if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n      removeEditorFromList(editor);\n      editor.unbindAllNativeEvents();\n      editor.destroy(true);\n      editor.removed = true;\n      editor = null;\n    }\n\n    return editor;\n  };\n\n  var isQuirksMode = domGlobals.document.compatMode !== 'CSS1Compat';\n\n  var EditorManager = _assign({}, Observable, {\n    baseURI: null,\n    baseURL: null,\n    defaultSettings: {},\n    documentBaseURL: null,\n    suffix: null,\n    $: DomQuery,\n    majorVersion: '5',\n    minorVersion: '0.15',\n    releaseDate: '2019-09-02',\n    editors: legacyEditors,\n    i18n: I18n,\n    activeEditor: null,\n    focusedEditor: null,\n    settings: {},\n    setup: function setup() {\n      var self = this;\n      var baseURL,\n          documentBaseURL,\n          suffix = '',\n          preInit,\n          src;\n      documentBaseURL = URI.getDocumentBaseUrl(domGlobals.document.location);\n\n      if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n        documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n\n        if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n          documentBaseURL += '/';\n        }\n      }\n\n      preInit = window.tinymce || window.tinyMCEPreInit;\n\n      if (preInit) {\n        baseURL = preInit.base || preInit.baseURL;\n        suffix = preInit.suffix;\n      } else {\n        var scripts = domGlobals.document.getElementsByTagName('script');\n\n        for (var i = 0; i < scripts.length; i++) {\n          src = scripts[i].src;\n          var srcScript = src.substring(src.lastIndexOf('/'));\n\n          if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n            if (srcScript.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n            break;\n          }\n        }\n\n        if (!baseURL && domGlobals.document.currentScript) {\n          src = domGlobals.document.currentScript.src;\n\n          if (src.indexOf('.min') !== -1) {\n            suffix = '.min';\n          }\n\n          baseURL = src.substring(0, src.lastIndexOf('/'));\n        }\n      }\n\n      self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n      self.documentBaseURL = documentBaseURL;\n      self.baseURI = new URI(self.baseURL);\n      self.suffix = suffix;\n      FocusController.setup(self);\n    },\n    overrideDefaults: function overrideDefaults(defaultSettings) {\n      var baseUrl, suffix;\n      baseUrl = defaultSettings.base_url;\n\n      if (baseUrl) {\n        this._setBaseUrl(baseUrl);\n      }\n\n      suffix = defaultSettings.suffix;\n\n      if (defaultSettings.suffix) {\n        this.suffix = suffix;\n      }\n\n      this.defaultSettings = defaultSettings;\n      var pluginBaseUrls = defaultSettings.plugin_base_urls;\n\n      for (var name in pluginBaseUrls) {\n        AddOnManager$1.PluginManager.urls[name] = pluginBaseUrls[name];\n      }\n    },\n    init: function init(settings) {\n      var self = this;\n      var result, invalidInlineTargets;\n      invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n\n      var isInvalidInlineTarget = function isInvalidInlineTarget(settings, elm) {\n        return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n      };\n\n      var createId = function createId(elm) {\n        var id = elm.id;\n\n        if (!id) {\n          id = elm.name;\n\n          if (id && !DOM$9.get(id)) {\n            id = elm.name;\n          } else {\n            id = DOM$9.uniqueId();\n          }\n\n          elm.setAttribute('id', id);\n        }\n\n        return id;\n      };\n\n      var execCallback = function execCallback(name) {\n        var callback = settings[name];\n\n        if (!callback) {\n          return;\n        }\n\n        return callback.apply(self, Array.prototype.slice.call(arguments, 2));\n      };\n\n      var hasClass = function hasClass(elm, className) {\n        return className.constructor === RegExp ? className.test(elm.className) : DOM$9.hasClass(elm, className);\n      };\n\n      var findTargets = function findTargets(settings) {\n        var l,\n            targets = [];\n\n        if (Env.ie && Env.ie < 11) {\n          ErrorReporter.initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n          return [];\n        } else if (isQuirksMode) {\n          ErrorReporter.initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n          return [];\n        }\n\n        if (settings.types) {\n          each$k(settings.types, function (type) {\n            targets = targets.concat(DOM$9.select(type.selector));\n          });\n          return targets;\n        } else if (settings.selector) {\n          return DOM$9.select(settings.selector);\n        } else if (settings.target) {\n          return [settings.target];\n        }\n\n        switch (settings.mode) {\n          case 'exact':\n            l = settings.elements || '';\n\n            if (l.length > 0) {\n              each$k(explode$4(l), function (id) {\n                var elm;\n\n                if (elm = DOM$9.get(id)) {\n                  targets.push(elm);\n                } else {\n                  each$k(domGlobals.document.forms, function (f) {\n                    each$k(f.elements, function (e) {\n                      if (e.name === id) {\n                        id = 'mce_editor_' + instanceCounter++;\n                        DOM$9.setAttrib(e, 'id', id);\n                        targets.push(e);\n                      }\n                    });\n                  });\n                }\n              });\n            }\n\n            break;\n\n          case 'textareas':\n          case 'specific_textareas':\n            each$k(DOM$9.select('textarea'), function (elm) {\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n                return;\n              }\n\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n                targets.push(elm);\n              }\n            });\n            break;\n        }\n\n        return targets;\n      };\n\n      var provideResults = function provideResults(editors) {\n        result = editors;\n      };\n\n      var initEditors = function initEditors() {\n        var initCount = 0;\n        var editors = [];\n        var targets;\n\n        var createEditor = function createEditor(id, settings, targetElm) {\n          var editor = new Editor(id, settings, self);\n          editors.push(editor);\n          editor.on('init', function () {\n            if (++initCount === targets.length) {\n              provideResults(editors);\n            }\n          });\n          editor.targetElm = editor.targetElm || targetElm;\n          editor.render();\n        };\n\n        DOM$9.unbind(window, 'ready', initEditors);\n        execCallback('onpageload');\n        targets = DomQuery.unique(findTargets(settings));\n\n        if (settings.types) {\n          each$k(settings.types, function (type) {\n            Tools.each(targets, function (elm) {\n              if (DOM$9.is(elm, type.selector)) {\n                createEditor(createId(elm), extend$4({}, settings, type), elm);\n                return false;\n              }\n\n              return true;\n            });\n          });\n          return;\n        }\n\n        Tools.each(targets, function (elm) {\n          purgeDestroyedEditor(self.get(elm.id));\n        });\n        targets = Tools.grep(targets, function (elm) {\n          return !self.get(elm.id);\n        });\n\n        if (targets.length === 0) {\n          provideResults([]);\n        } else {\n          each$k(targets, function (elm) {\n            if (isInvalidInlineTarget(settings, elm)) {\n              ErrorReporter.initError('Could not initialize inline editor on invalid inline target element', elm);\n            } else {\n              createEditor(createId(elm), settings, elm);\n            }\n          });\n        }\n      };\n\n      self.settings = settings;\n      DOM$9.bind(window, 'ready', initEditors);\n      return new promiseObj(function (resolve) {\n        if (result) {\n          resolve(result);\n        } else {\n          provideResults = function provideResults(editors) {\n            resolve(editors);\n          };\n        }\n      });\n    },\n    get: function get(id) {\n      if (arguments.length === 0) {\n        return editors.slice(0);\n      } else if (isString(id)) {\n        return find(editors, function (editor) {\n          return editor.id === id;\n        }).getOr(null);\n      } else if (isNumber(id)) {\n        return editors[id] ? editors[id] : null;\n      } else {\n        return null;\n      }\n    },\n    add: function add(editor) {\n      var self = this;\n      var existingEditor;\n      existingEditor = legacyEditors[editor.id];\n\n      if (existingEditor === editor) {\n        return editor;\n      }\n\n      if (self.get(editor.id) === null) {\n        if (isValidLegacyKey(editor.id)) {\n          legacyEditors[editor.id] = editor;\n        }\n\n        legacyEditors.push(editor);\n        editors.push(editor);\n      }\n\n      toggleGlobalEvents(true);\n      self.activeEditor = editor;\n      self.fire('AddEditor', {\n        editor: editor\n      });\n\n      if (!beforeUnloadDelegate) {\n        beforeUnloadDelegate = function beforeUnloadDelegate(e) {\n          var event = self.fire('BeforeUnload');\n\n          if (event.returnValue) {\n            e.preventDefault();\n            e.returnValue = event.returnValue;\n            return event.returnValue;\n          }\n        };\n\n        window.addEventListener('beforeunload', beforeUnloadDelegate);\n      }\n\n      return editor;\n    },\n    createEditor: function createEditor(id, settings) {\n      return this.add(new Editor(id, settings, this));\n    },\n    remove: function remove(selector) {\n      var self = this;\n      var i, editor;\n\n      if (!selector) {\n        for (i = editors.length - 1; i >= 0; i--) {\n          self.remove(editors[i]);\n        }\n\n        return;\n      }\n\n      if (isString(selector)) {\n        each$k(DOM$9.select(selector), function (elm) {\n          editor = self.get(elm.id);\n\n          if (editor) {\n            self.remove(editor);\n          }\n        });\n        return;\n      }\n\n      editor = selector;\n\n      if (isNull(self.get(editor.id))) {\n        return null;\n      }\n\n      if (removeEditorFromList(editor)) {\n        self.fire('RemoveEditor', {\n          editor: editor\n        });\n      }\n\n      if (editors.length === 0) {\n        window.removeEventListener('beforeunload', beforeUnloadDelegate);\n      }\n\n      editor.remove();\n      toggleGlobalEvents(editors.length > 0);\n      return editor;\n    },\n    execCommand: function execCommand(cmd, ui, value) {\n      var self = this,\n          editor = self.get(value);\n\n      switch (cmd) {\n        case 'mceAddEditor':\n          if (!self.get(value)) {\n            new Editor(value, self.settings, self).render();\n          }\n\n          return true;\n\n        case 'mceRemoveEditor':\n          if (editor) {\n            editor.remove();\n          }\n\n          return true;\n\n        case 'mceToggleEditor':\n          if (!editor) {\n            self.execCommand('mceAddEditor', 0, value);\n            return true;\n          }\n\n          if (editor.isHidden()) {\n            editor.show();\n          } else {\n            editor.hide();\n          }\n\n          return true;\n      }\n\n      if (self.activeEditor) {\n        return self.activeEditor.execCommand(cmd, ui, value);\n      }\n\n      return false;\n    },\n    triggerSave: function triggerSave() {\n      each$k(editors, function (editor) {\n        editor.save();\n      });\n    },\n    addI18n: function addI18n(code, items) {\n      I18n.add(code, items);\n    },\n    translate: function translate(text) {\n      return I18n.translate(text);\n    },\n    setActive: function setActive(editor) {\n      var activeEditor = this.activeEditor;\n\n      if (this.activeEditor !== editor) {\n        if (activeEditor) {\n          activeEditor.fire('deactivate', {\n            relatedTarget: editor\n          });\n        }\n\n        editor.fire('activate', {\n          relatedTarget: activeEditor\n        });\n      }\n\n      this.activeEditor = editor;\n    },\n    _setBaseUrl: function _setBaseUrl(baseUrl) {\n      this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n      this.baseURI = new URI(this.baseURL);\n    }\n  });\n\n  EditorManager.setup();\n\n  function RangeUtils(dom) {\n    var walk = function walk(rng, callback) {\n      return RangeWalk.walk(dom, rng, callback);\n    };\n\n    var split = split$1;\n\n    var normalize = function normalize(rng) {\n      return NormalizeRange.normalize(dom, rng).fold(constant(false), function (normalizedRng) {\n        rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n        rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n        return true;\n      });\n    };\n\n    return {\n      walk: walk,\n      split: split,\n      normalize: normalize\n    };\n  }\n\n  (function (RangeUtils) {\n    RangeUtils.compareRanges = RangeCompare.isEq;\n    RangeUtils.getCaretRangeFromPoint = CaretRangeFromPoint.fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode;\n  })(RangeUtils || (RangeUtils = {}));\n\n  var RangeUtils$1 = RangeUtils;\n\n  var awaiter = function awaiter(resolveCb, rejectCb, timeout) {\n    if (timeout === void 0) {\n      timeout = 1000;\n    }\n\n    var done = false;\n    var timer = null;\n\n    var complete = function complete(completer) {\n      return function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        if (!done) {\n          done = true;\n\n          if (timer !== null) {\n            domGlobals.clearTimeout(timer);\n            timer = null;\n          }\n\n          completer.apply(null, args);\n        }\n      };\n    };\n\n    var resolve = complete(resolveCb);\n    var reject = complete(rejectCb);\n\n    var start = function start() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      if (!done && timer === null) {\n        timer = domGlobals.setTimeout(function () {\n          return reject.apply(null, args);\n        }, timeout);\n      }\n    };\n\n    return {\n      start: start,\n      resolve: resolve,\n      reject: reject\n    };\n  };\n\n  var create$6 = function create$6() {\n    var tasks = {};\n    var resultFns = {};\n\n    var load = function load(id, url) {\n      var loadErrMsg = 'Script at URL \"' + url + '\" failed to load';\n      var runErrMsg = 'Script at URL \"' + url + '\" did not call `tinymce.Resource.add(\\'' + id + '\\', data)` within 1 second';\n\n      if (tasks[id] !== undefined) {\n        return tasks[id];\n      } else {\n        var task = new promiseObj(function (resolve, reject) {\n          var waiter = awaiter(resolve, reject);\n          resultFns[id] = waiter.resolve;\n          ScriptLoader.ScriptLoader.loadScript(url, function () {\n            return waiter.start(runErrMsg);\n          }, function () {\n            return waiter.reject(loadErrMsg);\n          });\n        });\n        tasks[id] = task;\n        return task;\n      }\n    };\n\n    var add = function add(id, data) {\n      if (resultFns[id] !== undefined) {\n        resultFns[id](data);\n        delete resultFns[id];\n      }\n\n      tasks[id] = promiseObj.resolve(data);\n    };\n\n    return {\n      load: load,\n      add: add\n    };\n  };\n\n  var Resource = create$6();\n  var min = Math.min,\n      max = Math.max,\n      round$2 = Math.round;\n\n  var relativePosition = function relativePosition(rect, targetRect, rel) {\n    var x, y, w, h, targetW, targetH;\n    x = targetRect.x;\n    y = targetRect.y;\n    w = rect.w;\n    h = rect.h;\n    targetW = targetRect.w;\n    targetH = targetRect.h;\n    rel = (rel || '').split('');\n\n    if (rel[0] === 'b') {\n      y += targetH;\n    }\n\n    if (rel[1] === 'r') {\n      x += targetW;\n    }\n\n    if (rel[0] === 'c') {\n      y += round$2(targetH / 2);\n    }\n\n    if (rel[1] === 'c') {\n      x += round$2(targetW / 2);\n    }\n\n    if (rel[3] === 'b') {\n      y -= h;\n    }\n\n    if (rel[4] === 'r') {\n      x -= w;\n    }\n\n    if (rel[3] === 'c') {\n      y -= round$2(h / 2);\n    }\n\n    if (rel[4] === 'c') {\n      x -= round$2(w / 2);\n    }\n\n    return create$7(x, y, w, h);\n  };\n\n  var findBestRelativePosition = function findBestRelativePosition(rect, targetRect, constrainRect, rels) {\n    var pos, i;\n\n    for (i = 0; i < rels.length; i++) {\n      pos = relativePosition(rect, targetRect, rels[i]);\n\n      if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n        return rels[i];\n      }\n    }\n\n    return null;\n  };\n\n  var inflate = function inflate(rect, w, h) {\n    return create$7(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n  };\n\n  var intersect = function intersect(rect, cropRect) {\n    var x1, y1, x2, y2;\n    x1 = max(rect.x, cropRect.x);\n    y1 = max(rect.y, cropRect.y);\n    x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n    y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n\n    if (x2 - x1 < 0 || y2 - y1 < 0) {\n      return null;\n    }\n\n    return create$7(x1, y1, x2 - x1, y2 - y1);\n  };\n\n  var clamp$1 = function clamp$1(rect, clampRect, fixedSize) {\n    var underflowX1, underflowY1, overflowX2, overflowY2, x1, y1, x2, y2, cx2, cy2;\n    x1 = rect.x;\n    y1 = rect.y;\n    x2 = rect.x + rect.w;\n    y2 = rect.y + rect.h;\n    cx2 = clampRect.x + clampRect.w;\n    cy2 = clampRect.y + clampRect.h;\n    underflowX1 = max(0, clampRect.x - x1);\n    underflowY1 = max(0, clampRect.y - y1);\n    overflowX2 = max(0, x2 - cx2);\n    overflowY2 = max(0, y2 - cy2);\n    x1 += underflowX1;\n    y1 += underflowY1;\n\n    if (fixedSize) {\n      x2 += underflowX1;\n      y2 += underflowY1;\n      x1 -= overflowX2;\n      y1 -= overflowY2;\n    }\n\n    x2 -= overflowX2;\n    y2 -= overflowY2;\n    return create$7(x1, y1, x2 - x1, y2 - y1);\n  };\n\n  var create$7 = function create$7(x, y, w, h) {\n    return {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    };\n  };\n\n  var fromClientRect = function fromClientRect(clientRect) {\n    return create$7(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n  };\n\n  var Rect = {\n    inflate: inflate,\n    relativePosition: relativePosition,\n    findBestRelativePosition: findBestRelativePosition,\n    intersect: intersect,\n    clamp: clamp$1,\n    create: create$7,\n    fromClientRect: fromClientRect\n  };\n  var each$l = Tools.each,\n      extend$5 = Tools.extend;\n\n  var _extendClass, initializing;\n\n  var Class = function Class() {};\n\n  Class.extend = _extendClass = function extendClass(prop) {\n    var self = this;\n    var _super = self.prototype;\n    var prototype, name, member;\n\n    var Class = function Class() {\n      var i, mixins, mixin;\n      var self = this;\n\n      if (!initializing) {\n        if (self.init) {\n          self.init.apply(self, arguments);\n        }\n\n        mixins = self.Mixins;\n\n        if (mixins) {\n          i = mixins.length;\n\n          while (i--) {\n            mixin = mixins[i];\n\n            if (mixin.init) {\n              mixin.init.apply(self, arguments);\n            }\n          }\n        }\n      }\n    };\n\n    var dummy = function dummy() {\n      return this;\n    };\n\n    var createMethod = function createMethod(name, fn) {\n      return function () {\n        var self = this;\n        var tmp = self._super;\n        var ret;\n        self._super = _super[name];\n        ret = fn.apply(self, arguments);\n        self._super = tmp;\n        return ret;\n      };\n    };\n\n    initializing = true;\n    prototype = new self();\n    initializing = false;\n\n    if (prop.Mixins) {\n      each$l(prop.Mixins, function (mixin) {\n        for (var name_1 in mixin) {\n          if (name_1 !== 'init') {\n            prop[name_1] = mixin[name_1];\n          }\n        }\n      });\n\n      if (_super.Mixins) {\n        prop.Mixins = _super.Mixins.concat(prop.Mixins);\n      }\n    }\n\n    if (prop.Methods) {\n      each$l(prop.Methods.split(','), function (name) {\n        prop[name] = dummy;\n      });\n    }\n\n    if (prop.Properties) {\n      each$l(prop.Properties.split(','), function (name) {\n        var fieldName = '_' + name;\n\n        prop[name] = function (value) {\n          var self = this;\n\n          if (value !== undefined) {\n            self[fieldName] = value;\n            return self;\n          }\n\n          return self[fieldName];\n        };\n      });\n    }\n\n    if (prop.Statics) {\n      each$l(prop.Statics, function (func, name) {\n        Class[name] = func;\n      });\n    }\n\n    if (prop.Defaults && _super.Defaults) {\n      prop.Defaults = extend$5({}, _super.Defaults, prop.Defaults);\n    }\n\n    for (name in prop) {\n      member = prop[name];\n\n      if (typeof member === 'function' && _super[name]) {\n        prototype[name] = createMethod(name, member);\n      } else {\n        prototype[name] = member;\n      }\n    }\n\n    Class.prototype = prototype;\n    Class.constructor = Class;\n    Class.extend = _extendClass;\n    return Class;\n  };\n\n  var min$1 = Math.min,\n      max$1 = Math.max,\n      round$3 = Math.round;\n\n  var Color = function Color(value) {\n    var self = {};\n    var r = 0,\n        g = 0,\n        b = 0;\n\n    var rgb2hsv = function rgb2hsv(r, g, b) {\n      var h, s, v, d, minRGB, maxRGB;\n      h = 0;\n      s = 0;\n      v = 0;\n      r = r / 255;\n      g = g / 255;\n      b = b / 255;\n      minRGB = min$1(r, min$1(g, b));\n      maxRGB = max$1(r, max$1(g, b));\n\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return {\n          h: 0,\n          s: 0,\n          v: v * 100\n        };\n      }\n\n      d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return {\n        h: round$3(h),\n        s: round$3(s * 100),\n        v: round$3(v * 100)\n      };\n    };\n\n    var hsvToRgb = function hsvToRgb(hue, saturation, brightness) {\n      var side, chroma, x, match;\n      hue = (parseInt(hue, 10) || 0) % 360;\n      saturation = parseInt(saturation, 10) / 100;\n      brightness = parseInt(brightness, 10) / 100;\n      saturation = max$1(0, min$1(saturation, 1));\n      brightness = max$1(0, min$1(brightness, 1));\n\n      if (saturation === 0) {\n        r = g = b = round$3(255 * brightness);\n        return;\n      }\n\n      side = hue / 60;\n      chroma = brightness * saturation;\n      x = chroma * (1 - Math.abs(side % 2 - 1));\n      match = brightness - chroma;\n\n      switch (Math.floor(side)) {\n        case 0:\n          r = chroma;\n          g = x;\n          b = 0;\n          break;\n\n        case 1:\n          r = x;\n          g = chroma;\n          b = 0;\n          break;\n\n        case 2:\n          r = 0;\n          g = chroma;\n          b = x;\n          break;\n\n        case 3:\n          r = 0;\n          g = x;\n          b = chroma;\n          break;\n\n        case 4:\n          r = x;\n          g = 0;\n          b = chroma;\n          break;\n\n        case 5:\n          r = chroma;\n          g = 0;\n          b = x;\n          break;\n\n        default:\n          r = g = b = 0;\n      }\n\n      r = round$3(255 * (r + match));\n      g = round$3(255 * (g + match));\n      b = round$3(255 * (b + match));\n    };\n\n    var toHex = function toHex() {\n      var hex = function hex(val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n\n    var toRgb = function toRgb() {\n      return {\n        r: r,\n        g: g,\n        b: b\n      };\n    };\n\n    var toHsv = function toHsv() {\n      return rgb2hsv(r, g, b);\n    };\n\n    var parse = function parse(value) {\n      var matches;\n\n      if (typeof value === 'object') {\n        if ('r' in value) {\n          r = value.r;\n          g = value.g;\n          b = value.b;\n        } else if ('v' in value) {\n          hsvToRgb(value.h, value.s, value.v);\n        }\n      } else {\n        if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n          r = parseInt(matches[1], 10);\n          g = parseInt(matches[2], 10);\n          b = parseInt(matches[3], 10);\n        } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n          r = parseInt(matches[1], 16);\n          g = parseInt(matches[2], 16);\n          b = parseInt(matches[3], 16);\n        } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n          r = parseInt(matches[1] + matches[1], 16);\n          g = parseInt(matches[2] + matches[2], 16);\n          b = parseInt(matches[3] + matches[3], 16);\n        }\n      }\n\n      r = r < 0 ? 0 : r > 255 ? 255 : r;\n      g = g < 0 ? 0 : g > 255 ? 255 : g;\n      b = b < 0 ? 0 : b > 255 ? 255 : b;\n      return self;\n    };\n\n    if (value) {\n      parse(value);\n    }\n\n    self.toRgb = toRgb;\n    self.toHsv = toHsv;\n    self.toHex = toHex;\n    self.parse = parse;\n    return self;\n  };\n\n  var serialize = function serialize(obj) {\n    var data = JSON.stringify(obj);\n\n    if (!isString(data)) {\n      return data;\n    }\n\n    return data.replace(/[\\u0080-\\uFFFF]/g, function (match) {\n      var hexCode = match.charCodeAt(0).toString(16);\n      return \"\\\\u\" + '0000'.substring(hexCode.length) + hexCode;\n    });\n  };\n\n  var JSONUtils = {\n    serialize: serialize,\n    parse: function parse(text) {\n      try {\n        return JSON.parse(text);\n      } catch (ex) {}\n    }\n  };\n  var JSONP = {\n    callbacks: {},\n    count: 0,\n    send: function send(settings) {\n      var self = this,\n          dom = DOMUtils$1.DOM,\n          count = settings.count !== undefined ? settings.count : self.count;\n      var id = 'tinymce_jsonp_' + count;\n\n      self.callbacks[count] = function (json) {\n        dom.remove(id);\n        delete self.callbacks[count];\n        settings.callback(json);\n      };\n\n      dom.add(dom.doc.body, 'script', {\n        id: id,\n        src: settings.url,\n        type: 'text/javascript'\n      });\n      self.count++;\n    }\n  };\n\n  var XHR = _assign({}, Observable, {\n    send: function send(settings) {\n      var xhr,\n          count = 0;\n\n      var ready = function ready() {\n        if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n          if (settings.success && count < 10000 && xhr.status === 200) {\n            settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n          } else if (settings.error) {\n            settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n          }\n\n          xhr = null;\n        } else {\n          Delay.setTimeout(ready, 10);\n        }\n      };\n\n      settings.scope = settings.scope || this;\n      settings.success_scope = settings.success_scope || settings.scope;\n      settings.error_scope = settings.error_scope || settings.scope;\n      settings.async = settings.async !== false;\n      settings.data = settings.data || '';\n      XHR.fire('beforeInitialize', {\n        settings: settings\n      });\n      xhr = new domGlobals.XMLHttpRequest();\n\n      if (xhr) {\n        if (xhr.overrideMimeType) {\n          xhr.overrideMimeType(settings.content_type);\n        }\n\n        xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n\n        if (settings.crossDomain) {\n          xhr.withCredentials = true;\n        }\n\n        if (settings.content_type) {\n          xhr.setRequestHeader('Content-Type', settings.content_type);\n        }\n\n        if (settings.requestheaders) {\n          Tools.each(settings.requestheaders, function (header) {\n            xhr.setRequestHeader(header.key, header.value);\n          });\n        }\n\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        xhr = XHR.fire('beforeSend', {\n          xhr: xhr,\n          settings: settings\n        }).xhr;\n        xhr.send(settings.data);\n\n        if (!settings.async) {\n          return ready();\n        }\n\n        Delay.setTimeout(ready, 10);\n      }\n    }\n  });\n\n  var extend$6 = Tools.extend;\n\n  var JSONRequest = function () {\n    function JSONRequest(settings) {\n      this.settings = extend$6({}, settings);\n      this.count = 0;\n    }\n\n    JSONRequest.sendRPC = function (o) {\n      return new JSONRequest().send(o);\n    };\n\n    JSONRequest.prototype.send = function (args) {\n      var ecb = args.error,\n          scb = args.success;\n      var xhrArgs = extend$6(this.settings, args);\n\n      xhrArgs.success = function (c, x) {\n        c = JSONUtils.parse(c);\n\n        if (typeof c === 'undefined') {\n          c = {\n            error: 'JSON Parse error.'\n          };\n        }\n\n        if (c.error) {\n          ecb.call(xhrArgs.error_scope || xhrArgs.scope, c.error, x);\n        } else {\n          scb.call(xhrArgs.success_scope || xhrArgs.scope, c.result);\n        }\n      };\n\n      xhrArgs.error = function (ty, x) {\n        if (ecb) {\n          ecb.call(xhrArgs.error_scope || xhrArgs.scope, ty, x);\n        }\n      };\n\n      xhrArgs.data = JSONUtils.serialize({\n        id: args.id || 'c' + this.count++,\n        method: args.method,\n        params: args.params\n      });\n      xhrArgs.content_type = 'application/json';\n      XHR.send(xhrArgs);\n    };\n\n    return JSONRequest;\n  }();\n\n  var create$8 = function create$8() {\n    return function () {\n      var data = {};\n      var keys = [];\n      var storage = {\n        getItem: function getItem(key) {\n          var item = data[key];\n          return item ? item : null;\n        },\n        setItem: function setItem(key, value) {\n          keys.push(key);\n          data[key] = String(value);\n        },\n        key: function key(index) {\n          return keys[index];\n        },\n        removeItem: function removeItem(key) {\n          keys = keys.filter(function (k) {\n            return k === key;\n          });\n          delete data[key];\n        },\n        clear: function clear() {\n          keys = [];\n          data = {};\n        },\n        length: 0\n      };\n      Object.defineProperty(storage, 'length', {\n        get: function get() {\n          return keys.length;\n        },\n        configurable: false,\n        enumerable: false\n      });\n      return storage;\n    }();\n  };\n\n  var localStorage;\n\n  try {\n    localStorage = domGlobals.window.localStorage;\n  } catch (e) {\n    localStorage = create$8();\n  }\n\n  var LocalStorage = localStorage;\n  var publicApi = {\n    geom: {\n      Rect: Rect\n    },\n    util: {\n      Promise: promiseObj,\n      Delay: Delay,\n      Tools: Tools,\n      VK: VK,\n      URI: URI,\n      Class: Class,\n      EventDispatcher: EventDispatcher,\n      Observable: Observable,\n      I18n: I18n,\n      XHR: XHR,\n      JSON: JSONUtils,\n      JSONRequest: JSONRequest,\n      JSONP: JSONP,\n      LocalStorage: LocalStorage,\n      Color: Color\n    },\n    dom: {\n      EventUtils: EventUtils,\n      Sizzle: Sizzle,\n      DomQuery: DomQuery,\n      TreeWalker: TreeWalker,\n      DOMUtils: DOMUtils$1,\n      ScriptLoader: ScriptLoader,\n      RangeUtils: RangeUtils$1,\n      Serializer: Serializer$1,\n      ControlSelection: ControlSelection,\n      BookmarkManager: BookmarkManager$1,\n      Selection: Selection$1,\n      Event: EventUtils.Event\n    },\n    html: {\n      Styles: Styles,\n      Entities: Entities,\n      Node: Node$1,\n      Schema: Schema,\n      SaxParser: SaxParser$1,\n      DomParser: DomParser,\n      Writer: Writer,\n      Serializer: Serializer\n    },\n    Env: Env,\n    AddOnManager: AddOnManager$1,\n    Annotator: Annotator,\n    Formatter: Formatter,\n    UndoManager: UndoManager,\n    EditorCommands: EditorCommands,\n    WindowManager: WindowManager,\n    NotificationManager: NotificationManager,\n    EditorObservable: EditorObservable,\n    Shortcuts: Shortcuts,\n    Editor: Editor,\n    FocusManager: FocusManager,\n    EditorManager: EditorManager,\n    DOM: DOMUtils$1.DOM,\n    ScriptLoader: ScriptLoader.ScriptLoader,\n    PluginManager: AddOnManager$1.PluginManager,\n    ThemeManager: AddOnManager$1.ThemeManager,\n    IconManager: IconManager,\n    Resource: Resource,\n    trim: Tools.trim,\n    isArray: Tools.isArray,\n    is: Tools.is,\n    toArray: Tools.toArray,\n    makeMap: Tools.makeMap,\n    each: Tools.each,\n    map: Tools.map,\n    grep: Tools.grep,\n    inArray: Tools.inArray,\n    extend: Tools.extend,\n    create: Tools.create,\n    walk: Tools.walk,\n    createNS: Tools.createNS,\n    resolve: Tools.resolve,\n    explode: Tools.explode,\n    _addCacheSuffix: Tools._addCacheSuffix,\n    isOpera: Env.opera,\n    isWebKit: Env.webkit,\n    isIE: Env.ie,\n    isGecko: Env.gecko,\n    isMac: Env.mac\n  };\n  var tinymce = Tools.extend(EditorManager, publicApi);\n\n  var exportToModuleLoaders = function exportToModuleLoaders(tinymce) {\n    if (typeof module === 'object') {\n      try {\n        module.exports = tinymce;\n      } catch (_) {}\n    }\n  };\n\n  var exportToWindowGlobal = function exportToWindowGlobal(tinymce) {\n    window.tinymce = tinymce;\n    window.tinyMCE = tinymce;\n  };\n\n  exportToWindowGlobal(tinymce);\n  exportToModuleLoaders(tinymce);\n})(window);","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    nullTag = '[object Null]',\n    proxyTag = '[object Proxy]',\n    undefinedTag = '[object Undefined]';\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString = objectProto.toString;\n/** Built-in value references. */\n\nvar Symbol = root.Symbol,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\n\n\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n\n  return result;\n}\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\n\n\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\n\n\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  } // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\n\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isFunction;","/**\n * lodash 3.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n  onActivate: PropTypes.func,\n  onAddUndo: PropTypes.func,\n  onBeforeAddUndo: PropTypes.func,\n  onBeforeExecCommand: PropTypes.func,\n  onBeforeGetContent: PropTypes.func,\n  onBeforeRenderUI: PropTypes.func,\n  onBeforeSetContent: PropTypes.func,\n  onBeforePaste: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onClearUndos: PropTypes.func,\n  onClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onCopy: PropTypes.func,\n  onCut: PropTypes.func,\n  onDblclick: PropTypes.func,\n  onDeactivate: PropTypes.func,\n  onDirty: PropTypes.func,\n  onDrag: PropTypes.func,\n  onDragDrop: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragGesture: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDrop: PropTypes.func,\n  onExecCommand: PropTypes.func,\n  onFocus: PropTypes.func,\n  onFocusIn: PropTypes.func,\n  onFocusOut: PropTypes.func,\n  onGetContent: PropTypes.func,\n  onHide: PropTypes.func,\n  onInit: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  onLoadContent: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onNodeChange: PropTypes.func,\n  onObjectResizeStart: PropTypes.func,\n  onObjectResized: PropTypes.func,\n  onObjectSelected: PropTypes.func,\n  onPaste: PropTypes.func,\n  onPostProcess: PropTypes.func,\n  onPostRender: PropTypes.func,\n  onPreProcess: PropTypes.func,\n  onProgressState: PropTypes.func,\n  onRedo: PropTypes.func,\n  onRemove: PropTypes.func,\n  onReset: PropTypes.func,\n  onSaveContent: PropTypes.func,\n  onSelectionChange: PropTypes.func,\n  onSetAttrib: PropTypes.func,\n  onSetContent: PropTypes.func,\n  onShow: PropTypes.func,\n  onSubmit: PropTypes.func,\n  onUndo: PropTypes.func,\n  onVisualAid: PropTypes.func\n};\nexport var EditorPropTypes = __assign({\n  apiKey: PropTypes.string,\n  id: PropTypes.string,\n  inline: PropTypes.bool,\n  init: PropTypes.object,\n  initialValue: PropTypes.string,\n  onEditorChange: PropTypes.func,\n  value: PropTypes.string,\n  tagName: PropTypes.string,\n  cloudChannel: PropTypes.string,\n  plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  disabled: PropTypes.bool,\n  textareaName: PropTypes.string\n}, eventPropTypes);","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function isFunction(x) {\n  return typeof x === 'function';\n};\n\nvar isEventProp = function isEventProp(name) {\n  return name in eventPropTypes;\n};\n\nvar findEventHandlers = function findEventHandlers(props) {\n  return Object.keys(props).filter(isEventProp).filter(function (name) {\n    return isFunction(props[name]);\n  }).map(function (name) {\n    return {\n      handler: props[name],\n      eventName: name.substring(2)\n    };\n  });\n};\n\nexport var bindHandlers = function bindHandlers(editor, props, boundHandlers) {\n  findEventHandlers(props).forEach(function (found) {\n    // Unbind old handler\n    var oldHandler = boundHandlers[found.eventName];\n\n    if (isFunction(oldHandler)) {\n      editor.off(found.eventName, oldHandler);\n    } // Bind new handler\n\n\n    var newHandler = function newHandler(e) {\n      return found.handler(e, editor);\n    };\n\n    boundHandlers[found.eventName] = newHandler;\n    editor.on(found.eventName, newHandler);\n  });\n};\nvar unique = 0;\nexport var uuid = function uuid(prefix) {\n  var date = new Date();\n  var time = date.getTime();\n  var random = Math.floor(Math.random() * 1000000000);\n  unique++;\n  return prefix + '_' + random + unique + String(time);\n};\nexport var isTextarea = function isTextarea(element) {\n  return element !== null && element.tagName.toLowerCase() === 'textarea';\n};\n\nvar normalizePluginArray = function normalizePluginArray(plugins) {\n  if (typeof plugins === 'undefined' || plugins === '') {\n    return [];\n  }\n\n  return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n\nexport var mergePlugins = function mergePlugins(initPlugins, inputPlugins) {\n  return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\n};","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as ScriptLoader from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { bindHandlers, isFunction, isTextarea, mergePlugins, uuid } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\nvar scriptState = ScriptLoader.create();\n\nvar Editor =\n/** @class */\nfunction (_super) {\n  __extends(Editor, _super);\n\n  function Editor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.initialise = function () {\n      var finalInit = __assign({}, _this.props.init, {\n        target: _this.elementRef.current,\n        readonly: _this.props.disabled,\n        inline: _this.inline,\n        plugins: mergePlugins(_this.props.init && _this.props.init.plugins, _this.props.plugins),\n        toolbar: _this.props.toolbar || _this.props.init && _this.props.init.toolbar,\n        setup: function setup(editor) {\n          _this.editor = editor;\n          editor.on('init', function (e) {\n            _this.initEditor(e, editor);\n          });\n\n          if (_this.props.init && typeof _this.props.init.setup === 'function') {\n            _this.props.init.setup(editor);\n          }\n        }\n      });\n\n      if (isTextarea(_this.elementRef.current)) {\n        _this.elementRef.current.style.visibility = '';\n      }\n\n      getTinymce().init(finalInit);\n    };\n\n    _this.id = _this.props.id || uuid('tiny-react');\n    _this.elementRef = React.createRef();\n    _this.inline = _this.props.inline ? _this.props.inline : _this.props.init && _this.props.init.inline;\n    _this.boundHandlers = {};\n    return _this;\n  }\n\n  Editor.prototype.componentDidUpdate = function (prevProps) {\n    if (this.editor && this.editor.initialized) {\n      bindHandlers(this.editor, this.props, this.boundHandlers);\n      this.currentContent = this.currentContent || this.editor.getContent();\n\n      if (typeof this.props.value === 'string' && this.props.value !== prevProps.value && this.props.value !== this.currentContent) {\n        this.editor.setContent(this.props.value);\n      }\n\n      if (typeof this.props.disabled === 'boolean' && this.props.disabled !== prevProps.disabled) {\n        this.editor.setMode(this.props.disabled ? 'readonly' : 'design');\n      }\n    }\n  };\n\n  Editor.prototype.componentDidMount = function () {\n    if (getTinymce() !== null) {\n      this.initialise();\n    } else if (this.elementRef.current && this.elementRef.current.ownerDocument) {\n      var doc = this.elementRef.current.ownerDocument;\n      var channel = this.props.cloudChannel;\n      var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n      ScriptLoader.load(scriptState, doc, \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\", this.initialise);\n    }\n  };\n\n  Editor.prototype.componentWillUnmount = function () {\n    if (getTinymce() !== null) {\n      getTinymce().remove(this.editor);\n    }\n  };\n\n  Editor.prototype.render = function () {\n    return this.inline ? this.renderInline() : this.renderIframe();\n  };\n\n  Editor.prototype.initEditor = function (initEvent, editor) {\n    var _this = this;\n\n    var value = typeof this.props.value === 'string' ? this.props.value : typeof this.props.initialValue === 'string' ? this.props.initialValue : '';\n    editor.setContent(value);\n\n    if (isFunction(this.props.onEditorChange)) {\n      editor.on('change keyup setcontent', function (e) {\n        var newContent = editor.getContent();\n\n        if (newContent !== _this.currentContent) {\n          _this.currentContent = newContent;\n\n          if (isFunction(_this.props.onEditorChange)) {\n            _this.props.onEditorChange(_this.currentContent, editor);\n          }\n        }\n      });\n    }\n\n    if (isFunction(this.props.onInit)) {\n      this.props.onInit(initEvent, editor);\n    }\n\n    bindHandlers(editor, this.props, this.boundHandlers);\n  };\n\n  Editor.prototype.renderInline = function () {\n    var _a = this.props.tagName,\n        tagName = _a === void 0 ? 'div' : _a;\n    return React.createElement(tagName, {\n      ref: this.elementRef,\n      id: this.id\n    });\n  };\n\n  Editor.prototype.renderIframe = function () {\n    return React.createElement('textarea', {\n      ref: this.elementRef,\n      style: {\n        visibility: 'hidden'\n      },\n      name: this.props.textareaName,\n      id: this.id\n    });\n  };\n\n  Editor.propTypes = EditorPropTypes;\n  Editor.defaultProps = {\n    cloudChannel: '5'\n  };\n  return Editor;\n}(React.Component);\n\nexport { Editor };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\n\nvar injectScriptTag = function injectScriptTag(scriptId, doc, url, callback) {\n  var scriptTag = doc.createElement('script');\n  scriptTag.referrerPolicy = 'origin';\n  scriptTag.type = 'application/javascript';\n  scriptTag.id = scriptId;\n  scriptTag.addEventListener('load', callback);\n  scriptTag.src = url;\n\n  if (doc.head) {\n    doc.head.appendChild(scriptTag);\n  }\n};\n\nexport var create = function create() {\n  return {\n    listeners: [],\n    scriptId: uuid('tiny-script'),\n    scriptLoaded: false\n  };\n};\nexport var load = function load(state, doc, url, callback) {\n  if (state.scriptLoaded) {\n    callback();\n  } else {\n    state.listeners.push(callback);\n\n    if (!doc.getElementById(state.scriptId)) {\n      injectScriptTag(state.scriptId, doc, url, function () {\n        state.listeners.forEach(function (fn) {\n          return fn();\n        });\n        state.scriptLoaded = true;\n      });\n    }\n  }\n};","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { Editor } from './components/Editor';\nexport { Editor };","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","/** @license React v16.9.0\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar h = require(\"object-assign\"),\n    n = \"function\" === typeof Symbol && Symbol.for,\n    p = n ? Symbol.for(\"react.element\") : 60103,\n    q = n ? Symbol.for(\"react.portal\") : 60106,\n    r = n ? Symbol.for(\"react.fragment\") : 60107,\n    t = n ? Symbol.for(\"react.strict_mode\") : 60108,\n    u = n ? Symbol.for(\"react.profiler\") : 60114,\n    v = n ? Symbol.for(\"react.provider\") : 60109,\n    w = n ? Symbol.for(\"react.context\") : 60110,\n    x = n ? Symbol.for(\"react.forward_ref\") : 60112,\n    y = n ? Symbol.for(\"react.suspense\") : 60113,\n    aa = n ? Symbol.for(\"react.suspense_list\") : 60120,\n    ba = n ? Symbol.for(\"react.memo\") : 60115,\n    ca = n ? Symbol.for(\"react.lazy\") : 60116;\n\nn && Symbol.for(\"react.fundamental\");\nn && Symbol.for(\"react.responder\");\nvar z = \"function\" === typeof Symbol && Symbol.iterator;\n\nfunction A(a) {\n  for (var b = a.message, d = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + b, c = 1; c < arguments.length; c++) {\n    d += \"&args[]=\" + encodeURIComponent(arguments[c]);\n  }\n\n  a.message = \"Minified React error #\" + b + \"; visit \" + d + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \";\n  return a;\n}\n\nvar B = {\n  isMounted: function isMounted() {\n    return !1;\n  },\n  enqueueForceUpdate: function enqueueForceUpdate() {},\n  enqueueReplaceState: function enqueueReplaceState() {},\n  enqueueSetState: function enqueueSetState() {}\n},\n    C = {};\n\nfunction D(a, b, d) {\n  this.props = a;\n  this.context = b;\n  this.refs = C;\n  this.updater = d || B;\n}\n\nD.prototype.isReactComponent = {};\n\nD.prototype.setState = function (a, b) {\n  if (\"object\" !== typeof a && \"function\" !== typeof a && null != a) throw A(Error(85));\n  this.updater.enqueueSetState(this, a, b, \"setState\");\n};\n\nD.prototype.forceUpdate = function (a) {\n  this.updater.enqueueForceUpdate(this, a, \"forceUpdate\");\n};\n\nfunction E() {}\n\nE.prototype = D.prototype;\n\nfunction F(a, b, d) {\n  this.props = a;\n  this.context = b;\n  this.refs = C;\n  this.updater = d || B;\n}\n\nvar G = F.prototype = new E();\nG.constructor = F;\nh(G, D.prototype);\nG.isPureReactComponent = !0;\nvar H = {\n  current: null\n},\n    I = {\n  suspense: null\n},\n    J = {\n  current: null\n},\n    K = Object.prototype.hasOwnProperty,\n    L = {\n  key: !0,\n  ref: !0,\n  __self: !0,\n  __source: !0\n};\n\nfunction M(a, b, d) {\n  var c = void 0,\n      e = {},\n      g = null,\n      k = null;\n  if (null != b) for (c in void 0 !== b.ref && (k = b.ref), void 0 !== b.key && (g = \"\" + b.key), b) {\n    K.call(b, c) && !L.hasOwnProperty(c) && (e[c] = b[c]);\n  }\n  var f = arguments.length - 2;\n  if (1 === f) e.children = d;else if (1 < f) {\n    for (var l = Array(f), m = 0; m < f; m++) {\n      l[m] = arguments[m + 2];\n    }\n\n    e.children = l;\n  }\n  if (a && a.defaultProps) for (c in f = a.defaultProps, f) {\n    void 0 === e[c] && (e[c] = f[c]);\n  }\n  return {\n    $$typeof: p,\n    type: a,\n    key: g,\n    ref: k,\n    props: e,\n    _owner: J.current\n  };\n}\n\nfunction da(a, b) {\n  return {\n    $$typeof: p,\n    type: a.type,\n    key: b,\n    ref: a.ref,\n    props: a.props,\n    _owner: a._owner\n  };\n}\n\nfunction N(a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === p;\n}\n\nfunction escape(a) {\n  var b = {\n    \"=\": \"=0\",\n    \":\": \"=2\"\n  };\n  return \"$\" + (\"\" + a).replace(/[=:]/g, function (a) {\n    return b[a];\n  });\n}\n\nvar O = /\\/+/g,\n    P = [];\n\nfunction Q(a, b, d, c) {\n  if (P.length) {\n    var e = P.pop();\n    e.result = a;\n    e.keyPrefix = b;\n    e.func = d;\n    e.context = c;\n    e.count = 0;\n    return e;\n  }\n\n  return {\n    result: a,\n    keyPrefix: b,\n    func: d,\n    context: c,\n    count: 0\n  };\n}\n\nfunction R(a) {\n  a.result = null;\n  a.keyPrefix = null;\n  a.func = null;\n  a.context = null;\n  a.count = 0;\n  10 > P.length && P.push(a);\n}\n\nfunction S(a, b, d, c) {\n  var e = typeof a;\n  if (\"undefined\" === e || \"boolean\" === e) a = null;\n  var g = !1;\n  if (null === a) g = !0;else switch (e) {\n    case \"string\":\n    case \"number\":\n      g = !0;\n      break;\n\n    case \"object\":\n      switch (a.$$typeof) {\n        case p:\n        case q:\n          g = !0;\n      }\n\n  }\n  if (g) return d(c, a, \"\" === b ? \".\" + T(a, 0) : b), 1;\n  g = 0;\n  b = \"\" === b ? \".\" : b + \":\";\n  if (Array.isArray(a)) for (var k = 0; k < a.length; k++) {\n    e = a[k];\n    var f = b + T(e, k);\n    g += S(e, f, d, c);\n  } else if (null === a || \"object\" !== typeof a ? f = null : (f = z && a[z] || a[\"@@iterator\"], f = \"function\" === typeof f ? f : null), \"function\" === typeof f) for (a = f.call(a), k = 0; !(e = a.next()).done;) {\n    e = e.value, f = b + T(e, k++), g += S(e, f, d, c);\n  } else if (\"object\" === e) throw d = \"\" + a, A(Error(31), \"[object Object]\" === d ? \"object with keys {\" + Object.keys(a).join(\", \") + \"}\" : d, \"\");\n  return g;\n}\n\nfunction U(a, b, d) {\n  return null == a ? 0 : S(a, \"\", b, d);\n}\n\nfunction T(a, b) {\n  return \"object\" === typeof a && null !== a && null != a.key ? escape(a.key) : b.toString(36);\n}\n\nfunction ea(a, b) {\n  a.func.call(a.context, b, a.count++);\n}\n\nfunction fa(a, b, d) {\n  var c = a.result,\n      e = a.keyPrefix;\n  a = a.func.call(a.context, b, a.count++);\n  Array.isArray(a) ? V(a, c, d, function (a) {\n    return a;\n  }) : null != a && (N(a) && (a = da(a, e + (!a.key || b && b.key === a.key ? \"\" : (\"\" + a.key).replace(O, \"$&/\") + \"/\") + d)), c.push(a));\n}\n\nfunction V(a, b, d, c, e) {\n  var g = \"\";\n  null != d && (g = (\"\" + d).replace(O, \"$&/\") + \"/\");\n  b = Q(b, g, c, e);\n  U(a, fa, b);\n  R(b);\n}\n\nfunction W() {\n  var a = H.current;\n  if (null === a) throw A(Error(321));\n  return a;\n}\n\nvar X = {\n  Children: {\n    map: function map(a, b, d) {\n      if (null == a) return a;\n      var c = [];\n      V(a, c, null, b, d);\n      return c;\n    },\n    forEach: function forEach(a, b, d) {\n      if (null == a) return a;\n      b = Q(null, null, b, d);\n      U(a, ea, b);\n      R(b);\n    },\n    count: function count(a) {\n      return U(a, function () {\n        return null;\n      }, null);\n    },\n    toArray: function toArray(a) {\n      var b = [];\n      V(a, b, null, function (a) {\n        return a;\n      });\n      return b;\n    },\n    only: function only(a) {\n      if (!N(a)) throw A(Error(143));\n      return a;\n    }\n  },\n  createRef: function createRef() {\n    return {\n      current: null\n    };\n  },\n  Component: D,\n  PureComponent: F,\n  createContext: function createContext(a, b) {\n    void 0 === b && (b = null);\n    a = {\n      $$typeof: w,\n      _calculateChangedBits: b,\n      _currentValue: a,\n      _currentValue2: a,\n      _threadCount: 0,\n      Provider: null,\n      Consumer: null\n    };\n    a.Provider = {\n      $$typeof: v,\n      _context: a\n    };\n    return a.Consumer = a;\n  },\n  forwardRef: function forwardRef(a) {\n    return {\n      $$typeof: x,\n      render: a\n    };\n  },\n  lazy: function lazy(a) {\n    return {\n      $$typeof: ca,\n      _ctor: a,\n      _status: -1,\n      _result: null\n    };\n  },\n  memo: function memo(a, b) {\n    return {\n      $$typeof: ba,\n      type: a,\n      compare: void 0 === b ? null : b\n    };\n  },\n  useCallback: function useCallback(a, b) {\n    return W().useCallback(a, b);\n  },\n  useContext: function useContext(a, b) {\n    return W().useContext(a, b);\n  },\n  useEffect: function useEffect(a, b) {\n    return W().useEffect(a, b);\n  },\n  useImperativeHandle: function useImperativeHandle(a, b, d) {\n    return W().useImperativeHandle(a, b, d);\n  },\n  useDebugValue: function useDebugValue() {},\n  useLayoutEffect: function useLayoutEffect(a, b) {\n    return W().useLayoutEffect(a, b);\n  },\n  useMemo: function useMemo(a, b) {\n    return W().useMemo(a, b);\n  },\n  useReducer: function useReducer(a, b, d) {\n    return W().useReducer(a, b, d);\n  },\n  useRef: function useRef(a) {\n    return W().useRef(a);\n  },\n  useState: function useState(a) {\n    return W().useState(a);\n  },\n  Fragment: r,\n  Profiler: u,\n  StrictMode: t,\n  Suspense: y,\n  unstable_SuspenseList: aa,\n  createElement: M,\n  cloneElement: function cloneElement(a, b, d) {\n    if (null === a || void 0 === a) throw A(Error(267), a);\n    var c = void 0,\n        e = h({}, a.props),\n        g = a.key,\n        k = a.ref,\n        f = a._owner;\n\n    if (null != b) {\n      void 0 !== b.ref && (k = b.ref, f = J.current);\n      void 0 !== b.key && (g = \"\" + b.key);\n      var l = void 0;\n      a.type && a.type.defaultProps && (l = a.type.defaultProps);\n\n      for (c in b) {\n        K.call(b, c) && !L.hasOwnProperty(c) && (e[c] = void 0 === b[c] && void 0 !== l ? l[c] : b[c]);\n      }\n    }\n\n    c = arguments.length - 2;\n    if (1 === c) e.children = d;else if (1 < c) {\n      l = Array(c);\n\n      for (var m = 0; m < c; m++) {\n        l[m] = arguments[m + 2];\n      }\n\n      e.children = l;\n    }\n    return {\n      $$typeof: p,\n      type: a.type,\n      key: g,\n      ref: k,\n      props: e,\n      _owner: f\n    };\n  },\n  createFactory: function createFactory(a) {\n    var b = M.bind(null, a);\n    b.type = a;\n    return b;\n  },\n  isValidElement: N,\n  version: \"16.9.0\",\n  unstable_withSuspenseConfig: function unstable_withSuspenseConfig(a, b) {\n    var d = I.suspense;\n    I.suspense = void 0 === b ? null : b;\n\n    try {\n      a();\n    } finally {\n      I.suspense = d;\n    }\n  },\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {\n    ReactCurrentDispatcher: H,\n    ReactCurrentBatchConfig: I,\n    ReactCurrentOwner: J,\n    IsSomeRendererActing: {\n      current: !1\n    },\n    assign: h\n  }\n},\n    Y = {\n  default: X\n},\n    Z = Y && X || Y;\nmodule.exports = Z.default || Z;","/** @license React v16.9.0\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';\n\nvar aa = require(\"react\"),\n    m = require(\"object-assign\"),\n    q = require(\"scheduler\");\n\nfunction t(a) {\n  for (var b = a.message, c = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + b, d = 1; d < arguments.length; d++) {\n    c += \"&args[]=\" + encodeURIComponent(arguments[d]);\n  }\n\n  a.message = \"Minified React error #\" + b + \"; visit \" + c + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \";\n  return a;\n}\n\nif (!aa) throw t(Error(227));\nvar ba = null,\n    ca = {};\n\nfunction da() {\n  if (ba) for (var a in ca) {\n    var b = ca[a],\n        c = ba.indexOf(a);\n    if (!(-1 < c)) throw t(Error(96), a);\n\n    if (!ea[c]) {\n      if (!b.extractEvents) throw t(Error(97), a);\n      ea[c] = b;\n      c = b.eventTypes;\n\n      for (var d in c) {\n        var e = void 0;\n        var f = c[d],\n            h = b,\n            g = d;\n        if (fa.hasOwnProperty(g)) throw t(Error(99), g);\n        fa[g] = f;\n        var k = f.phasedRegistrationNames;\n\n        if (k) {\n          for (e in k) {\n            k.hasOwnProperty(e) && ha(k[e], h, g);\n          }\n\n          e = !0;\n        } else f.registrationName ? (ha(f.registrationName, h, g), e = !0) : e = !1;\n\n        if (!e) throw t(Error(98), d, a);\n      }\n    }\n  }\n}\n\nfunction ha(a, b, c) {\n  if (ia[a]) throw t(Error(100), a);\n  ia[a] = b;\n  ja[a] = b.eventTypes[c].dependencies;\n}\n\nvar ea = [],\n    fa = {},\n    ia = {},\n    ja = {};\n\nfunction ka(a, b, c, d, e, f, h, g, k) {\n  var l = Array.prototype.slice.call(arguments, 3);\n\n  try {\n    b.apply(c, l);\n  } catch (n) {\n    this.onError(n);\n  }\n}\n\nvar la = !1,\n    ma = null,\n    na = !1,\n    oa = null,\n    pa = {\n  onError: function onError(a) {\n    la = !0;\n    ma = a;\n  }\n};\n\nfunction qa(a, b, c, d, e, f, h, g, k) {\n  la = !1;\n  ma = null;\n  ka.apply(pa, arguments);\n}\n\nfunction ra(a, b, c, d, e, f, h, g, k) {\n  qa.apply(this, arguments);\n\n  if (la) {\n    if (la) {\n      var l = ma;\n      la = !1;\n      ma = null;\n    } else throw t(Error(198));\n\n    na || (na = !0, oa = l);\n  }\n}\n\nvar sa = null,\n    ta = null,\n    va = null;\n\nfunction wa(a, b, c) {\n  var d = a.type || \"unknown-event\";\n  a.currentTarget = va(c);\n  ra(d, b, void 0, a);\n  a.currentTarget = null;\n}\n\nfunction xa(a, b) {\n  if (null == b) throw t(Error(30));\n  if (null == a) return b;\n\n  if (Array.isArray(a)) {\n    if (Array.isArray(b)) return a.push.apply(a, b), a;\n    a.push(b);\n    return a;\n  }\n\n  return Array.isArray(b) ? [a].concat(b) : [a, b];\n}\n\nfunction ya(a, b, c) {\n  Array.isArray(a) ? a.forEach(b, c) : a && b.call(c, a);\n}\n\nvar za = null;\n\nfunction Aa(a) {\n  if (a) {\n    var b = a._dispatchListeners,\n        c = a._dispatchInstances;\n    if (Array.isArray(b)) for (var d = 0; d < b.length && !a.isPropagationStopped(); d++) {\n      wa(a, b[d], c[d]);\n    } else b && wa(a, b, c);\n    a._dispatchListeners = null;\n    a._dispatchInstances = null;\n    a.isPersistent() || a.constructor.release(a);\n  }\n}\n\nfunction Ba(a) {\n  null !== a && (za = xa(za, a));\n  a = za;\n  za = null;\n\n  if (a) {\n    ya(a, Aa);\n    if (za) throw t(Error(95));\n    if (na) throw a = oa, na = !1, oa = null, a;\n  }\n}\n\nvar Ca = {\n  injectEventPluginOrder: function injectEventPluginOrder(a) {\n    if (ba) throw t(Error(101));\n    ba = Array.prototype.slice.call(a);\n    da();\n  },\n  injectEventPluginsByName: function injectEventPluginsByName(a) {\n    var b = !1,\n        c;\n\n    for (c in a) {\n      if (a.hasOwnProperty(c)) {\n        var d = a[c];\n\n        if (!ca.hasOwnProperty(c) || ca[c] !== d) {\n          if (ca[c]) throw t(Error(102), c);\n          ca[c] = d;\n          b = !0;\n        }\n      }\n    }\n\n    b && da();\n  }\n};\n\nfunction Da(a, b) {\n  var c = a.stateNode;\n  if (!c) return null;\n  var d = sa(c);\n  if (!d) return null;\n  c = d[b];\n\n  a: switch (b) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n      (d = !d.disabled) || (a = a.type, d = !(\"button\" === a || \"input\" === a || \"select\" === a || \"textarea\" === a));\n      a = !d;\n      break a;\n\n    default:\n      a = !1;\n  }\n\n  if (a) return null;\n  if (c && \"function\" !== typeof c) throw t(Error(231), b, typeof c);\n  return c;\n}\n\nvar Ea = Math.random().toString(36).slice(2),\n    Fa = \"__reactInternalInstance$\" + Ea,\n    Ga = \"__reactEventHandlers$\" + Ea;\n\nfunction Ha(a) {\n  if (a[Fa]) return a[Fa];\n\n  for (; !a[Fa];) {\n    if (a.parentNode) a = a.parentNode;else return null;\n  }\n\n  a = a[Fa];\n  return 5 === a.tag || 6 === a.tag ? a : null;\n}\n\nfunction Ia(a) {\n  a = a[Fa];\n  return !a || 5 !== a.tag && 6 !== a.tag ? null : a;\n}\n\nfunction Ja(a) {\n  if (5 === a.tag || 6 === a.tag) return a.stateNode;\n  throw t(Error(33));\n}\n\nfunction Ka(a) {\n  return a[Ga] || null;\n}\n\nfunction La(a) {\n  do {\n    a = a.return;\n  } while (a && 5 !== a.tag);\n\n  return a ? a : null;\n}\n\nfunction Ma(a, b, c) {\n  if (b = Da(a, c.dispatchConfig.phasedRegistrationNames[b])) c._dispatchListeners = xa(c._dispatchListeners, b), c._dispatchInstances = xa(c._dispatchInstances, a);\n}\n\nfunction Na(a) {\n  if (a && a.dispatchConfig.phasedRegistrationNames) {\n    for (var b = a._targetInst, c = []; b;) {\n      c.push(b), b = La(b);\n    }\n\n    for (b = c.length; 0 < b--;) {\n      Ma(c[b], \"captured\", a);\n    }\n\n    for (b = 0; b < c.length; b++) {\n      Ma(c[b], \"bubbled\", a);\n    }\n  }\n}\n\nfunction Oa(a, b, c) {\n  a && c && c.dispatchConfig.registrationName && (b = Da(a, c.dispatchConfig.registrationName)) && (c._dispatchListeners = xa(c._dispatchListeners, b), c._dispatchInstances = xa(c._dispatchInstances, a));\n}\n\nfunction Pa(a) {\n  a && a.dispatchConfig.registrationName && Oa(a._targetInst, null, a);\n}\n\nfunction Qa(a) {\n  ya(a, Na);\n}\n\nvar Ra = !(\"undefined\" === typeof window || \"undefined\" === typeof window.document || \"undefined\" === typeof window.document.createElement);\n\nfunction Sa(a, b) {\n  var c = {};\n  c[a.toLowerCase()] = b.toLowerCase();\n  c[\"Webkit\" + a] = \"webkit\" + b;\n  c[\"Moz\" + a] = \"moz\" + b;\n  return c;\n}\n\nvar Ta = {\n  animationend: Sa(\"Animation\", \"AnimationEnd\"),\n  animationiteration: Sa(\"Animation\", \"AnimationIteration\"),\n  animationstart: Sa(\"Animation\", \"AnimationStart\"),\n  transitionend: Sa(\"Transition\", \"TransitionEnd\")\n},\n    Ua = {},\n    Va = {};\nRa && (Va = document.createElement(\"div\").style, \"AnimationEvent\" in window || (delete Ta.animationend.animation, delete Ta.animationiteration.animation, delete Ta.animationstart.animation), \"TransitionEvent\" in window || delete Ta.transitionend.transition);\n\nfunction Wa(a) {\n  if (Ua[a]) return Ua[a];\n  if (!Ta[a]) return a;\n  var b = Ta[a],\n      c;\n\n  for (c in b) {\n    if (b.hasOwnProperty(c) && c in Va) return Ua[a] = b[c];\n  }\n\n  return a;\n}\n\nvar Xa = Wa(\"animationend\"),\n    Ya = Wa(\"animationiteration\"),\n    Za = Wa(\"animationstart\"),\n    ab = Wa(\"transitionend\"),\n    bb = \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),\n    cb = null,\n    db = null,\n    eb = null;\n\nfunction fb() {\n  if (eb) return eb;\n  var a,\n      b = db,\n      c = b.length,\n      d,\n      e = \"value\" in cb ? cb.value : cb.textContent,\n      f = e.length;\n\n  for (a = 0; a < c && b[a] === e[a]; a++) {\n    ;\n  }\n\n  var h = c - a;\n\n  for (d = 1; d <= h && b[c - d] === e[f - d]; d++) {\n    ;\n  }\n\n  return eb = e.slice(a, 1 < d ? 1 - d : void 0);\n}\n\nfunction gb() {\n  return !0;\n}\n\nfunction hb() {\n  return !1;\n}\n\nfunction y(a, b, c, d) {\n  this.dispatchConfig = a;\n  this._targetInst = b;\n  this.nativeEvent = c;\n  a = this.constructor.Interface;\n\n  for (var e in a) {\n    a.hasOwnProperty(e) && ((b = a[e]) ? this[e] = b(c) : \"target\" === e ? this.target = d : this[e] = c[e]);\n  }\n\n  this.isDefaultPrevented = (null != c.defaultPrevented ? c.defaultPrevented : !1 === c.returnValue) ? gb : hb;\n  this.isPropagationStopped = hb;\n  return this;\n}\n\nm(y.prototype, {\n  preventDefault: function preventDefault() {\n    this.defaultPrevented = !0;\n    var a = this.nativeEvent;\n    a && (a.preventDefault ? a.preventDefault() : \"unknown\" !== typeof a.returnValue && (a.returnValue = !1), this.isDefaultPrevented = gb);\n  },\n  stopPropagation: function stopPropagation() {\n    var a = this.nativeEvent;\n    a && (a.stopPropagation ? a.stopPropagation() : \"unknown\" !== typeof a.cancelBubble && (a.cancelBubble = !0), this.isPropagationStopped = gb);\n  },\n  persist: function persist() {\n    this.isPersistent = gb;\n  },\n  isPersistent: hb,\n  destructor: function destructor() {\n    var a = this.constructor.Interface,\n        b;\n\n    for (b in a) {\n      this[b] = null;\n    }\n\n    this.nativeEvent = this._targetInst = this.dispatchConfig = null;\n    this.isPropagationStopped = this.isDefaultPrevented = hb;\n    this._dispatchInstances = this._dispatchListeners = null;\n  }\n});\ny.Interface = {\n  type: null,\n  target: null,\n  currentTarget: function currentTarget() {\n    return null;\n  },\n  eventPhase: null,\n  bubbles: null,\n  cancelable: null,\n  timeStamp: function timeStamp(a) {\n    return a.timeStamp || Date.now();\n  },\n  defaultPrevented: null,\n  isTrusted: null\n};\n\ny.extend = function (a) {\n  function b() {}\n\n  function c() {\n    return d.apply(this, arguments);\n  }\n\n  var d = this;\n  b.prototype = d.prototype;\n  var e = new b();\n  m(e, c.prototype);\n  c.prototype = e;\n  c.prototype.constructor = c;\n  c.Interface = m({}, d.Interface, a);\n  c.extend = d.extend;\n  ib(c);\n  return c;\n};\n\nib(y);\n\nfunction jb(a, b, c, d) {\n  if (this.eventPool.length) {\n    var e = this.eventPool.pop();\n    this.call(e, a, b, c, d);\n    return e;\n  }\n\n  return new this(a, b, c, d);\n}\n\nfunction kb(a) {\n  if (!(a instanceof this)) throw t(Error(279));\n  a.destructor();\n  10 > this.eventPool.length && this.eventPool.push(a);\n}\n\nfunction ib(a) {\n  a.eventPool = [];\n  a.getPooled = jb;\n  a.release = kb;\n}\n\nvar lb = y.extend({\n  data: null\n}),\n    mb = y.extend({\n  data: null\n}),\n    nb = [9, 13, 27, 32],\n    ob = Ra && \"CompositionEvent\" in window,\n    pb = null;\nRa && \"documentMode\" in document && (pb = document.documentMode);\nvar qb = Ra && \"TextEvent\" in window && !pb,\n    sb = Ra && (!ob || pb && 8 < pb && 11 >= pb),\n    tb = String.fromCharCode(32),\n    ub = {\n  beforeInput: {\n    phasedRegistrationNames: {\n      bubbled: \"onBeforeInput\",\n      captured: \"onBeforeInputCapture\"\n    },\n    dependencies: [\"compositionend\", \"keypress\", \"textInput\", \"paste\"]\n  },\n  compositionEnd: {\n    phasedRegistrationNames: {\n      bubbled: \"onCompositionEnd\",\n      captured: \"onCompositionEndCapture\"\n    },\n    dependencies: \"blur compositionend keydown keypress keyup mousedown\".split(\" \")\n  },\n  compositionStart: {\n    phasedRegistrationNames: {\n      bubbled: \"onCompositionStart\",\n      captured: \"onCompositionStartCapture\"\n    },\n    dependencies: \"blur compositionstart keydown keypress keyup mousedown\".split(\" \")\n  },\n  compositionUpdate: {\n    phasedRegistrationNames: {\n      bubbled: \"onCompositionUpdate\",\n      captured: \"onCompositionUpdateCapture\"\n    },\n    dependencies: \"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")\n  }\n},\n    vb = !1;\n\nfunction wb(a, b) {\n  switch (a) {\n    case \"keyup\":\n      return -1 !== nb.indexOf(b.keyCode);\n\n    case \"keydown\":\n      return 229 !== b.keyCode;\n\n    case \"keypress\":\n    case \"mousedown\":\n    case \"blur\":\n      return !0;\n\n    default:\n      return !1;\n  }\n}\n\nfunction xb(a) {\n  a = a.detail;\n  return \"object\" === typeof a && \"data\" in a ? a.data : null;\n}\n\nvar yb = !1;\n\nfunction Ab(a, b) {\n  switch (a) {\n    case \"compositionend\":\n      return xb(b);\n\n    case \"keypress\":\n      if (32 !== b.which) return null;\n      vb = !0;\n      return tb;\n\n    case \"textInput\":\n      return a = b.data, a === tb && vb ? null : a;\n\n    default:\n      return null;\n  }\n}\n\nfunction Bb(a, b) {\n  if (yb) return \"compositionend\" === a || !ob && wb(a, b) ? (a = fb(), eb = db = cb = null, yb = !1, a) : null;\n\n  switch (a) {\n    case \"paste\":\n      return null;\n\n    case \"keypress\":\n      if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {\n        if (b.char && 1 < b.char.length) return b.char;\n        if (b.which) return String.fromCharCode(b.which);\n      }\n\n      return null;\n\n    case \"compositionend\":\n      return sb && \"ko\" !== b.locale ? null : b.data;\n\n    default:\n      return null;\n  }\n}\n\nvar Cb = {\n  eventTypes: ub,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = void 0;\n    var f = void 0;\n    if (ob) b: {\n      switch (a) {\n        case \"compositionstart\":\n          e = ub.compositionStart;\n          break b;\n\n        case \"compositionend\":\n          e = ub.compositionEnd;\n          break b;\n\n        case \"compositionupdate\":\n          e = ub.compositionUpdate;\n          break b;\n      }\n\n      e = void 0;\n    } else yb ? wb(a, c) && (e = ub.compositionEnd) : \"keydown\" === a && 229 === c.keyCode && (e = ub.compositionStart);\n    e ? (sb && \"ko\" !== c.locale && (yb || e !== ub.compositionStart ? e === ub.compositionEnd && yb && (f = fb()) : (cb = d, db = \"value\" in cb ? cb.value : cb.textContent, yb = !0)), e = lb.getPooled(e, b, c, d), f ? e.data = f : (f = xb(c), null !== f && (e.data = f)), Qa(e), f = e) : f = null;\n    (a = qb ? Ab(a, c) : Bb(a, c)) ? (b = mb.getPooled(ub.beforeInput, b, c, d), b.data = a, Qa(b)) : b = null;\n    return null === f ? b : null === b ? f : [f, b];\n  }\n},\n    Db = null,\n    Eb = null,\n    Fb = null;\n\nfunction Gb(a) {\n  if (a = ta(a)) {\n    if (\"function\" !== typeof Db) throw t(Error(280));\n    var b = sa(a.stateNode);\n    Db(a.stateNode, a.type, b);\n  }\n}\n\nfunction Hb(a) {\n  Eb ? Fb ? Fb.push(a) : Fb = [a] : Eb = a;\n}\n\nfunction Ib() {\n  if (Eb) {\n    var a = Eb,\n        b = Fb;\n    Fb = Eb = null;\n    Gb(a);\n    if (b) for (a = 0; a < b.length; a++) {\n      Gb(b[a]);\n    }\n  }\n}\n\nfunction Jb(a, b) {\n  return a(b);\n}\n\nfunction Kb(a, b, c, d) {\n  return a(b, c, d);\n}\n\nfunction Lb() {}\n\nvar Mb = Jb,\n    Nb = !1;\n\nfunction Ob() {\n  if (null !== Eb || null !== Fb) Lb(), Ib();\n}\n\nvar Pb = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\n\nfunction Qb(a) {\n  var b = a && a.nodeName && a.nodeName.toLowerCase();\n  return \"input\" === b ? !!Pb[a.type] : \"textarea\" === b ? !0 : !1;\n}\n\nfunction Rb(a) {\n  a = a.target || a.srcElement || window;\n  a.correspondingUseElement && (a = a.correspondingUseElement);\n  return 3 === a.nodeType ? a.parentNode : a;\n}\n\nfunction Sb(a) {\n  if (!Ra) return !1;\n  a = \"on\" + a;\n  var b = a in document;\n  b || (b = document.createElement(\"div\"), b.setAttribute(a, \"return;\"), b = \"function\" === typeof b[a]);\n  return b;\n}\n\nfunction Tb(a) {\n  var b = a.type;\n  return (a = a.nodeName) && \"input\" === a.toLowerCase() && (\"checkbox\" === b || \"radio\" === b);\n}\n\nfunction Ub(a) {\n  var b = Tb(a) ? \"checked\" : \"value\",\n      c = Object.getOwnPropertyDescriptor(a.constructor.prototype, b),\n      d = \"\" + a[b];\n\n  if (!a.hasOwnProperty(b) && \"undefined\" !== typeof c && \"function\" === typeof c.get && \"function\" === typeof c.set) {\n    var e = c.get,\n        f = c.set;\n    Object.defineProperty(a, b, {\n      configurable: !0,\n      get: function get() {\n        return e.call(this);\n      },\n      set: function set(a) {\n        d = \"\" + a;\n        f.call(this, a);\n      }\n    });\n    Object.defineProperty(a, b, {\n      enumerable: c.enumerable\n    });\n    return {\n      getValue: function getValue() {\n        return d;\n      },\n      setValue: function setValue(a) {\n        d = \"\" + a;\n      },\n      stopTracking: function stopTracking() {\n        a._valueTracker = null;\n        delete a[b];\n      }\n    };\n  }\n}\n\nfunction Vb(a) {\n  a._valueTracker || (a._valueTracker = Ub(a));\n}\n\nfunction Wb(a) {\n  if (!a) return !1;\n  var b = a._valueTracker;\n  if (!b) return !0;\n  var c = b.getValue();\n  var d = \"\";\n  a && (d = Tb(a) ? a.checked ? \"true\" : \"false\" : a.value);\n  a = d;\n  return a !== c ? (b.setValue(a), !0) : !1;\n}\n\nvar Xb = aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\nXb.hasOwnProperty(\"ReactCurrentDispatcher\") || (Xb.ReactCurrentDispatcher = {\n  current: null\n});\nXb.hasOwnProperty(\"ReactCurrentBatchConfig\") || (Xb.ReactCurrentBatchConfig = {\n  suspense: null\n});\nvar Yb = /^(.*)[\\\\\\/]/,\n    B = \"function\" === typeof Symbol && Symbol.for,\n    Zb = B ? Symbol.for(\"react.element\") : 60103,\n    $b = B ? Symbol.for(\"react.portal\") : 60106,\n    ac = B ? Symbol.for(\"react.fragment\") : 60107,\n    bc = B ? Symbol.for(\"react.strict_mode\") : 60108,\n    cc = B ? Symbol.for(\"react.profiler\") : 60114,\n    dc = B ? Symbol.for(\"react.provider\") : 60109,\n    ec = B ? Symbol.for(\"react.context\") : 60110,\n    fc = B ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    gc = B ? Symbol.for(\"react.forward_ref\") : 60112,\n    hc = B ? Symbol.for(\"react.suspense\") : 60113,\n    ic = B ? Symbol.for(\"react.suspense_list\") : 60120,\n    jc = B ? Symbol.for(\"react.memo\") : 60115,\n    kc = B ? Symbol.for(\"react.lazy\") : 60116;\nB && Symbol.for(\"react.fundamental\");\nB && Symbol.for(\"react.responder\");\nvar lc = \"function\" === typeof Symbol && Symbol.iterator;\n\nfunction mc(a) {\n  if (null === a || \"object\" !== typeof a) return null;\n  a = lc && a[lc] || a[\"@@iterator\"];\n  return \"function\" === typeof a ? a : null;\n}\n\nfunction oc(a) {\n  if (null == a) return null;\n  if (\"function\" === typeof a) return a.displayName || a.name || null;\n  if (\"string\" === typeof a) return a;\n\n  switch (a) {\n    case ac:\n      return \"Fragment\";\n\n    case $b:\n      return \"Portal\";\n\n    case cc:\n      return \"Profiler\";\n\n    case bc:\n      return \"StrictMode\";\n\n    case hc:\n      return \"Suspense\";\n\n    case ic:\n      return \"SuspenseList\";\n  }\n\n  if (\"object\" === typeof a) switch (a.$$typeof) {\n    case ec:\n      return \"Context.Consumer\";\n\n    case dc:\n      return \"Context.Provider\";\n\n    case gc:\n      var b = a.render;\n      b = b.displayName || b.name || \"\";\n      return a.displayName || (\"\" !== b ? \"ForwardRef(\" + b + \")\" : \"ForwardRef\");\n\n    case jc:\n      return oc(a.type);\n\n    case kc:\n      if (a = 1 === a._status ? a._result : null) return oc(a);\n  }\n  return null;\n}\n\nfunction pc(a) {\n  var b = \"\";\n\n  do {\n    a: switch (a.tag) {\n      case 3:\n      case 4:\n      case 6:\n      case 7:\n      case 10:\n      case 9:\n        var c = \"\";\n        break a;\n\n      default:\n        var d = a._debugOwner,\n            e = a._debugSource,\n            f = oc(a.type);\n        c = null;\n        d && (c = oc(d.type));\n        d = f;\n        f = \"\";\n        e ? f = \" (at \" + e.fileName.replace(Yb, \"\") + \":\" + e.lineNumber + \")\" : c && (f = \" (created by \" + c + \")\");\n        c = \"\\n    in \" + (d || \"Unknown\") + f;\n    }\n\n    b += c;\n    a = a.return;\n  } while (a);\n\n  return b;\n}\n\nvar qc = /^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,\n    rc = Object.prototype.hasOwnProperty,\n    sc = {},\n    tc = {};\n\nfunction uc(a) {\n  if (rc.call(tc, a)) return !0;\n  if (rc.call(sc, a)) return !1;\n  if (qc.test(a)) return tc[a] = !0;\n  sc[a] = !0;\n  return !1;\n}\n\nfunction vc(a, b, c, d) {\n  if (null !== c && 0 === c.type) return !1;\n\n  switch (typeof b) {\n    case \"function\":\n    case \"symbol\":\n      return !0;\n\n    case \"boolean\":\n      if (d) return !1;\n      if (null !== c) return !c.acceptsBooleans;\n      a = a.toLowerCase().slice(0, 5);\n      return \"data-\" !== a && \"aria-\" !== a;\n\n    default:\n      return !1;\n  }\n}\n\nfunction wc(a, b, c, d) {\n  if (null === b || \"undefined\" === typeof b || vc(a, b, c, d)) return !0;\n  if (d) return !1;\n  if (null !== c) switch (c.type) {\n    case 3:\n      return !b;\n\n    case 4:\n      return !1 === b;\n\n    case 5:\n      return isNaN(b);\n\n    case 6:\n      return isNaN(b) || 1 > b;\n  }\n  return !1;\n}\n\nfunction D(a, b, c, d, e, f) {\n  this.acceptsBooleans = 2 === b || 3 === b || 4 === b;\n  this.attributeName = d;\n  this.attributeNamespace = e;\n  this.mustUseProperty = c;\n  this.propertyName = a;\n  this.type = b;\n  this.sanitizeURL = f;\n}\n\nvar F = {};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function (a) {\n  F[a] = new D(a, 0, !1, a, null, !1);\n});\n[[\"acceptCharset\", \"accept-charset\"], [\"className\", \"class\"], [\"htmlFor\", \"for\"], [\"httpEquiv\", \"http-equiv\"]].forEach(function (a) {\n  var b = a[0];\n  F[b] = new D(b, 1, !1, a[1], null, !1);\n});\n[\"contentEditable\", \"draggable\", \"spellCheck\", \"value\"].forEach(function (a) {\n  F[a] = new D(a, 2, !1, a.toLowerCase(), null, !1);\n});\n[\"autoReverse\", \"externalResourcesRequired\", \"focusable\", \"preserveAlpha\"].forEach(function (a) {\n  F[a] = new D(a, 2, !1, a, null, !1);\n});\n\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function (a) {\n  F[a] = new D(a, 3, !1, a.toLowerCase(), null, !1);\n});\n[\"checked\", \"multiple\", \"muted\", \"selected\"].forEach(function (a) {\n  F[a] = new D(a, 3, !0, a, null, !1);\n});\n[\"capture\", \"download\"].forEach(function (a) {\n  F[a] = new D(a, 4, !1, a, null, !1);\n});\n[\"cols\", \"rows\", \"size\", \"span\"].forEach(function (a) {\n  F[a] = new D(a, 6, !1, a, null, !1);\n});\n[\"rowSpan\", \"start\"].forEach(function (a) {\n  F[a] = new D(a, 5, !1, a.toLowerCase(), null, !1);\n});\nvar xc = /[\\-:]([a-z])/g;\n\nfunction yc(a) {\n  return a[1].toUpperCase();\n}\n\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function (a) {\n  var b = a.replace(xc, yc);\n  F[b] = new D(b, 1, !1, a, null, !1);\n});\n\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function (a) {\n  var b = a.replace(xc, yc);\n  F[b] = new D(b, 1, !1, a, \"http://www.w3.org/1999/xlink\", !1);\n});\n[\"xml:base\", \"xml:lang\", \"xml:space\"].forEach(function (a) {\n  var b = a.replace(xc, yc);\n  F[b] = new D(b, 1, !1, a, \"http://www.w3.org/XML/1998/namespace\", !1);\n});\n[\"tabIndex\", \"crossOrigin\"].forEach(function (a) {\n  F[a] = new D(a, 1, !1, a.toLowerCase(), null, !1);\n});\nF.xlinkHref = new D(\"xlinkHref\", 1, !1, \"xlink:href\", \"http://www.w3.org/1999/xlink\", !0);\n[\"src\", \"href\", \"action\", \"formAction\"].forEach(function (a) {\n  F[a] = new D(a, 1, !1, a.toLowerCase(), null, !0);\n});\n\nfunction zc(a, b, c, d) {\n  var e = F.hasOwnProperty(b) ? F[b] : null;\n  var f = null !== e ? 0 === e.type : d ? !1 : !(2 < b.length) || \"o\" !== b[0] && \"O\" !== b[0] || \"n\" !== b[1] && \"N\" !== b[1] ? !1 : !0;\n  f || (wc(b, c, e, d) && (c = null), d || null === e ? uc(b) && (null === c ? a.removeAttribute(b) : a.setAttribute(b, \"\" + c)) : e.mustUseProperty ? a[e.propertyName] = null === c ? 3 === e.type ? !1 : \"\" : c : (b = e.attributeName, d = e.attributeNamespace, null === c ? a.removeAttribute(b) : (e = e.type, c = 3 === e || 4 === e && !0 === c ? \"\" : \"\" + c, d ? a.setAttributeNS(d, b, c) : a.setAttribute(b, c))));\n}\n\nfunction Ac(a) {\n  switch (typeof a) {\n    case \"boolean\":\n    case \"number\":\n    case \"object\":\n    case \"string\":\n    case \"undefined\":\n      return a;\n\n    default:\n      return \"\";\n  }\n}\n\nfunction Bc(a, b) {\n  var c = b.checked;\n  return m({}, b, {\n    defaultChecked: void 0,\n    defaultValue: void 0,\n    value: void 0,\n    checked: null != c ? c : a._wrapperState.initialChecked\n  });\n}\n\nfunction Cc(a, b) {\n  var c = null == b.defaultValue ? \"\" : b.defaultValue,\n      d = null != b.checked ? b.checked : b.defaultChecked;\n  c = Ac(null != b.value ? b.value : c);\n  a._wrapperState = {\n    initialChecked: d,\n    initialValue: c,\n    controlled: \"checkbox\" === b.type || \"radio\" === b.type ? null != b.checked : null != b.value\n  };\n}\n\nfunction Dc(a, b) {\n  b = b.checked;\n  null != b && zc(a, \"checked\", b, !1);\n}\n\nfunction Ec(a, b) {\n  Dc(a, b);\n  var c = Ac(b.value),\n      d = b.type;\n  if (null != c) {\n    if (\"number\" === d) {\n      if (0 === c && \"\" === a.value || a.value != c) a.value = \"\" + c;\n    } else a.value !== \"\" + c && (a.value = \"\" + c);\n  } else if (\"submit\" === d || \"reset\" === d) {\n    a.removeAttribute(\"value\");\n    return;\n  }\n  b.hasOwnProperty(\"value\") ? Fc(a, b.type, c) : b.hasOwnProperty(\"defaultValue\") && Fc(a, b.type, Ac(b.defaultValue));\n  null == b.checked && null != b.defaultChecked && (a.defaultChecked = !!b.defaultChecked);\n}\n\nfunction Gc(a, b, c) {\n  if (b.hasOwnProperty(\"value\") || b.hasOwnProperty(\"defaultValue\")) {\n    var d = b.type;\n    if (!(\"submit\" !== d && \"reset\" !== d || void 0 !== b.value && null !== b.value)) return;\n    b = \"\" + a._wrapperState.initialValue;\n    c || b === a.value || (a.value = b);\n    a.defaultValue = b;\n  }\n\n  c = a.name;\n  \"\" !== c && (a.name = \"\");\n  a.defaultChecked = !a.defaultChecked;\n  a.defaultChecked = !!a._wrapperState.initialChecked;\n  \"\" !== c && (a.name = c);\n}\n\nfunction Fc(a, b, c) {\n  if (\"number\" !== b || a.ownerDocument.activeElement !== a) null == c ? a.defaultValue = \"\" + a._wrapperState.initialValue : a.defaultValue !== \"\" + c && (a.defaultValue = \"\" + c);\n}\n\nvar Hc = {\n  change: {\n    phasedRegistrationNames: {\n      bubbled: \"onChange\",\n      captured: \"onChangeCapture\"\n    },\n    dependencies: \"blur change click focus input keydown keyup selectionchange\".split(\" \")\n  }\n};\n\nfunction Ic(a, b, c) {\n  a = y.getPooled(Hc.change, a, b, c);\n  a.type = \"change\";\n  Hb(c);\n  Qa(a);\n  return a;\n}\n\nvar Jc = null,\n    Kc = null;\n\nfunction Lc(a) {\n  Ba(a);\n}\n\nfunction Mc(a) {\n  var b = Ja(a);\n  if (Wb(b)) return a;\n}\n\nfunction Nc(a, b) {\n  if (\"change\" === a) return b;\n}\n\nvar Oc = !1;\nRa && (Oc = Sb(\"input\") && (!document.documentMode || 9 < document.documentMode));\n\nfunction Pc() {\n  Jc && (Jc.detachEvent(\"onpropertychange\", Qc), Kc = Jc = null);\n}\n\nfunction Qc(a) {\n  if (\"value\" === a.propertyName && Mc(Kc)) if (a = Ic(Kc, a, Rb(a)), Nb) Ba(a);else {\n    Nb = !0;\n\n    try {\n      Jb(Lc, a);\n    } finally {\n      Nb = !1, Ob();\n    }\n  }\n}\n\nfunction Rc(a, b, c) {\n  \"focus\" === a ? (Pc(), Jc = b, Kc = c, Jc.attachEvent(\"onpropertychange\", Qc)) : \"blur\" === a && Pc();\n}\n\nfunction Sc(a) {\n  if (\"selectionchange\" === a || \"keyup\" === a || \"keydown\" === a) return Mc(Kc);\n}\n\nfunction Tc(a, b) {\n  if (\"click\" === a) return Mc(b);\n}\n\nfunction Uc(a, b) {\n  if (\"input\" === a || \"change\" === a) return Mc(b);\n}\n\nvar Vc = {\n  eventTypes: Hc,\n  _isInputEventSupported: Oc,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = b ? Ja(b) : window,\n        f = void 0,\n        h = void 0,\n        g = e.nodeName && e.nodeName.toLowerCase();\n    \"select\" === g || \"input\" === g && \"file\" === e.type ? f = Nc : Qb(e) ? Oc ? f = Uc : (f = Sc, h = Rc) : (g = e.nodeName) && \"input\" === g.toLowerCase() && (\"checkbox\" === e.type || \"radio\" === e.type) && (f = Tc);\n    if (f && (f = f(a, b))) return Ic(f, c, d);\n    h && h(a, e, b);\n    \"blur\" === a && (a = e._wrapperState) && a.controlled && \"number\" === e.type && Fc(e, \"number\", e.value);\n  }\n},\n    Wc = y.extend({\n  view: null,\n  detail: null\n}),\n    Xc = {\n  Alt: \"altKey\",\n  Control: \"ctrlKey\",\n  Meta: \"metaKey\",\n  Shift: \"shiftKey\"\n};\n\nfunction Yc(a) {\n  var b = this.nativeEvent;\n  return b.getModifierState ? b.getModifierState(a) : (a = Xc[a]) ? !!b[a] : !1;\n}\n\nfunction Zc() {\n  return Yc;\n}\n\nvar $c = 0,\n    ad = 0,\n    bd = !1,\n    cd = !1,\n    dd = Wc.extend({\n  screenX: null,\n  screenY: null,\n  clientX: null,\n  clientY: null,\n  pageX: null,\n  pageY: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  getModifierState: Zc,\n  button: null,\n  buttons: null,\n  relatedTarget: function relatedTarget(a) {\n    return a.relatedTarget || (a.fromElement === a.srcElement ? a.toElement : a.fromElement);\n  },\n  movementX: function movementX(a) {\n    if (\"movementX\" in a) return a.movementX;\n    var b = $c;\n    $c = a.screenX;\n    return bd ? \"mousemove\" === a.type ? a.screenX - b : 0 : (bd = !0, 0);\n  },\n  movementY: function movementY(a) {\n    if (\"movementY\" in a) return a.movementY;\n    var b = ad;\n    ad = a.screenY;\n    return cd ? \"mousemove\" === a.type ? a.screenY - b : 0 : (cd = !0, 0);\n  }\n}),\n    ed = dd.extend({\n  pointerId: null,\n  width: null,\n  height: null,\n  pressure: null,\n  tangentialPressure: null,\n  tiltX: null,\n  tiltY: null,\n  twist: null,\n  pointerType: null,\n  isPrimary: null\n}),\n    fd = {\n  mouseEnter: {\n    registrationName: \"onMouseEnter\",\n    dependencies: [\"mouseout\", \"mouseover\"]\n  },\n  mouseLeave: {\n    registrationName: \"onMouseLeave\",\n    dependencies: [\"mouseout\", \"mouseover\"]\n  },\n  pointerEnter: {\n    registrationName: \"onPointerEnter\",\n    dependencies: [\"pointerout\", \"pointerover\"]\n  },\n  pointerLeave: {\n    registrationName: \"onPointerLeave\",\n    dependencies: [\"pointerout\", \"pointerover\"]\n  }\n},\n    gd = {\n  eventTypes: fd,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = \"mouseover\" === a || \"pointerover\" === a,\n        f = \"mouseout\" === a || \"pointerout\" === a;\n    if (e && (c.relatedTarget || c.fromElement) || !f && !e) return null;\n    e = d.window === d ? d : (e = d.ownerDocument) ? e.defaultView || e.parentWindow : window;\n    f ? (f = b, b = (b = c.relatedTarget || c.toElement) ? Ha(b) : null) : f = null;\n    if (f === b) return null;\n    var h = void 0,\n        g = void 0,\n        k = void 0,\n        l = void 0;\n    if (\"mouseout\" === a || \"mouseover\" === a) h = dd, g = fd.mouseLeave, k = fd.mouseEnter, l = \"mouse\";else if (\"pointerout\" === a || \"pointerover\" === a) h = ed, g = fd.pointerLeave, k = fd.pointerEnter, l = \"pointer\";\n    var n = null == f ? e : Ja(f);\n    e = null == b ? e : Ja(b);\n    a = h.getPooled(g, f, c, d);\n    a.type = l + \"leave\";\n    a.target = n;\n    a.relatedTarget = e;\n    c = h.getPooled(k, b, c, d);\n    c.type = l + \"enter\";\n    c.target = e;\n    c.relatedTarget = n;\n    d = b;\n    if (f && d) a: {\n      b = f;\n      e = d;\n      l = 0;\n\n      for (h = b; h; h = La(h)) {\n        l++;\n      }\n\n      h = 0;\n\n      for (k = e; k; k = La(k)) {\n        h++;\n      }\n\n      for (; 0 < l - h;) {\n        b = La(b), l--;\n      }\n\n      for (; 0 < h - l;) {\n        e = La(e), h--;\n      }\n\n      for (; l--;) {\n        if (b === e || b === e.alternate) break a;\n        b = La(b);\n        e = La(e);\n      }\n\n      b = null;\n    } else b = null;\n    e = b;\n\n    for (b = []; f && f !== e;) {\n      l = f.alternate;\n      if (null !== l && l === e) break;\n      b.push(f);\n      f = La(f);\n    }\n\n    for (f = []; d && d !== e;) {\n      l = d.alternate;\n      if (null !== l && l === e) break;\n      f.push(d);\n      d = La(d);\n    }\n\n    for (d = 0; d < b.length; d++) {\n      Oa(b[d], \"bubbled\", a);\n    }\n\n    for (d = f.length; 0 < d--;) {\n      Oa(f[d], \"captured\", c);\n    }\n\n    return [a, c];\n  }\n};\n\nfunction hd(a, b) {\n  return a === b && (0 !== a || 1 / a === 1 / b) || a !== a && b !== b;\n}\n\nvar id = Object.prototype.hasOwnProperty;\n\nfunction jd(a, b) {\n  if (hd(a, b)) return !0;\n  if (\"object\" !== typeof a || null === a || \"object\" !== typeof b || null === b) return !1;\n  var c = Object.keys(a),\n      d = Object.keys(b);\n  if (c.length !== d.length) return !1;\n\n  for (d = 0; d < c.length; d++) {\n    if (!id.call(b, c[d]) || !hd(a[c[d]], b[c[d]])) return !1;\n  }\n\n  return !0;\n}\n\nfunction kd(a, b) {\n  return {\n    responder: a,\n    props: b\n  };\n}\n\nnew Map();\nnew Map();\nnew Set();\nnew Map();\n\nfunction ld(a) {\n  var b = a;\n  if (a.alternate) for (; b.return;) {\n    b = b.return;\n  } else {\n    if (0 !== (b.effectTag & 2)) return 1;\n\n    for (; b.return;) {\n      if (b = b.return, 0 !== (b.effectTag & 2)) return 1;\n    }\n  }\n  return 3 === b.tag ? 2 : 3;\n}\n\nfunction od(a) {\n  if (2 !== ld(a)) throw t(Error(188));\n}\n\nfunction pd(a) {\n  var b = a.alternate;\n\n  if (!b) {\n    b = ld(a);\n    if (3 === b) throw t(Error(188));\n    return 1 === b ? null : a;\n  }\n\n  for (var c = a, d = b;;) {\n    var e = c.return;\n    if (null === e) break;\n    var f = e.alternate;\n\n    if (null === f) {\n      d = e.return;\n\n      if (null !== d) {\n        c = d;\n        continue;\n      }\n\n      break;\n    }\n\n    if (e.child === f.child) {\n      for (f = e.child; f;) {\n        if (f === c) return od(e), a;\n        if (f === d) return od(e), b;\n        f = f.sibling;\n      }\n\n      throw t(Error(188));\n    }\n\n    if (c.return !== d.return) c = e, d = f;else {\n      for (var h = !1, g = e.child; g;) {\n        if (g === c) {\n          h = !0;\n          c = e;\n          d = f;\n          break;\n        }\n\n        if (g === d) {\n          h = !0;\n          d = e;\n          c = f;\n          break;\n        }\n\n        g = g.sibling;\n      }\n\n      if (!h) {\n        for (g = f.child; g;) {\n          if (g === c) {\n            h = !0;\n            c = f;\n            d = e;\n            break;\n          }\n\n          if (g === d) {\n            h = !0;\n            d = f;\n            c = e;\n            break;\n          }\n\n          g = g.sibling;\n        }\n\n        if (!h) throw t(Error(189));\n      }\n    }\n    if (c.alternate !== d) throw t(Error(190));\n  }\n\n  if (3 !== c.tag) throw t(Error(188));\n  return c.stateNode.current === c ? a : b;\n}\n\nfunction qd(a) {\n  a = pd(a);\n  if (!a) return null;\n\n  for (var b = a;;) {\n    if (5 === b.tag || 6 === b.tag) return b;\n    if (b.child) b.child.return = b, b = b.child;else {\n      if (b === a) break;\n\n      for (; !b.sibling;) {\n        if (!b.return || b.return === a) return null;\n        b = b.return;\n      }\n\n      b.sibling.return = b.return;\n      b = b.sibling;\n    }\n  }\n\n  return null;\n}\n\nvar rd = y.extend({\n  animationName: null,\n  elapsedTime: null,\n  pseudoElement: null\n}),\n    sd = y.extend({\n  clipboardData: function clipboardData(a) {\n    return \"clipboardData\" in a ? a.clipboardData : window.clipboardData;\n  }\n}),\n    td = Wc.extend({\n  relatedTarget: null\n});\n\nfunction ud(a) {\n  var b = a.keyCode;\n  \"charCode\" in a ? (a = a.charCode, 0 === a && 13 === b && (a = 13)) : a = b;\n  10 === a && (a = 13);\n  return 32 <= a || 13 === a ? a : 0;\n}\n\nvar vd = {\n  Esc: \"Escape\",\n  Spacebar: \" \",\n  Left: \"ArrowLeft\",\n  Up: \"ArrowUp\",\n  Right: \"ArrowRight\",\n  Down: \"ArrowDown\",\n  Del: \"Delete\",\n  Win: \"OS\",\n  Menu: \"ContextMenu\",\n  Apps: \"ContextMenu\",\n  Scroll: \"ScrollLock\",\n  MozPrintableKey: \"Unidentified\"\n},\n    wd = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  12: \"Clear\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  19: \"Pause\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  45: \"Insert\",\n  46: \"Delete\",\n  112: \"F1\",\n  113: \"F2\",\n  114: \"F3\",\n  115: \"F4\",\n  116: \"F5\",\n  117: \"F6\",\n  118: \"F7\",\n  119: \"F8\",\n  120: \"F9\",\n  121: \"F10\",\n  122: \"F11\",\n  123: \"F12\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  224: \"Meta\"\n},\n    xd = Wc.extend({\n  key: function key(a) {\n    if (a.key) {\n      var b = vd[a.key] || a.key;\n      if (\"Unidentified\" !== b) return b;\n    }\n\n    return \"keypress\" === a.type ? (a = ud(a), 13 === a ? \"Enter\" : String.fromCharCode(a)) : \"keydown\" === a.type || \"keyup\" === a.type ? wd[a.keyCode] || \"Unidentified\" : \"\";\n  },\n  location: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  repeat: null,\n  locale: null,\n  getModifierState: Zc,\n  charCode: function charCode(a) {\n    return \"keypress\" === a.type ? ud(a) : 0;\n  },\n  keyCode: function keyCode(a) {\n    return \"keydown\" === a.type || \"keyup\" === a.type ? a.keyCode : 0;\n  },\n  which: function which(a) {\n    return \"keypress\" === a.type ? ud(a) : \"keydown\" === a.type || \"keyup\" === a.type ? a.keyCode : 0;\n  }\n}),\n    yd = dd.extend({\n  dataTransfer: null\n}),\n    zd = Wc.extend({\n  touches: null,\n  targetTouches: null,\n  changedTouches: null,\n  altKey: null,\n  metaKey: null,\n  ctrlKey: null,\n  shiftKey: null,\n  getModifierState: Zc\n}),\n    Ad = y.extend({\n  propertyName: null,\n  elapsedTime: null,\n  pseudoElement: null\n}),\n    Bd = dd.extend({\n  deltaX: function deltaX(a) {\n    return \"deltaX\" in a ? a.deltaX : \"wheelDeltaX\" in a ? -a.wheelDeltaX : 0;\n  },\n  deltaY: function deltaY(a) {\n    return \"deltaY\" in a ? a.deltaY : \"wheelDeltaY\" in a ? -a.wheelDeltaY : \"wheelDelta\" in a ? -a.wheelDelta : 0;\n  },\n  deltaZ: null,\n  deltaMode: null\n}),\n    Cd = [[\"blur\", \"blur\", 0], [\"cancel\", \"cancel\", 0], [\"click\", \"click\", 0], [\"close\", \"close\", 0], [\"contextmenu\", \"contextMenu\", 0], [\"copy\", \"copy\", 0], [\"cut\", \"cut\", 0], [\"auxclick\", \"auxClick\", 0], [\"dblclick\", \"doubleClick\", 0], [\"dragend\", \"dragEnd\", 0], [\"dragstart\", \"dragStart\", 0], [\"drop\", \"drop\", 0], [\"focus\", \"focus\", 0], [\"input\", \"input\", 0], [\"invalid\", \"invalid\", 0], [\"keydown\", \"keyDown\", 0], [\"keypress\", \"keyPress\", 0], [\"keyup\", \"keyUp\", 0], [\"mousedown\", \"mouseDown\", 0], [\"mouseup\", \"mouseUp\", 0], [\"paste\", \"paste\", 0], [\"pause\", \"pause\", 0], [\"play\", \"play\", 0], [\"pointercancel\", \"pointerCancel\", 0], [\"pointerdown\", \"pointerDown\", 0], [\"pointerup\", \"pointerUp\", 0], [\"ratechange\", \"rateChange\", 0], [\"reset\", \"reset\", 0], [\"seeked\", \"seeked\", 0], [\"submit\", \"submit\", 0], [\"touchcancel\", \"touchCancel\", 0], [\"touchend\", \"touchEnd\", 0], [\"touchstart\", \"touchStart\", 0], [\"volumechange\", \"volumeChange\", 0], [\"drag\", \"drag\", 1], [\"dragenter\", \"dragEnter\", 1], [\"dragexit\", \"dragExit\", 1], [\"dragleave\", \"dragLeave\", 1], [\"dragover\", \"dragOver\", 1], [\"mousemove\", \"mouseMove\", 1], [\"mouseout\", \"mouseOut\", 1], [\"mouseover\", \"mouseOver\", 1], [\"pointermove\", \"pointerMove\", 1], [\"pointerout\", \"pointerOut\", 1], [\"pointerover\", \"pointerOver\", 1], [\"scroll\", \"scroll\", 1], [\"toggle\", \"toggle\", 1], [\"touchmove\", \"touchMove\", 1], [\"wheel\", \"wheel\", 1], [\"abort\", \"abort\", 2], [Xa, \"animationEnd\", 2], [Ya, \"animationIteration\", 2], [Za, \"animationStart\", 2], [\"canplay\", \"canPlay\", 2], [\"canplaythrough\", \"canPlayThrough\", 2], [\"durationchange\", \"durationChange\", 2], [\"emptied\", \"emptied\", 2], [\"encrypted\", \"encrypted\", 2], [\"ended\", \"ended\", 2], [\"error\", \"error\", 2], [\"gotpointercapture\", \"gotPointerCapture\", 2], [\"load\", \"load\", 2], [\"loadeddata\", \"loadedData\", 2], [\"loadedmetadata\", \"loadedMetadata\", 2], [\"loadstart\", \"loadStart\", 2], [\"lostpointercapture\", \"lostPointerCapture\", 2], [\"playing\", \"playing\", 2], [\"progress\", \"progress\", 2], [\"seeking\", \"seeking\", 2], [\"stalled\", \"stalled\", 2], [\"suspend\", \"suspend\", 2], [\"timeupdate\", \"timeUpdate\", 2], [ab, \"transitionEnd\", 2], [\"waiting\", \"waiting\", 2]],\n    Dd = {},\n    Ed = {},\n    Fd = 0;\n\nfor (; Fd < Cd.length; Fd++) {\n  var Gd = Cd[Fd],\n      Hd = Gd[0],\n      Id = Gd[1],\n      Jd = Gd[2],\n      Kd = \"on\" + (Id[0].toUpperCase() + Id.slice(1)),\n      Ld = {\n    phasedRegistrationNames: {\n      bubbled: Kd,\n      captured: Kd + \"Capture\"\n    },\n    dependencies: [Hd],\n    eventPriority: Jd\n  };\n  Dd[Id] = Ld;\n  Ed[Hd] = Ld;\n}\n\nvar Md = {\n  eventTypes: Dd,\n  getEventPriority: function getEventPriority(a) {\n    a = Ed[a];\n    return void 0 !== a ? a.eventPriority : 2;\n  },\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = Ed[a];\n    if (!e) return null;\n\n    switch (a) {\n      case \"keypress\":\n        if (0 === ud(c)) return null;\n\n      case \"keydown\":\n      case \"keyup\":\n        a = xd;\n        break;\n\n      case \"blur\":\n      case \"focus\":\n        a = td;\n        break;\n\n      case \"click\":\n        if (2 === c.button) return null;\n\n      case \"auxclick\":\n      case \"dblclick\":\n      case \"mousedown\":\n      case \"mousemove\":\n      case \"mouseup\":\n      case \"mouseout\":\n      case \"mouseover\":\n      case \"contextmenu\":\n        a = dd;\n        break;\n\n      case \"drag\":\n      case \"dragend\":\n      case \"dragenter\":\n      case \"dragexit\":\n      case \"dragleave\":\n      case \"dragover\":\n      case \"dragstart\":\n      case \"drop\":\n        a = yd;\n        break;\n\n      case \"touchcancel\":\n      case \"touchend\":\n      case \"touchmove\":\n      case \"touchstart\":\n        a = zd;\n        break;\n\n      case Xa:\n      case Ya:\n      case Za:\n        a = rd;\n        break;\n\n      case ab:\n        a = Ad;\n        break;\n\n      case \"scroll\":\n        a = Wc;\n        break;\n\n      case \"wheel\":\n        a = Bd;\n        break;\n\n      case \"copy\":\n      case \"cut\":\n      case \"paste\":\n        a = sd;\n        break;\n\n      case \"gotpointercapture\":\n      case \"lostpointercapture\":\n      case \"pointercancel\":\n      case \"pointerdown\":\n      case \"pointermove\":\n      case \"pointerout\":\n      case \"pointerover\":\n      case \"pointerup\":\n        a = ed;\n        break;\n\n      default:\n        a = y;\n    }\n\n    b = a.getPooled(e, b, c, d);\n    Qa(b);\n    return b;\n  }\n},\n    Nd = Md.getEventPriority,\n    Od = [];\n\nfunction Pd(a) {\n  var b = a.targetInst,\n      c = b;\n\n  do {\n    if (!c) {\n      a.ancestors.push(c);\n      break;\n    }\n\n    var d;\n\n    for (d = c; d.return;) {\n      d = d.return;\n    }\n\n    d = 3 !== d.tag ? null : d.stateNode.containerInfo;\n    if (!d) break;\n    a.ancestors.push(c);\n    c = Ha(d);\n  } while (c);\n\n  for (c = 0; c < a.ancestors.length; c++) {\n    b = a.ancestors[c];\n    var e = Rb(a.nativeEvent);\n    d = a.topLevelType;\n\n    for (var f = a.nativeEvent, h = null, g = 0; g < ea.length; g++) {\n      var k = ea[g];\n      k && (k = k.extractEvents(d, b, f, e)) && (h = xa(h, k));\n    }\n\n    Ba(h);\n  }\n}\n\nvar Qd = !0;\n\nfunction G(a, b) {\n  Rd(b, a, !1);\n}\n\nfunction Rd(a, b, c) {\n  switch (Nd(b)) {\n    case 0:\n      var d = Sd.bind(null, b, 1);\n      break;\n\n    case 1:\n      d = Td.bind(null, b, 1);\n      break;\n\n    default:\n      d = Ud.bind(null, b, 1);\n  }\n\n  c ? a.addEventListener(b, d, !0) : a.addEventListener(b, d, !1);\n}\n\nfunction Sd(a, b, c) {\n  Nb || Lb();\n  var d = Ud,\n      e = Nb;\n  Nb = !0;\n\n  try {\n    Kb(d, a, b, c);\n  } finally {\n    (Nb = e) || Ob();\n  }\n}\n\nfunction Td(a, b, c) {\n  Ud(a, b, c);\n}\n\nfunction Ud(a, b, c) {\n  if (Qd) {\n    b = Rb(c);\n    b = Ha(b);\n    null === b || \"number\" !== typeof b.tag || 2 === ld(b) || (b = null);\n\n    if (Od.length) {\n      var d = Od.pop();\n      d.topLevelType = a;\n      d.nativeEvent = c;\n      d.targetInst = b;\n      a = d;\n    } else a = {\n      topLevelType: a,\n      nativeEvent: c,\n      targetInst: b,\n      ancestors: []\n    };\n\n    try {\n      if (c = a, Nb) Pd(c, void 0);else {\n        Nb = !0;\n\n        try {\n          Mb(Pd, c, void 0);\n        } finally {\n          Nb = !1, Ob();\n        }\n      }\n    } finally {\n      a.topLevelType = null, a.nativeEvent = null, a.targetInst = null, a.ancestors.length = 0, 10 > Od.length && Od.push(a);\n    }\n  }\n}\n\nvar Vd = new (\"function\" === typeof WeakMap ? WeakMap : Map)();\n\nfunction Wd(a) {\n  var b = Vd.get(a);\n  void 0 === b && (b = new Set(), Vd.set(a, b));\n  return b;\n}\n\nfunction Xd(a) {\n  a = a || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof a) return null;\n\n  try {\n    return a.activeElement || a.body;\n  } catch (b) {\n    return a.body;\n  }\n}\n\nfunction Yd(a) {\n  for (; a && a.firstChild;) {\n    a = a.firstChild;\n  }\n\n  return a;\n}\n\nfunction Zd(a, b) {\n  var c = Yd(a);\n  a = 0;\n\n  for (var d; c;) {\n    if (3 === c.nodeType) {\n      d = a + c.textContent.length;\n      if (a <= b && d >= b) return {\n        node: c,\n        offset: b - a\n      };\n      a = d;\n    }\n\n    a: {\n      for (; c;) {\n        if (c.nextSibling) {\n          c = c.nextSibling;\n          break a;\n        }\n\n        c = c.parentNode;\n      }\n\n      c = void 0;\n    }\n\n    c = Yd(c);\n  }\n}\n\nfunction $d(a, b) {\n  return a && b ? a === b ? !0 : a && 3 === a.nodeType ? !1 : b && 3 === b.nodeType ? $d(a, b.parentNode) : \"contains\" in a ? a.contains(b) : a.compareDocumentPosition ? !!(a.compareDocumentPosition(b) & 16) : !1 : !1;\n}\n\nfunction ae() {\n  for (var a = window, b = Xd(); b instanceof a.HTMLIFrameElement;) {\n    try {\n      var c = \"string\" === typeof b.contentWindow.location.href;\n    } catch (d) {\n      c = !1;\n    }\n\n    if (c) a = b.contentWindow;else break;\n    b = Xd(a.document);\n  }\n\n  return b;\n}\n\nfunction be(a) {\n  var b = a && a.nodeName && a.nodeName.toLowerCase();\n  return b && (\"input\" === b && (\"text\" === a.type || \"search\" === a.type || \"tel\" === a.type || \"url\" === a.type || \"password\" === a.type) || \"textarea\" === b || \"true\" === a.contentEditable);\n}\n\nvar ce = Ra && \"documentMode\" in document && 11 >= document.documentMode,\n    de = {\n  select: {\n    phasedRegistrationNames: {\n      bubbled: \"onSelect\",\n      captured: \"onSelectCapture\"\n    },\n    dependencies: \"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")\n  }\n},\n    ee = null,\n    fe = null,\n    ge = null,\n    he = !1;\n\nfunction ie(a, b) {\n  var c = b.window === b ? b.document : 9 === b.nodeType ? b : b.ownerDocument;\n  if (he || null == ee || ee !== Xd(c)) return null;\n  c = ee;\n  \"selectionStart\" in c && be(c) ? c = {\n    start: c.selectionStart,\n    end: c.selectionEnd\n  } : (c = (c.ownerDocument && c.ownerDocument.defaultView || window).getSelection(), c = {\n    anchorNode: c.anchorNode,\n    anchorOffset: c.anchorOffset,\n    focusNode: c.focusNode,\n    focusOffset: c.focusOffset\n  });\n  return ge && jd(ge, c) ? null : (ge = c, a = y.getPooled(de.select, fe, a, b), a.type = \"select\", a.target = ee, Qa(a), a);\n}\n\nvar je = {\n  eventTypes: de,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = d.window === d ? d.document : 9 === d.nodeType ? d : d.ownerDocument,\n        f;\n\n    if (!(f = !e)) {\n      a: {\n        e = Wd(e);\n        f = ja.onSelect;\n\n        for (var h = 0; h < f.length; h++) {\n          if (!e.has(f[h])) {\n            e = !1;\n            break a;\n          }\n        }\n\n        e = !0;\n      }\n\n      f = !e;\n    }\n\n    if (f) return null;\n    e = b ? Ja(b) : window;\n\n    switch (a) {\n      case \"focus\":\n        if (Qb(e) || \"true\" === e.contentEditable) ee = e, fe = b, ge = null;\n        break;\n\n      case \"blur\":\n        ge = fe = ee = null;\n        break;\n\n      case \"mousedown\":\n        he = !0;\n        break;\n\n      case \"contextmenu\":\n      case \"mouseup\":\n      case \"dragend\":\n        return he = !1, ie(c, d);\n\n      case \"selectionchange\":\n        if (ce) break;\n\n      case \"keydown\":\n      case \"keyup\":\n        return ie(c, d);\n    }\n\n    return null;\n  }\n};\nCa.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));\nsa = Ka;\nta = Ia;\nva = Ja;\nCa.injectEventPluginsByName({\n  SimpleEventPlugin: Md,\n  EnterLeaveEventPlugin: gd,\n  ChangeEventPlugin: Vc,\n  SelectEventPlugin: je,\n  BeforeInputEventPlugin: Cb\n});\n\nfunction ke(a) {\n  var b = \"\";\n  aa.Children.forEach(a, function (a) {\n    null != a && (b += a);\n  });\n  return b;\n}\n\nfunction le(a, b) {\n  a = m({\n    children: void 0\n  }, b);\n  if (b = ke(b.children)) a.children = b;\n  return a;\n}\n\nfunction me(a, b, c, d) {\n  a = a.options;\n\n  if (b) {\n    b = {};\n\n    for (var e = 0; e < c.length; e++) {\n      b[\"$\" + c[e]] = !0;\n    }\n\n    for (c = 0; c < a.length; c++) {\n      e = b.hasOwnProperty(\"$\" + a[c].value), a[c].selected !== e && (a[c].selected = e), e && d && (a[c].defaultSelected = !0);\n    }\n  } else {\n    c = \"\" + Ac(c);\n    b = null;\n\n    for (e = 0; e < a.length; e++) {\n      if (a[e].value === c) {\n        a[e].selected = !0;\n        d && (a[e].defaultSelected = !0);\n        return;\n      }\n\n      null !== b || a[e].disabled || (b = a[e]);\n    }\n\n    null !== b && (b.selected = !0);\n  }\n}\n\nfunction ne(a, b) {\n  if (null != b.dangerouslySetInnerHTML) throw t(Error(91));\n  return m({}, b, {\n    value: void 0,\n    defaultValue: void 0,\n    children: \"\" + a._wrapperState.initialValue\n  });\n}\n\nfunction oe(a, b) {\n  var c = b.value;\n\n  if (null == c) {\n    c = b.defaultValue;\n    b = b.children;\n\n    if (null != b) {\n      if (null != c) throw t(Error(92));\n\n      if (Array.isArray(b)) {\n        if (!(1 >= b.length)) throw t(Error(93));\n        b = b[0];\n      }\n\n      c = b;\n    }\n\n    null == c && (c = \"\");\n  }\n\n  a._wrapperState = {\n    initialValue: Ac(c)\n  };\n}\n\nfunction pe(a, b) {\n  var c = Ac(b.value),\n      d = Ac(b.defaultValue);\n  null != c && (c = \"\" + c, c !== a.value && (a.value = c), null == b.defaultValue && a.defaultValue !== c && (a.defaultValue = c));\n  null != d && (a.defaultValue = \"\" + d);\n}\n\nfunction qe(a) {\n  var b = a.textContent;\n  b === a._wrapperState.initialValue && (a.value = b);\n}\n\nvar re = {\n  html: \"http://www.w3.org/1999/xhtml\",\n  mathml: \"http://www.w3.org/1998/Math/MathML\",\n  svg: \"http://www.w3.org/2000/svg\"\n};\n\nfunction se(a) {\n  switch (a) {\n    case \"svg\":\n      return \"http://www.w3.org/2000/svg\";\n\n    case \"math\":\n      return \"http://www.w3.org/1998/Math/MathML\";\n\n    default:\n      return \"http://www.w3.org/1999/xhtml\";\n  }\n}\n\nfunction te(a, b) {\n  return null == a || \"http://www.w3.org/1999/xhtml\" === a ? se(b) : \"http://www.w3.org/2000/svg\" === a && \"foreignObject\" === b ? \"http://www.w3.org/1999/xhtml\" : a;\n}\n\nvar ue = void 0,\n    ve = function (a) {\n  return \"undefined\" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function (b, c, d, e) {\n    MSApp.execUnsafeLocalFunction(function () {\n      return a(b, c, d, e);\n    });\n  } : a;\n}(function (a, b) {\n  if (a.namespaceURI !== re.svg || \"innerHTML\" in a) a.innerHTML = b;else {\n    ue = ue || document.createElement(\"div\");\n    ue.innerHTML = \"<svg>\" + b + \"</svg>\";\n\n    for (b = ue.firstChild; a.firstChild;) {\n      a.removeChild(a.firstChild);\n    }\n\n    for (; b.firstChild;) {\n      a.appendChild(b.firstChild);\n    }\n  }\n});\n\nfunction we(a, b) {\n  if (b) {\n    var c = a.firstChild;\n\n    if (c && c === a.lastChild && 3 === c.nodeType) {\n      c.nodeValue = b;\n      return;\n    }\n  }\n\n  a.textContent = b;\n}\n\nvar xe = {\n  animationIterationCount: !0,\n  borderImageOutset: !0,\n  borderImageSlice: !0,\n  borderImageWidth: !0,\n  boxFlex: !0,\n  boxFlexGroup: !0,\n  boxOrdinalGroup: !0,\n  columnCount: !0,\n  columns: !0,\n  flex: !0,\n  flexGrow: !0,\n  flexPositive: !0,\n  flexShrink: !0,\n  flexNegative: !0,\n  flexOrder: !0,\n  gridArea: !0,\n  gridRow: !0,\n  gridRowEnd: !0,\n  gridRowSpan: !0,\n  gridRowStart: !0,\n  gridColumn: !0,\n  gridColumnEnd: !0,\n  gridColumnSpan: !0,\n  gridColumnStart: !0,\n  fontWeight: !0,\n  lineClamp: !0,\n  lineHeight: !0,\n  opacity: !0,\n  order: !0,\n  orphans: !0,\n  tabSize: !0,\n  widows: !0,\n  zIndex: !0,\n  zoom: !0,\n  fillOpacity: !0,\n  floodOpacity: !0,\n  stopOpacity: !0,\n  strokeDasharray: !0,\n  strokeDashoffset: !0,\n  strokeMiterlimit: !0,\n  strokeOpacity: !0,\n  strokeWidth: !0\n},\n    ye = [\"Webkit\", \"ms\", \"Moz\", \"O\"];\nObject.keys(xe).forEach(function (a) {\n  ye.forEach(function (b) {\n    b = b + a.charAt(0).toUpperCase() + a.substring(1);\n    xe[b] = xe[a];\n  });\n});\n\nfunction ze(a, b, c) {\n  return null == b || \"boolean\" === typeof b || \"\" === b ? \"\" : c || \"number\" !== typeof b || 0 === b || xe.hasOwnProperty(a) && xe[a] ? (\"\" + b).trim() : b + \"px\";\n}\n\nfunction Ae(a, b) {\n  a = a.style;\n\n  for (var c in b) {\n    if (b.hasOwnProperty(c)) {\n      var d = 0 === c.indexOf(\"--\"),\n          e = ze(c, b[c], d);\n      \"float\" === c && (c = \"cssFloat\");\n      d ? a.setProperty(c, e) : a[c] = e;\n    }\n  }\n}\n\nvar Ce = m({\n  menuitem: !0\n}, {\n  area: !0,\n  base: !0,\n  br: !0,\n  col: !0,\n  embed: !0,\n  hr: !0,\n  img: !0,\n  input: !0,\n  keygen: !0,\n  link: !0,\n  meta: !0,\n  param: !0,\n  source: !0,\n  track: !0,\n  wbr: !0\n});\n\nfunction De(a, b) {\n  if (b) {\n    if (Ce[a] && (null != b.children || null != b.dangerouslySetInnerHTML)) throw t(Error(137), a, \"\");\n\n    if (null != b.dangerouslySetInnerHTML) {\n      if (null != b.children) throw t(Error(60));\n      if (!(\"object\" === typeof b.dangerouslySetInnerHTML && \"__html\" in b.dangerouslySetInnerHTML)) throw t(Error(61));\n    }\n\n    if (null != b.style && \"object\" !== typeof b.style) throw t(Error(62), \"\");\n  }\n}\n\nfunction Ee(a, b) {\n  if (-1 === a.indexOf(\"-\")) return \"string\" === typeof b.is;\n\n  switch (a) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n\n    default:\n      return !0;\n  }\n}\n\nfunction Fe(a, b) {\n  a = 9 === a.nodeType || 11 === a.nodeType ? a : a.ownerDocument;\n  var c = Wd(a);\n  b = ja[b];\n\n  for (var d = 0; d < b.length; d++) {\n    var e = b[d];\n\n    if (!c.has(e)) {\n      switch (e) {\n        case \"scroll\":\n          Rd(a, \"scroll\", !0);\n          break;\n\n        case \"focus\":\n        case \"blur\":\n          Rd(a, \"focus\", !0);\n          Rd(a, \"blur\", !0);\n          c.add(\"blur\");\n          c.add(\"focus\");\n          break;\n\n        case \"cancel\":\n        case \"close\":\n          Sb(e) && Rd(a, e, !0);\n          break;\n\n        case \"invalid\":\n        case \"submit\":\n        case \"reset\":\n          break;\n\n        default:\n          -1 === bb.indexOf(e) && G(e, a);\n      }\n\n      c.add(e);\n    }\n  }\n}\n\nfunction Ge() {}\n\nvar He = null,\n    Ie = null;\n\nfunction Je(a, b) {\n  switch (a) {\n    case \"button\":\n    case \"input\":\n    case \"select\":\n    case \"textarea\":\n      return !!b.autoFocus;\n  }\n\n  return !1;\n}\n\nfunction Ke(a, b) {\n  return \"textarea\" === a || \"option\" === a || \"noscript\" === a || \"string\" === typeof b.children || \"number\" === typeof b.children || \"object\" === typeof b.dangerouslySetInnerHTML && null !== b.dangerouslySetInnerHTML && null != b.dangerouslySetInnerHTML.__html;\n}\n\nvar Le = \"function\" === typeof setTimeout ? setTimeout : void 0,\n    Me = \"function\" === typeof clearTimeout ? clearTimeout : void 0;\n\nfunction Ne(a) {\n  for (; null != a; a = a.nextSibling) {\n    var b = a.nodeType;\n    if (1 === b || 3 === b) break;\n  }\n\n  return a;\n}\n\nnew Set();\nvar Oe = [],\n    Pe = -1;\n\nfunction H(a) {\n  0 > Pe || (a.current = Oe[Pe], Oe[Pe] = null, Pe--);\n}\n\nfunction J(a, b) {\n  Pe++;\n  Oe[Pe] = a.current;\n  a.current = b;\n}\n\nvar Qe = {},\n    L = {\n  current: Qe\n},\n    M = {\n  current: !1\n},\n    Re = Qe;\n\nfunction Se(a, b) {\n  var c = a.type.contextTypes;\n  if (!c) return Qe;\n  var d = a.stateNode;\n  if (d && d.__reactInternalMemoizedUnmaskedChildContext === b) return d.__reactInternalMemoizedMaskedChildContext;\n  var e = {},\n      f;\n\n  for (f in c) {\n    e[f] = b[f];\n  }\n\n  d && (a = a.stateNode, a.__reactInternalMemoizedUnmaskedChildContext = b, a.__reactInternalMemoizedMaskedChildContext = e);\n  return e;\n}\n\nfunction N(a) {\n  a = a.childContextTypes;\n  return null !== a && void 0 !== a;\n}\n\nfunction Te(a) {\n  H(M, a);\n  H(L, a);\n}\n\nfunction Ue(a) {\n  H(M, a);\n  H(L, a);\n}\n\nfunction Ve(a, b, c) {\n  if (L.current !== Qe) throw t(Error(168));\n  J(L, b, a);\n  J(M, c, a);\n}\n\nfunction We(a, b, c) {\n  var d = a.stateNode;\n  a = b.childContextTypes;\n  if (\"function\" !== typeof d.getChildContext) return c;\n  d = d.getChildContext();\n\n  for (var e in d) {\n    if (!(e in a)) throw t(Error(108), oc(b) || \"Unknown\", e);\n  }\n\n  return m({}, c, d);\n}\n\nfunction Xe(a) {\n  var b = a.stateNode;\n  b = b && b.__reactInternalMemoizedMergedChildContext || Qe;\n  Re = L.current;\n  J(L, b, a);\n  J(M, M.current, a);\n  return !0;\n}\n\nfunction Ye(a, b, c) {\n  var d = a.stateNode;\n  if (!d) throw t(Error(169));\n  c ? (b = We(a, b, Re), d.__reactInternalMemoizedMergedChildContext = b, H(M, a), H(L, a), J(L, b, a)) : H(M, a);\n  J(M, c, a);\n}\n\nvar Ze = q.unstable_runWithPriority,\n    $e = q.unstable_scheduleCallback,\n    af = q.unstable_cancelCallback,\n    bf = q.unstable_shouldYield,\n    cf = q.unstable_requestPaint,\n    df = q.unstable_now,\n    ef = q.unstable_getCurrentPriorityLevel,\n    ff = q.unstable_ImmediatePriority,\n    hf = q.unstable_UserBlockingPriority,\n    jf = q.unstable_NormalPriority,\n    kf = q.unstable_LowPriority,\n    lf = q.unstable_IdlePriority,\n    mf = {},\n    nf = void 0 !== cf ? cf : function () {},\n    of = null,\n    pf = null,\n    qf = !1,\n    rf = df(),\n    sf = 1E4 > rf ? df : function () {\n  return df() - rf;\n};\n\nfunction tf() {\n  switch (ef()) {\n    case ff:\n      return 99;\n\n    case hf:\n      return 98;\n\n    case jf:\n      return 97;\n\n    case kf:\n      return 96;\n\n    case lf:\n      return 95;\n\n    default:\n      throw t(Error(332));\n  }\n}\n\nfunction uf(a) {\n  switch (a) {\n    case 99:\n      return ff;\n\n    case 98:\n      return hf;\n\n    case 97:\n      return jf;\n\n    case 96:\n      return kf;\n\n    case 95:\n      return lf;\n\n    default:\n      throw t(Error(332));\n  }\n}\n\nfunction vf(a, b) {\n  a = uf(a);\n  return Ze(a, b);\n}\n\nfunction wf(a, b, c) {\n  a = uf(a);\n  return $e(a, b, c);\n}\n\nfunction xf(a) {\n  null === of ? (of = [a], pf = $e(ff, yf)) : of.push(a);\n  return mf;\n}\n\nfunction O() {\n  null !== pf && af(pf);\n  yf();\n}\n\nfunction yf() {\n  if (!qf && null !== of) {\n    qf = !0;\n    var a = 0;\n\n    try {\n      var b = of;\n      vf(99, function () {\n        for (; a < b.length; a++) {\n          var c = b[a];\n\n          do {\n            c = c(!0);\n          } while (null !== c);\n        }\n      });\n      of = null;\n    } catch (c) {\n      throw null !== of && (of = of.slice(a + 1)), $e(ff, O), c;\n    } finally {\n      qf = !1;\n    }\n  }\n}\n\nfunction zf(a, b) {\n  if (1073741823 === b) return 99;\n  if (1 === b) return 95;\n  a = 10 * (1073741821 - b) - 10 * (1073741821 - a);\n  return 0 >= a ? 99 : 250 >= a ? 98 : 5250 >= a ? 97 : 95;\n}\n\nfunction Af(a, b) {\n  if (a && a.defaultProps) {\n    b = m({}, b);\n    a = a.defaultProps;\n\n    for (var c in a) {\n      void 0 === b[c] && (b[c] = a[c]);\n    }\n  }\n\n  return b;\n}\n\nfunction Bf(a) {\n  var b = a._result;\n\n  switch (a._status) {\n    case 1:\n      return b;\n\n    case 2:\n      throw b;\n\n    case 0:\n      throw b;\n\n    default:\n      a._status = 0;\n      b = a._ctor;\n      b = b();\n      b.then(function (b) {\n        0 === a._status && (b = b.default, a._status = 1, a._result = b);\n      }, function (b) {\n        0 === a._status && (a._status = 2, a._result = b);\n      });\n\n      switch (a._status) {\n        case 1:\n          return a._result;\n\n        case 2:\n          throw a._result;\n      }\n\n      a._result = b;\n      throw b;\n  }\n}\n\nvar Cf = {\n  current: null\n},\n    Df = null,\n    Ef = null,\n    Ff = null;\n\nfunction Gf() {\n  Ff = Ef = Df = null;\n}\n\nfunction Hf(a, b) {\n  var c = a.type._context;\n  J(Cf, c._currentValue, a);\n  c._currentValue = b;\n}\n\nfunction If(a) {\n  var b = Cf.current;\n  H(Cf, a);\n  a.type._context._currentValue = b;\n}\n\nfunction Jf(a, b) {\n  for (; null !== a;) {\n    var c = a.alternate;\n    if (a.childExpirationTime < b) a.childExpirationTime = b, null !== c && c.childExpirationTime < b && (c.childExpirationTime = b);else if (null !== c && c.childExpirationTime < b) c.childExpirationTime = b;else break;\n    a = a.return;\n  }\n}\n\nfunction Kf(a, b) {\n  Df = a;\n  Ff = Ef = null;\n  a = a.dependencies;\n  null !== a && null !== a.firstContext && (a.expirationTime >= b && (Lf = !0), a.firstContext = null);\n}\n\nfunction Mf(a, b) {\n  if (Ff !== a && !1 !== b && 0 !== b) {\n    if (\"number\" !== typeof b || 1073741823 === b) Ff = a, b = 1073741823;\n    b = {\n      context: a,\n      observedBits: b,\n      next: null\n    };\n\n    if (null === Ef) {\n      if (null === Df) throw t(Error(308));\n      Ef = b;\n      Df.dependencies = {\n        expirationTime: 0,\n        firstContext: b,\n        responders: null\n      };\n    } else Ef = Ef.next = b;\n  }\n\n  return a._currentValue;\n}\n\nvar Nf = !1;\n\nfunction Of(a) {\n  return {\n    baseState: a,\n    firstUpdate: null,\n    lastUpdate: null,\n    firstCapturedUpdate: null,\n    lastCapturedUpdate: null,\n    firstEffect: null,\n    lastEffect: null,\n    firstCapturedEffect: null,\n    lastCapturedEffect: null\n  };\n}\n\nfunction Pf(a) {\n  return {\n    baseState: a.baseState,\n    firstUpdate: a.firstUpdate,\n    lastUpdate: a.lastUpdate,\n    firstCapturedUpdate: null,\n    lastCapturedUpdate: null,\n    firstEffect: null,\n    lastEffect: null,\n    firstCapturedEffect: null,\n    lastCapturedEffect: null\n  };\n}\n\nfunction Qf(a, b) {\n  return {\n    expirationTime: a,\n    suspenseConfig: b,\n    tag: 0,\n    payload: null,\n    callback: null,\n    next: null,\n    nextEffect: null\n  };\n}\n\nfunction Rf(a, b) {\n  null === a.lastUpdate ? a.firstUpdate = a.lastUpdate = b : (a.lastUpdate.next = b, a.lastUpdate = b);\n}\n\nfunction Sf(a, b) {\n  var c = a.alternate;\n\n  if (null === c) {\n    var d = a.updateQueue;\n    var e = null;\n    null === d && (d = a.updateQueue = Of(a.memoizedState));\n  } else d = a.updateQueue, e = c.updateQueue, null === d ? null === e ? (d = a.updateQueue = Of(a.memoizedState), e = c.updateQueue = Of(c.memoizedState)) : d = a.updateQueue = Pf(e) : null === e && (e = c.updateQueue = Pf(d));\n\n  null === e || d === e ? Rf(d, b) : null === d.lastUpdate || null === e.lastUpdate ? (Rf(d, b), Rf(e, b)) : (Rf(d, b), e.lastUpdate = b);\n}\n\nfunction Tf(a, b) {\n  var c = a.updateQueue;\n  c = null === c ? a.updateQueue = Of(a.memoizedState) : Uf(a, c);\n  null === c.lastCapturedUpdate ? c.firstCapturedUpdate = c.lastCapturedUpdate = b : (c.lastCapturedUpdate.next = b, c.lastCapturedUpdate = b);\n}\n\nfunction Uf(a, b) {\n  var c = a.alternate;\n  null !== c && b === c.updateQueue && (b = a.updateQueue = Pf(b));\n  return b;\n}\n\nfunction Vf(a, b, c, d, e, f) {\n  switch (c.tag) {\n    case 1:\n      return a = c.payload, \"function\" === typeof a ? a.call(f, d, e) : a;\n\n    case 3:\n      a.effectTag = a.effectTag & -2049 | 64;\n\n    case 0:\n      a = c.payload;\n      e = \"function\" === typeof a ? a.call(f, d, e) : a;\n      if (null === e || void 0 === e) break;\n      return m({}, d, e);\n\n    case 2:\n      Nf = !0;\n  }\n\n  return d;\n}\n\nfunction Wf(a, b, c, d, e) {\n  Nf = !1;\n  b = Uf(a, b);\n\n  for (var f = b.baseState, h = null, g = 0, k = b.firstUpdate, l = f; null !== k;) {\n    var n = k.expirationTime;\n    n < e ? (null === h && (h = k, f = l), g < n && (g = n)) : (Xf(n, k.suspenseConfig), l = Vf(a, b, k, l, c, d), null !== k.callback && (a.effectTag |= 32, k.nextEffect = null, null === b.lastEffect ? b.firstEffect = b.lastEffect = k : (b.lastEffect.nextEffect = k, b.lastEffect = k)));\n    k = k.next;\n  }\n\n  n = null;\n\n  for (k = b.firstCapturedUpdate; null !== k;) {\n    var z = k.expirationTime;\n    z < e ? (null === n && (n = k, null === h && (f = l)), g < z && (g = z)) : (l = Vf(a, b, k, l, c, d), null !== k.callback && (a.effectTag |= 32, k.nextEffect = null, null === b.lastCapturedEffect ? b.firstCapturedEffect = b.lastCapturedEffect = k : (b.lastCapturedEffect.nextEffect = k, b.lastCapturedEffect = k)));\n    k = k.next;\n  }\n\n  null === h && (b.lastUpdate = null);\n  null === n ? b.lastCapturedUpdate = null : a.effectTag |= 32;\n  null === h && null === n && (f = l);\n  b.baseState = f;\n  b.firstUpdate = h;\n  b.firstCapturedUpdate = n;\n  a.expirationTime = g;\n  a.memoizedState = l;\n}\n\nfunction Yf(a, b, c) {\n  null !== b.firstCapturedUpdate && (null !== b.lastUpdate && (b.lastUpdate.next = b.firstCapturedUpdate, b.lastUpdate = b.lastCapturedUpdate), b.firstCapturedUpdate = b.lastCapturedUpdate = null);\n  Zf(b.firstEffect, c);\n  b.firstEffect = b.lastEffect = null;\n  Zf(b.firstCapturedEffect, c);\n  b.firstCapturedEffect = b.lastCapturedEffect = null;\n}\n\nfunction Zf(a, b) {\n  for (; null !== a;) {\n    var c = a.callback;\n\n    if (null !== c) {\n      a.callback = null;\n      var d = b;\n      if (\"function\" !== typeof c) throw t(Error(191), c);\n      c.call(d);\n    }\n\n    a = a.nextEffect;\n  }\n}\n\nvar $f = Xb.ReactCurrentBatchConfig,\n    ag = new aa.Component().refs;\n\nfunction bg(a, b, c, d) {\n  b = a.memoizedState;\n  c = c(d, b);\n  c = null === c || void 0 === c ? b : m({}, b, c);\n  a.memoizedState = c;\n  d = a.updateQueue;\n  null !== d && 0 === a.expirationTime && (d.baseState = c);\n}\n\nvar fg = {\n  isMounted: function isMounted(a) {\n    return (a = a._reactInternalFiber) ? 2 === ld(a) : !1;\n  },\n  enqueueSetState: function enqueueSetState(a, b, c) {\n    a = a._reactInternalFiber;\n    var d = cg(),\n        e = $f.suspense;\n    d = dg(d, a, e);\n    e = Qf(d, e);\n    e.payload = b;\n    void 0 !== c && null !== c && (e.callback = c);\n    Sf(a, e);\n    eg(a, d);\n  },\n  enqueueReplaceState: function enqueueReplaceState(a, b, c) {\n    a = a._reactInternalFiber;\n    var d = cg(),\n        e = $f.suspense;\n    d = dg(d, a, e);\n    e = Qf(d, e);\n    e.tag = 1;\n    e.payload = b;\n    void 0 !== c && null !== c && (e.callback = c);\n    Sf(a, e);\n    eg(a, d);\n  },\n  enqueueForceUpdate: function enqueueForceUpdate(a, b) {\n    a = a._reactInternalFiber;\n    var c = cg(),\n        d = $f.suspense;\n    c = dg(c, a, d);\n    d = Qf(c, d);\n    d.tag = 2;\n    void 0 !== b && null !== b && (d.callback = b);\n    Sf(a, d);\n    eg(a, c);\n  }\n};\n\nfunction gg(a, b, c, d, e, f, h) {\n  a = a.stateNode;\n  return \"function\" === typeof a.shouldComponentUpdate ? a.shouldComponentUpdate(d, f, h) : b.prototype && b.prototype.isPureReactComponent ? !jd(c, d) || !jd(e, f) : !0;\n}\n\nfunction hg(a, b, c) {\n  var d = !1,\n      e = Qe;\n  var f = b.contextType;\n  \"object\" === typeof f && null !== f ? f = Mf(f) : (e = N(b) ? Re : L.current, d = b.contextTypes, f = (d = null !== d && void 0 !== d) ? Se(a, e) : Qe);\n  b = new b(c, f);\n  a.memoizedState = null !== b.state && void 0 !== b.state ? b.state : null;\n  b.updater = fg;\n  a.stateNode = b;\n  b._reactInternalFiber = a;\n  d && (a = a.stateNode, a.__reactInternalMemoizedUnmaskedChildContext = e, a.__reactInternalMemoizedMaskedChildContext = f);\n  return b;\n}\n\nfunction ig(a, b, c, d) {\n  a = b.state;\n  \"function\" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c, d);\n  \"function\" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c, d);\n  b.state !== a && fg.enqueueReplaceState(b, b.state, null);\n}\n\nfunction jg(a, b, c, d) {\n  var e = a.stateNode;\n  e.props = c;\n  e.state = a.memoizedState;\n  e.refs = ag;\n  var f = b.contextType;\n  \"object\" === typeof f && null !== f ? e.context = Mf(f) : (f = N(b) ? Re : L.current, e.context = Se(a, f));\n  f = a.updateQueue;\n  null !== f && (Wf(a, f, c, e, d), e.state = a.memoizedState);\n  f = b.getDerivedStateFromProps;\n  \"function\" === typeof f && (bg(a, b, f, c), e.state = a.memoizedState);\n  \"function\" === typeof b.getDerivedStateFromProps || \"function\" === typeof e.getSnapshotBeforeUpdate || \"function\" !== typeof e.UNSAFE_componentWillMount && \"function\" !== typeof e.componentWillMount || (b = e.state, \"function\" === typeof e.componentWillMount && e.componentWillMount(), \"function\" === typeof e.UNSAFE_componentWillMount && e.UNSAFE_componentWillMount(), b !== e.state && fg.enqueueReplaceState(e, e.state, null), f = a.updateQueue, null !== f && (Wf(a, f, c, e, d), e.state = a.memoizedState));\n  \"function\" === typeof e.componentDidMount && (a.effectTag |= 4);\n}\n\nvar kg = Array.isArray;\n\nfunction lg(a, b, c) {\n  a = c.ref;\n\n  if (null !== a && \"function\" !== typeof a && \"object\" !== typeof a) {\n    if (c._owner) {\n      c = c._owner;\n      var d = void 0;\n\n      if (c) {\n        if (1 !== c.tag) throw t(Error(309));\n        d = c.stateNode;\n      }\n\n      if (!d) throw t(Error(147), a);\n      var e = \"\" + a;\n      if (null !== b && null !== b.ref && \"function\" === typeof b.ref && b.ref._stringRef === e) return b.ref;\n\n      b = function b(a) {\n        var b = d.refs;\n        b === ag && (b = d.refs = {});\n        null === a ? delete b[e] : b[e] = a;\n      };\n\n      b._stringRef = e;\n      return b;\n    }\n\n    if (\"string\" !== typeof a) throw t(Error(284));\n    if (!c._owner) throw t(Error(290), a);\n  }\n\n  return a;\n}\n\nfunction mg(a, b) {\n  if (\"textarea\" !== a.type) throw t(Error(31), \"[object Object]\" === Object.prototype.toString.call(b) ? \"object with keys {\" + Object.keys(b).join(\", \") + \"}\" : b, \"\");\n}\n\nfunction ng(a) {\n  function b(b, c) {\n    if (a) {\n      var d = b.lastEffect;\n      null !== d ? (d.nextEffect = c, b.lastEffect = c) : b.firstEffect = b.lastEffect = c;\n      c.nextEffect = null;\n      c.effectTag = 8;\n    }\n  }\n\n  function c(c, d) {\n    if (!a) return null;\n\n    for (; null !== d;) {\n      b(c, d), d = d.sibling;\n    }\n\n    return null;\n  }\n\n  function d(a, b) {\n    for (a = new Map(); null !== b;) {\n      null !== b.key ? a.set(b.key, b) : a.set(b.index, b), b = b.sibling;\n    }\n\n    return a;\n  }\n\n  function e(a, b, c) {\n    a = og(a, b, c);\n    a.index = 0;\n    a.sibling = null;\n    return a;\n  }\n\n  function f(b, c, d) {\n    b.index = d;\n    if (!a) return c;\n    d = b.alternate;\n    if (null !== d) return d = d.index, d < c ? (b.effectTag = 2, c) : d;\n    b.effectTag = 2;\n    return c;\n  }\n\n  function h(b) {\n    a && null === b.alternate && (b.effectTag = 2);\n    return b;\n  }\n\n  function g(a, b, c, d) {\n    if (null === b || 6 !== b.tag) return b = pg(c, a.mode, d), b.return = a, b;\n    b = e(b, c, d);\n    b.return = a;\n    return b;\n  }\n\n  function k(a, b, c, d) {\n    if (null !== b && b.elementType === c.type) return d = e(b, c.props, d), d.ref = lg(a, b, c), d.return = a, d;\n    d = qg(c.type, c.key, c.props, null, a.mode, d);\n    d.ref = lg(a, b, c);\n    d.return = a;\n    return d;\n  }\n\n  function l(a, b, c, d) {\n    if (null === b || 4 !== b.tag || b.stateNode.containerInfo !== c.containerInfo || b.stateNode.implementation !== c.implementation) return b = rg(c, a.mode, d), b.return = a, b;\n    b = e(b, c.children || [], d);\n    b.return = a;\n    return b;\n  }\n\n  function n(a, b, c, d, f) {\n    if (null === b || 7 !== b.tag) return b = sg(c, a.mode, d, f), b.return = a, b;\n    b = e(b, c, d);\n    b.return = a;\n    return b;\n  }\n\n  function z(a, b, c) {\n    if (\"string\" === typeof b || \"number\" === typeof b) return b = pg(\"\" + b, a.mode, c), b.return = a, b;\n\n    if (\"object\" === typeof b && null !== b) {\n      switch (b.$$typeof) {\n        case Zb:\n          return c = qg(b.type, b.key, b.props, null, a.mode, c), c.ref = lg(a, null, b), c.return = a, c;\n\n        case $b:\n          return b = rg(b, a.mode, c), b.return = a, b;\n      }\n\n      if (kg(b) || mc(b)) return b = sg(b, a.mode, c, null), b.return = a, b;\n      mg(a, b);\n    }\n\n    return null;\n  }\n\n  function x(a, b, c, d) {\n    var e = null !== b ? b.key : null;\n    if (\"string\" === typeof c || \"number\" === typeof c) return null !== e ? null : g(a, b, \"\" + c, d);\n\n    if (\"object\" === typeof c && null !== c) {\n      switch (c.$$typeof) {\n        case Zb:\n          return c.key === e ? c.type === ac ? n(a, b, c.props.children, d, e) : k(a, b, c, d) : null;\n\n        case $b:\n          return c.key === e ? l(a, b, c, d) : null;\n      }\n\n      if (kg(c) || mc(c)) return null !== e ? null : n(a, b, c, d, null);\n      mg(a, c);\n    }\n\n    return null;\n  }\n\n  function v(a, b, c, d, e) {\n    if (\"string\" === typeof d || \"number\" === typeof d) return a = a.get(c) || null, g(b, a, \"\" + d, e);\n\n    if (\"object\" === typeof d && null !== d) {\n      switch (d.$$typeof) {\n        case Zb:\n          return a = a.get(null === d.key ? c : d.key) || null, d.type === ac ? n(b, a, d.props.children, e, d.key) : k(b, a, d, e);\n\n        case $b:\n          return a = a.get(null === d.key ? c : d.key) || null, l(b, a, d, e);\n      }\n\n      if (kg(d) || mc(d)) return a = a.get(c) || null, n(b, a, d, e, null);\n      mg(b, d);\n    }\n\n    return null;\n  }\n\n  function rb(e, h, g, k) {\n    for (var l = null, u = null, n = h, w = h = 0, C = null; null !== n && w < g.length; w++) {\n      n.index > w ? (C = n, n = null) : C = n.sibling;\n      var p = x(e, n, g[w], k);\n\n      if (null === p) {\n        null === n && (n = C);\n        break;\n      }\n\n      a && n && null === p.alternate && b(e, n);\n      h = f(p, h, w);\n      null === u ? l = p : u.sibling = p;\n      u = p;\n      n = C;\n    }\n\n    if (w === g.length) return c(e, n), l;\n\n    if (null === n) {\n      for (; w < g.length; w++) {\n        n = z(e, g[w], k), null !== n && (h = f(n, h, w), null === u ? l = n : u.sibling = n, u = n);\n      }\n\n      return l;\n    }\n\n    for (n = d(e, n); w < g.length; w++) {\n      C = v(n, e, w, g[w], k), null !== C && (a && null !== C.alternate && n.delete(null === C.key ? w : C.key), h = f(C, h, w), null === u ? l = C : u.sibling = C, u = C);\n    }\n\n    a && n.forEach(function (a) {\n      return b(e, a);\n    });\n    return l;\n  }\n\n  function Be(e, h, g, k) {\n    var l = mc(g);\n    if (\"function\" !== typeof l) throw t(Error(150));\n    g = l.call(g);\n    if (null == g) throw t(Error(151));\n\n    for (var n = l = null, u = h, w = h = 0, C = null, p = g.next(); null !== u && !p.done; w++, p = g.next()) {\n      u.index > w ? (C = u, u = null) : C = u.sibling;\n      var r = x(e, u, p.value, k);\n\n      if (null === r) {\n        null === u && (u = C);\n        break;\n      }\n\n      a && u && null === r.alternate && b(e, u);\n      h = f(r, h, w);\n      null === n ? l = r : n.sibling = r;\n      n = r;\n      u = C;\n    }\n\n    if (p.done) return c(e, u), l;\n\n    if (null === u) {\n      for (; !p.done; w++, p = g.next()) {\n        p = z(e, p.value, k), null !== p && (h = f(p, h, w), null === n ? l = p : n.sibling = p, n = p);\n      }\n\n      return l;\n    }\n\n    for (u = d(e, u); !p.done; w++, p = g.next()) {\n      p = v(u, e, w, p.value, k), null !== p && (a && null !== p.alternate && u.delete(null === p.key ? w : p.key), h = f(p, h, w), null === n ? l = p : n.sibling = p, n = p);\n    }\n\n    a && u.forEach(function (a) {\n      return b(e, a);\n    });\n    return l;\n  }\n\n  return function (a, d, f, g) {\n    var k = \"object\" === typeof f && null !== f && f.type === ac && null === f.key;\n    k && (f = f.props.children);\n    var l = \"object\" === typeof f && null !== f;\n    if (l) switch (f.$$typeof) {\n      case Zb:\n        a: {\n          l = f.key;\n\n          for (k = d; null !== k;) {\n            if (k.key === l) {\n              if (7 === k.tag ? f.type === ac : k.elementType === f.type) {\n                c(a, k.sibling);\n                d = e(k, f.type === ac ? f.props.children : f.props, g);\n                d.ref = lg(a, k, f);\n                d.return = a;\n                a = d;\n                break a;\n              }\n\n              c(a, k);\n              break;\n            } else b(a, k);\n\n            k = k.sibling;\n          }\n\n          f.type === ac ? (d = sg(f.props.children, a.mode, g, f.key), d.return = a, a = d) : (g = qg(f.type, f.key, f.props, null, a.mode, g), g.ref = lg(a, d, f), g.return = a, a = g);\n        }\n\n        return h(a);\n\n      case $b:\n        a: {\n          for (k = f.key; null !== d;) {\n            if (d.key === k) {\n              if (4 === d.tag && d.stateNode.containerInfo === f.containerInfo && d.stateNode.implementation === f.implementation) {\n                c(a, d.sibling);\n                d = e(d, f.children || [], g);\n                d.return = a;\n                a = d;\n                break a;\n              }\n\n              c(a, d);\n              break;\n            } else b(a, d);\n\n            d = d.sibling;\n          }\n\n          d = rg(f, a.mode, g);\n          d.return = a;\n          a = d;\n        }\n\n        return h(a);\n    }\n    if (\"string\" === typeof f || \"number\" === typeof f) return f = \"\" + f, null !== d && 6 === d.tag ? (c(a, d.sibling), d = e(d, f, g), d.return = a, a = d) : (c(a, d), d = pg(f, a.mode, g), d.return = a, a = d), h(a);\n    if (kg(f)) return rb(a, d, f, g);\n    if (mc(f)) return Be(a, d, f, g);\n    l && mg(a, f);\n    if (\"undefined\" === typeof f && !k) switch (a.tag) {\n      case 1:\n      case 0:\n        throw a = a.type, t(Error(152), a.displayName || a.name || \"Component\");\n    }\n    return c(a, d);\n  };\n}\n\nvar tg = ng(!0),\n    ug = ng(!1),\n    vg = {},\n    wg = {\n  current: vg\n},\n    xg = {\n  current: vg\n},\n    yg = {\n  current: vg\n};\n\nfunction zg(a) {\n  if (a === vg) throw t(Error(174));\n  return a;\n}\n\nfunction Ag(a, b) {\n  J(yg, b, a);\n  J(xg, a, a);\n  J(wg, vg, a);\n  var c = b.nodeType;\n\n  switch (c) {\n    case 9:\n    case 11:\n      b = (b = b.documentElement) ? b.namespaceURI : te(null, \"\");\n      break;\n\n    default:\n      c = 8 === c ? b.parentNode : b, b = c.namespaceURI || null, c = c.tagName, b = te(b, c);\n  }\n\n  H(wg, a);\n  J(wg, b, a);\n}\n\nfunction Bg(a) {\n  H(wg, a);\n  H(xg, a);\n  H(yg, a);\n}\n\nfunction Cg(a) {\n  zg(yg.current);\n  var b = zg(wg.current);\n  var c = te(b, a.type);\n  b !== c && (J(xg, a, a), J(wg, c, a));\n}\n\nfunction Dg(a) {\n  xg.current === a && (H(wg, a), H(xg, a));\n}\n\nvar Eg = 1,\n    Fg = 1,\n    Gg = 2,\n    P = {\n  current: 0\n};\n\nfunction Hg(a) {\n  for (var b = a; null !== b;) {\n    if (13 === b.tag) {\n      if (null !== b.memoizedState) return b;\n    } else if (19 === b.tag && void 0 !== b.memoizedProps.revealOrder) {\n      if (0 !== (b.effectTag & 64)) return b;\n    } else if (null !== b.child) {\n      b.child.return = b;\n      b = b.child;\n      continue;\n    }\n\n    if (b === a) break;\n\n    for (; null === b.sibling;) {\n      if (null === b.return || b.return === a) return null;\n      b = b.return;\n    }\n\n    b.sibling.return = b.return;\n    b = b.sibling;\n  }\n\n  return null;\n}\n\nvar Ig = 0,\n    Jg = 2,\n    Kg = 4,\n    Lg = 8,\n    Mg = 16,\n    Ng = 32,\n    Og = 64,\n    Pg = 128,\n    Qg = Xb.ReactCurrentDispatcher,\n    Rg = 0,\n    Sg = null,\n    Q = null,\n    Tg = null,\n    Ug = null,\n    R = null,\n    Vg = null,\n    Wg = 0,\n    Xg = null,\n    Yg = 0,\n    Zg = !1,\n    $g = null,\n    ah = 0;\n\nfunction bh() {\n  throw t(Error(321));\n}\n\nfunction ch(a, b) {\n  if (null === b) return !1;\n\n  for (var c = 0; c < b.length && c < a.length; c++) {\n    if (!hd(a[c], b[c])) return !1;\n  }\n\n  return !0;\n}\n\nfunction dh(a, b, c, d, e, f) {\n  Rg = f;\n  Sg = b;\n  Tg = null !== a ? a.memoizedState : null;\n  Qg.current = null === Tg ? eh : fh;\n  b = c(d, e);\n\n  if (Zg) {\n    do {\n      Zg = !1, ah += 1, Tg = null !== a ? a.memoizedState : null, Vg = Ug, Xg = R = Q = null, Qg.current = fh, b = c(d, e);\n    } while (Zg);\n\n    $g = null;\n    ah = 0;\n  }\n\n  Qg.current = hh;\n  a = Sg;\n  a.memoizedState = Ug;\n  a.expirationTime = Wg;\n  a.updateQueue = Xg;\n  a.effectTag |= Yg;\n  a = null !== Q && null !== Q.next;\n  Rg = 0;\n  Vg = R = Ug = Tg = Q = Sg = null;\n  Wg = 0;\n  Xg = null;\n  Yg = 0;\n  if (a) throw t(Error(300));\n  return b;\n}\n\nfunction ih() {\n  Qg.current = hh;\n  Rg = 0;\n  Vg = R = Ug = Tg = Q = Sg = null;\n  Wg = 0;\n  Xg = null;\n  Yg = 0;\n  Zg = !1;\n  $g = null;\n  ah = 0;\n}\n\nfunction jh() {\n  var a = {\n    memoizedState: null,\n    baseState: null,\n    queue: null,\n    baseUpdate: null,\n    next: null\n  };\n  null === R ? Ug = R = a : R = R.next = a;\n  return R;\n}\n\nfunction kh() {\n  if (null !== Vg) R = Vg, Vg = R.next, Q = Tg, Tg = null !== Q ? Q.next : null;else {\n    if (null === Tg) throw t(Error(310));\n    Q = Tg;\n    var a = {\n      memoizedState: Q.memoizedState,\n      baseState: Q.baseState,\n      queue: Q.queue,\n      baseUpdate: Q.baseUpdate,\n      next: null\n    };\n    R = null === R ? Ug = a : R.next = a;\n    Tg = Q.next;\n  }\n  return R;\n}\n\nfunction lh(a, b) {\n  return \"function\" === typeof b ? b(a) : b;\n}\n\nfunction mh(a) {\n  var b = kh(),\n      c = b.queue;\n  if (null === c) throw t(Error(311));\n  c.lastRenderedReducer = a;\n\n  if (0 < ah) {\n    var d = c.dispatch;\n\n    if (null !== $g) {\n      var e = $g.get(c);\n\n      if (void 0 !== e) {\n        $g.delete(c);\n        var f = b.memoizedState;\n\n        do {\n          f = a(f, e.action), e = e.next;\n        } while (null !== e);\n\n        hd(f, b.memoizedState) || (Lf = !0);\n        b.memoizedState = f;\n        b.baseUpdate === c.last && (b.baseState = f);\n        c.lastRenderedState = f;\n        return [f, d];\n      }\n    }\n\n    return [b.memoizedState, d];\n  }\n\n  d = c.last;\n  var h = b.baseUpdate;\n  f = b.baseState;\n  null !== h ? (null !== d && (d.next = null), d = h.next) : d = null !== d ? d.next : null;\n\n  if (null !== d) {\n    var g = e = null,\n        k = d,\n        l = !1;\n\n    do {\n      var n = k.expirationTime;\n      n < Rg ? (l || (l = !0, g = h, e = f), n > Wg && (Wg = n)) : (Xf(n, k.suspenseConfig), f = k.eagerReducer === a ? k.eagerState : a(f, k.action));\n      h = k;\n      k = k.next;\n    } while (null !== k && k !== d);\n\n    l || (g = h, e = f);\n    hd(f, b.memoizedState) || (Lf = !0);\n    b.memoizedState = f;\n    b.baseUpdate = g;\n    b.baseState = e;\n    c.lastRenderedState = f;\n  }\n\n  return [b.memoizedState, c.dispatch];\n}\n\nfunction nh(a, b, c, d) {\n  a = {\n    tag: a,\n    create: b,\n    destroy: c,\n    deps: d,\n    next: null\n  };\n  null === Xg ? (Xg = {\n    lastEffect: null\n  }, Xg.lastEffect = a.next = a) : (b = Xg.lastEffect, null === b ? Xg.lastEffect = a.next = a : (c = b.next, b.next = a, a.next = c, Xg.lastEffect = a));\n  return a;\n}\n\nfunction oh(a, b, c, d) {\n  var e = jh();\n  Yg |= a;\n  e.memoizedState = nh(b, c, void 0, void 0 === d ? null : d);\n}\n\nfunction ph(a, b, c, d) {\n  var e = kh();\n  d = void 0 === d ? null : d;\n  var f = void 0;\n\n  if (null !== Q) {\n    var h = Q.memoizedState;\n    f = h.destroy;\n\n    if (null !== d && ch(d, h.deps)) {\n      nh(Ig, c, f, d);\n      return;\n    }\n  }\n\n  Yg |= a;\n  e.memoizedState = nh(b, c, f, d);\n}\n\nfunction qh(a, b) {\n  if (\"function\" === typeof b) return a = a(), b(a), function () {\n    b(null);\n  };\n  if (null !== b && void 0 !== b) return a = a(), b.current = a, function () {\n    b.current = null;\n  };\n}\n\nfunction rh() {}\n\nfunction sh(a, b, c) {\n  if (!(25 > ah)) throw t(Error(301));\n  var d = a.alternate;\n  if (a === Sg || null !== d && d === Sg) {\n    if (Zg = !0, a = {\n      expirationTime: Rg,\n      suspenseConfig: null,\n      action: c,\n      eagerReducer: null,\n      eagerState: null,\n      next: null\n    }, null === $g && ($g = new Map()), c = $g.get(b), void 0 === c) $g.set(b, a);else {\n      for (b = c; null !== b.next;) {\n        b = b.next;\n      }\n\n      b.next = a;\n    }\n  } else {\n    var e = cg(),\n        f = $f.suspense;\n    e = dg(e, a, f);\n    f = {\n      expirationTime: e,\n      suspenseConfig: f,\n      action: c,\n      eagerReducer: null,\n      eagerState: null,\n      next: null\n    };\n    var h = b.last;\n    if (null === h) f.next = f;else {\n      var g = h.next;\n      null !== g && (f.next = g);\n      h.next = f;\n    }\n    b.last = f;\n    if (0 === a.expirationTime && (null === d || 0 === d.expirationTime) && (d = b.lastRenderedReducer, null !== d)) try {\n      var k = b.lastRenderedState,\n          l = d(k, c);\n      f.eagerReducer = d;\n      f.eagerState = l;\n      if (hd(l, k)) return;\n    } catch (n) {} finally {}\n    eg(a, e);\n  }\n}\n\nvar hh = {\n  readContext: Mf,\n  useCallback: bh,\n  useContext: bh,\n  useEffect: bh,\n  useImperativeHandle: bh,\n  useLayoutEffect: bh,\n  useMemo: bh,\n  useReducer: bh,\n  useRef: bh,\n  useState: bh,\n  useDebugValue: bh,\n  useResponder: bh\n},\n    eh = {\n  readContext: Mf,\n  useCallback: function useCallback(a, b) {\n    jh().memoizedState = [a, void 0 === b ? null : b];\n    return a;\n  },\n  useContext: Mf,\n  useEffect: function useEffect(a, b) {\n    return oh(516, Pg | Og, a, b);\n  },\n  useImperativeHandle: function useImperativeHandle(a, b, c) {\n    c = null !== c && void 0 !== c ? c.concat([a]) : null;\n    return oh(4, Kg | Ng, qh.bind(null, b, a), c);\n  },\n  useLayoutEffect: function useLayoutEffect(a, b) {\n    return oh(4, Kg | Ng, a, b);\n  },\n  useMemo: function useMemo(a, b) {\n    var c = jh();\n    b = void 0 === b ? null : b;\n    a = a();\n    c.memoizedState = [a, b];\n    return a;\n  },\n  useReducer: function useReducer(a, b, c) {\n    var d = jh();\n    b = void 0 !== c ? c(b) : b;\n    d.memoizedState = d.baseState = b;\n    a = d.queue = {\n      last: null,\n      dispatch: null,\n      lastRenderedReducer: a,\n      lastRenderedState: b\n    };\n    a = a.dispatch = sh.bind(null, Sg, a);\n    return [d.memoizedState, a];\n  },\n  useRef: function useRef(a) {\n    var b = jh();\n    a = {\n      current: a\n    };\n    return b.memoizedState = a;\n  },\n  useState: function useState(a) {\n    var b = jh();\n    \"function\" === typeof a && (a = a());\n    b.memoizedState = b.baseState = a;\n    a = b.queue = {\n      last: null,\n      dispatch: null,\n      lastRenderedReducer: lh,\n      lastRenderedState: a\n    };\n    a = a.dispatch = sh.bind(null, Sg, a);\n    return [b.memoizedState, a];\n  },\n  useDebugValue: rh,\n  useResponder: kd\n},\n    fh = {\n  readContext: Mf,\n  useCallback: function useCallback(a, b) {\n    var c = kh();\n    b = void 0 === b ? null : b;\n    var d = c.memoizedState;\n    if (null !== d && null !== b && ch(b, d[1])) return d[0];\n    c.memoizedState = [a, b];\n    return a;\n  },\n  useContext: Mf,\n  useEffect: function useEffect(a, b) {\n    return ph(516, Pg | Og, a, b);\n  },\n  useImperativeHandle: function useImperativeHandle(a, b, c) {\n    c = null !== c && void 0 !== c ? c.concat([a]) : null;\n    return ph(4, Kg | Ng, qh.bind(null, b, a), c);\n  },\n  useLayoutEffect: function useLayoutEffect(a, b) {\n    return ph(4, Kg | Ng, a, b);\n  },\n  useMemo: function useMemo(a, b) {\n    var c = kh();\n    b = void 0 === b ? null : b;\n    var d = c.memoizedState;\n    if (null !== d && null !== b && ch(b, d[1])) return d[0];\n    a = a();\n    c.memoizedState = [a, b];\n    return a;\n  },\n  useReducer: mh,\n  useRef: function useRef() {\n    return kh().memoizedState;\n  },\n  useState: function useState(a) {\n    return mh(lh, a);\n  },\n  useDebugValue: rh,\n  useResponder: kd\n},\n    th = null,\n    uh = null,\n    vh = !1;\n\nfunction wh(a, b) {\n  var c = xh(5, null, null, 0);\n  c.elementType = \"DELETED\";\n  c.type = \"DELETED\";\n  c.stateNode = b;\n  c.return = a;\n  c.effectTag = 8;\n  null !== a.lastEffect ? (a.lastEffect.nextEffect = c, a.lastEffect = c) : a.firstEffect = a.lastEffect = c;\n}\n\nfunction yh(a, b) {\n  switch (a.tag) {\n    case 5:\n      var c = a.type;\n      b = 1 !== b.nodeType || c.toLowerCase() !== b.nodeName.toLowerCase() ? null : b;\n      return null !== b ? (a.stateNode = b, !0) : !1;\n\n    case 6:\n      return b = \"\" === a.pendingProps || 3 !== b.nodeType ? null : b, null !== b ? (a.stateNode = b, !0) : !1;\n\n    case 13:\n      return !1;\n\n    default:\n      return !1;\n  }\n}\n\nfunction zh(a) {\n  if (vh) {\n    var b = uh;\n\n    if (b) {\n      var c = b;\n\n      if (!yh(a, b)) {\n        b = Ne(c.nextSibling);\n\n        if (!b || !yh(a, b)) {\n          a.effectTag |= 2;\n          vh = !1;\n          th = a;\n          return;\n        }\n\n        wh(th, c);\n      }\n\n      th = a;\n      uh = Ne(b.firstChild);\n    } else a.effectTag |= 2, vh = !1, th = a;\n  }\n}\n\nfunction Ah(a) {\n  for (a = a.return; null !== a && 5 !== a.tag && 3 !== a.tag && 18 !== a.tag;) {\n    a = a.return;\n  }\n\n  th = a;\n}\n\nfunction Bh(a) {\n  if (a !== th) return !1;\n  if (!vh) return Ah(a), vh = !0, !1;\n  var b = a.type;\n  if (5 !== a.tag || \"head\" !== b && \"body\" !== b && !Ke(b, a.memoizedProps)) for (b = uh; b;) {\n    wh(a, b), b = Ne(b.nextSibling);\n  }\n  Ah(a);\n  uh = th ? Ne(a.stateNode.nextSibling) : null;\n  return !0;\n}\n\nfunction Ch() {\n  uh = th = null;\n  vh = !1;\n}\n\nvar Dh = Xb.ReactCurrentOwner,\n    Lf = !1;\n\nfunction S(a, b, c, d) {\n  b.child = null === a ? ug(b, null, c, d) : tg(b, a.child, c, d);\n}\n\nfunction Eh(a, b, c, d, e) {\n  c = c.render;\n  var f = b.ref;\n  Kf(b, e);\n  d = dh(a, b, c, d, f, e);\n  if (null !== a && !Lf) return b.updateQueue = a.updateQueue, b.effectTag &= -517, a.expirationTime <= e && (a.expirationTime = 0), Fh(a, b, e);\n  b.effectTag |= 1;\n  S(a, b, d, e);\n  return b.child;\n}\n\nfunction Gh(a, b, c, d, e, f) {\n  if (null === a) {\n    var h = c.type;\n    if (\"function\" === typeof h && !Hh(h) && void 0 === h.defaultProps && null === c.compare && void 0 === c.defaultProps) return b.tag = 15, b.type = h, Ih(a, b, h, d, e, f);\n    a = qg(c.type, null, d, null, b.mode, f);\n    a.ref = b.ref;\n    a.return = b;\n    return b.child = a;\n  }\n\n  h = a.child;\n  if (e < f && (e = h.memoizedProps, c = c.compare, c = null !== c ? c : jd, c(e, d) && a.ref === b.ref)) return Fh(a, b, f);\n  b.effectTag |= 1;\n  a = og(h, d, f);\n  a.ref = b.ref;\n  a.return = b;\n  return b.child = a;\n}\n\nfunction Ih(a, b, c, d, e, f) {\n  return null !== a && jd(a.memoizedProps, d) && a.ref === b.ref && (Lf = !1, e < f) ? Fh(a, b, f) : Jh(a, b, c, d, f);\n}\n\nfunction Kh(a, b) {\n  var c = b.ref;\n  if (null === a && null !== c || null !== a && a.ref !== c) b.effectTag |= 128;\n}\n\nfunction Jh(a, b, c, d, e) {\n  var f = N(c) ? Re : L.current;\n  f = Se(b, f);\n  Kf(b, e);\n  c = dh(a, b, c, d, f, e);\n  if (null !== a && !Lf) return b.updateQueue = a.updateQueue, b.effectTag &= -517, a.expirationTime <= e && (a.expirationTime = 0), Fh(a, b, e);\n  b.effectTag |= 1;\n  S(a, b, c, e);\n  return b.child;\n}\n\nfunction Lh(a, b, c, d, e) {\n  if (N(c)) {\n    var f = !0;\n    Xe(b);\n  } else f = !1;\n\n  Kf(b, e);\n  if (null === b.stateNode) null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2), hg(b, c, d, e), jg(b, c, d, e), d = !0;else if (null === a) {\n    var h = b.stateNode,\n        g = b.memoizedProps;\n    h.props = g;\n    var k = h.context,\n        l = c.contextType;\n    \"object\" === typeof l && null !== l ? l = Mf(l) : (l = N(c) ? Re : L.current, l = Se(b, l));\n    var n = c.getDerivedStateFromProps,\n        z = \"function\" === typeof n || \"function\" === typeof h.getSnapshotBeforeUpdate;\n    z || \"function\" !== typeof h.UNSAFE_componentWillReceiveProps && \"function\" !== typeof h.componentWillReceiveProps || (g !== d || k !== l) && ig(b, h, d, l);\n    Nf = !1;\n    var x = b.memoizedState;\n    k = h.state = x;\n    var v = b.updateQueue;\n    null !== v && (Wf(b, v, d, h, e), k = b.memoizedState);\n    g !== d || x !== k || M.current || Nf ? (\"function\" === typeof n && (bg(b, c, n, d), k = b.memoizedState), (g = Nf || gg(b, c, g, d, x, k, l)) ? (z || \"function\" !== typeof h.UNSAFE_componentWillMount && \"function\" !== typeof h.componentWillMount || (\"function\" === typeof h.componentWillMount && h.componentWillMount(), \"function\" === typeof h.UNSAFE_componentWillMount && h.UNSAFE_componentWillMount()), \"function\" === typeof h.componentDidMount && (b.effectTag |= 4)) : (\"function\" === typeof h.componentDidMount && (b.effectTag |= 4), b.memoizedProps = d, b.memoizedState = k), h.props = d, h.state = k, h.context = l, d = g) : (\"function\" === typeof h.componentDidMount && (b.effectTag |= 4), d = !1);\n  } else h = b.stateNode, g = b.memoizedProps, h.props = b.type === b.elementType ? g : Af(b.type, g), k = h.context, l = c.contextType, \"object\" === typeof l && null !== l ? l = Mf(l) : (l = N(c) ? Re : L.current, l = Se(b, l)), n = c.getDerivedStateFromProps, (z = \"function\" === typeof n || \"function\" === typeof h.getSnapshotBeforeUpdate) || \"function\" !== typeof h.UNSAFE_componentWillReceiveProps && \"function\" !== typeof h.componentWillReceiveProps || (g !== d || k !== l) && ig(b, h, d, l), Nf = !1, k = b.memoizedState, x = h.state = k, v = b.updateQueue, null !== v && (Wf(b, v, d, h, e), x = b.memoizedState), g !== d || k !== x || M.current || Nf ? (\"function\" === typeof n && (bg(b, c, n, d), x = b.memoizedState), (n = Nf || gg(b, c, g, d, k, x, l)) ? (z || \"function\" !== typeof h.UNSAFE_componentWillUpdate && \"function\" !== typeof h.componentWillUpdate || (\"function\" === typeof h.componentWillUpdate && h.componentWillUpdate(d, x, l), \"function\" === typeof h.UNSAFE_componentWillUpdate && h.UNSAFE_componentWillUpdate(d, x, l)), \"function\" === typeof h.componentDidUpdate && (b.effectTag |= 4), \"function\" === typeof h.getSnapshotBeforeUpdate && (b.effectTag |= 256)) : (\"function\" !== typeof h.componentDidUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 4), \"function\" !== typeof h.getSnapshotBeforeUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 256), b.memoizedProps = d, b.memoizedState = x), h.props = d, h.state = x, h.context = l, d = n) : (\"function\" !== typeof h.componentDidUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 4), \"function\" !== typeof h.getSnapshotBeforeUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 256), d = !1);\n  return Mh(a, b, c, d, f, e);\n}\n\nfunction Mh(a, b, c, d, e, f) {\n  Kh(a, b);\n  var h = 0 !== (b.effectTag & 64);\n  if (!d && !h) return e && Ye(b, c, !1), Fh(a, b, f);\n  d = b.stateNode;\n  Dh.current = b;\n  var g = h && \"function\" !== typeof c.getDerivedStateFromError ? null : d.render();\n  b.effectTag |= 1;\n  null !== a && h ? (b.child = tg(b, a.child, null, f), b.child = tg(b, null, g, f)) : S(a, b, g, f);\n  b.memoizedState = d.state;\n  e && Ye(b, c, !0);\n  return b.child;\n}\n\nfunction Nh(a) {\n  var b = a.stateNode;\n  b.pendingContext ? Ve(a, b.pendingContext, b.pendingContext !== b.context) : b.context && Ve(a, b.context, !1);\n  Ag(a, b.containerInfo);\n}\n\nvar Oh = {};\n\nfunction Ph(a, b, c) {\n  var d = b.mode,\n      e = b.pendingProps,\n      f = P.current,\n      h = null,\n      g = !1,\n      k;\n  (k = 0 !== (b.effectTag & 64)) || (k = 0 !== (f & Gg) && (null === a || null !== a.memoizedState));\n  k ? (h = Oh, g = !0, b.effectTag &= -65) : null !== a && null === a.memoizedState || void 0 === e.fallback || !0 === e.unstable_avoidThisFallback || (f |= Fg);\n  f &= Eg;\n  J(P, f, b);\n  if (null === a) {\n    if (g) {\n      e = e.fallback;\n      a = sg(null, d, 0, null);\n      a.return = b;\n      if (0 === (b.mode & 2)) for (g = null !== b.memoizedState ? b.child.child : b.child, a.child = g; null !== g;) {\n        g.return = a, g = g.sibling;\n      }\n      c = sg(e, d, c, null);\n      c.return = b;\n      a.sibling = c;\n      d = a;\n    } else d = c = ug(b, null, e.children, c);\n  } else {\n    if (null !== a.memoizedState) {\n      if (f = a.child, d = f.sibling, g) {\n        e = e.fallback;\n        c = og(f, f.pendingProps, 0);\n        c.return = b;\n        if (0 === (b.mode & 2) && (g = null !== b.memoizedState ? b.child.child : b.child, g !== f.child)) for (c.child = g; null !== g;) {\n          g.return = c, g = g.sibling;\n        }\n        e = og(d, e, d.expirationTime);\n        e.return = b;\n        c.sibling = e;\n        d = c;\n        c.childExpirationTime = 0;\n        c = e;\n      } else d = c = tg(b, f.child, e.children, c);\n    } else if (f = a.child, g) {\n      g = e.fallback;\n      e = sg(null, d, 0, null);\n      e.return = b;\n      e.child = f;\n      null !== f && (f.return = e);\n      if (0 === (b.mode & 2)) for (f = null !== b.memoizedState ? b.child.child : b.child, e.child = f; null !== f;) {\n        f.return = e, f = f.sibling;\n      }\n      c = sg(g, d, c, null);\n      c.return = b;\n      e.sibling = c;\n      c.effectTag |= 2;\n      d = e;\n      e.childExpirationTime = 0;\n    } else c = d = tg(b, f, e.children, c);\n    b.stateNode = a.stateNode;\n  }\n  b.memoizedState = h;\n  b.child = d;\n  return c;\n}\n\nfunction Qh(a, b, c, d, e) {\n  var f = a.memoizedState;\n  null === f ? a.memoizedState = {\n    isBackwards: b,\n    rendering: null,\n    last: d,\n    tail: c,\n    tailExpiration: 0,\n    tailMode: e\n  } : (f.isBackwards = b, f.rendering = null, f.last = d, f.tail = c, f.tailExpiration = 0, f.tailMode = e);\n}\n\nfunction Rh(a, b, c) {\n  var d = b.pendingProps,\n      e = d.revealOrder,\n      f = d.tail;\n  S(a, b, d.children, c);\n  d = P.current;\n  if (0 !== (d & Gg)) d = d & Eg | Gg, b.effectTag |= 64;else {\n    if (null !== a && 0 !== (a.effectTag & 64)) a: for (a = b.child; null !== a;) {\n      if (13 === a.tag) {\n        if (null !== a.memoizedState) {\n          a.expirationTime < c && (a.expirationTime = c);\n          var h = a.alternate;\n          null !== h && h.expirationTime < c && (h.expirationTime = c);\n          Jf(a.return, c);\n        }\n      } else if (null !== a.child) {\n        a.child.return = a;\n        a = a.child;\n        continue;\n      }\n\n      if (a === b) break a;\n\n      for (; null === a.sibling;) {\n        if (null === a.return || a.return === b) break a;\n        a = a.return;\n      }\n\n      a.sibling.return = a.return;\n      a = a.sibling;\n    }\n    d &= Eg;\n  }\n  J(P, d, b);\n  if (0 === (b.mode & 2)) b.memoizedState = null;else switch (e) {\n    case \"forwards\":\n      c = b.child;\n\n      for (e = null; null !== c;) {\n        d = c.alternate, null !== d && null === Hg(d) && (e = c), c = c.sibling;\n      }\n\n      c = e;\n      null === c ? (e = b.child, b.child = null) : (e = c.sibling, c.sibling = null);\n      Qh(b, !1, e, c, f);\n      break;\n\n    case \"backwards\":\n      c = null;\n      e = b.child;\n\n      for (b.child = null; null !== e;) {\n        d = e.alternate;\n\n        if (null !== d && null === Hg(d)) {\n          b.child = e;\n          break;\n        }\n\n        d = e.sibling;\n        e.sibling = c;\n        c = e;\n        e = d;\n      }\n\n      Qh(b, !0, c, null, f);\n      break;\n\n    case \"together\":\n      Qh(b, !1, null, null, void 0);\n      break;\n\n    default:\n      b.memoizedState = null;\n  }\n  return b.child;\n}\n\nfunction Fh(a, b, c) {\n  null !== a && (b.dependencies = a.dependencies);\n  if (b.childExpirationTime < c) return null;\n  if (null !== a && b.child !== a.child) throw t(Error(153));\n\n  if (null !== b.child) {\n    a = b.child;\n    c = og(a, a.pendingProps, a.expirationTime);\n    b.child = c;\n\n    for (c.return = b; null !== a.sibling;) {\n      a = a.sibling, c = c.sibling = og(a, a.pendingProps, a.expirationTime), c.return = b;\n    }\n\n    c.sibling = null;\n  }\n\n  return b.child;\n}\n\nfunction Sh(a) {\n  a.effectTag |= 4;\n}\n\nvar Th = void 0,\n    Uh = void 0,\n    Vh = void 0,\n    Wh = void 0;\n\nTh = function Th(a, b) {\n  for (var c = b.child; null !== c;) {\n    if (5 === c.tag || 6 === c.tag) a.appendChild(c.stateNode);else if (20 === c.tag) a.appendChild(c.stateNode.instance);else if (4 !== c.tag && null !== c.child) {\n      c.child.return = c;\n      c = c.child;\n      continue;\n    }\n    if (c === b) break;\n\n    for (; null === c.sibling;) {\n      if (null === c.return || c.return === b) return;\n      c = c.return;\n    }\n\n    c.sibling.return = c.return;\n    c = c.sibling;\n  }\n};\n\nUh = function Uh() {};\n\nVh = function Vh(a, b, c, d, e) {\n  var f = a.memoizedProps;\n\n  if (f !== d) {\n    var h = b.stateNode;\n    zg(wg.current);\n    a = null;\n\n    switch (c) {\n      case \"input\":\n        f = Bc(h, f);\n        d = Bc(h, d);\n        a = [];\n        break;\n\n      case \"option\":\n        f = le(h, f);\n        d = le(h, d);\n        a = [];\n        break;\n\n      case \"select\":\n        f = m({}, f, {\n          value: void 0\n        });\n        d = m({}, d, {\n          value: void 0\n        });\n        a = [];\n        break;\n\n      case \"textarea\":\n        f = ne(h, f);\n        d = ne(h, d);\n        a = [];\n        break;\n\n      default:\n        \"function\" !== typeof f.onClick && \"function\" === typeof d.onClick && (h.onclick = Ge);\n    }\n\n    De(c, d);\n    h = c = void 0;\n    var g = null;\n\n    for (c in f) {\n      if (!d.hasOwnProperty(c) && f.hasOwnProperty(c) && null != f[c]) if (\"style\" === c) {\n        var k = f[c];\n\n        for (h in k) {\n          k.hasOwnProperty(h) && (g || (g = {}), g[h] = \"\");\n        }\n      } else \"dangerouslySetInnerHTML\" !== c && \"children\" !== c && \"suppressContentEditableWarning\" !== c && \"suppressHydrationWarning\" !== c && \"autoFocus\" !== c && (ia.hasOwnProperty(c) ? a || (a = []) : (a = a || []).push(c, null));\n    }\n\n    for (c in d) {\n      var l = d[c];\n      k = null != f ? f[c] : void 0;\n      if (d.hasOwnProperty(c) && l !== k && (null != l || null != k)) if (\"style\" === c) {\n        if (k) {\n          for (h in k) {\n            !k.hasOwnProperty(h) || l && l.hasOwnProperty(h) || (g || (g = {}), g[h] = \"\");\n          }\n\n          for (h in l) {\n            l.hasOwnProperty(h) && k[h] !== l[h] && (g || (g = {}), g[h] = l[h]);\n          }\n        } else g || (a || (a = []), a.push(c, g)), g = l;\n      } else \"dangerouslySetInnerHTML\" === c ? (l = l ? l.__html : void 0, k = k ? k.__html : void 0, null != l && k !== l && (a = a || []).push(c, \"\" + l)) : \"children\" === c ? k === l || \"string\" !== typeof l && \"number\" !== typeof l || (a = a || []).push(c, \"\" + l) : \"suppressContentEditableWarning\" !== c && \"suppressHydrationWarning\" !== c && (ia.hasOwnProperty(c) ? (null != l && Fe(e, c), a || k === l || (a = [])) : (a = a || []).push(c, l));\n    }\n\n    g && (a = a || []).push(\"style\", g);\n    e = a;\n    (b.updateQueue = e) && Sh(b);\n  }\n};\n\nWh = function Wh(a, b, c, d) {\n  c !== d && Sh(b);\n};\n\nfunction $h(a, b) {\n  switch (a.tailMode) {\n    case \"hidden\":\n      b = a.tail;\n\n      for (var c = null; null !== b;) {\n        null !== b.alternate && (c = b), b = b.sibling;\n      }\n\n      null === c ? a.tail = null : c.sibling = null;\n      break;\n\n    case \"collapsed\":\n      c = a.tail;\n\n      for (var d = null; null !== c;) {\n        null !== c.alternate && (d = c), c = c.sibling;\n      }\n\n      null === d ? b || null === a.tail ? a.tail = null : a.tail.sibling = null : d.sibling = null;\n  }\n}\n\nfunction ai(a) {\n  switch (a.tag) {\n    case 1:\n      N(a.type) && Te(a);\n      var b = a.effectTag;\n      return b & 2048 ? (a.effectTag = b & -2049 | 64, a) : null;\n\n    case 3:\n      Bg(a);\n      Ue(a);\n      b = a.effectTag;\n      if (0 !== (b & 64)) throw t(Error(285));\n      a.effectTag = b & -2049 | 64;\n      return a;\n\n    case 5:\n      return Dg(a), null;\n\n    case 13:\n      return H(P, a), b = a.effectTag, b & 2048 ? (a.effectTag = b & -2049 | 64, a) : null;\n\n    case 18:\n      return null;\n\n    case 19:\n      return H(P, a), null;\n\n    case 4:\n      return Bg(a), null;\n\n    case 10:\n      return If(a), null;\n\n    default:\n      return null;\n  }\n}\n\nfunction bi(a, b) {\n  return {\n    value: a,\n    source: b,\n    stack: pc(b)\n  };\n}\n\nvar ci = \"function\" === typeof WeakSet ? WeakSet : Set;\n\nfunction di(a, b) {\n  var c = b.source,\n      d = b.stack;\n  null === d && null !== c && (d = pc(c));\n  null !== c && oc(c.type);\n  b = b.value;\n  null !== a && 1 === a.tag && oc(a.type);\n\n  try {\n    console.error(b);\n  } catch (e) {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction ei(a, b) {\n  try {\n    b.props = a.memoizedProps, b.state = a.memoizedState, b.componentWillUnmount();\n  } catch (c) {\n    fi(a, c);\n  }\n}\n\nfunction gi(a) {\n  var b = a.ref;\n  if (null !== b) if (\"function\" === typeof b) try {\n    b(null);\n  } catch (c) {\n    fi(a, c);\n  } else b.current = null;\n}\n\nfunction hi(a, b, c) {\n  c = c.updateQueue;\n  c = null !== c ? c.lastEffect : null;\n\n  if (null !== c) {\n    var d = c = c.next;\n\n    do {\n      if ((d.tag & a) !== Ig) {\n        var e = d.destroy;\n        d.destroy = void 0;\n        void 0 !== e && e();\n      }\n\n      (d.tag & b) !== Ig && (e = d.create, d.destroy = e());\n      d = d.next;\n    } while (d !== c);\n  }\n}\n\nfunction ii(a, b) {\n  \"function\" === typeof ji && ji(a);\n\n  switch (a.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      var c = a.updateQueue;\n\n      if (null !== c && (c = c.lastEffect, null !== c)) {\n        var d = c.next;\n        vf(97 < b ? 97 : b, function () {\n          var b = d;\n\n          do {\n            var c = b.destroy;\n\n            if (void 0 !== c) {\n              var h = a;\n\n              try {\n                c();\n              } catch (g) {\n                fi(h, g);\n              }\n            }\n\n            b = b.next;\n          } while (b !== d);\n        });\n      }\n\n      break;\n\n    case 1:\n      gi(a);\n      b = a.stateNode;\n      \"function\" === typeof b.componentWillUnmount && ei(a, b);\n      break;\n\n    case 5:\n      gi(a);\n      break;\n\n    case 4:\n      ki(a, b);\n  }\n}\n\nfunction li(a, b) {\n  for (var c = a;;) {\n    if (ii(c, b), null !== c.child && 4 !== c.tag) c.child.return = c, c = c.child;else {\n      if (c === a) break;\n\n      for (; null === c.sibling;) {\n        if (null === c.return || c.return === a) return;\n        c = c.return;\n      }\n\n      c.sibling.return = c.return;\n      c = c.sibling;\n    }\n  }\n}\n\nfunction mi(a) {\n  return 5 === a.tag || 3 === a.tag || 4 === a.tag;\n}\n\nfunction ni(a) {\n  a: {\n    for (var b = a.return; null !== b;) {\n      if (mi(b)) {\n        var c = b;\n        break a;\n      }\n\n      b = b.return;\n    }\n\n    throw t(Error(160));\n  }\n\n  b = c.stateNode;\n\n  switch (c.tag) {\n    case 5:\n      var d = !1;\n      break;\n\n    case 3:\n      b = b.containerInfo;\n      d = !0;\n      break;\n\n    case 4:\n      b = b.containerInfo;\n      d = !0;\n      break;\n\n    default:\n      throw t(Error(161));\n  }\n\n  c.effectTag & 16 && (we(b, \"\"), c.effectTag &= -17);\n\n  a: b: for (c = a;;) {\n    for (; null === c.sibling;) {\n      if (null === c.return || mi(c.return)) {\n        c = null;\n        break a;\n      }\n\n      c = c.return;\n    }\n\n    c.sibling.return = c.return;\n\n    for (c = c.sibling; 5 !== c.tag && 6 !== c.tag && 18 !== c.tag;) {\n      if (c.effectTag & 2) continue b;\n      if (null === c.child || 4 === c.tag) continue b;else c.child.return = c, c = c.child;\n    }\n\n    if (!(c.effectTag & 2)) {\n      c = c.stateNode;\n      break a;\n    }\n  }\n\n  for (var e = a;;) {\n    var f = 5 === e.tag || 6 === e.tag;\n\n    if (f || 20 === e.tag) {\n      var h = f ? e.stateNode : e.stateNode.instance;\n      if (c) {\n        if (d) {\n          f = b;\n          var g = h;\n          h = c;\n          8 === f.nodeType ? f.parentNode.insertBefore(g, h) : f.insertBefore(g, h);\n        } else b.insertBefore(h, c);\n      } else d ? (g = b, 8 === g.nodeType ? (f = g.parentNode, f.insertBefore(h, g)) : (f = g, f.appendChild(h)), g = g._reactRootContainer, null !== g && void 0 !== g || null !== f.onclick || (f.onclick = Ge)) : b.appendChild(h);\n    } else if (4 !== e.tag && null !== e.child) {\n      e.child.return = e;\n      e = e.child;\n      continue;\n    }\n\n    if (e === a) break;\n\n    for (; null === e.sibling;) {\n      if (null === e.return || e.return === a) return;\n      e = e.return;\n    }\n\n    e.sibling.return = e.return;\n    e = e.sibling;\n  }\n}\n\nfunction ki(a, b) {\n  for (var c = a, d = !1, e = void 0, f = void 0;;) {\n    if (!d) {\n      d = c.return;\n\n      a: for (;;) {\n        if (null === d) throw t(Error(160));\n        e = d.stateNode;\n\n        switch (d.tag) {\n          case 5:\n            f = !1;\n            break a;\n\n          case 3:\n            e = e.containerInfo;\n            f = !0;\n            break a;\n\n          case 4:\n            e = e.containerInfo;\n            f = !0;\n            break a;\n        }\n\n        d = d.return;\n      }\n\n      d = !0;\n    }\n\n    if (5 === c.tag || 6 === c.tag) {\n      if (li(c, b), f) {\n        var h = e,\n            g = c.stateNode;\n        8 === h.nodeType ? h.parentNode.removeChild(g) : h.removeChild(g);\n      } else e.removeChild(c.stateNode);\n    } else if (20 === c.tag) g = c.stateNode.instance, li(c, b), f ? (h = e, 8 === h.nodeType ? h.parentNode.removeChild(g) : h.removeChild(g)) : e.removeChild(g);else if (4 === c.tag) {\n      if (null !== c.child) {\n        e = c.stateNode.containerInfo;\n        f = !0;\n        c.child.return = c;\n        c = c.child;\n        continue;\n      }\n    } else if (ii(c, b), null !== c.child) {\n      c.child.return = c;\n      c = c.child;\n      continue;\n    }\n    if (c === a) break;\n\n    for (; null === c.sibling;) {\n      if (null === c.return || c.return === a) return;\n      c = c.return;\n      4 === c.tag && (d = !1);\n    }\n\n    c.sibling.return = c.return;\n    c = c.sibling;\n  }\n}\n\nfunction oi(a, b) {\n  switch (b.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      hi(Kg, Lg, b);\n      break;\n\n    case 1:\n      break;\n\n    case 5:\n      var c = b.stateNode;\n\n      if (null != c) {\n        var d = b.memoizedProps,\n            e = null !== a ? a.memoizedProps : d;\n        a = b.type;\n        var f = b.updateQueue;\n        b.updateQueue = null;\n\n        if (null !== f) {\n          c[Ga] = d;\n          \"input\" === a && \"radio\" === d.type && null != d.name && Dc(c, d);\n          Ee(a, e);\n          b = Ee(a, d);\n\n          for (e = 0; e < f.length; e += 2) {\n            var h = f[e],\n                g = f[e + 1];\n            \"style\" === h ? Ae(c, g) : \"dangerouslySetInnerHTML\" === h ? ve(c, g) : \"children\" === h ? we(c, g) : zc(c, h, g, b);\n          }\n\n          switch (a) {\n            case \"input\":\n              Ec(c, d);\n              break;\n\n            case \"textarea\":\n              pe(c, d);\n              break;\n\n            case \"select\":\n              b = c._wrapperState.wasMultiple, c._wrapperState.wasMultiple = !!d.multiple, a = d.value, null != a ? me(c, !!d.multiple, a, !1) : b !== !!d.multiple && (null != d.defaultValue ? me(c, !!d.multiple, d.defaultValue, !0) : me(c, !!d.multiple, d.multiple ? [] : \"\", !1));\n          }\n        }\n      }\n\n      break;\n\n    case 6:\n      if (null === b.stateNode) throw t(Error(162));\n      b.stateNode.nodeValue = b.memoizedProps;\n      break;\n\n    case 3:\n      break;\n\n    case 12:\n      break;\n\n    case 13:\n      c = b;\n      null === b.memoizedState ? d = !1 : (d = !0, c = b.child, pi = sf());\n      if (null !== c) a: for (a = c;;) {\n        if (5 === a.tag) f = a.stateNode, d ? (f = f.style, \"function\" === typeof f.setProperty ? f.setProperty(\"display\", \"none\", \"important\") : f.display = \"none\") : (f = a.stateNode, e = a.memoizedProps.style, e = void 0 !== e && null !== e && e.hasOwnProperty(\"display\") ? e.display : null, f.style.display = ze(\"display\", e));else if (6 === a.tag) a.stateNode.nodeValue = d ? \"\" : a.memoizedProps;else if (13 === a.tag && null !== a.memoizedState) {\n          f = a.child.sibling;\n          f.return = a;\n          a = f;\n          continue;\n        } else if (null !== a.child) {\n          a.child.return = a;\n          a = a.child;\n          continue;\n        }\n        if (a === c) break a;\n\n        for (; null === a.sibling;) {\n          if (null === a.return || a.return === c) break a;\n          a = a.return;\n        }\n\n        a.sibling.return = a.return;\n        a = a.sibling;\n      }\n      qi(b);\n      break;\n\n    case 19:\n      qi(b);\n      break;\n\n    case 17:\n      break;\n\n    case 20:\n      break;\n\n    default:\n      throw t(Error(163));\n  }\n}\n\nfunction qi(a) {\n  var b = a.updateQueue;\n\n  if (null !== b) {\n    a.updateQueue = null;\n    var c = a.stateNode;\n    null === c && (c = a.stateNode = new ci());\n    b.forEach(function (b) {\n      var d = ri.bind(null, a, b);\n      c.has(b) || (c.add(b), b.then(d, d));\n    });\n  }\n}\n\nvar si = \"function\" === typeof WeakMap ? WeakMap : Map;\n\nfunction ti(a, b, c) {\n  c = Qf(c, null);\n  c.tag = 3;\n  c.payload = {\n    element: null\n  };\n  var d = b.value;\n\n  c.callback = function () {\n    ui || (ui = !0, vi = d);\n    di(a, b);\n  };\n\n  return c;\n}\n\nfunction wi(a, b, c) {\n  c = Qf(c, null);\n  c.tag = 3;\n  var d = a.type.getDerivedStateFromError;\n\n  if (\"function\" === typeof d) {\n    var e = b.value;\n\n    c.payload = function () {\n      di(a, b);\n      return d(e);\n    };\n  }\n\n  var f = a.stateNode;\n  null !== f && \"function\" === typeof f.componentDidCatch && (c.callback = function () {\n    \"function\" !== typeof d && (null === xi ? xi = new Set([this]) : xi.add(this), di(a, b));\n    var c = b.stack;\n    this.componentDidCatch(b.value, {\n      componentStack: null !== c ? c : \"\"\n    });\n  });\n  return c;\n}\n\nvar yi = Math.ceil,\n    zi = Xb.ReactCurrentDispatcher,\n    Ai = Xb.ReactCurrentOwner,\n    T = 0,\n    Bi = 8,\n    Ci = 16,\n    Di = 32,\n    Ei = 0,\n    Fi = 1,\n    Gi = 2,\n    Hi = 3,\n    Ii = 4,\n    U = T,\n    Ji = null,\n    V = null,\n    W = 0,\n    X = Ei,\n    Ki = 1073741823,\n    Li = 1073741823,\n    Mi = null,\n    Ni = !1,\n    pi = 0,\n    Oi = 500,\n    Y = null,\n    ui = !1,\n    vi = null,\n    xi = null,\n    Pi = !1,\n    Qi = null,\n    Ri = 90,\n    Si = 0,\n    Ti = null,\n    Ui = 0,\n    Vi = null,\n    Wi = 0;\n\nfunction cg() {\n  return (U & (Ci | Di)) !== T ? 1073741821 - (sf() / 10 | 0) : 0 !== Wi ? Wi : Wi = 1073741821 - (sf() / 10 | 0);\n}\n\nfunction dg(a, b, c) {\n  b = b.mode;\n  if (0 === (b & 2)) return 1073741823;\n  var d = tf();\n  if (0 === (b & 4)) return 99 === d ? 1073741823 : 1073741822;\n  if ((U & Ci) !== T) return W;\n  if (null !== c) a = 1073741821 - 25 * (((1073741821 - a + (c.timeoutMs | 0 || 5E3) / 10) / 25 | 0) + 1);else switch (d) {\n    case 99:\n      a = 1073741823;\n      break;\n\n    case 98:\n      a = 1073741821 - 10 * (((1073741821 - a + 15) / 10 | 0) + 1);\n      break;\n\n    case 97:\n    case 96:\n      a = 1073741821 - 25 * (((1073741821 - a + 500) / 25 | 0) + 1);\n      break;\n\n    case 95:\n      a = 1;\n      break;\n\n    default:\n      throw t(Error(326));\n  }\n  null !== Ji && a === W && --a;\n  return a;\n}\n\nvar Xi = 0;\n\nfunction eg(a, b) {\n  if (50 < Ui) throw Ui = 0, Vi = null, t(Error(185));\n  a = Yi(a, b);\n\n  if (null !== a) {\n    a.pingTime = 0;\n    var c = tf();\n    if (1073741823 === b) {\n      if ((U & Bi) !== T && (U & (Ci | Di)) === T) for (var d = Z(a, 1073741823, !0); null !== d;) {\n        d = d(!0);\n      } else Zi(a, 99, 1073741823), U === T && O();\n    } else Zi(a, c, b);\n    (U & 4) === T || 98 !== c && 99 !== c || (null === Ti ? Ti = new Map([[a, b]]) : (c = Ti.get(a), (void 0 === c || c > b) && Ti.set(a, b)));\n  }\n}\n\nfunction Yi(a, b) {\n  a.expirationTime < b && (a.expirationTime = b);\n  var c = a.alternate;\n  null !== c && c.expirationTime < b && (c.expirationTime = b);\n  var d = a.return,\n      e = null;\n  if (null === d && 3 === a.tag) e = a.stateNode;else for (; null !== d;) {\n    c = d.alternate;\n    d.childExpirationTime < b && (d.childExpirationTime = b);\n    null !== c && c.childExpirationTime < b && (c.childExpirationTime = b);\n\n    if (null === d.return && 3 === d.tag) {\n      e = d.stateNode;\n      break;\n    }\n\n    d = d.return;\n  }\n  null !== e && (b > e.firstPendingTime && (e.firstPendingTime = b), a = e.lastPendingTime, 0 === a || b < a) && (e.lastPendingTime = b);\n  return e;\n}\n\nfunction Zi(a, b, c) {\n  if (a.callbackExpirationTime < c) {\n    var d = a.callbackNode;\n    null !== d && d !== mf && af(d);\n    a.callbackExpirationTime = c;\n    1073741823 === c ? a.callbackNode = xf($i.bind(null, a, Z.bind(null, a, c))) : (d = null, 1 !== c && (d = {\n      timeout: 10 * (1073741821 - c) - sf()\n    }), a.callbackNode = wf(b, $i.bind(null, a, Z.bind(null, a, c)), d));\n  }\n}\n\nfunction $i(a, b, c) {\n  var d = a.callbackNode,\n      e = null;\n\n  try {\n    return e = b(c), null !== e ? $i.bind(null, a, e) : null;\n  } finally {\n    null === e && d === a.callbackNode && (a.callbackNode = null, a.callbackExpirationTime = 0);\n  }\n}\n\nfunction aj() {\n  (U & (1 | Ci | Di)) === T && (bj(), cj());\n}\n\nfunction dj(a, b) {\n  var c = a.firstBatch;\n  return null !== c && c._defer && c._expirationTime >= b ? (wf(97, function () {\n    c._onComplete();\n\n    return null;\n  }), !0) : !1;\n}\n\nfunction bj() {\n  if (null !== Ti) {\n    var a = Ti;\n    Ti = null;\n    a.forEach(function (a, c) {\n      xf(Z.bind(null, c, a));\n    });\n    O();\n  }\n}\n\nfunction ej(a, b) {\n  var c = U;\n  U |= 1;\n\n  try {\n    return a(b);\n  } finally {\n    U = c, U === T && O();\n  }\n}\n\nfunction fj(a, b, c, d) {\n  var e = U;\n  U |= 4;\n\n  try {\n    return vf(98, a.bind(null, b, c, d));\n  } finally {\n    U = e, U === T && O();\n  }\n}\n\nfunction gj(a, b) {\n  var c = U;\n  U &= -2;\n  U |= Bi;\n\n  try {\n    return a(b);\n  } finally {\n    U = c, U === T && O();\n  }\n}\n\nfunction hj(a, b) {\n  a.finishedWork = null;\n  a.finishedExpirationTime = 0;\n  var c = a.timeoutHandle;\n  -1 !== c && (a.timeoutHandle = -1, Me(c));\n  if (null !== V) for (c = V.return; null !== c;) {\n    var d = c;\n\n    switch (d.tag) {\n      case 1:\n        var e = d.type.childContextTypes;\n        null !== e && void 0 !== e && Te(d);\n        break;\n\n      case 3:\n        Bg(d);\n        Ue(d);\n        break;\n\n      case 5:\n        Dg(d);\n        break;\n\n      case 4:\n        Bg(d);\n        break;\n\n      case 13:\n        H(P, d);\n        break;\n\n      case 19:\n        H(P, d);\n        break;\n\n      case 10:\n        If(d);\n    }\n\n    c = c.return;\n  }\n  Ji = a;\n  V = og(a.current, null, b);\n  W = b;\n  X = Ei;\n  Li = Ki = 1073741823;\n  Mi = null;\n  Ni = !1;\n}\n\nfunction Z(a, b, c) {\n  if ((U & (Ci | Di)) !== T) throw t(Error(327));\n  if (a.firstPendingTime < b) return null;\n  if (c && a.finishedExpirationTime === b) return ij.bind(null, a);\n  cj();\n  if (a !== Ji || b !== W) hj(a, b);else if (X === Hi) if (Ni) hj(a, b);else {\n    var d = a.lastPendingTime;\n    if (d < b) return Z.bind(null, a, d);\n  }\n\n  if (null !== V) {\n    d = U;\n    U |= Ci;\n    var e = zi.current;\n    null === e && (e = hh);\n    zi.current = hh;\n\n    if (c) {\n      if (1073741823 !== b) {\n        var f = cg();\n        if (f < b) return U = d, Gf(), zi.current = e, Z.bind(null, a, f);\n      }\n    } else Wi = 0;\n\n    do {\n      try {\n        if (c) for (; null !== V;) {\n          V = jj(V);\n        } else for (; null !== V && !bf();) {\n          V = jj(V);\n        }\n        break;\n      } catch (rb) {\n        Gf();\n        ih();\n        f = V;\n        if (null === f || null === f.return) throw hj(a, b), U = d, rb;\n\n        a: {\n          var h = a,\n              g = f.return,\n              k = f,\n              l = rb,\n              n = W;\n          k.effectTag |= 1024;\n          k.firstEffect = k.lastEffect = null;\n\n          if (null !== l && \"object\" === typeof l && \"function\" === typeof l.then) {\n            var z = l,\n                x = 0 !== (P.current & Fg);\n            l = g;\n\n            do {\n              var v;\n              if (v = 13 === l.tag) null !== l.memoizedState ? v = !1 : (v = l.memoizedProps, v = void 0 === v.fallback ? !1 : !0 !== v.unstable_avoidThisFallback ? !0 : x ? !1 : !0);\n\n              if (v) {\n                g = l.updateQueue;\n                null === g ? (g = new Set(), g.add(z), l.updateQueue = g) : g.add(z);\n\n                if (0 === (l.mode & 2)) {\n                  l.effectTag |= 64;\n                  k.effectTag &= -1957;\n                  1 === k.tag && (null === k.alternate ? k.tag = 17 : (n = Qf(1073741823, null), n.tag = 2, Sf(k, n)));\n                  k.expirationTime = 1073741823;\n                  break a;\n                }\n\n                k = h;\n                h = n;\n                x = k.pingCache;\n                null === x ? (x = k.pingCache = new si(), g = new Set(), x.set(z, g)) : (g = x.get(z), void 0 === g && (g = new Set(), x.set(z, g)));\n                g.has(h) || (g.add(h), k = kj.bind(null, k, z, h), z.then(k, k));\n                l.effectTag |= 2048;\n                l.expirationTime = n;\n                break a;\n              }\n\n              l = l.return;\n            } while (null !== l);\n\n            l = Error((oc(k.type) || \"A React component\") + \" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\" + pc(k));\n          }\n\n          X !== Ii && (X = Fi);\n          l = bi(l, k);\n          k = g;\n\n          do {\n            switch (k.tag) {\n              case 3:\n                k.effectTag |= 2048;\n                k.expirationTime = n;\n                n = ti(k, l, n);\n                Tf(k, n);\n                break a;\n\n              case 1:\n                if (z = l, h = k.type, g = k.stateNode, 0 === (k.effectTag & 64) && (\"function\" === typeof h.getDerivedStateFromError || null !== g && \"function\" === typeof g.componentDidCatch && (null === xi || !xi.has(g)))) {\n                  k.effectTag |= 2048;\n                  k.expirationTime = n;\n                  n = wi(k, z, n);\n                  Tf(k, n);\n                  break a;\n                }\n\n            }\n\n            k = k.return;\n          } while (null !== k);\n        }\n\n        V = lj(f);\n      }\n    } while (1);\n\n    U = d;\n    Gf();\n    zi.current = e;\n    if (null !== V) return Z.bind(null, a, b);\n  }\n\n  a.finishedWork = a.current.alternate;\n  a.finishedExpirationTime = b;\n  if (dj(a, b)) return null;\n  Ji = null;\n\n  switch (X) {\n    case Ei:\n      throw t(Error(328));\n\n    case Fi:\n      return d = a.lastPendingTime, d < b ? Z.bind(null, a, d) : c ? ij.bind(null, a) : (hj(a, b), xf(Z.bind(null, a, b)), null);\n\n    case Gi:\n      if (1073741823 === Ki && !c && (c = pi + Oi - sf(), 10 < c)) {\n        if (Ni) return hj(a, b), Z.bind(null, a, b);\n        d = a.lastPendingTime;\n        if (d < b) return Z.bind(null, a, d);\n        a.timeoutHandle = Le(ij.bind(null, a), c);\n        return null;\n      }\n\n      return ij.bind(null, a);\n\n    case Hi:\n      if (!c) {\n        if (Ni) return hj(a, b), Z.bind(null, a, b);\n        c = a.lastPendingTime;\n        if (c < b) return Z.bind(null, a, c);\n        1073741823 !== Li ? c = 10 * (1073741821 - Li) - sf() : 1073741823 === Ki ? c = 0 : (c = 10 * (1073741821 - Ki) - 5E3, d = sf(), b = 10 * (1073741821 - b) - d, c = d - c, 0 > c && (c = 0), c = (120 > c ? 120 : 480 > c ? 480 : 1080 > c ? 1080 : 1920 > c ? 1920 : 3E3 > c ? 3E3 : 4320 > c ? 4320 : 1960 * yi(c / 1960)) - c, b < c && (c = b));\n        if (10 < c) return a.timeoutHandle = Le(ij.bind(null, a), c), null;\n      }\n\n      return ij.bind(null, a);\n\n    case Ii:\n      return !c && 1073741823 !== Ki && null !== Mi && (d = Ki, e = Mi, b = e.busyMinDurationMs | 0, 0 >= b ? b = 0 : (c = e.busyDelayMs | 0, d = sf() - (10 * (1073741821 - d) - (e.timeoutMs | 0 || 5E3)), b = d <= c ? 0 : c + b - d), 10 < b) ? (a.timeoutHandle = Le(ij.bind(null, a), b), null) : ij.bind(null, a);\n\n    default:\n      throw t(Error(329));\n  }\n}\n\nfunction Xf(a, b) {\n  a < Ki && 1 < a && (Ki = a);\n  null !== b && a < Li && 1 < a && (Li = a, Mi = b);\n}\n\nfunction jj(a) {\n  var b = mj(a.alternate, a, W);\n  a.memoizedProps = a.pendingProps;\n  null === b && (b = lj(a));\n  Ai.current = null;\n  return b;\n}\n\nfunction lj(a) {\n  V = a;\n\n  do {\n    var b = V.alternate;\n    a = V.return;\n\n    if (0 === (V.effectTag & 1024)) {\n      a: {\n        var c = b;\n        b = V;\n        var d = W,\n            e = b.pendingProps;\n\n        switch (b.tag) {\n          case 2:\n            break;\n\n          case 16:\n            break;\n\n          case 15:\n          case 0:\n            break;\n\n          case 1:\n            N(b.type) && Te(b);\n            break;\n\n          case 3:\n            Bg(b);\n            Ue(b);\n            d = b.stateNode;\n            d.pendingContext && (d.context = d.pendingContext, d.pendingContext = null);\n            if (null === c || null === c.child) Bh(b), b.effectTag &= -3;\n            Uh(b);\n            break;\n\n          case 5:\n            Dg(b);\n            d = zg(yg.current);\n            var f = b.type;\n            if (null !== c && null != b.stateNode) Vh(c, b, f, e, d), c.ref !== b.ref && (b.effectTag |= 128);else if (e) {\n              var h = zg(wg.current);\n\n              if (Bh(b)) {\n                c = b;\n                e = void 0;\n                f = c.stateNode;\n                var g = c.type,\n                    k = c.memoizedProps;\n                f[Fa] = c;\n                f[Ga] = k;\n\n                switch (g) {\n                  case \"iframe\":\n                  case \"object\":\n                  case \"embed\":\n                    G(\"load\", f);\n                    break;\n\n                  case \"video\":\n                  case \"audio\":\n                    for (var l = 0; l < bb.length; l++) {\n                      G(bb[l], f);\n                    }\n\n                    break;\n\n                  case \"source\":\n                    G(\"error\", f);\n                    break;\n\n                  case \"img\":\n                  case \"image\":\n                  case \"link\":\n                    G(\"error\", f);\n                    G(\"load\", f);\n                    break;\n\n                  case \"form\":\n                    G(\"reset\", f);\n                    G(\"submit\", f);\n                    break;\n\n                  case \"details\":\n                    G(\"toggle\", f);\n                    break;\n\n                  case \"input\":\n                    Cc(f, k);\n                    G(\"invalid\", f);\n                    Fe(d, \"onChange\");\n                    break;\n\n                  case \"select\":\n                    f._wrapperState = {\n                      wasMultiple: !!k.multiple\n                    };\n                    G(\"invalid\", f);\n                    Fe(d, \"onChange\");\n                    break;\n\n                  case \"textarea\":\n                    oe(f, k), G(\"invalid\", f), Fe(d, \"onChange\");\n                }\n\n                De(g, k);\n                l = null;\n\n                for (e in k) {\n                  k.hasOwnProperty(e) && (h = k[e], \"children\" === e ? \"string\" === typeof h ? f.textContent !== h && (l = [\"children\", h]) : \"number\" === typeof h && f.textContent !== \"\" + h && (l = [\"children\", \"\" + h]) : ia.hasOwnProperty(e) && null != h && Fe(d, e));\n                }\n\n                switch (g) {\n                  case \"input\":\n                    Vb(f);\n                    Gc(f, k, !0);\n                    break;\n\n                  case \"textarea\":\n                    Vb(f);\n                    qe(f, k);\n                    break;\n\n                  case \"select\":\n                  case \"option\":\n                    break;\n\n                  default:\n                    \"function\" === typeof k.onClick && (f.onclick = Ge);\n                }\n\n                d = l;\n                c.updateQueue = d;\n                null !== d && Sh(b);\n              } else {\n                k = f;\n                c = e;\n                g = b;\n                l = 9 === d.nodeType ? d : d.ownerDocument;\n                h === re.html && (h = se(k));\n                h === re.html ? \"script\" === k ? (k = l.createElement(\"div\"), k.innerHTML = \"<script>\\x3c/script>\", l = k.removeChild(k.firstChild)) : \"string\" === typeof c.is ? l = l.createElement(k, {\n                  is: c.is\n                }) : (l = l.createElement(k), \"select\" === k && (k = l, c.multiple ? k.multiple = !0 : c.size && (k.size = c.size))) : l = l.createElementNS(h, k);\n                k = l;\n                k[Fa] = g;\n                k[Ga] = c;\n                c = k;\n                Th(c, b, !1, !1);\n                g = c;\n                var n = d,\n                    z = Ee(f, e);\n\n                switch (f) {\n                  case \"iframe\":\n                  case \"object\":\n                  case \"embed\":\n                    G(\"load\", g);\n                    d = e;\n                    break;\n\n                  case \"video\":\n                  case \"audio\":\n                    for (d = 0; d < bb.length; d++) {\n                      G(bb[d], g);\n                    }\n\n                    d = e;\n                    break;\n\n                  case \"source\":\n                    G(\"error\", g);\n                    d = e;\n                    break;\n\n                  case \"img\":\n                  case \"image\":\n                  case \"link\":\n                    G(\"error\", g);\n                    G(\"load\", g);\n                    d = e;\n                    break;\n\n                  case \"form\":\n                    G(\"reset\", g);\n                    G(\"submit\", g);\n                    d = e;\n                    break;\n\n                  case \"details\":\n                    G(\"toggle\", g);\n                    d = e;\n                    break;\n\n                  case \"input\":\n                    Cc(g, e);\n                    d = Bc(g, e);\n                    G(\"invalid\", g);\n                    Fe(n, \"onChange\");\n                    break;\n\n                  case \"option\":\n                    d = le(g, e);\n                    break;\n\n                  case \"select\":\n                    g._wrapperState = {\n                      wasMultiple: !!e.multiple\n                    };\n                    d = m({}, e, {\n                      value: void 0\n                    });\n                    G(\"invalid\", g);\n                    Fe(n, \"onChange\");\n                    break;\n\n                  case \"textarea\":\n                    oe(g, e);\n                    d = ne(g, e);\n                    G(\"invalid\", g);\n                    Fe(n, \"onChange\");\n                    break;\n\n                  default:\n                    d = e;\n                }\n\n                De(f, d);\n                k = void 0;\n                l = f;\n                h = g;\n                var x = d;\n\n                for (k in x) {\n                  if (x.hasOwnProperty(k)) {\n                    var v = x[k];\n                    \"style\" === k ? Ae(h, v) : \"dangerouslySetInnerHTML\" === k ? (v = v ? v.__html : void 0, null != v && ve(h, v)) : \"children\" === k ? \"string\" === typeof v ? (\"textarea\" !== l || \"\" !== v) && we(h, v) : \"number\" === typeof v && we(h, \"\" + v) : \"suppressContentEditableWarning\" !== k && \"suppressHydrationWarning\" !== k && \"autoFocus\" !== k && (ia.hasOwnProperty(k) ? null != v && Fe(n, k) : null != v && zc(h, k, v, z));\n                  }\n                }\n\n                switch (f) {\n                  case \"input\":\n                    Vb(g);\n                    Gc(g, e, !1);\n                    break;\n\n                  case \"textarea\":\n                    Vb(g);\n                    qe(g, e);\n                    break;\n\n                  case \"option\":\n                    null != e.value && g.setAttribute(\"value\", \"\" + Ac(e.value));\n                    break;\n\n                  case \"select\":\n                    d = g;\n                    g = e;\n                    d.multiple = !!g.multiple;\n                    k = g.value;\n                    null != k ? me(d, !!g.multiple, k, !1) : null != g.defaultValue && me(d, !!g.multiple, g.defaultValue, !0);\n                    break;\n\n                  default:\n                    \"function\" === typeof d.onClick && (g.onclick = Ge);\n                }\n\n                Je(f, e) && Sh(b);\n                b.stateNode = c;\n              }\n\n              null !== b.ref && (b.effectTag |= 128);\n            } else if (null === b.stateNode) throw t(Error(166));\n            break;\n\n          case 6:\n            if (c && null != b.stateNode) Wh(c, b, c.memoizedProps, e);else {\n              if (\"string\" !== typeof e && null === b.stateNode) throw t(Error(166));\n              c = zg(yg.current);\n              zg(wg.current);\n              Bh(b) ? (d = b.stateNode, c = b.memoizedProps, d[Fa] = b, d.nodeValue !== c && Sh(b)) : (d = b, c = (9 === c.nodeType ? c : c.ownerDocument).createTextNode(e), c[Fa] = b, d.stateNode = c);\n            }\n            break;\n\n          case 11:\n            break;\n\n          case 13:\n            H(P, b);\n            e = b.memoizedState;\n\n            if (0 !== (b.effectTag & 64)) {\n              b.expirationTime = d;\n              break a;\n            }\n\n            d = null !== e;\n            e = !1;\n            null === c ? Bh(b) : (f = c.memoizedState, e = null !== f, d || null === f || (f = c.child.sibling, null !== f && (g = b.firstEffect, null !== g ? (b.firstEffect = f, f.nextEffect = g) : (b.firstEffect = b.lastEffect = f, f.nextEffect = null), f.effectTag = 8)));\n            if (d && !e && 0 !== (b.mode & 2)) if (null === c && !0 !== b.memoizedProps.unstable_avoidThisFallback || 0 !== (P.current & Fg)) X === Ei && (X = Gi);else if (X === Ei || X === Gi) X = Hi;\n            if (d || e) b.effectTag |= 4;\n            break;\n\n          case 7:\n            break;\n\n          case 8:\n            break;\n\n          case 12:\n            break;\n\n          case 4:\n            Bg(b);\n            Uh(b);\n            break;\n\n          case 10:\n            If(b);\n            break;\n\n          case 9:\n            break;\n\n          case 14:\n            break;\n\n          case 17:\n            N(b.type) && Te(b);\n            break;\n\n          case 18:\n            break;\n\n          case 19:\n            H(P, b);\n            e = b.memoizedState;\n            if (null === e) break;\n            f = 0 !== (b.effectTag & 64);\n            g = e.rendering;\n            if (null === g) {\n              if (f) $h(e, !1);else {\n                if (X !== Ei || null !== c && 0 !== (c.effectTag & 64)) for (c = b.child; null !== c;) {\n                  g = Hg(c);\n\n                  if (null !== g) {\n                    b.effectTag |= 64;\n                    $h(e, !1);\n                    c = g.updateQueue;\n                    null !== c && (b.updateQueue = c, b.effectTag |= 4);\n                    b.firstEffect = b.lastEffect = null;\n\n                    for (c = b.child; null !== c;) {\n                      e = c, f = d, e.effectTag &= 2, e.nextEffect = null, e.firstEffect = null, e.lastEffect = null, g = e.alternate, null === g ? (e.childExpirationTime = 0, e.expirationTime = f, e.child = null, e.memoizedProps = null, e.memoizedState = null, e.updateQueue = null, e.dependencies = null) : (e.childExpirationTime = g.childExpirationTime, e.expirationTime = g.expirationTime, e.child = g.child, e.memoizedProps = g.memoizedProps, e.memoizedState = g.memoizedState, e.updateQueue = g.updateQueue, f = g.dependencies, e.dependencies = null === f ? null : {\n                        expirationTime: f.expirationTime,\n                        firstContext: f.firstContext,\n                        responders: f.responders\n                      }), c = c.sibling;\n                    }\n\n                    J(P, P.current & Eg | Gg, b);\n                    b = b.child;\n                    break a;\n                  }\n\n                  c = c.sibling;\n                }\n              }\n            } else {\n              if (!f) if (c = Hg(g), null !== c) {\n                if (b.effectTag |= 64, f = !0, $h(e, !0), null === e.tail && \"hidden\" === e.tailMode) {\n                  d = c.updateQueue;\n                  null !== d && (b.updateQueue = d, b.effectTag |= 4);\n                  b = b.lastEffect = e.lastEffect;\n                  null !== b && (b.nextEffect = null);\n                  break;\n                }\n              } else sf() > e.tailExpiration && 1 < d && (b.effectTag |= 64, f = !0, $h(e, !1), b.expirationTime = b.childExpirationTime = d - 1);\n              e.isBackwards ? (g.sibling = b.child, b.child = g) : (d = e.last, null !== d ? d.sibling = g : b.child = g, e.last = g);\n            }\n\n            if (null !== e.tail) {\n              0 === e.tailExpiration && (e.tailExpiration = sf() + 500);\n              d = e.tail;\n              e.rendering = d;\n              e.tail = d.sibling;\n              e.lastEffect = b.lastEffect;\n              d.sibling = null;\n              c = P.current;\n              c = f ? c & Eg | Gg : c & Eg;\n              J(P, c, b);\n              b = d;\n              break a;\n            }\n\n            break;\n\n          case 20:\n            break;\n\n          default:\n            throw t(Error(156));\n        }\n\n        b = null;\n      }\n\n      d = V;\n\n      if (1 === W || 1 !== d.childExpirationTime) {\n        c = 0;\n\n        for (e = d.child; null !== e;) {\n          f = e.expirationTime, g = e.childExpirationTime, f > c && (c = f), g > c && (c = g), e = e.sibling;\n        }\n\n        d.childExpirationTime = c;\n      }\n\n      if (null !== b) return b;\n      null !== a && 0 === (a.effectTag & 1024) && (null === a.firstEffect && (a.firstEffect = V.firstEffect), null !== V.lastEffect && (null !== a.lastEffect && (a.lastEffect.nextEffect = V.firstEffect), a.lastEffect = V.lastEffect), 1 < V.effectTag && (null !== a.lastEffect ? a.lastEffect.nextEffect = V : a.firstEffect = V, a.lastEffect = V));\n    } else {\n      b = ai(V, W);\n      if (null !== b) return b.effectTag &= 1023, b;\n      null !== a && (a.firstEffect = a.lastEffect = null, a.effectTag |= 1024);\n    }\n\n    b = V.sibling;\n    if (null !== b) return b;\n    V = a;\n  } while (null !== V);\n\n  X === Ei && (X = Ii);\n  return null;\n}\n\nfunction ij(a) {\n  var b = tf();\n  vf(99, nj.bind(null, a, b));\n  null !== Qi && wf(97, function () {\n    cj();\n    return null;\n  });\n  return null;\n}\n\nfunction nj(a, b) {\n  cj();\n  if ((U & (Ci | Di)) !== T) throw t(Error(327));\n  var c = a.finishedWork,\n      d = a.finishedExpirationTime;\n  if (null === c) return null;\n  a.finishedWork = null;\n  a.finishedExpirationTime = 0;\n  if (c === a.current) throw t(Error(177));\n  a.callbackNode = null;\n  a.callbackExpirationTime = 0;\n  var e = c.expirationTime,\n      f = c.childExpirationTime;\n  e = f > e ? f : e;\n  a.firstPendingTime = e;\n  e < a.lastPendingTime && (a.lastPendingTime = e);\n  a === Ji && (V = Ji = null, W = 0);\n  1 < c.effectTag ? null !== c.lastEffect ? (c.lastEffect.nextEffect = c, e = c.firstEffect) : e = c : e = c.firstEffect;\n\n  if (null !== e) {\n    f = U;\n    U |= Di;\n    Ai.current = null;\n    He = Qd;\n    var h = ae();\n\n    if (be(h)) {\n      if (\"selectionStart\" in h) var g = {\n        start: h.selectionStart,\n        end: h.selectionEnd\n      };else a: {\n        g = (g = h.ownerDocument) && g.defaultView || window;\n        var k = g.getSelection && g.getSelection();\n\n        if (k && 0 !== k.rangeCount) {\n          g = k.anchorNode;\n          var l = k.anchorOffset,\n              n = k.focusNode;\n          k = k.focusOffset;\n\n          try {\n            g.nodeType, n.nodeType;\n          } catch (zb) {\n            g = null;\n            break a;\n          }\n\n          var z = 0,\n              x = -1,\n              v = -1,\n              rb = 0,\n              Be = 0,\n              u = h,\n              w = null;\n\n          b: for (;;) {\n            for (var C;;) {\n              u !== g || 0 !== l && 3 !== u.nodeType || (x = z + l);\n              u !== n || 0 !== k && 3 !== u.nodeType || (v = z + k);\n              3 === u.nodeType && (z += u.nodeValue.length);\n              if (null === (C = u.firstChild)) break;\n              w = u;\n              u = C;\n            }\n\n            for (;;) {\n              if (u === h) break b;\n              w === g && ++rb === l && (x = z);\n              w === n && ++Be === k && (v = z);\n              if (null !== (C = u.nextSibling)) break;\n              u = w;\n              w = u.parentNode;\n            }\n\n            u = C;\n          }\n\n          g = -1 === x || -1 === v ? null : {\n            start: x,\n            end: v\n          };\n        } else g = null;\n      }\n      g = g || {\n        start: 0,\n        end: 0\n      };\n    } else g = null;\n\n    Ie = {\n      focusedElem: h,\n      selectionRange: g\n    };\n    Qd = !1;\n    Y = e;\n\n    do {\n      try {\n        for (; null !== Y;) {\n          if (0 !== (Y.effectTag & 256)) {\n            var I = Y.alternate;\n            h = Y;\n\n            switch (h.tag) {\n              case 0:\n              case 11:\n              case 15:\n                hi(Jg, Ig, h);\n                break;\n\n              case 1:\n                if (h.effectTag & 256 && null !== I) {\n                  var E = I.memoizedProps,\n                      ua = I.memoizedState,\n                      gh = h.stateNode,\n                      oj = gh.getSnapshotBeforeUpdate(h.elementType === h.type ? E : Af(h.type, E), ua);\n                  gh.__reactInternalSnapshotBeforeUpdate = oj;\n                }\n\n                break;\n\n              case 3:\n              case 5:\n              case 6:\n              case 4:\n              case 17:\n                break;\n\n              default:\n                throw t(Error(163));\n            }\n          }\n\n          Y = Y.nextEffect;\n        }\n      } catch (zb) {\n        if (null === Y) throw t(Error(330));\n        fi(Y, zb);\n        Y = Y.nextEffect;\n      }\n    } while (null !== Y);\n\n    Y = e;\n\n    do {\n      try {\n        for (I = b; null !== Y;) {\n          var A = Y.effectTag;\n          A & 16 && we(Y.stateNode, \"\");\n\n          if (A & 128) {\n            var p = Y.alternate;\n\n            if (null !== p) {\n              var r = p.ref;\n              null !== r && (\"function\" === typeof r ? r(null) : r.current = null);\n            }\n          }\n\n          switch (A & 14) {\n            case 2:\n              ni(Y);\n              Y.effectTag &= -3;\n              break;\n\n            case 6:\n              ni(Y);\n              Y.effectTag &= -3;\n              oi(Y.alternate, Y);\n              break;\n\n            case 4:\n              oi(Y.alternate, Y);\n              break;\n\n            case 8:\n              E = Y;\n              ki(E, I);\n              E.return = null;\n              E.child = null;\n              E.memoizedState = null;\n              E.updateQueue = null;\n              E.dependencies = null;\n              var K = E.alternate;\n              null !== K && (K.return = null, K.child = null, K.memoizedState = null, K.updateQueue = null, K.dependencies = null);\n          }\n\n          Y = Y.nextEffect;\n        }\n      } catch (zb) {\n        if (null === Y) throw t(Error(330));\n        fi(Y, zb);\n        Y = Y.nextEffect;\n      }\n    } while (null !== Y);\n\n    r = Ie;\n    p = ae();\n    A = r.focusedElem;\n    I = r.selectionRange;\n\n    if (p !== A && A && A.ownerDocument && $d(A.ownerDocument.documentElement, A)) {\n      null !== I && be(A) && (p = I.start, r = I.end, void 0 === r && (r = p), \"selectionStart\" in A ? (A.selectionStart = p, A.selectionEnd = Math.min(r, A.value.length)) : (r = (p = A.ownerDocument || document) && p.defaultView || window, r.getSelection && (r = r.getSelection(), E = A.textContent.length, K = Math.min(I.start, E), I = void 0 === I.end ? K : Math.min(I.end, E), !r.extend && K > I && (E = I, I = K, K = E), E = Zd(A, K), ua = Zd(A, I), E && ua && (1 !== r.rangeCount || r.anchorNode !== E.node || r.anchorOffset !== E.offset || r.focusNode !== ua.node || r.focusOffset !== ua.offset) && (p = p.createRange(), p.setStart(E.node, E.offset), r.removeAllRanges(), K > I ? (r.addRange(p), r.extend(ua.node, ua.offset)) : (p.setEnd(ua.node, ua.offset), r.addRange(p))))));\n      p = [];\n\n      for (r = A; r = r.parentNode;) {\n        1 === r.nodeType && p.push({\n          element: r,\n          left: r.scrollLeft,\n          top: r.scrollTop\n        });\n      }\n\n      \"function\" === typeof A.focus && A.focus();\n\n      for (A = 0; A < p.length; A++) {\n        r = p[A], r.element.scrollLeft = r.left, r.element.scrollTop = r.top;\n      }\n    }\n\n    Ie = null;\n    Qd = !!He;\n    He = null;\n    a.current = c;\n    Y = e;\n\n    do {\n      try {\n        for (A = d; null !== Y;) {\n          var $a = Y.effectTag;\n\n          if ($a & 36) {\n            var nc = Y.alternate;\n            p = Y;\n            r = A;\n\n            switch (p.tag) {\n              case 0:\n              case 11:\n              case 15:\n                hi(Mg, Ng, p);\n                break;\n\n              case 1:\n                var md = p.stateNode;\n                if (p.effectTag & 4) if (null === nc) md.componentDidMount();else {\n                  var Fj = p.elementType === p.type ? nc.memoizedProps : Af(p.type, nc.memoizedProps);\n                  md.componentDidUpdate(Fj, nc.memoizedState, md.__reactInternalSnapshotBeforeUpdate);\n                }\n                var Xh = p.updateQueue;\n                null !== Xh && Yf(p, Xh, md, r);\n                break;\n\n              case 3:\n                var Yh = p.updateQueue;\n\n                if (null !== Yh) {\n                  K = null;\n                  if (null !== p.child) switch (p.child.tag) {\n                    case 5:\n                      K = p.child.stateNode;\n                      break;\n\n                    case 1:\n                      K = p.child.stateNode;\n                  }\n                  Yf(p, Yh, K, r);\n                }\n\n                break;\n\n              case 5:\n                var Gj = p.stateNode;\n                null === nc && p.effectTag & 4 && (r = Gj, Je(p.type, p.memoizedProps) && r.focus());\n                break;\n\n              case 6:\n                break;\n\n              case 4:\n                break;\n\n              case 12:\n                break;\n\n              case 13:\n              case 19:\n              case 17:\n              case 20:\n                break;\n\n              default:\n                throw t(Error(163));\n            }\n          }\n\n          if ($a & 128) {\n            var nd = Y.ref;\n\n            if (null !== nd) {\n              var Zh = Y.stateNode;\n\n              switch (Y.tag) {\n                case 5:\n                  var gf = Zh;\n                  break;\n\n                default:\n                  gf = Zh;\n              }\n\n              \"function\" === typeof nd ? nd(gf) : nd.current = gf;\n            }\n          }\n\n          $a & 512 && (Pi = !0);\n          Y = Y.nextEffect;\n        }\n      } catch (zb) {\n        if (null === Y) throw t(Error(330));\n        fi(Y, zb);\n        Y = Y.nextEffect;\n      }\n    } while (null !== Y);\n\n    Y = null;\n    nf();\n    U = f;\n  } else a.current = c;\n\n  if (Pi) Pi = !1, Qi = a, Si = d, Ri = b;else for (Y = e; null !== Y;) {\n    b = Y.nextEffect, Y.nextEffect = null, Y = b;\n  }\n  b = a.firstPendingTime;\n  0 !== b ? ($a = cg(), $a = zf($a, b), Zi(a, $a, b)) : xi = null;\n  \"function\" === typeof pj && pj(c.stateNode, d);\n  1073741823 === b ? a === Vi ? Ui++ : (Ui = 0, Vi = a) : Ui = 0;\n  if (ui) throw ui = !1, a = vi, vi = null, a;\n  if ((U & Bi) !== T) return null;\n  O();\n  return null;\n}\n\nfunction cj() {\n  if (null === Qi) return !1;\n  var a = Qi,\n      b = Si,\n      c = Ri;\n  Qi = null;\n  Si = 0;\n  Ri = 90;\n  return vf(97 < c ? 97 : c, qj.bind(null, a, b));\n}\n\nfunction qj(a) {\n  if ((U & (Ci | Di)) !== T) throw t(Error(331));\n  var b = U;\n  U |= Di;\n\n  for (a = a.current.firstEffect; null !== a;) {\n    try {\n      var c = a;\n      if (0 !== (c.effectTag & 512)) switch (c.tag) {\n        case 0:\n        case 11:\n        case 15:\n          hi(Pg, Ig, c), hi(Ig, Og, c);\n      }\n    } catch (d) {\n      if (null === a) throw t(Error(330));\n      fi(a, d);\n    }\n\n    c = a.nextEffect;\n    a.nextEffect = null;\n    a = c;\n  }\n\n  U = b;\n  O();\n  return !0;\n}\n\nfunction rj(a, b, c) {\n  b = bi(c, b);\n  b = ti(a, b, 1073741823);\n  Sf(a, b);\n  a = Yi(a, 1073741823);\n  null !== a && Zi(a, 99, 1073741823);\n}\n\nfunction fi(a, b) {\n  if (3 === a.tag) rj(a, a, b);else for (var c = a.return; null !== c;) {\n    if (3 === c.tag) {\n      rj(c, a, b);\n      break;\n    } else if (1 === c.tag) {\n      var d = c.stateNode;\n\n      if (\"function\" === typeof c.type.getDerivedStateFromError || \"function\" === typeof d.componentDidCatch && (null === xi || !xi.has(d))) {\n        a = bi(b, a);\n        a = wi(c, a, 1073741823);\n        Sf(c, a);\n        c = Yi(c, 1073741823);\n        null !== c && Zi(c, 99, 1073741823);\n        break;\n      }\n    }\n\n    c = c.return;\n  }\n}\n\nfunction kj(a, b, c) {\n  var d = a.pingCache;\n  null !== d && d.delete(b);\n  Ji === a && W === c ? X === Hi || X === Gi && 1073741823 === Ki && sf() - pi < Oi ? hj(a, W) : Ni = !0 : a.lastPendingTime < c || (b = a.pingTime, 0 !== b && b < c || (a.pingTime = c, a.finishedExpirationTime === c && (a.finishedExpirationTime = 0, a.finishedWork = null), b = cg(), b = zf(b, c), Zi(a, b, c)));\n}\n\nfunction ri(a, b) {\n  var c = a.stateNode;\n  null !== c && c.delete(b);\n  c = cg();\n  b = dg(c, a, null);\n  c = zf(c, b);\n  a = Yi(a, b);\n  null !== a && Zi(a, c, b);\n}\n\nvar mj = void 0;\n\nmj = function mj(a, b, c) {\n  var d = b.expirationTime;\n\n  if (null !== a) {\n    var e = b.pendingProps;\n    if (a.memoizedProps !== e || M.current) Lf = !0;else if (d < c) {\n      Lf = !1;\n\n      switch (b.tag) {\n        case 3:\n          Nh(b);\n          Ch();\n          break;\n\n        case 5:\n          Cg(b);\n          if (b.mode & 4 && 1 !== c && e.hidden) return b.expirationTime = b.childExpirationTime = 1, null;\n          break;\n\n        case 1:\n          N(b.type) && Xe(b);\n          break;\n\n        case 4:\n          Ag(b, b.stateNode.containerInfo);\n          break;\n\n        case 10:\n          Hf(b, b.memoizedProps.value);\n          break;\n\n        case 13:\n          if (null !== b.memoizedState) {\n            d = b.child.childExpirationTime;\n            if (0 !== d && d >= c) return Ph(a, b, c);\n            J(P, P.current & Eg, b);\n            b = Fh(a, b, c);\n            return null !== b ? b.sibling : null;\n          }\n\n          J(P, P.current & Eg, b);\n          break;\n\n        case 19:\n          d = b.childExpirationTime >= c;\n\n          if (0 !== (a.effectTag & 64)) {\n            if (d) return Rh(a, b, c);\n            b.effectTag |= 64;\n          }\n\n          e = b.memoizedState;\n          null !== e && (e.rendering = null, e.tail = null);\n          J(P, P.current, b);\n          if (!d) return null;\n      }\n\n      return Fh(a, b, c);\n    }\n  } else Lf = !1;\n\n  b.expirationTime = 0;\n\n  switch (b.tag) {\n    case 2:\n      d = b.type;\n      null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2);\n      a = b.pendingProps;\n      e = Se(b, L.current);\n      Kf(b, c);\n      e = dh(null, b, d, a, e, c);\n      b.effectTag |= 1;\n\n      if (\"object\" === typeof e && null !== e && \"function\" === typeof e.render && void 0 === e.$$typeof) {\n        b.tag = 1;\n        ih();\n\n        if (N(d)) {\n          var f = !0;\n          Xe(b);\n        } else f = !1;\n\n        b.memoizedState = null !== e.state && void 0 !== e.state ? e.state : null;\n        var h = d.getDerivedStateFromProps;\n        \"function\" === typeof h && bg(b, d, h, a);\n        e.updater = fg;\n        b.stateNode = e;\n        e._reactInternalFiber = b;\n        jg(b, d, a, c);\n        b = Mh(null, b, d, !0, f, c);\n      } else b.tag = 0, S(null, b, e, c), b = b.child;\n\n      return b;\n\n    case 16:\n      e = b.elementType;\n      null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2);\n      a = b.pendingProps;\n      e = Bf(e);\n      b.type = e;\n      f = b.tag = sj(e);\n      a = Af(e, a);\n\n      switch (f) {\n        case 0:\n          b = Jh(null, b, e, a, c);\n          break;\n\n        case 1:\n          b = Lh(null, b, e, a, c);\n          break;\n\n        case 11:\n          b = Eh(null, b, e, a, c);\n          break;\n\n        case 14:\n          b = Gh(null, b, e, Af(e.type, a), d, c);\n          break;\n\n        default:\n          throw t(Error(306), e, \"\");\n      }\n\n      return b;\n\n    case 0:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), Jh(a, b, d, e, c);\n\n    case 1:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), Lh(a, b, d, e, c);\n\n    case 3:\n      Nh(b);\n      d = b.updateQueue;\n      if (null === d) throw t(Error(282));\n      e = b.memoizedState;\n      e = null !== e ? e.element : null;\n      Wf(b, d, b.pendingProps, null, c);\n      d = b.memoizedState.element;\n      if (d === e) Ch(), b = Fh(a, b, c);else {\n        e = b.stateNode;\n        if (e = (null === a || null === a.child) && e.hydrate) uh = Ne(b.stateNode.containerInfo.firstChild), th = b, e = vh = !0;\n        e ? (b.effectTag |= 2, b.child = ug(b, null, d, c)) : (S(a, b, d, c), Ch());\n        b = b.child;\n      }\n      return b;\n\n    case 5:\n      return Cg(b), null === a && zh(b), d = b.type, e = b.pendingProps, f = null !== a ? a.memoizedProps : null, h = e.children, Ke(d, e) ? h = null : null !== f && Ke(d, f) && (b.effectTag |= 16), Kh(a, b), b.mode & 4 && 1 !== c && e.hidden ? (b.expirationTime = b.childExpirationTime = 1, b = null) : (S(a, b, h, c), b = b.child), b;\n\n    case 6:\n      return null === a && zh(b), null;\n\n    case 13:\n      return Ph(a, b, c);\n\n    case 4:\n      return Ag(b, b.stateNode.containerInfo), d = b.pendingProps, null === a ? b.child = tg(b, null, d, c) : S(a, b, d, c), b.child;\n\n    case 11:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), Eh(a, b, d, e, c);\n\n    case 7:\n      return S(a, b, b.pendingProps, c), b.child;\n\n    case 8:\n      return S(a, b, b.pendingProps.children, c), b.child;\n\n    case 12:\n      return S(a, b, b.pendingProps.children, c), b.child;\n\n    case 10:\n      a: {\n        d = b.type._context;\n        e = b.pendingProps;\n        h = b.memoizedProps;\n        f = e.value;\n        Hf(b, f);\n\n        if (null !== h) {\n          var g = h.value;\n          f = hd(g, f) ? 0 : (\"function\" === typeof d._calculateChangedBits ? d._calculateChangedBits(g, f) : 1073741823) | 0;\n\n          if (0 === f) {\n            if (h.children === e.children && !M.current) {\n              b = Fh(a, b, c);\n              break a;\n            }\n          } else for (g = b.child, null !== g && (g.return = b); null !== g;) {\n            var k = g.dependencies;\n\n            if (null !== k) {\n              h = g.child;\n\n              for (var l = k.firstContext; null !== l;) {\n                if (l.context === d && 0 !== (l.observedBits & f)) {\n                  1 === g.tag && (l = Qf(c, null), l.tag = 2, Sf(g, l));\n                  g.expirationTime < c && (g.expirationTime = c);\n                  l = g.alternate;\n                  null !== l && l.expirationTime < c && (l.expirationTime = c);\n                  Jf(g.return, c);\n                  k.expirationTime < c && (k.expirationTime = c);\n                  break;\n                }\n\n                l = l.next;\n              }\n            } else h = 10 === g.tag ? g.type === b.type ? null : g.child : g.child;\n\n            if (null !== h) h.return = g;else for (h = g; null !== h;) {\n              if (h === b) {\n                h = null;\n                break;\n              }\n\n              g = h.sibling;\n\n              if (null !== g) {\n                g.return = h.return;\n                h = g;\n                break;\n              }\n\n              h = h.return;\n            }\n            g = h;\n          }\n        }\n\n        S(a, b, e.children, c);\n        b = b.child;\n      }\n\n      return b;\n\n    case 9:\n      return e = b.type, f = b.pendingProps, d = f.children, Kf(b, c), e = Mf(e, f.unstable_observedBits), d = d(e), b.effectTag |= 1, S(a, b, d, c), b.child;\n\n    case 14:\n      return e = b.type, f = Af(e, b.pendingProps), f = Af(e.type, f), Gh(a, b, e, f, d, c);\n\n    case 15:\n      return Ih(a, b, b.type, b.pendingProps, d, c);\n\n    case 17:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2), b.tag = 1, N(d) ? (a = !0, Xe(b)) : a = !1, Kf(b, c), hg(b, d, e, c), jg(b, d, e, c), Mh(null, b, d, !0, a, c);\n\n    case 19:\n      return Rh(a, b, c);\n  }\n\n  throw t(Error(156));\n};\n\nvar pj = null,\n    ji = null;\n\nfunction tj(a) {\n  if (\"undefined\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;\n  var b = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (b.isDisabled || !b.supportsFiber) return !0;\n\n  try {\n    var c = b.inject(a);\n\n    pj = function pj(a) {\n      try {\n        b.onCommitFiberRoot(c, a, void 0, 64 === (a.current.effectTag & 64));\n      } catch (e) {}\n    };\n\n    ji = function ji(a) {\n      try {\n        b.onCommitFiberUnmount(c, a);\n      } catch (e) {}\n    };\n  } catch (d) {}\n\n  return !0;\n}\n\nfunction uj(a, b, c, d) {\n  this.tag = a;\n  this.key = c;\n  this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;\n  this.index = 0;\n  this.ref = null;\n  this.pendingProps = b;\n  this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;\n  this.mode = d;\n  this.effectTag = 0;\n  this.lastEffect = this.firstEffect = this.nextEffect = null;\n  this.childExpirationTime = this.expirationTime = 0;\n  this.alternate = null;\n}\n\nfunction xh(a, b, c, d) {\n  return new uj(a, b, c, d);\n}\n\nfunction Hh(a) {\n  a = a.prototype;\n  return !(!a || !a.isReactComponent);\n}\n\nfunction sj(a) {\n  if (\"function\" === typeof a) return Hh(a) ? 1 : 0;\n\n  if (void 0 !== a && null !== a) {\n    a = a.$$typeof;\n    if (a === gc) return 11;\n    if (a === jc) return 14;\n  }\n\n  return 2;\n}\n\nfunction og(a, b) {\n  var c = a.alternate;\n  null === c ? (c = xh(a.tag, b, a.key, a.mode), c.elementType = a.elementType, c.type = a.type, c.stateNode = a.stateNode, c.alternate = a, a.alternate = c) : (c.pendingProps = b, c.effectTag = 0, c.nextEffect = null, c.firstEffect = null, c.lastEffect = null);\n  c.childExpirationTime = a.childExpirationTime;\n  c.expirationTime = a.expirationTime;\n  c.child = a.child;\n  c.memoizedProps = a.memoizedProps;\n  c.memoizedState = a.memoizedState;\n  c.updateQueue = a.updateQueue;\n  b = a.dependencies;\n  c.dependencies = null === b ? null : {\n    expirationTime: b.expirationTime,\n    firstContext: b.firstContext,\n    responders: b.responders\n  };\n  c.sibling = a.sibling;\n  c.index = a.index;\n  c.ref = a.ref;\n  return c;\n}\n\nfunction qg(a, b, c, d, e, f) {\n  var h = 2;\n  d = a;\n  if (\"function\" === typeof a) Hh(a) && (h = 1);else if (\"string\" === typeof a) h = 5;else a: switch (a) {\n    case ac:\n      return sg(c.children, e, f, b);\n\n    case fc:\n      h = 8;\n      e |= 7;\n      break;\n\n    case bc:\n      h = 8;\n      e |= 1;\n      break;\n\n    case cc:\n      return a = xh(12, c, b, e | 8), a.elementType = cc, a.type = cc, a.expirationTime = f, a;\n\n    case hc:\n      return a = xh(13, c, b, e), a.type = hc, a.elementType = hc, a.expirationTime = f, a;\n\n    case ic:\n      return a = xh(19, c, b, e), a.elementType = ic, a.expirationTime = f, a;\n\n    default:\n      if (\"object\" === typeof a && null !== a) switch (a.$$typeof) {\n        case dc:\n          h = 10;\n          break a;\n\n        case ec:\n          h = 9;\n          break a;\n\n        case gc:\n          h = 11;\n          break a;\n\n        case jc:\n          h = 14;\n          break a;\n\n        case kc:\n          h = 16;\n          d = null;\n          break a;\n      }\n      throw t(Error(130), null == a ? a : typeof a, \"\");\n  }\n  b = xh(h, c, b, e);\n  b.elementType = a;\n  b.type = d;\n  b.expirationTime = f;\n  return b;\n}\n\nfunction sg(a, b, c, d) {\n  a = xh(7, a, d, b);\n  a.expirationTime = c;\n  return a;\n}\n\nfunction pg(a, b, c) {\n  a = xh(6, a, null, b);\n  a.expirationTime = c;\n  return a;\n}\n\nfunction rg(a, b, c) {\n  b = xh(4, null !== a.children ? a.children : [], a.key, b);\n  b.expirationTime = c;\n  b.stateNode = {\n    containerInfo: a.containerInfo,\n    pendingChildren: null,\n    implementation: a.implementation\n  };\n  return b;\n}\n\nfunction vj(a, b, c) {\n  this.tag = b;\n  this.current = null;\n  this.containerInfo = a;\n  this.pingCache = this.pendingChildren = null;\n  this.finishedExpirationTime = 0;\n  this.finishedWork = null;\n  this.timeoutHandle = -1;\n  this.pendingContext = this.context = null;\n  this.hydrate = c;\n  this.callbackNode = this.firstBatch = null;\n  this.pingTime = this.lastPendingTime = this.firstPendingTime = this.callbackExpirationTime = 0;\n}\n\nfunction wj(a, b, c) {\n  a = new vj(a, b, c);\n  b = xh(3, null, null, 2 === b ? 7 : 1 === b ? 3 : 0);\n  a.current = b;\n  return b.stateNode = a;\n}\n\nfunction xj(a, b, c, d, e, f) {\n  var h = b.current;\n\n  a: if (c) {\n    c = c._reactInternalFiber;\n\n    b: {\n      if (2 !== ld(c) || 1 !== c.tag) throw t(Error(170));\n      var g = c;\n\n      do {\n        switch (g.tag) {\n          case 3:\n            g = g.stateNode.context;\n            break b;\n\n          case 1:\n            if (N(g.type)) {\n              g = g.stateNode.__reactInternalMemoizedMergedChildContext;\n              break b;\n            }\n\n        }\n\n        g = g.return;\n      } while (null !== g);\n\n      throw t(Error(171));\n    }\n\n    if (1 === c.tag) {\n      var k = c.type;\n\n      if (N(k)) {\n        c = We(c, k, g);\n        break a;\n      }\n    }\n\n    c = g;\n  } else c = Qe;\n\n  null === b.context ? b.context = c : b.pendingContext = c;\n  b = f;\n  e = Qf(d, e);\n  e.payload = {\n    element: a\n  };\n  b = void 0 === b ? null : b;\n  null !== b && (e.callback = b);\n  Sf(h, e);\n  eg(h, d);\n  return d;\n}\n\nfunction yj(a, b, c, d) {\n  var e = b.current,\n      f = cg(),\n      h = $f.suspense;\n  e = dg(f, e, h);\n  return xj(a, b, c, e, h, d);\n}\n\nfunction zj(a) {\n  a = a.current;\n  if (!a.child) return null;\n\n  switch (a.child.tag) {\n    case 5:\n      return a.child.stateNode;\n\n    default:\n      return a.child.stateNode;\n  }\n}\n\nfunction Aj(a, b, c) {\n  var d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: $b,\n    key: null == d ? null : \"\" + d,\n    children: a,\n    containerInfo: b,\n    implementation: c\n  };\n}\n\nDb = function Db(a, b, c) {\n  switch (b) {\n    case \"input\":\n      Ec(a, c);\n      b = c.name;\n\n      if (\"radio\" === c.type && null != b) {\n        for (c = a; c.parentNode;) {\n          c = c.parentNode;\n        }\n\n        c = c.querySelectorAll(\"input[name=\" + JSON.stringify(\"\" + b) + '][type=\"radio\"]');\n\n        for (b = 0; b < c.length; b++) {\n          var d = c[b];\n\n          if (d !== a && d.form === a.form) {\n            var e = Ka(d);\n            if (!e) throw t(Error(90));\n            Wb(d);\n            Ec(d, e);\n          }\n        }\n      }\n\n      break;\n\n    case \"textarea\":\n      pe(a, c);\n      break;\n\n    case \"select\":\n      b = c.value, null != b && me(a, !!c.multiple, b, !1);\n  }\n};\n\nfunction Bj(a) {\n  var b = 1073741821 - 25 * (((1073741821 - cg() + 500) / 25 | 0) + 1);\n  b <= Xi && --b;\n  this._expirationTime = Xi = b;\n  this._root = a;\n  this._callbacks = this._next = null;\n  this._hasChildren = this._didComplete = !1;\n  this._children = null;\n  this._defer = !0;\n}\n\nBj.prototype.render = function (a) {\n  if (!this._defer) throw t(Error(250));\n  this._hasChildren = !0;\n  this._children = a;\n  var b = this._root._internalRoot,\n      c = this._expirationTime,\n      d = new Cj();\n  xj(a, b, null, c, null, d._onCommit);\n  return d;\n};\n\nBj.prototype.then = function (a) {\n  if (this._didComplete) a();else {\n    var b = this._callbacks;\n    null === b && (b = this._callbacks = []);\n    b.push(a);\n  }\n};\n\nBj.prototype.commit = function () {\n  var a = this._root._internalRoot,\n      b = a.firstBatch;\n  if (!this._defer || null === b) throw t(Error(251));\n\n  if (this._hasChildren) {\n    var c = this._expirationTime;\n\n    if (b !== this) {\n      this._hasChildren && (c = this._expirationTime = b._expirationTime, this.render(this._children));\n\n      for (var d = null, e = b; e !== this;) {\n        d = e, e = e._next;\n      }\n\n      if (null === d) throw t(Error(251));\n      d._next = e._next;\n      this._next = b;\n      a.firstBatch = this;\n    }\n\n    this._defer = !1;\n    b = c;\n    if ((U & (Ci | Di)) !== T) throw t(Error(253));\n    xf(Z.bind(null, a, b));\n    O();\n    b = this._next;\n    this._next = null;\n    b = a.firstBatch = b;\n    null !== b && b._hasChildren && b.render(b._children);\n  } else this._next = null, this._defer = !1;\n};\n\nBj.prototype._onComplete = function () {\n  if (!this._didComplete) {\n    this._didComplete = !0;\n    var a = this._callbacks;\n    if (null !== a) for (var b = 0; b < a.length; b++) {\n      (0, a[b])();\n    }\n  }\n};\n\nfunction Cj() {\n  this._callbacks = null;\n  this._didCommit = !1;\n  this._onCommit = this._onCommit.bind(this);\n}\n\nCj.prototype.then = function (a) {\n  if (this._didCommit) a();else {\n    var b = this._callbacks;\n    null === b && (b = this._callbacks = []);\n    b.push(a);\n  }\n};\n\nCj.prototype._onCommit = function () {\n  if (!this._didCommit) {\n    this._didCommit = !0;\n    var a = this._callbacks;\n    if (null !== a) for (var b = 0; b < a.length; b++) {\n      var c = a[b];\n      if (\"function\" !== typeof c) throw t(Error(191), c);\n      c();\n    }\n  }\n};\n\nfunction Dj(a, b, c) {\n  this._internalRoot = wj(a, b, c);\n}\n\nfunction Ej(a, b) {\n  this._internalRoot = wj(a, 2, b);\n}\n\nEj.prototype.render = Dj.prototype.render = function (a, b) {\n  var c = this._internalRoot,\n      d = new Cj();\n  b = void 0 === b ? null : b;\n  null !== b && d.then(b);\n  yj(a, c, null, d._onCommit);\n  return d;\n};\n\nEj.prototype.unmount = Dj.prototype.unmount = function (a) {\n  var b = this._internalRoot,\n      c = new Cj();\n  a = void 0 === a ? null : a;\n  null !== a && c.then(a);\n  yj(null, b, null, c._onCommit);\n  return c;\n};\n\nEj.prototype.createBatch = function () {\n  var a = new Bj(this),\n      b = a._expirationTime,\n      c = this._internalRoot,\n      d = c.firstBatch;\n  if (null === d) c.firstBatch = a, a._next = null;else {\n    for (c = null; null !== d && d._expirationTime >= b;) {\n      c = d, d = d._next;\n    }\n\n    a._next = d;\n    null !== c && (c._next = a);\n  }\n  return a;\n};\n\nfunction Hj(a) {\n  return !(!a || 1 !== a.nodeType && 9 !== a.nodeType && 11 !== a.nodeType && (8 !== a.nodeType || \" react-mount-point-unstable \" !== a.nodeValue));\n}\n\nJb = ej;\nKb = fj;\nLb = aj;\n\nMb = function Mb(a, b) {\n  var c = U;\n  U |= 2;\n\n  try {\n    return a(b);\n  } finally {\n    U = c, U === T && O();\n  }\n};\n\nfunction Ij(a, b) {\n  b || (b = a ? 9 === a.nodeType ? a.documentElement : a.firstChild : null, b = !(!b || 1 !== b.nodeType || !b.hasAttribute(\"data-reactroot\")));\n  if (!b) for (var c; c = a.lastChild;) {\n    a.removeChild(c);\n  }\n  return new Dj(a, 0, b);\n}\n\nfunction Jj(a, b, c, d, e) {\n  var f = c._reactRootContainer,\n      h = void 0;\n\n  if (f) {\n    h = f._internalRoot;\n\n    if (\"function\" === typeof e) {\n      var g = e;\n\n      e = function e() {\n        var a = zj(h);\n        g.call(a);\n      };\n    }\n\n    yj(b, h, a, e);\n  } else {\n    f = c._reactRootContainer = Ij(c, d);\n    h = f._internalRoot;\n\n    if (\"function\" === typeof e) {\n      var k = e;\n\n      e = function e() {\n        var a = zj(h);\n        k.call(a);\n      };\n    }\n\n    gj(function () {\n      yj(b, h, a, e);\n    });\n  }\n\n  return zj(h);\n}\n\nfunction Kj(a, b) {\n  var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (!Hj(b)) throw t(Error(200));\n  return Aj(a, b, null, c);\n}\n\nvar Nj = {\n  createPortal: Kj,\n  findDOMNode: function findDOMNode(a) {\n    if (null == a) a = null;else if (1 !== a.nodeType) {\n      var b = a._reactInternalFiber;\n\n      if (void 0 === b) {\n        if (\"function\" === typeof a.render) throw t(Error(188));\n        throw t(Error(268), Object.keys(a));\n      }\n\n      a = qd(b);\n      a = null === a ? null : a.stateNode;\n    }\n    return a;\n  },\n  hydrate: function hydrate(a, b, c) {\n    if (!Hj(b)) throw t(Error(200));\n    return Jj(null, a, b, !0, c);\n  },\n  render: function render(a, b, c) {\n    if (!Hj(b)) throw t(Error(200));\n    return Jj(null, a, b, !1, c);\n  },\n  unstable_renderSubtreeIntoContainer: function unstable_renderSubtreeIntoContainer(a, b, c, d) {\n    if (!Hj(c)) throw t(Error(200));\n    if (null == a || void 0 === a._reactInternalFiber) throw t(Error(38));\n    return Jj(a, b, c, !1, d);\n  },\n  unmountComponentAtNode: function unmountComponentAtNode(a) {\n    if (!Hj(a)) throw t(Error(40));\n    return a._reactRootContainer ? (gj(function () {\n      Jj(null, null, a, !1, function () {\n        a._reactRootContainer = null;\n      });\n    }), !0) : !1;\n  },\n  unstable_createPortal: function unstable_createPortal() {\n    return Kj.apply(void 0, arguments);\n  },\n  unstable_batchedUpdates: ej,\n  unstable_interactiveUpdates: function unstable_interactiveUpdates(a, b, c, d) {\n    aj();\n    return fj(a, b, c, d);\n  },\n  unstable_discreteUpdates: fj,\n  unstable_flushDiscreteUpdates: aj,\n  flushSync: function flushSync(a, b) {\n    if ((U & (Ci | Di)) !== T) throw t(Error(187));\n    var c = U;\n    U |= 1;\n\n    try {\n      return vf(99, a.bind(null, b));\n    } finally {\n      U = c, O();\n    }\n  },\n  unstable_createRoot: Lj,\n  unstable_createSyncRoot: Mj,\n  unstable_flushControlled: function unstable_flushControlled(a) {\n    var b = U;\n    U |= 1;\n\n    try {\n      vf(99, a);\n    } finally {\n      U = b, U === T && O();\n    }\n  },\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {\n    Events: [Ia, Ja, Ka, Ca.injectEventPluginsByName, fa, Qa, function (a) {\n      ya(a, Pa);\n    }, Hb, Ib, Ud, Ba, cj, {\n      current: !1\n    }]\n  }\n};\n\nfunction Lj(a, b) {\n  if (!Hj(a)) throw t(Error(299), \"unstable_createRoot\");\n  return new Ej(a, null != b && !0 === b.hydrate);\n}\n\nfunction Mj(a, b) {\n  if (!Hj(a)) throw t(Error(299), \"unstable_createRoot\");\n  return new Dj(a, 1, null != b && !0 === b.hydrate);\n}\n\n(function (a) {\n  var b = a.findFiberByHostInstance;\n  return tj(m({}, a, {\n    overrideHookState: null,\n    overrideProps: null,\n    setSuspenseHandler: null,\n    scheduleUpdate: null,\n    currentDispatcherRef: Xb.ReactCurrentDispatcher,\n    findHostInstanceByFiber: function findHostInstanceByFiber(a) {\n      a = qd(a);\n      return null === a ? null : a.stateNode;\n    },\n    findFiberByHostInstance: function findFiberByHostInstance(a) {\n      return b ? b(a) : null;\n    },\n    findHostInstancesForRefresh: null,\n    scheduleRefresh: null,\n    scheduleRoot: null,\n    setRefreshHandler: null,\n    getCurrentFiber: null\n  }));\n})({\n  findFiberByHostInstance: Ha,\n  bundleType: 0,\n  version: \"16.9.0\",\n  rendererPackageName: \"react-dom\"\n});\n\nvar Oj = {\n  default: Nj\n},\n    Pj = Oj && Nj || Oj;\nmodule.exports = Pj.default || Pj;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}","/** @license React v0.15.0\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar _d = void 0,\n    e = void 0,\n    g = void 0,\n    m = void 0,\n    n = void 0;\n\nexports.unstable_now = void 0;\nexports.unstable_forceFrameRate = void 0;\n\nif (\"undefined\" === typeof window || \"function\" !== typeof MessageChannel) {\n  var p = null,\n      q = null,\n      r = function r() {\n    if (null !== p) try {\n      var a = exports.unstable_now();\n      p(!0, a);\n      p = null;\n    } catch (b) {\n      throw setTimeout(r, 0), b;\n    }\n  };\n\n  exports.unstable_now = function () {\n    return Date.now();\n  };\n\n  _d = function d(a) {\n    null !== p ? setTimeout(_d, 0, a) : (p = a, setTimeout(r, 0));\n  };\n\n  e = function e(a, b) {\n    q = setTimeout(a, b);\n  };\n\n  g = function g() {\n    clearTimeout(q);\n  };\n\n  m = function m() {\n    return !1;\n  };\n\n  n = exports.unstable_forceFrameRate = function () {};\n} else {\n  var t = window.performance,\n      u = window.Date,\n      v = window.setTimeout,\n      w = window.clearTimeout,\n      x = window.requestAnimationFrame,\n      y = window.cancelAnimationFrame;\n  \"undefined\" !== typeof console && (\"function\" !== typeof x && console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"), \"function\" !== typeof y && console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"));\n  exports.unstable_now = \"object\" === typeof t && \"function\" === typeof t.now ? function () {\n    return t.now();\n  } : function () {\n    return u.now();\n  };\n  var z = !1,\n      A = null,\n      B = -1,\n      C = -1,\n      D = 33.33,\n      E = -1,\n      F = -1,\n      G = 0,\n      H = !1;\n\n  m = function m() {\n    return exports.unstable_now() >= G;\n  };\n\n  n = function n() {};\n\n  exports.unstable_forceFrameRate = function (a) {\n    0 > a || 125 < a ? console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\") : 0 < a ? (D = Math.floor(1E3 / a), H = !0) : (D = 33.33, H = !1);\n  };\n\n  var J = function J() {\n    if (null !== A) {\n      var a = exports.unstable_now(),\n          b = 0 < G - a;\n\n      try {\n        A(b, a) || (A = null);\n      } catch (c) {\n        throw I.postMessage(null), c;\n      }\n    }\n  },\n      K = new MessageChannel(),\n      I = K.port2;\n\n  K.port1.onmessage = J;\n\n  var L = function L(a) {\n    if (null === A) F = E = -1, z = !1;else {\n      z = !0;\n      x(function (a) {\n        w(B);\n        L(a);\n      });\n\n      var b = function b() {\n        G = exports.unstable_now() + D / 2;\n        J();\n        B = v(b, 3 * D);\n      };\n\n      B = v(b, 3 * D);\n\n      if (-1 !== E && .1 < a - E) {\n        var c = a - E;\n        !H && -1 !== F && c < D && F < D && (D = c < F ? F : c, 8.33 > D && (D = 8.33));\n        F = c;\n      }\n\n      E = a;\n      G = a + D;\n      I.postMessage(null);\n    }\n  };\n\n  _d = function _d(a) {\n    A = a;\n    z || (z = !0, x(function (a) {\n      L(a);\n    }));\n  };\n\n  e = function e(a, b) {\n    C = v(function () {\n      a(exports.unstable_now());\n    }, b);\n  };\n\n  g = function g() {\n    w(C);\n    C = -1;\n  };\n}\n\nvar M = null,\n    N = null,\n    O = null,\n    P = 3,\n    Q = !1,\n    R = !1,\n    S = !1;\n\nfunction T(a, b) {\n  var c = a.next;\n  if (c === a) M = null;else {\n    a === M && (M = c);\n    var f = a.previous;\n    f.next = c;\n    c.previous = f;\n  }\n  a.next = a.previous = null;\n  c = a.callback;\n  f = P;\n  var l = O;\n  P = a.priorityLevel;\n  O = a;\n\n  try {\n    var h = a.expirationTime <= b;\n\n    switch (P) {\n      case 1:\n        var k = c(h);\n        break;\n\n      case 2:\n        k = c(h);\n        break;\n\n      case 3:\n        k = c(h);\n        break;\n\n      case 4:\n        k = c(h);\n        break;\n\n      case 5:\n        k = c(h);\n    }\n  } catch (Z) {\n    throw Z;\n  } finally {\n    P = f, O = l;\n  }\n\n  if (\"function\" === typeof k) if (b = a.expirationTime, a.callback = k, null === M) M = a.next = a.previous = a;else {\n    k = null;\n    h = M;\n\n    do {\n      if (b <= h.expirationTime) {\n        k = h;\n        break;\n      }\n\n      h = h.next;\n    } while (h !== M);\n\n    null === k ? k = M : k === M && (M = a);\n    b = k.previous;\n    b.next = k.previous = a;\n    a.next = k;\n    a.previous = b;\n  }\n}\n\nfunction U(a) {\n  if (null !== N && N.startTime <= a) {\n    do {\n      var b = N,\n          c = b.next;\n      if (b === c) N = null;else {\n        N = c;\n        var f = b.previous;\n        f.next = c;\n        c.previous = f;\n      }\n      b.next = b.previous = null;\n      V(b, b.expirationTime);\n    } while (null !== N && N.startTime <= a);\n  }\n}\n\nfunction W(a) {\n  S = !1;\n  U(a);\n  R || (null !== M ? (R = !0, _d(X)) : null !== N && e(W, N.startTime - a));\n}\n\nfunction X(a, b) {\n  R = !1;\n  S && (S = !1, g());\n  U(b);\n  Q = !0;\n\n  try {\n    if (!a) for (; null !== M && M.expirationTime <= b;) {\n      T(M, b), b = exports.unstable_now(), U(b);\n    } else if (null !== M) {\n      do {\n        T(M, b), b = exports.unstable_now(), U(b);\n      } while (null !== M && !m());\n    }\n    if (null !== M) return !0;\n    null !== N && e(W, N.startTime - b);\n    return !1;\n  } finally {\n    Q = !1;\n  }\n}\n\nfunction Y(a) {\n  switch (a) {\n    case 1:\n      return -1;\n\n    case 2:\n      return 250;\n\n    case 5:\n      return 1073741823;\n\n    case 4:\n      return 1E4;\n\n    default:\n      return 5E3;\n  }\n}\n\nfunction V(a, b) {\n  if (null === M) M = a.next = a.previous = a;else {\n    var c = null,\n        f = M;\n\n    do {\n      if (b < f.expirationTime) {\n        c = f;\n        break;\n      }\n\n      f = f.next;\n    } while (f !== M);\n\n    null === c ? c = M : c === M && (M = a);\n    b = c.previous;\n    b.next = c.previous = a;\n    a.next = c;\n    a.previous = b;\n  }\n}\n\nvar aa = n;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_NormalPriority = 3;\nexports.unstable_IdlePriority = 5;\nexports.unstable_LowPriority = 4;\n\nexports.unstable_runWithPriority = function (a, b) {\n  switch (a) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n\n    default:\n      a = 3;\n  }\n\n  var c = P;\n  P = a;\n\n  try {\n    return b();\n  } finally {\n    P = c;\n  }\n};\n\nexports.unstable_next = function (a) {\n  switch (P) {\n    case 1:\n    case 2:\n    case 3:\n      var b = 3;\n      break;\n\n    default:\n      b = P;\n  }\n\n  var c = P;\n  P = b;\n\n  try {\n    return a();\n  } finally {\n    P = c;\n  }\n};\n\nexports.unstable_scheduleCallback = function (a, b, c) {\n  var f = exports.unstable_now();\n\n  if (\"object\" === typeof c && null !== c) {\n    var l = c.delay;\n    l = \"number\" === typeof l && 0 < l ? f + l : f;\n    c = \"number\" === typeof c.timeout ? c.timeout : Y(a);\n  } else c = Y(a), l = f;\n\n  c = l + c;\n  a = {\n    callback: b,\n    priorityLevel: a,\n    startTime: l,\n    expirationTime: c,\n    next: null,\n    previous: null\n  };\n\n  if (l > f) {\n    c = l;\n    if (null === N) N = a.next = a.previous = a;else {\n      b = null;\n      var h = N;\n\n      do {\n        if (c < h.startTime) {\n          b = h;\n          break;\n        }\n\n        h = h.next;\n      } while (h !== N);\n\n      null === b ? b = N : b === N && (N = a);\n      c = b.previous;\n      c.next = b.previous = a;\n      a.next = b;\n      a.previous = c;\n    }\n    null === M && N === a && (S ? g() : S = !0, e(W, l - f));\n  } else V(a, c), R || Q || (R = !0, _d(X));\n\n  return a;\n};\n\nexports.unstable_cancelCallback = function (a) {\n  var b = a.next;\n\n  if (null !== b) {\n    if (a === b) a === M ? M = null : a === N && (N = null);else {\n      a === M ? M = b : a === N && (N = b);\n      var c = a.previous;\n      c.next = b;\n      b.previous = c;\n    }\n    a.next = a.previous = null;\n  }\n};\n\nexports.unstable_wrapCallback = function (a) {\n  var b = P;\n  return function () {\n    var c = P;\n    P = b;\n\n    try {\n      return a.apply(this, arguments);\n    } finally {\n      P = c;\n    }\n  };\n};\n\nexports.unstable_getCurrentPriorityLevel = function () {\n  return P;\n};\n\nexports.unstable_shouldYield = function () {\n  var a = exports.unstable_now();\n  U(a);\n  return null !== O && null !== M && M.startTime <= a && M.expirationTime < O.expirationTime || m();\n};\n\nexports.unstable_requestPaint = aa;\n\nexports.unstable_continueExecution = function () {\n  R || Q || (R = !0, _d(X));\n};\n\nexports.unstable_pauseExecution = function () {};\n\nexports.unstable_getFirstCallbackNode = function () {\n  return M;\n};","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar runtime = function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n\n  var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  exports.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  }; // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n\n\n  exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    } // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n\n  exports.async = function (innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n    return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        } // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted; // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  } // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n      context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    } // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n\n\n    context.delegate = null;\n    return ContinueSentinel;\n  } // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse(); // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      } // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    } // Return an iterator with no values.\n\n\n    return {\n      next: doneResult\n    };\n  }\n\n  exports.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0; // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      } // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  }; // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n\n  return exports;\n}( // If this script is executing as a CommonJS module, use module.exports\n// as the regeneratorRuntime namespace. Otherwise create a new empty\n// object. Either way, the resulting object will be used to initialize\n// the regeneratorRuntime variable at the top of this file.\ntypeof module === \"object\" ? module.exports : {});\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n\n  ;\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  }\n\n  ; // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nmodule.exports = ReactPropTypesSecret;","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.0.15 (2019-09-02)\n */\n(function (domGlobals) {\n  'use strict';\n\n  var noop = function noop() {};\n\n  var noarg = function noarg(f) {\n    return function () {\n      return f();\n    };\n  };\n\n  var compose = function compose(fa, fb) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return fa(fb.apply(null, args));\n    };\n  };\n\n  var constant = function constant(value) {\n    return function () {\n      return value;\n    };\n  };\n\n  var identity = function identity(x) {\n    return x;\n  };\n\n  function curry(fn) {\n    var initialArgs = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      initialArgs[_i - 1] = arguments[_i];\n    }\n\n    return function () {\n      var restArgs = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        restArgs[_i] = arguments[_i];\n      }\n\n      var all = initialArgs.concat(restArgs);\n      return fn.apply(null, all);\n    };\n  }\n\n  var not = function not(f) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return !f.apply(null, args);\n    };\n  };\n\n  var die = function die(msg) {\n    return function () {\n      throw new Error(msg);\n    };\n  };\n\n  var never = constant(false);\n  var always = constant(true);\n  var global$1 = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n  var _assign = function __assign() {\n    _assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return _assign.apply(this, arguments);\n  };\n\n  function __rest(s, e) {\n    var t = {};\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }\n\n    if (s != null && typeof Object.getOwnPropertySymbols === 'function') for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n  }\n\n  var never$1 = never;\n  var always$1 = always;\n\n  var none = function none() {\n    return NONE;\n  };\n\n  var NONE = function () {\n    var eq = function eq(o) {\n      return o.isNone();\n    };\n\n    var call = function call(thunk) {\n      return thunk();\n    };\n\n    var id = function id(n) {\n      return n;\n    };\n\n    var noop = function noop() {};\n\n    var nul = function nul() {\n      return null;\n    };\n\n    var undef = function undef() {\n      return undefined;\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return n();\n      },\n      is: never$1,\n      isSome: never$1,\n      isNone: always$1,\n      getOr: id,\n      getOrThunk: call,\n      getOrDie: function getOrDie(msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: nul,\n      getOrUndefined: undef,\n      or: id,\n      orThunk: call,\n      map: none,\n      ap: none,\n      each: noop,\n      bind: none,\n      flatten: none,\n      exists: never$1,\n      forall: always$1,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function toArray() {\n        return [];\n      },\n      toString: constant('none()')\n    };\n\n    if (Object.freeze) {\n      Object.freeze(me);\n    }\n\n    return me;\n  }();\n\n  var some = function some(a) {\n    var constant_a = function constant_a() {\n      return a;\n    };\n\n    var self = function self() {\n      return me;\n    };\n\n    var map = function map(f) {\n      return some(f(a));\n    };\n\n    var bind = function bind(f) {\n      return f(a);\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return s(a);\n      },\n      is: function is(v) {\n        return a === v;\n      },\n      isSome: always$1,\n      isNone: never$1,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: map,\n      ap: function ap(optfab) {\n        return optfab.fold(none, function (fab) {\n          return some(fab(a));\n        });\n      },\n      each: function each(f) {\n        f(a);\n      },\n      bind: bind,\n      flatten: constant_a,\n      exists: bind,\n      forall: bind,\n      filter: function filter(f) {\n        return f(a) ? me : NONE;\n      },\n      equals: function equals(o) {\n        return o.is(a);\n      },\n      equals_: function equals_(o, elementEq) {\n        return o.fold(never$1, function (b) {\n          return elementEq(a, b);\n        });\n      },\n      toArray: function toArray() {\n        return [a];\n      },\n      toString: function toString() {\n        return 'some(' + a + ')';\n      }\n    };\n    return me;\n  };\n\n  var from = function from(value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n\n  var Option = {\n    some: some,\n    none: none,\n    from: from\n  };\n\n  var value = function value(o) {\n    var is = function is(v) {\n      return o === v;\n    };\n\n    var or = function or(opt) {\n      return value(o);\n    };\n\n    var orThunk = function orThunk(f) {\n      return value(o);\n    };\n\n    var map = function map(f) {\n      return value(f(o));\n    };\n\n    var mapError = function mapError(f) {\n      return value(o);\n    };\n\n    var each = function each(f) {\n      f(o);\n    };\n\n    var bind = function bind(f) {\n      return f(o);\n    };\n\n    var fold = function fold(_, onValue) {\n      return onValue(o);\n    };\n\n    var exists = function exists(f) {\n      return f(o);\n    };\n\n    var forall = function forall(f) {\n      return f(o);\n    };\n\n    var toOption = function toOption() {\n      return Option.some(o);\n    };\n\n    return {\n      is: is,\n      isValue: always,\n      isError: never,\n      getOr: constant(o),\n      getOrThunk: constant(o),\n      getOrDie: constant(o),\n      or: or,\n      orThunk: orThunk,\n      fold: fold,\n      map: map,\n      mapError: mapError,\n      each: each,\n      bind: bind,\n      exists: exists,\n      forall: forall,\n      toOption: toOption\n    };\n  };\n\n  var error = function error(message) {\n    var getOrThunk = function getOrThunk(f) {\n      return f();\n    };\n\n    var getOrDie = function getOrDie() {\n      return die(String(message))();\n    };\n\n    var or = function or(opt) {\n      return opt;\n    };\n\n    var orThunk = function orThunk(f) {\n      return f();\n    };\n\n    var map = function map(f) {\n      return error(message);\n    };\n\n    var mapError = function mapError(f) {\n      return error(f(message));\n    };\n\n    var bind = function bind(f) {\n      return error(message);\n    };\n\n    var fold = function fold(onError, _) {\n      return onError(message);\n    };\n\n    return {\n      is: never,\n      isValue: never,\n      isError: always,\n      getOr: identity,\n      getOrThunk: getOrThunk,\n      getOrDie: getOrDie,\n      or: or,\n      orThunk: orThunk,\n      fold: fold,\n      map: map,\n      mapError: mapError,\n      each: noop,\n      bind: bind,\n      exists: never,\n      forall: always,\n      toOption: Option.none\n    };\n  };\n\n  var fromOption = function fromOption(opt, err) {\n    return opt.fold(function () {\n      return error(err);\n    }, value);\n  };\n\n  var Result = {\n    value: value,\n    error: error,\n    fromOption: fromOption\n  };\n\n  var typeOf = function typeOf(x) {\n    if (x === null) {\n      return 'null';\n    }\n\n    var t = typeof x;\n\n    if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n      return 'array';\n    }\n\n    if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n      return 'string';\n    }\n\n    return t;\n  };\n\n  var isType = function isType(type) {\n    return function (value) {\n      return typeOf(value) === type;\n    };\n  };\n\n  var isString = isType('string');\n  var isObject = isType('object');\n  var isArray = isType('array');\n  var isBoolean = isType('boolean');\n  var isFunction = isType('function');\n  var isNumber = isType('number');\n\n  var isArrayOf = function isArrayOf(value, pred) {\n    if (isArray(value)) {\n      for (var i = 0, len = value.length; i < len; ++i) {\n        if (pred(value[i]) !== true) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  var slice = Array.prototype.slice;\n\n  var rawIndexOf = function () {\n    var pIndexOf = Array.prototype.indexOf;\n\n    var fastIndex = function fastIndex(xs, x) {\n      return pIndexOf.call(xs, x);\n    };\n\n    var slowIndex = function slowIndex(xs, x) {\n      return slowIndexOf(xs, x);\n    };\n\n    return pIndexOf === undefined ? slowIndex : fastIndex;\n  }();\n\n  var indexOf = function indexOf(xs, x) {\n    var r = rawIndexOf(xs, x);\n    return r === -1 ? Option.none() : Option.some(r);\n  };\n\n  var contains = function contains(xs, x) {\n    return rawIndexOf(xs, x) > -1;\n  };\n\n  var exists = function exists(xs, pred) {\n    return findIndex(xs, pred).isSome();\n  };\n\n  var range = function range(num, f) {\n    var r = [];\n\n    for (var i = 0; i < num; i++) {\n      r.push(f(i));\n    }\n\n    return r;\n  };\n\n  var chunk = function chunk(array, size) {\n    var r = [];\n\n    for (var i = 0; i < array.length; i += size) {\n      var s = slice.call(array, i, i + size);\n      r.push(s);\n    }\n\n    return r;\n  };\n\n  var map = function map(xs, f) {\n    var len = xs.length;\n    var r = new Array(len);\n\n    for (var i = 0; i < len; i++) {\n      var x = xs[i];\n      r[i] = f(x, i, xs);\n    }\n\n    return r;\n  };\n\n  var each = function each(xs, f) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n\n  var eachr = function eachr(xs, f) {\n    for (var i = xs.length - 1; i >= 0; i--) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n\n  var partition = function partition(xs, pred) {\n    var pass = [];\n    var fail = [];\n\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      var arr = pred(x, i, xs) ? pass : fail;\n      arr.push(x);\n    }\n\n    return {\n      pass: pass,\n      fail: fail\n    };\n  };\n\n  var filter = function filter(xs, pred) {\n    var r = [];\n\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n\n      if (pred(x, i, xs)) {\n        r.push(x);\n      }\n    }\n\n    return r;\n  };\n\n  var foldr = function foldr(xs, f, acc) {\n    eachr(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n\n  var foldl = function foldl(xs, f, acc) {\n    each(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n\n  var find = function find(xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n\n      if (pred(x, i, xs)) {\n        return Option.some(x);\n      }\n    }\n\n    return Option.none();\n  };\n\n  var findIndex = function findIndex(xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n\n      if (pred(x, i, xs)) {\n        return Option.some(i);\n      }\n    }\n\n    return Option.none();\n  };\n\n  var slowIndexOf = function slowIndexOf(xs, x) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (xs[i] === x) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var push = Array.prototype.push;\n\n  var flatten = function flatten(xs) {\n    var r = [];\n\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (!isArray(xs[i])) {\n        throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n      }\n\n      push.apply(r, xs[i]);\n    }\n\n    return r;\n  };\n\n  var bind = function bind(xs, f) {\n    var output = map(xs, f);\n    return flatten(output);\n  };\n\n  var forall = function forall(xs, pred) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      var x = xs[i];\n\n      if (pred(x, i, xs) !== true) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  var reverse = function reverse(xs) {\n    var r = slice.call(xs, 0);\n    r.reverse();\n    return r;\n  };\n\n  var difference = function difference(a1, a2) {\n    return filter(a1, function (x) {\n      return !contains(a2, x);\n    });\n  };\n\n  var pure = function pure(x) {\n    return [x];\n  };\n\n  var sort = function sort(xs, comparator) {\n    var copy = slice.call(xs, 0);\n    copy.sort(comparator);\n    return copy;\n  };\n\n  var head = function head(xs) {\n    return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n  };\n\n  var last = function last(xs) {\n    return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n  };\n\n  var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n    return slice.call(x);\n  };\n  var keys = Object.keys;\n  var hasOwnProperty = Object.hasOwnProperty;\n\n  var each$1 = function each$1(obj, f) {\n    var props = keys(obj);\n\n    for (var k = 0, len = props.length; k < len; k++) {\n      var i = props[k];\n      var x = obj[i];\n      f(x, i, obj);\n    }\n  };\n\n  var map$1 = function map$1(obj, f) {\n    return tupleMap(obj, function (x, i, obj) {\n      return {\n        k: i,\n        v: f(x, i, obj)\n      };\n    });\n  };\n\n  var tupleMap = function tupleMap(obj, f) {\n    var r = {};\n    each$1(obj, function (x, i) {\n      var tuple = f(x, i, obj);\n      r[tuple.k] = tuple.v;\n    });\n    return r;\n  };\n\n  var mapToArray = function mapToArray(obj, f) {\n    var r = [];\n    each$1(obj, function (value, name) {\n      r.push(f(value, name));\n    });\n    return r;\n  };\n\n  var find$1 = function find$1(obj, pred) {\n    var props = keys(obj);\n\n    for (var k = 0, len = props.length; k < len; k++) {\n      var i = props[k];\n      var x = obj[i];\n\n      if (pred(x, i, obj)) {\n        return Option.some(x);\n      }\n    }\n\n    return Option.none();\n  };\n\n  var values = function values(obj) {\n    return mapToArray(obj, function (v) {\n      return v;\n    });\n  };\n\n  var get = function get(obj, key) {\n    return has(obj, key) ? Option.from(obj[key]) : Option.none();\n  };\n\n  var has = function has(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  };\n\n  var generate = function generate(cases) {\n    if (!isArray(cases)) {\n      throw new Error('cases must be an array');\n    }\n\n    if (cases.length === 0) {\n      throw new Error('there must be at least one case');\n    }\n\n    var constructors = [];\n    var adt = {};\n    each(cases, function (acase, count) {\n      var keys$1 = keys(acase);\n\n      if (keys$1.length !== 1) {\n        throw new Error('one and only one name per case');\n      }\n\n      var key = keys$1[0];\n      var value = acase[key];\n\n      if (adt[key] !== undefined) {\n        throw new Error('duplicate key detected:' + key);\n      } else if (key === 'cata') {\n        throw new Error('cannot have a case named cata (sorry)');\n      } else if (!isArray(value)) {\n        throw new Error('case arguments must be an array');\n      }\n\n      constructors.push(key);\n\n      adt[key] = function () {\n        var argLength = arguments.length;\n\n        if (argLength !== value.length) {\n          throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n        }\n\n        var args = new Array(argLength);\n\n        for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i];\n        }\n\n        var match = function match(branches) {\n          var branchKeys = keys(branches);\n\n          if (constructors.length !== branchKeys.length) {\n            throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n          }\n\n          var allReqd = forall(constructors, function (reqKey) {\n            return contains(branchKeys, reqKey);\n          });\n\n          if (!allReqd) {\n            throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n          }\n\n          return branches[key].apply(null, args);\n        };\n\n        return {\n          fold: function fold() {\n            if (arguments.length !== cases.length) {\n              throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\n            }\n\n            var target = arguments[count];\n            return target.apply(null, args);\n          },\n          match: match,\n          log: function log(label) {\n            domGlobals.console.log(label, {\n              constructors: constructors,\n              constructor: key,\n              params: args\n            });\n          }\n        };\n      };\n    });\n    return adt;\n  };\n\n  var Adt = {\n    generate: generate\n  };\n  var hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n\n  var shallow = function shallow(old, nu) {\n    return nu;\n  };\n\n  var deep = function deep(old, nu) {\n    var bothObjects = isObject(old) && isObject(nu);\n    return bothObjects ? deepMerge(old, nu) : nu;\n  };\n\n  var baseMerge = function baseMerge(merger) {\n    return function () {\n      var objects = new Array(arguments.length);\n\n      for (var i = 0; i < objects.length; i++) {\n        objects[i] = arguments[i];\n      }\n\n      if (objects.length === 0) {\n        throw new Error('Can\\'t merge zero objects');\n      }\n\n      var ret = {};\n\n      for (var j = 0; j < objects.length; j++) {\n        var curObject = objects[j];\n\n        for (var key in curObject) {\n          if (hasOwnProperty$1.call(curObject, key)) {\n            ret[key] = merger(ret[key], curObject[key]);\n          }\n        }\n      }\n\n      return ret;\n    };\n  };\n\n  var deepMerge = baseMerge(deep);\n  var merge = baseMerge(shallow);\n\n  var cached = function cached(f) {\n    var called = false;\n    var r;\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      if (!called) {\n        called = true;\n        r = f.apply(null, args);\n      }\n\n      return r;\n    };\n  };\n\n  var adt = Adt.generate([{\n    strict: []\n  }, {\n    defaultedThunk: ['fallbackThunk']\n  }, {\n    asOption: []\n  }, {\n    asDefaultedOptionThunk: ['fallbackThunk']\n  }, {\n    mergeWithThunk: ['baseThunk']\n  }]);\n\n  var defaulted = function defaulted(fallback) {\n    return adt.defaultedThunk(constant(fallback));\n  };\n\n  var mergeWith = function mergeWith(base) {\n    return adt.mergeWithThunk(constant(base));\n  };\n\n  var strict = adt.strict;\n  var asOption = adt.asOption;\n  var defaultedThunk = adt.defaultedThunk;\n  var mergeWithThunk = adt.mergeWithThunk;\n\n  var exclude = function exclude(obj, fields) {\n    var r = {};\n    each$1(obj, function (v, k) {\n      if (!contains(fields, k)) {\n        r[k] = v;\n      }\n    });\n    return r;\n  };\n\n  var readOpt = function readOpt(key) {\n    return function (obj) {\n      return has(obj, key) ? Option.from(obj[key]) : Option.none();\n    };\n  };\n\n  var readOr = function readOr(key, fallback) {\n    return function (obj) {\n      return has(obj, key) ? obj[key] : fallback;\n    };\n  };\n\n  var readOptFrom = function readOptFrom(obj, key) {\n    return readOpt(key)(obj);\n  };\n\n  var hasKey = function hasKey(obj, key) {\n    return has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n  };\n\n  var wrap = function wrap(key, value) {\n    var r = {};\n    r[key] = value;\n    return r;\n  };\n\n  var wrapAll = function wrapAll(keyvalues) {\n    var r = {};\n    each(keyvalues, function (kv) {\n      r[kv.key] = kv.value;\n    });\n    return r;\n  };\n\n  var comparison = Adt.generate([{\n    bothErrors: ['error1', 'error2']\n  }, {\n    firstError: ['error1', 'value2']\n  }, {\n    secondError: ['value1', 'error2']\n  }, {\n    bothValues: ['value1', 'value2']\n  }]);\n\n  var partition$1 = function partition$1(results) {\n    var errors = [];\n    var values = [];\n    each(results, function (result) {\n      result.fold(function (err) {\n        errors.push(err);\n      }, function (value) {\n        values.push(value);\n      });\n    });\n    return {\n      errors: errors,\n      values: values\n    };\n  };\n\n  var exclude$1 = function exclude$1(obj, fields) {\n    return exclude(obj, fields);\n  };\n\n  var readOpt$1 = function readOpt$1(key) {\n    return readOpt(key);\n  };\n\n  var readOr$1 = function readOr$1(key, fallback) {\n    return readOr(key, fallback);\n  };\n\n  var readOptFrom$1 = function readOptFrom$1(obj, key) {\n    return readOptFrom(obj, key);\n  };\n\n  var wrap$1 = function wrap$1(key, value) {\n    return wrap(key, value);\n  };\n\n  var wrapAll$1 = function wrapAll$1(keyvalues) {\n    return wrapAll(keyvalues);\n  };\n\n  var mergeValues = function mergeValues(values, base) {\n    return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge.apply(undefined, values)));\n  };\n\n  var mergeErrors = function mergeErrors(errors) {\n    return Result.error(flatten(errors));\n  };\n\n  var consolidate = function consolidate(objs, base) {\n    var partitions = partition$1(objs);\n    return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n  };\n\n  var hasKey$1 = function hasKey$1(obj, key) {\n    return hasKey(obj, key);\n  };\n\n  var SimpleResultType;\n\n  (function (SimpleResultType) {\n    SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n    SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n  })(SimpleResultType || (SimpleResultType = {}));\n\n  var fold = function fold(res, onError, onValue) {\n    return res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n  };\n\n  var partition$2 = function partition$2(results) {\n    var values = [];\n    var errors = [];\n    each(results, function (obj) {\n      fold(obj, function (err) {\n        return errors.push(err);\n      }, function (val) {\n        return values.push(val);\n      });\n    });\n    return {\n      values: values,\n      errors: errors\n    };\n  };\n\n  var mapError = function mapError(res, f) {\n    if (res.stype === SimpleResultType.Error) {\n      return {\n        stype: SimpleResultType.Error,\n        serror: f(res.serror)\n      };\n    } else {\n      return res;\n    }\n  };\n\n  var map$2 = function map$2(res, f) {\n    if (res.stype === SimpleResultType.Value) {\n      return {\n        stype: SimpleResultType.Value,\n        svalue: f(res.svalue)\n      };\n    } else {\n      return res;\n    }\n  };\n\n  var bind$1 = function bind$1(res, f) {\n    if (res.stype === SimpleResultType.Value) {\n      return f(res.svalue);\n    } else {\n      return res;\n    }\n  };\n\n  var bindError = function bindError(res, f) {\n    if (res.stype === SimpleResultType.Error) {\n      return f(res.serror);\n    } else {\n      return res;\n    }\n  };\n\n  var svalue = function svalue(v) {\n    return {\n      stype: SimpleResultType.Value,\n      svalue: v\n    };\n  };\n\n  var serror = function serror(e) {\n    return {\n      stype: SimpleResultType.Error,\n      serror: e\n    };\n  };\n\n  var toResult = function toResult(res) {\n    return fold(res, Result.error, Result.value);\n  };\n\n  var fromResult = function fromResult(res) {\n    return res.fold(serror, svalue);\n  };\n\n  var SimpleResult = {\n    fromResult: fromResult,\n    toResult: toResult,\n    svalue: svalue,\n    partition: partition$2,\n    serror: serror,\n    bind: bind$1,\n    bindError: bindError,\n    map: map$2,\n    mapError: mapError,\n    fold: fold\n  };\n\n  var mergeValues$1 = function mergeValues$1(values, base) {\n    return values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge.apply(undefined, values))) : SimpleResult.svalue(base);\n  };\n\n  var mergeErrors$1 = function mergeErrors$1(errors) {\n    return compose(SimpleResult.serror, flatten)(errors);\n  };\n\n  var consolidateObj = function consolidateObj(objects, base) {\n    var partition = SimpleResult.partition(objects);\n    return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n  };\n\n  var consolidateArr = function consolidateArr(objects) {\n    var partitions = SimpleResult.partition(objects);\n    return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n  };\n\n  var ResultCombine = {\n    consolidateObj: consolidateObj,\n    consolidateArr: consolidateArr\n  };\n  var typeAdt = Adt.generate([{\n    setOf: ['validator', 'valueType']\n  }, {\n    arrOf: ['valueType']\n  }, {\n    objOf: ['fields']\n  }, {\n    itemOf: ['validator']\n  }, {\n    choiceOf: ['key', 'branches']\n  }, {\n    thunk: ['description']\n  }, {\n    func: ['args', 'outputSchema']\n  }]);\n  var fieldAdt = Adt.generate([{\n    field: ['name', 'presence', 'type']\n  }, {\n    state: ['name']\n  }]);\n\n  var formatObj = function formatObj(input) {\n    return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n  };\n\n  var formatErrors = function formatErrors(errors) {\n    var es = errors.length > 10 ? errors.slice(0, 10).concat([{\n      path: [],\n      getErrorInfo: function getErrorInfo() {\n        return '... (only showing first ten failures)';\n      }\n    }]) : errors;\n    return map(es, function (e) {\n      return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n    });\n  };\n\n  var nu = function nu(path, getErrorInfo) {\n    return SimpleResult.serror([{\n      path: path,\n      getErrorInfo: getErrorInfo\n    }]);\n  };\n\n  var missingStrict = function missingStrict(path, key, obj) {\n    return nu(path, function () {\n      return 'Could not find valid *strict* value for \"' + key + '\" in ' + formatObj(obj);\n    });\n  };\n\n  var missingKey = function missingKey(path, key) {\n    return nu(path, function () {\n      return 'Choice schema did not contain choice key: \"' + key + '\"';\n    });\n  };\n\n  var missingBranch = function missingBranch(path, branches, branch) {\n    return nu(path, function () {\n      return 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches);\n    });\n  };\n\n  var unsupportedFields = function unsupportedFields(path, unsupported) {\n    return nu(path, function () {\n      return 'There are unsupported fields: [' + unsupported.join(', ') + '] specified';\n    });\n  };\n\n  var custom = function custom(path, err) {\n    return nu(path, function () {\n      return err;\n    });\n  };\n\n  var adt$1 = Adt.generate([{\n    field: ['key', 'okey', 'presence', 'prop']\n  }, {\n    state: ['okey', 'instantiator']\n  }]);\n\n  var strictAccess = function strictAccess(path, obj, key) {\n    return readOptFrom(obj, key).fold(function () {\n      return missingStrict(path, key, obj);\n    }, SimpleResult.svalue);\n  };\n\n  var fallbackAccess = function fallbackAccess(obj, key, fallbackThunk) {\n    var v = readOptFrom(obj, key).fold(function () {\n      return fallbackThunk(obj);\n    }, identity);\n    return SimpleResult.svalue(v);\n  };\n\n  var optionAccess = function optionAccess(obj, key) {\n    return SimpleResult.svalue(readOptFrom(obj, key));\n  };\n\n  var optionDefaultedAccess = function optionDefaultedAccess(obj, key, fallback) {\n    var opt = readOptFrom(obj, key).map(function (val) {\n      return val === true ? fallback(obj) : val;\n    });\n    return SimpleResult.svalue(opt);\n  };\n\n  var cExtractOne = function cExtractOne(path, obj, field, strength) {\n    return field.fold(function (key, okey, presence, prop) {\n      var bundle = function bundle(av) {\n        var result = prop.extract(path.concat([key]), strength, av);\n        return SimpleResult.map(result, function (res) {\n          return wrap(okey, strength(res));\n        });\n      };\n\n      var bundleAsOption = function bundleAsOption(optValue) {\n        return optValue.fold(function () {\n          var outcome = wrap(okey, strength(Option.none()));\n          return SimpleResult.svalue(outcome);\n        }, function (ov) {\n          var result = prop.extract(path.concat([key]), strength, ov);\n          return SimpleResult.map(result, function (res) {\n            return wrap(okey, strength(Option.some(res)));\n          });\n        });\n      };\n\n      return function () {\n        return presence.fold(function () {\n          return SimpleResult.bind(strictAccess(path, obj, key), bundle);\n        }, function (fallbackThunk) {\n          return SimpleResult.bind(fallbackAccess(obj, key, fallbackThunk), bundle);\n        }, function () {\n          return SimpleResult.bind(optionAccess(obj, key), bundleAsOption);\n        }, function (fallbackThunk) {\n          return SimpleResult.bind(optionDefaultedAccess(obj, key, fallbackThunk), bundleAsOption);\n        }, function (baseThunk) {\n          var base = baseThunk(obj);\n          var result = SimpleResult.map(fallbackAccess(obj, key, constant({})), function (v) {\n            return deepMerge(base, v);\n          });\n          return SimpleResult.bind(result, bundle);\n        });\n      }();\n    }, function (okey, instantiator) {\n      var state = instantiator(obj);\n      return SimpleResult.svalue(wrap(okey, strength(state)));\n    });\n  };\n\n  var cExtract = function cExtract(path, obj, fields, strength) {\n    var results = map(fields, function (field) {\n      return cExtractOne(path, obj, field, strength);\n    });\n    return ResultCombine.consolidateObj(results, {});\n  };\n\n  var valueThunk = function valueThunk(getDelegate) {\n    var extract = function extract(path, strength, val) {\n      return getDelegate().extract(path, strength, val);\n    };\n\n    var toString = function toString() {\n      return getDelegate().toString();\n    };\n\n    var toDsl = function toDsl() {\n      return getDelegate().toDsl();\n    };\n\n    return {\n      extract: extract,\n      toString: toString,\n      toDsl: toDsl\n    };\n  };\n\n  var value$1 = function value$1(validator) {\n    var extract = function extract(path, strength, val) {\n      return SimpleResult.bindError(validator(val, strength), function (err) {\n        return custom(path, err);\n      });\n    };\n\n    var toString = function toString() {\n      return 'val';\n    };\n\n    var toDsl = function toDsl() {\n      return typeAdt.itemOf(validator);\n    };\n\n    return {\n      extract: extract,\n      toString: toString,\n      toDsl: toDsl\n    };\n  };\n\n  var getSetKeys = function getSetKeys(obj) {\n    var keys$1 = keys(obj);\n    return filter(keys$1, function (k) {\n      return hasKey$1(obj, k);\n    });\n  };\n\n  var objOfOnly = function objOfOnly(fields) {\n    var delegate = objOf(fields);\n    var fieldNames = foldr(fields, function (acc, f) {\n      return f.fold(function (key) {\n        return deepMerge(acc, wrap$1(key, true));\n      }, constant(acc));\n    }, {});\n\n    var extract = function extract(path, strength, o) {\n      var keys = isBoolean(o) ? [] : getSetKeys(o);\n      var extra = filter(keys, function (k) {\n        return !hasKey$1(fieldNames, k);\n      });\n      return extra.length === 0 ? delegate.extract(path, strength, o) : unsupportedFields(path, extra);\n    };\n\n    return {\n      extract: extract,\n      toString: delegate.toString,\n      toDsl: delegate.toDsl\n    };\n  };\n\n  var objOf = function objOf(fields) {\n    var extract = function extract(path, strength, o) {\n      return cExtract(path, o, fields, strength);\n    };\n\n    var toString = function toString() {\n      var fieldStrings = map(fields, function (field) {\n        return field.fold(function (key, okey, presence, prop) {\n          return key + ' -> ' + prop.toString();\n        }, function (okey, instantiator) {\n          return 'state(' + okey + ')';\n        });\n      });\n      return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n    };\n\n    var toDsl = function toDsl() {\n      return typeAdt.objOf(map(fields, function (f) {\n        return f.fold(function (key, okey, presence, prop) {\n          return fieldAdt.field(key, presence, prop);\n        }, function (okey, instantiator) {\n          return fieldAdt.state(okey);\n        });\n      }));\n    };\n\n    return {\n      extract: extract,\n      toString: toString,\n      toDsl: toDsl\n    };\n  };\n\n  var arrOf = function arrOf(prop) {\n    var extract = function extract(path, strength, array) {\n      var results = map(array, function (a, i) {\n        return prop.extract(path.concat(['[' + i + ']']), strength, a);\n      });\n      return ResultCombine.consolidateArr(results);\n    };\n\n    var toString = function toString() {\n      return 'array(' + prop.toString() + ')';\n    };\n\n    var toDsl = function toDsl() {\n      return typeAdt.arrOf(prop);\n    };\n\n    return {\n      extract: extract,\n      toString: toString,\n      toDsl: toDsl\n    };\n  };\n\n  var setOf = function setOf(validator, prop) {\n    var validateKeys = function validateKeys(path, keys) {\n      return arrOf(value$1(validator)).extract(path, identity, keys);\n    };\n\n    var extract = function extract(path, strength, o) {\n      var keys$1 = keys(o);\n      var validatedKeys = validateKeys(path, keys$1);\n      return SimpleResult.bind(validatedKeys, function (validKeys) {\n        var schema = map(validKeys, function (vk) {\n          return adt$1.field(vk, vk, strict(), prop);\n        });\n        return objOf(schema).extract(path, strength, o);\n      });\n    };\n\n    var toString = function toString() {\n      return 'setOf(' + prop.toString() + ')';\n    };\n\n    var toDsl = function toDsl() {\n      return typeAdt.setOf(validator, prop);\n    };\n\n    return {\n      extract: extract,\n      toString: toString,\n      toDsl: toDsl\n    };\n  };\n\n  var anyValue = constant(value$1(SimpleResult.svalue));\n  var arrOfObj = compose(arrOf, objOf);\n  var state = adt$1.state;\n  var field = adt$1.field;\n\n  var chooseFrom = function chooseFrom(path, strength, input, branches, ch) {\n    var fields = readOptFrom$1(branches, ch);\n    return fields.fold(function () {\n      return missingBranch(path, branches, ch);\n    }, function (vp) {\n      return vp.extract(path.concat(['branch: ' + ch]), strength, input);\n    });\n  };\n\n  var choose = function choose(key, branches) {\n    var extract = function extract(path, strength, input) {\n      var choice = readOptFrom$1(input, key);\n      return choice.fold(function () {\n        return missingKey(path, key);\n      }, function (chosen) {\n        return chooseFrom(path, strength, input, branches, chosen);\n      });\n    };\n\n    var toString = function toString() {\n      return 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n    };\n\n    var toDsl = function toDsl() {\n      return typeAdt.choiceOf(key, branches);\n    };\n\n    return {\n      extract: extract,\n      toString: toString,\n      toDsl: toDsl\n    };\n  };\n\n  var _anyValue = value$1(SimpleResult.svalue);\n\n  var arrOfObj$1 = function arrOfObj$1(objFields) {\n    return arrOfObj(objFields);\n  };\n\n  var arrOfVal = function arrOfVal() {\n    return arrOf(_anyValue);\n  };\n\n  var valueThunkOf = valueThunk;\n\n  var valueOf = function valueOf(validator) {\n    return value$1(function (v) {\n      return validator(v).fold(SimpleResult.serror, SimpleResult.svalue);\n    });\n  };\n\n  var setOf$1 = function setOf$1(validator, prop) {\n    return setOf(function (v) {\n      return SimpleResult.fromResult(validator(v));\n    }, prop);\n  };\n\n  var extract = function extract(label, prop, strength, obj) {\n    var res = prop.extract([label], strength, obj);\n    return SimpleResult.mapError(res, function (errs) {\n      return {\n        input: obj,\n        errors: errs\n      };\n    });\n  };\n\n  var asRaw = function asRaw(label, prop, obj) {\n    return SimpleResult.toResult(extract(label, prop, identity, obj));\n  };\n\n  var getOrDie = function getOrDie(extraction) {\n    return extraction.fold(function (errInfo) {\n      throw new Error(formatError(errInfo));\n    }, identity);\n  };\n\n  var asRawOrDie = function asRawOrDie(label, prop, obj) {\n    return getOrDie(asRaw(label, prop, obj));\n  };\n\n  var formatError = function formatError(errInfo) {\n    return 'Errors: \\n' + formatErrors(errInfo.errors) + '\\n\\nInput object: ' + formatObj(errInfo.input);\n  };\n\n  var chooseProcessor = function chooseProcessor(key, branches) {\n    return choose(key, branches);\n  };\n\n  var choose$1 = function choose$1(key, branches) {\n    return choose(key, map$1(branches, objOf));\n  };\n\n  var anyValue$1 = constant(_anyValue);\n\n  var typedValue = function typedValue(validator, expectedType) {\n    return value$1(function (a) {\n      var actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected type: ' + expectedType + ' but got: ' + actualType);\n    });\n  };\n\n  var number = typedValue(isNumber, 'number');\n  var string = typedValue(isString, 'string');\n\n  var _boolean = typedValue(isBoolean, 'boolean');\n\n  var functionProcessor = typedValue(isFunction, 'function');\n\n  var isPostMessageable = function isPostMessageable(val) {\n    var every = function every(iter, callbackFn) {\n      var result = iter.next();\n\n      while (!result.done) {\n        if (!callbackFn(result.value)) {\n          return false;\n        }\n\n        result = iter.next();\n      }\n\n      return true;\n    };\n\n    if (Object(val) !== val) {\n      return true;\n    }\n\n    switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(function (prop) {\n          return isPostMessageable(val[prop]);\n        });\n\n      case 'Map':\n        return every(val.keys(), isPostMessageable) && every(val.values(), isPostMessageable);\n\n      case 'Set':\n        return every(val.keys(), isPostMessageable);\n\n      default:\n        return false;\n    }\n  };\n\n  var postMessageable = value$1(function (a) {\n    return isPostMessageable(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n  });\n\n  var validateEnum = function validateEnum(values) {\n    return valueOf(function (value) {\n      return contains(values, value) ? Result.value(value) : Result.error('Unsupported value: \"' + value + '\", choose one of \"' + values.join(', ') + '\".');\n    });\n  };\n\n  var strict$1 = function strict$1(key) {\n    return field(key, key, strict(), anyValue());\n  };\n\n  var strictOf = function strictOf(key, schema) {\n    return field(key, key, strict(), schema);\n  };\n\n  var strictNumber = function strictNumber(key) {\n    return strictOf(key, number);\n  };\n\n  var strictString = function strictString(key) {\n    return strictOf(key, string);\n  };\n\n  var strictStringEnum = function strictStringEnum(key, values) {\n    return field(key, key, strict(), validateEnum(values));\n  };\n\n  var strictBoolean = function strictBoolean(key) {\n    return strictOf(key, _boolean);\n  };\n\n  var strictFunction = function strictFunction(key) {\n    return strictOf(key, functionProcessor);\n  };\n\n  var forbid = function forbid(key, message) {\n    return field(key, key, asOption(), value$1(function (v) {\n      return SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message);\n    }));\n  };\n\n  var strictObjOf = function strictObjOf(key, objSchema) {\n    return field(key, key, strict(), objOf(objSchema));\n  };\n\n  var strictArrayOfObj = function strictArrayOfObj(key, objFields) {\n    return field(key, key, strict(), arrOfObj(objFields));\n  };\n\n  var strictArrayOf = function strictArrayOf(key, schema) {\n    return field(key, key, strict(), arrOf(schema));\n  };\n\n  var option = function option(key) {\n    return field(key, key, asOption(), anyValue());\n  };\n\n  var optionOf = function optionOf(key, schema) {\n    return field(key, key, asOption(), schema);\n  };\n\n  var optionNumber = function optionNumber(key) {\n    return optionOf(key, number);\n  };\n\n  var optionString = function optionString(key) {\n    return optionOf(key, string);\n  };\n\n  var optionFunction = function optionFunction(key) {\n    return optionOf(key, functionProcessor);\n  };\n\n  var optionArrayOf = function optionArrayOf(key, schema) {\n    return optionOf(key, arrOf(schema));\n  };\n\n  var optionObjOf = function optionObjOf(key, objSchema) {\n    return optionOf(key, objOf(objSchema));\n  };\n\n  var optionObjOfOnly = function optionObjOfOnly(key, objSchema) {\n    return optionOf(key, objOfOnly(objSchema));\n  };\n\n  var defaulted$1 = function defaulted$1(key, fallback) {\n    return field(key, key, defaulted(fallback), anyValue());\n  };\n\n  var defaultedOf = function defaultedOf(key, fallback, schema) {\n    return field(key, key, defaulted(fallback), schema);\n  };\n\n  var defaultedNumber = function defaultedNumber(key, fallback) {\n    return defaultedOf(key, fallback, number);\n  };\n\n  var defaultedString = function defaultedString(key, fallback) {\n    return defaultedOf(key, fallback, string);\n  };\n\n  var defaultedStringEnum = function defaultedStringEnum(key, fallback, values) {\n    return defaultedOf(key, fallback, validateEnum(values));\n  };\n\n  var defaultedBoolean = function defaultedBoolean(key, fallback) {\n    return defaultedOf(key, fallback, _boolean);\n  };\n\n  var defaultedFunction = function defaultedFunction(key, fallback) {\n    return defaultedOf(key, fallback, functionProcessor);\n  };\n\n  var defaultedPostMsg = function defaultedPostMsg(key, fallback) {\n    return defaultedOf(key, fallback, postMessageable);\n  };\n\n  var defaultedObjOf = function defaultedObjOf(key, fallback, objSchema) {\n    return defaultedOf(key, fallback, objOf(objSchema));\n  };\n\n  var state$1 = function state$1(okey, instantiator) {\n    return state(okey, instantiator);\n  };\n\n  var Cell = function Cell(initial) {\n    var value = initial;\n\n    var get = function get() {\n      return value;\n    };\n\n    var set = function set(v) {\n      value = v;\n    };\n\n    var clone = function clone() {\n      return Cell(get());\n    };\n\n    return {\n      get: get,\n      set: set,\n      clone: clone\n    };\n  };\n\n  var fromHtml = function fromHtml(html, scope) {\n    var doc = scope || domGlobals.document;\n    var div = doc.createElement('div');\n    div.innerHTML = html;\n\n    if (!div.hasChildNodes() || div.childNodes.length > 1) {\n      domGlobals.console.error('HTML does not have a single root node', html);\n      throw new Error('HTML must have a single root node');\n    }\n\n    return fromDom(div.childNodes[0]);\n  };\n\n  var fromTag = function fromTag(tag, scope) {\n    var doc = scope || domGlobals.document;\n    var node = doc.createElement(tag);\n    return fromDom(node);\n  };\n\n  var fromText = function fromText(text, scope) {\n    var doc = scope || domGlobals.document;\n    var node = doc.createTextNode(text);\n    return fromDom(node);\n  };\n\n  var fromDom = function fromDom(node) {\n    if (node === null || node === undefined) {\n      throw new Error('Node cannot be null or undefined');\n    }\n\n    return {\n      dom: constant(node)\n    };\n  };\n\n  var fromPoint = function fromPoint(docElm, x, y) {\n    var doc = docElm.dom();\n    return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n  };\n\n  var Element = {\n    fromHtml: fromHtml,\n    fromTag: fromTag,\n    fromText: fromText,\n    fromDom: fromDom,\n    fromPoint: fromPoint\n  };\n\n  var compareDocumentPosition = function compareDocumentPosition(a, b, match) {\n    return (a.compareDocumentPosition(b) & match) !== 0;\n  };\n\n  var documentPositionPreceding = function documentPositionPreceding(a, b) {\n    return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_PRECEDING);\n  };\n\n  var documentPositionContainedBy = function documentPositionContainedBy(a, b) {\n    return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_CONTAINED_BY);\n  };\n\n  var Node = {\n    documentPositionPreceding: documentPositionPreceding,\n    documentPositionContainedBy: documentPositionContainedBy\n  };\n\n  var firstMatch = function firstMatch(regexes, s) {\n    for (var i = 0; i < regexes.length; i++) {\n      var x = regexes[i];\n\n      if (x.test(s)) {\n        return x;\n      }\n    }\n\n    return undefined;\n  };\n\n  var find$2 = function find$2(regexes, agent) {\n    var r = firstMatch(regexes, agent);\n\n    if (!r) {\n      return {\n        major: 0,\n        minor: 0\n      };\n    }\n\n    var group = function group(i) {\n      return Number(agent.replace(r, '$' + i));\n    };\n\n    return nu$1(group(1), group(2));\n  };\n\n  var detect = function detect(versionRegexes, agent) {\n    var cleanedAgent = String(agent).toLowerCase();\n\n    if (versionRegexes.length === 0) {\n      return unknown();\n    }\n\n    return find$2(versionRegexes, cleanedAgent);\n  };\n\n  var unknown = function unknown() {\n    return nu$1(0, 0);\n  };\n\n  var nu$1 = function nu$1(major, minor) {\n    return {\n      major: major,\n      minor: minor\n    };\n  };\n\n  var Version = {\n    nu: nu$1,\n    detect: detect,\n    unknown: unknown\n  };\n  var edge = 'Edge';\n  var chrome = 'Chrome';\n  var ie = 'IE';\n  var opera = 'Opera';\n  var firefox = 'Firefox';\n  var safari = 'Safari';\n\n  var isBrowser = function isBrowser(name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n\n  var unknown$1 = function unknown$1() {\n    return nu$2({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n\n  var nu$2 = function nu$2(info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isEdge: isBrowser(edge, current),\n      isChrome: isBrowser(chrome, current),\n      isIE: isBrowser(ie, current),\n      isOpera: isBrowser(opera, current),\n      isFirefox: isBrowser(firefox, current),\n      isSafari: isBrowser(safari, current)\n    };\n  };\n\n  var Browser = {\n    unknown: unknown$1,\n    nu: nu$2,\n    edge: constant(edge),\n    chrome: constant(chrome),\n    ie: constant(ie),\n    opera: constant(opera),\n    firefox: constant(firefox),\n    safari: constant(safari)\n  };\n  var windows = 'Windows';\n  var ios = 'iOS';\n  var android = 'Android';\n  var linux = 'Linux';\n  var osx = 'OSX';\n  var solaris = 'Solaris';\n  var freebsd = 'FreeBSD';\n\n  var isOS = function isOS(name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n\n  var unknown$2 = function unknown$2() {\n    return nu$3({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n\n  var nu$3 = function nu$3(info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isWindows: isOS(windows, current),\n      isiOS: isOS(ios, current),\n      isAndroid: isOS(android, current),\n      isOSX: isOS(osx, current),\n      isLinux: isOS(linux, current),\n      isSolaris: isOS(solaris, current),\n      isFreeBSD: isOS(freebsd, current)\n    };\n  };\n\n  var OperatingSystem = {\n    unknown: unknown$2,\n    nu: nu$3,\n    windows: constant(windows),\n    ios: constant(ios),\n    android: constant(android),\n    linux: constant(linux),\n    osx: constant(osx),\n    solaris: constant(solaris),\n    freebsd: constant(freebsd)\n  };\n\n  var DeviceType = function DeviceType(os, browser, userAgent) {\n    var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n    var isiPhone = os.isiOS() && !isiPad;\n    var isAndroid3 = os.isAndroid() && os.version.major === 3;\n    var isAndroid4 = os.isAndroid() && os.version.major === 4;\n    var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n    var isTouch = os.isiOS() || os.isAndroid();\n    var isPhone = isTouch && !isTablet;\n    var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n    return {\n      isiPad: constant(isiPad),\n      isiPhone: constant(isiPhone),\n      isTablet: constant(isTablet),\n      isPhone: constant(isPhone),\n      isTouch: constant(isTouch),\n      isAndroid: os.isAndroid,\n      isiOS: os.isiOS,\n      isWebView: constant(iOSwebview)\n    };\n  };\n\n  var detect$1 = function detect$1(candidates, userAgent) {\n    var agent = String(userAgent).toLowerCase();\n    return find(candidates, function (candidate) {\n      return candidate.search(agent);\n    });\n  };\n\n  var detectBrowser = function detectBrowser(browsers, userAgent) {\n    return detect$1(browsers, userAgent).map(function (browser) {\n      var version = Version.detect(browser.versionRegexes, userAgent);\n      return {\n        current: browser.name,\n        version: version\n      };\n    });\n  };\n\n  var detectOs = function detectOs(oses, userAgent) {\n    return detect$1(oses, userAgent).map(function (os) {\n      var version = Version.detect(os.versionRegexes, userAgent);\n      return {\n        current: os.name,\n        version: version\n      };\n    });\n  };\n\n  var UaString = {\n    detectBrowser: detectBrowser,\n    detectOs: detectOs\n  };\n\n  var checkRange = function checkRange(str, substr, start) {\n    if (substr === '') {\n      return true;\n    }\n\n    if (str.length < substr.length) {\n      return false;\n    }\n\n    var x = str.substr(start, start + substr.length);\n    return x === substr;\n  };\n\n  var contains$1 = function contains$1(str, substr) {\n    return str.indexOf(substr) !== -1;\n  };\n\n  var endsWith = function endsWith(str, suffix) {\n    return checkRange(str, suffix, str.length - suffix.length);\n  };\n\n  var trim = function trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  };\n\n  var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n\n  var checkContains = function checkContains(target) {\n    return function (uastring) {\n      return contains$1(uastring, target);\n    };\n  };\n\n  var browsers = [{\n    name: 'Edge',\n    versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n    search: function search(uastring) {\n      return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n    }\n  }, {\n    name: 'Chrome',\n    versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/, normalVersionRegex],\n    search: function search(uastring) {\n      return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n    }\n  }, {\n    name: 'IE',\n    versionRegexes: [/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/, /.*?rv:([0-9]+)\\.([0-9]+).*/],\n    search: function search(uastring) {\n      return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n    }\n  }, {\n    name: 'Opera',\n    versionRegexes: [normalVersionRegex, /.*?opera\\/([0-9]+)\\.([0-9]+).*/],\n    search: checkContains('opera')\n  }, {\n    name: 'Firefox',\n    versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n    search: checkContains('firefox')\n  }, {\n    name: 'Safari',\n    versionRegexes: [normalVersionRegex, /.*?cpu os ([0-9]+)_([0-9]+).*/],\n    search: function search(uastring) {\n      return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n    }\n  }];\n  var oses = [{\n    name: 'Windows',\n    search: checkContains('win'),\n    versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n  }, {\n    name: 'iOS',\n    search: function search(uastring) {\n      return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n    },\n    versionRegexes: [/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]\n  }, {\n    name: 'Android',\n    search: checkContains('android'),\n    versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n  }, {\n    name: 'OSX',\n    search: checkContains('os x'),\n    versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n  }, {\n    name: 'Linux',\n    search: checkContains('linux'),\n    versionRegexes: []\n  }, {\n    name: 'Solaris',\n    search: checkContains('sunos'),\n    versionRegexes: []\n  }, {\n    name: 'FreeBSD',\n    search: checkContains('freebsd'),\n    versionRegexes: []\n  }];\n  var PlatformInfo = {\n    browsers: constant(browsers),\n    oses: constant(oses)\n  };\n\n  var detect$2 = function detect$2(userAgent) {\n    var browsers = PlatformInfo.browsers();\n    var oses = PlatformInfo.oses();\n    var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n    var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n    var deviceType = DeviceType(os, browser, userAgent);\n    return {\n      browser: browser,\n      os: os,\n      deviceType: deviceType\n    };\n  };\n\n  var PlatformDetection = {\n    detect: detect$2\n  };\n  var detect$3 = cached(function () {\n    var userAgent = domGlobals.navigator.userAgent;\n    return PlatformDetection.detect(userAgent);\n  });\n  var PlatformDetection$1 = {\n    detect: detect$3\n  };\n  var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n  var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n  var COMMENT = domGlobals.Node.COMMENT_NODE;\n  var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n  var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n  var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n  var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n  var TEXT = domGlobals.Node.TEXT_NODE;\n  var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n  var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n  var ENTITY = domGlobals.Node.ENTITY_NODE;\n  var NOTATION = domGlobals.Node.NOTATION_NODE;\n  var ELEMENT$1 = ELEMENT;\n  var DOCUMENT$1 = DOCUMENT;\n\n  var is = function is(element, selector) {\n    var dom = element.dom();\n\n    if (dom.nodeType !== ELEMENT$1) {\n      return false;\n    } else {\n      var elem = dom;\n\n      if (elem.matches !== undefined) {\n        return elem.matches(selector);\n      } else if (elem.msMatchesSelector !== undefined) {\n        return elem.msMatchesSelector(selector);\n      } else if (elem.webkitMatchesSelector !== undefined) {\n        return elem.webkitMatchesSelector(selector);\n      } else if (elem.mozMatchesSelector !== undefined) {\n        return elem.mozMatchesSelector(selector);\n      } else {\n        throw new Error('Browser lacks native selectors');\n      }\n    }\n  };\n\n  var bypassSelector = function bypassSelector(dom) {\n    return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\n  };\n\n  var all = function all(selector, scope) {\n    var base = scope === undefined ? domGlobals.document : scope.dom();\n    return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);\n  };\n\n  var one = function one(selector, scope) {\n    var base = scope === undefined ? domGlobals.document : scope.dom();\n    return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);\n  };\n\n  var eq = function eq(e1, e2) {\n    return e1.dom() === e2.dom();\n  };\n\n  var regularContains = function regularContains(e1, e2) {\n    var d1 = e1.dom();\n    var d2 = e2.dom();\n    return d1 === d2 ? false : d1.contains(d2);\n  };\n\n  var ieContains = function ieContains(e1, e2) {\n    return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n  };\n\n  var browser = PlatformDetection$1.detect().browser;\n  var contains$2 = browser.isIE() ? ieContains : regularContains;\n\n  var isSource = function isSource(component, simulatedEvent) {\n    return eq(component.element(), simulatedEvent.event().target());\n  };\n\n  var nu$4 = function nu$4(parts) {\n    if (!hasKey$1(parts, 'can') && !hasKey$1(parts, 'abort') && !hasKey$1(parts, 'run')) {\n      throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n    }\n\n    return asRawOrDie('Extracting event.handler', objOfOnly([defaulted$1('can', constant(true)), defaulted$1('abort', constant(false)), defaulted$1('run', noop)]), parts);\n  };\n\n  var all$1 = function all$1(handlers, f) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return foldl(handlers, function (acc, handler) {\n        return acc && f(handler).apply(undefined, args);\n      }, true);\n    };\n  };\n\n  var any = function any(handlers, f) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return foldl(handlers, function (acc, handler) {\n        return acc || f(handler).apply(undefined, args);\n      }, false);\n    };\n  };\n\n  var read = function read(handler) {\n    return isFunction(handler) ? {\n      can: constant(true),\n      abort: constant(false),\n      run: handler\n    } : handler;\n  };\n\n  var fuse = function fuse(handlers) {\n    var can = all$1(handlers, function (handler) {\n      return handler.can;\n    });\n    var abort = any(handlers, function (handler) {\n      return handler.abort;\n    });\n\n    var run = function run() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      each(handlers, function (handler) {\n        handler.run.apply(undefined, args);\n      });\n    };\n\n    return nu$4({\n      can: can,\n      abort: abort,\n      run: run\n    });\n  };\n\n  var touchstart = constant('touchstart');\n  var touchmove = constant('touchmove');\n  var touchend = constant('touchend');\n  var mousedown = constant('mousedown');\n  var mousemove = constant('mousemove');\n  var mouseout = constant('mouseout');\n  var mouseup = constant('mouseup');\n  var mouseover = constant('mouseover');\n  var focusin = constant('focusin');\n  var focusout = constant('focusout');\n  var keydown = constant('keydown');\n  var keyup = constant('keyup');\n  var input = constant('input');\n  var change = constant('change');\n  var click = constant('click');\n  var transitionend = constant('transitionend');\n  var selectstart = constant('selectstart');\n  var alloy = {\n    tap: constant('alloy.tap')\n  };\n  var focus = constant('alloy.focus');\n  var postBlur = constant('alloy.blur.post');\n  var postPaste = constant('alloy.paste.post');\n  var receive = constant('alloy.receive');\n  var execute = constant('alloy.execute');\n  var focusItem = constant('alloy.focus.item');\n  var tap = alloy.tap;\n  var tapOrClick = PlatformDetection$1.detect().deviceType.isTouch() ? alloy.tap : click;\n  var longpress = constant('alloy.longpress');\n  var sandboxClose = constant('alloy.sandbox.close');\n  var typeaheadCancel = constant('alloy.typeahead.cancel');\n  var systemInit = constant('alloy.system.init');\n  var windowScroll = constant('alloy.system.scroll');\n  var windowResize = constant('alloy.system.resize');\n  var attachedToDom = constant('alloy.system.attached');\n  var detachedFromDom = constant('alloy.system.detached');\n  var dismissRequested = constant('alloy.system.dismissRequested');\n  var focusShifted = constant('alloy.focusmanager.shifted');\n  var slotVisibility = constant('alloy.slotcontainer.visibility');\n  var changeTab = constant('alloy.change.tab');\n  var dismissTab = constant('alloy.dismiss.tab');\n  var highlight = constant('alloy.highlight');\n  var dehighlight = constant('alloy.dehighlight');\n\n  var emit = function emit(component, event) {\n    dispatchWith(component, component.element(), event, {});\n  };\n\n  var emitWith = function emitWith(component, event, properties) {\n    dispatchWith(component, component.element(), event, properties);\n  };\n\n  var emitExecute = function emitExecute(component) {\n    emit(component, execute());\n  };\n\n  var dispatch = function dispatch(component, target, event) {\n    dispatchWith(component, target, event, {});\n  };\n\n  var dispatchWith = function dispatchWith(component, target, event, properties) {\n    var data = _assign({\n      target: target\n    }, properties);\n\n    component.getSystem().triggerEvent(event, target, map$1(data, constant));\n  };\n\n  var dispatchEvent = function dispatchEvent(component, target, event, simulatedEvent) {\n    component.getSystem().triggerEvent(event, target, simulatedEvent.event());\n  };\n\n  function ClosestOrAncestor(is, ancestor, scope, a, isRoot) {\n    return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n  }\n\n  var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n  var name = function name(element) {\n    var r = element.dom().nodeName;\n    return r.toLowerCase();\n  };\n\n  var type = function type(element) {\n    return element.dom().nodeType;\n  };\n\n  var isType$1 = function isType$1(t) {\n    return function (element) {\n      return type(element) === t;\n    };\n  };\n\n  var isElement = isType$1(ELEMENT);\n  var isText = isType$1(TEXT);\n\n  var inBody = function inBody(element) {\n    var dom = isText(element) ? element.dom().parentNode : element.dom();\n    return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n  };\n\n  var body = cached(function () {\n    return getBody(Element.fromDom(domGlobals.document));\n  });\n\n  var getBody = function getBody(doc) {\n    var b = doc.dom().body;\n\n    if (b === null || b === undefined) {\n      throw new Error('Body is not available yet');\n    }\n\n    return Element.fromDom(b);\n  };\n\n  var ancestor = function ancestor(scope, predicate, isRoot) {\n    var element = scope.dom();\n    var stop = isFunction(isRoot) ? isRoot : constant(false);\n\n    while (element.parentNode) {\n      element = element.parentNode;\n      var el = Element.fromDom(element);\n\n      if (predicate(el)) {\n        return Option.some(el);\n      } else if (stop(el)) {\n        break;\n      }\n    }\n\n    return Option.none();\n  };\n\n  var closest = function closest(scope, predicate, isRoot) {\n    var is = function is(s, test) {\n      return test(s);\n    };\n\n    return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n  };\n\n  var descendant = function descendant(scope, predicate) {\n    var descend = function descend(node) {\n      for (var i = 0; i < node.childNodes.length; i++) {\n        var child_1 = Element.fromDom(node.childNodes[i]);\n\n        if (predicate(child_1)) {\n          return Option.some(child_1);\n        }\n\n        var res = descend(node.childNodes[i]);\n\n        if (res.isSome()) {\n          return res;\n        }\n      }\n\n      return Option.none();\n    };\n\n    return descend(scope.dom());\n  };\n\n  var closest$1 = function closest$1(target, transform, isRoot) {\n    var delegate = closest(target, function (elem) {\n      return transform(elem).isSome();\n    }, isRoot);\n    return delegate.bind(transform);\n  };\n\n  var derive = function derive(configs) {\n    return wrapAll$1(configs);\n  };\n\n  var abort = function abort(name, predicate) {\n    return {\n      key: name,\n      value: nu$4({\n        abort: predicate\n      })\n    };\n  };\n\n  var can = function can(name, predicate) {\n    return {\n      key: name,\n      value: nu$4({\n        can: predicate\n      })\n    };\n  };\n\n  var preventDefault = function preventDefault(name) {\n    return {\n      key: name,\n      value: nu$4({\n        run: function run(component, simulatedEvent) {\n          simulatedEvent.event().prevent();\n        }\n      })\n    };\n  };\n\n  var run = function run(name, handler) {\n    return {\n      key: name,\n      value: nu$4({\n        run: handler\n      })\n    };\n  };\n\n  var runActionExtra = function runActionExtra(name, action, extra) {\n    return {\n      key: name,\n      value: nu$4({\n        run: function run(component) {\n          action.apply(undefined, [component].concat(extra));\n        }\n      })\n    };\n  };\n\n  var runOnName = function runOnName(name) {\n    return function (handler) {\n      return run(name, handler);\n    };\n  };\n\n  var runOnSourceName = function runOnSourceName(name) {\n    return function (handler) {\n      return {\n        key: name,\n        value: nu$4({\n          run: function run(component, simulatedEvent) {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      };\n    };\n  };\n\n  var redirectToUid = function redirectToUid(name, uid) {\n    return run(name, function (component, simulatedEvent) {\n      component.getSystem().getByUid(uid).each(function (redirectee) {\n        dispatchEvent(redirectee, redirectee.element(), name, simulatedEvent);\n      });\n    });\n  };\n\n  var redirectToPart = function redirectToPart(name, detail, partName) {\n    var uid = detail.partUids[partName];\n    return redirectToUid(name, uid);\n  };\n\n  var runWithTarget = function runWithTarget(name, f) {\n    return run(name, function (component, simulatedEvent) {\n      var ev = simulatedEvent.event();\n      var target = component.getSystem().getByDom(ev.target()).fold(function () {\n        var closest = closest$1(ev.target(), function (el) {\n          return component.getSystem().getByDom(el).toOption();\n        }, constant(false));\n        return closest.getOr(component);\n      }, function (c) {\n        return c;\n      });\n      f(component, target, simulatedEvent);\n    });\n  };\n\n  var cutter = function cutter(name) {\n    return run(name, function (component, simulatedEvent) {\n      simulatedEvent.cut();\n    });\n  };\n\n  var stopper = function stopper(name) {\n    return run(name, function (component, simulatedEvent) {\n      simulatedEvent.stop();\n    });\n  };\n\n  var runOnSource = function runOnSource(name, f) {\n    return runOnSourceName(name)(f);\n  };\n\n  var runOnAttached = runOnSourceName(attachedToDom());\n  var runOnDetached = runOnSourceName(detachedFromDom());\n  var runOnInit = runOnSourceName(systemInit());\n  var runOnExecute = runOnName(execute());\n\n  var Immutable = function Immutable() {\n    var fields = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      fields[_i] = arguments[_i];\n    }\n\n    return function () {\n      var values = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n      }\n\n      if (fields.length !== values.length) {\n        throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n      }\n\n      var struct = {};\n      each(fields, function (name, i) {\n        struct[name] = constant(values[i]);\n      });\n      return struct;\n    };\n  };\n\n  var sort$1 = function sort$1(arr) {\n    return arr.slice(0).sort();\n  };\n\n  var reqMessage = function reqMessage(required, keys) {\n    throw new Error('All required keys (' + sort$1(required).join(', ') + ') were not specified. Specified keys were: ' + sort$1(keys).join(', ') + '.');\n  };\n\n  var unsuppMessage = function unsuppMessage(unsupported) {\n    throw new Error('Unsupported keys for object: ' + sort$1(unsupported).join(', '));\n  };\n\n  var validateStrArr = function validateStrArr(label, array) {\n    if (!isArray(array)) {\n      throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n    }\n\n    each(array, function (a) {\n      if (!isString(a)) {\n        throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n      }\n    });\n  };\n\n  var checkDupes = function checkDupes(everything) {\n    var sorted = sort$1(everything);\n    var dupe = find(sorted, function (s, i) {\n      return i < sorted.length - 1 && s === sorted[i + 1];\n    });\n    dupe.each(function (d) {\n      throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n    });\n  };\n\n  var MixedBag = function MixedBag(required, optional) {\n    var everything = required.concat(optional);\n\n    if (everything.length === 0) {\n      throw new Error('You must specify at least one required or optional field.');\n    }\n\n    validateStrArr('required', required);\n    validateStrArr('optional', optional);\n    checkDupes(everything);\n    return function (obj) {\n      var keys$1 = keys(obj);\n      var allReqd = forall(required, function (req) {\n        return contains(keys$1, req);\n      });\n\n      if (!allReqd) {\n        reqMessage(required, keys$1);\n      }\n\n      var unsupported = filter(keys$1, function (key) {\n        return !contains(everything, key);\n      });\n\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n\n      var r = {};\n      each(required, function (req) {\n        r[req] = constant(obj[req]);\n      });\n      each(optional, function (opt) {\n        r[opt] = constant(Object.prototype.hasOwnProperty.call(obj, opt) ? Option.some(obj[opt]) : Option.none());\n      });\n      return r;\n    };\n  };\n\n  var owner = function owner(element) {\n    return Element.fromDom(element.dom().ownerDocument);\n  };\n\n  var defaultView = function defaultView(element) {\n    return Element.fromDom(element.dom().ownerDocument.defaultView);\n  };\n\n  var parent = function parent(element) {\n    return Option.from(element.dom().parentNode).map(Element.fromDom);\n  };\n\n  var offsetParent = function offsetParent(element) {\n    return Option.from(element.dom().offsetParent).map(Element.fromDom);\n  };\n\n  var nextSibling = function nextSibling(element) {\n    return Option.from(element.dom().nextSibling).map(Element.fromDom);\n  };\n\n  var children = function children(element) {\n    return map(element.dom().childNodes, Element.fromDom);\n  };\n\n  var child = function child(element, index) {\n    var cs = element.dom().childNodes;\n    return Option.from(cs[index]).map(Element.fromDom);\n  };\n\n  var firstChild = function firstChild(element) {\n    return child(element, 0);\n  };\n\n  var spot = Immutable('element', 'offset');\n\n  var fromHtml$1 = function fromHtml$1(html, scope) {\n    var doc = scope || domGlobals.document;\n    var div = doc.createElement('div');\n    div.innerHTML = html;\n    return children(Element.fromDom(div));\n  };\n\n  var before = function before(marker, element) {\n    var parent$1 = parent(marker);\n    parent$1.each(function (v) {\n      v.dom().insertBefore(element.dom(), marker.dom());\n    });\n  };\n\n  var after = function after(marker, element) {\n    var sibling = nextSibling(marker);\n    sibling.fold(function () {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        append(v, element);\n      });\n    }, function (v) {\n      before(v, element);\n    });\n  };\n\n  var prepend = function prepend(parent, element) {\n    var firstChild$1 = firstChild(parent);\n    firstChild$1.fold(function () {\n      append(parent, element);\n    }, function (v) {\n      parent.dom().insertBefore(element.dom(), v.dom());\n    });\n  };\n\n  var append = function append(parent, element) {\n    parent.dom().appendChild(element.dom());\n  };\n\n  var appendAt = function appendAt(parent, element, index) {\n    child(parent, index).fold(function () {\n      append(parent, element);\n    }, function (v) {\n      before(v, element);\n    });\n  };\n\n  var before$1 = function before$1(marker, elements) {\n    each(elements, function (x) {\n      before(marker, x);\n    });\n  };\n\n  var append$1 = function append$1(parent, elements) {\n    each(elements, function (x) {\n      append(parent, x);\n    });\n  };\n\n  var empty = function empty(element) {\n    element.dom().textContent = '';\n    each(children(element), function (rogue) {\n      remove(rogue);\n    });\n  };\n\n  var remove = function remove(element) {\n    var dom = element.dom();\n\n    if (dom.parentNode !== null) {\n      dom.parentNode.removeChild(dom);\n    }\n  };\n\n  var unwrap = function unwrap(wrapper) {\n    var children$1 = children(wrapper);\n\n    if (children$1.length > 0) {\n      before$1(wrapper, children$1);\n    }\n\n    remove(wrapper);\n  };\n\n  var get$1 = function get$1(element) {\n    return element.dom().innerHTML;\n  };\n\n  var set = function set(element, content) {\n    var owner$1 = owner(element);\n    var docDom = owner$1.dom();\n    var fragment = Element.fromDom(docDom.createDocumentFragment());\n    var contentElements = fromHtml$1(content, docDom);\n    append$1(fragment, contentElements);\n    empty(element);\n    append(element, fragment);\n  };\n\n  var getOuter = function getOuter(element) {\n    var container = Element.fromTag('div');\n    var clone = Element.fromDom(element.dom().cloneNode(true));\n    append(container, clone);\n    return get$1(container);\n  };\n\n  var rawSet = function rawSet(dom, key, value) {\n    if (isString(value) || isBoolean(value) || isNumber(value)) {\n      dom.setAttribute(key, value + '');\n    } else {\n      domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n      throw new Error('Attribute value was not simple');\n    }\n  };\n\n  var set$1 = function set$1(element, key, value) {\n    rawSet(element.dom(), key, value);\n  };\n\n  var setAll = function setAll(element, attrs) {\n    var dom = element.dom();\n    each$1(attrs, function (v, k) {\n      rawSet(dom, k, v);\n    });\n  };\n\n  var get$2 = function get$2(element, key) {\n    var v = element.dom().getAttribute(key);\n    return v === null ? undefined : v;\n  };\n\n  var has$1 = function has$1(element, key) {\n    var dom = element.dom();\n    return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n  };\n\n  var remove$1 = function remove$1(element, key) {\n    element.dom().removeAttribute(key);\n  };\n\n  var clone = function clone(original, isDeep) {\n    return Element.fromDom(original.dom().cloneNode(isDeep));\n  };\n\n  var shallow$1 = function shallow$1(original) {\n    return clone(original, false);\n  };\n\n  var getHtml = function getHtml(element) {\n    var clone = shallow$1(element);\n    return getOuter(clone);\n  };\n\n  var element = function element(elem) {\n    return getHtml(elem);\n  };\n\n  var isRecursive = function isRecursive(component, originator, target) {\n    return eq(originator, component.element()) && !eq(originator, target);\n  };\n\n  var events = derive([can(focus(), function (component, simulatedEvent) {\n    var originator = simulatedEvent.event().originator();\n    var target = simulatedEvent.event().target();\n\n    if (isRecursive(component, originator, target)) {\n      domGlobals.console.warn(focus() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus() + ' event handlers');\n      return false;\n    } else {\n      return true;\n    }\n  })]);\n  var DefaultEvents =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events\n  });\n  var unique = 0;\n\n  var generate$1 = function generate$1(prefix) {\n    var date = new Date();\n    var time = date.getTime();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n  };\n\n  var prefix = constant('alloy-id-');\n  var idAttr = constant('data-alloy-id');\n  var prefix$1 = prefix();\n  var idAttr$1 = idAttr();\n\n  var write = function write(label, elem) {\n    var id = generate$1(prefix$1 + label);\n    writeOnly(elem, id);\n    return id;\n  };\n\n  var writeOnly = function writeOnly(elem, uid) {\n    Object.defineProperty(elem.dom(), idAttr$1, {\n      value: uid,\n      writable: true\n    });\n  };\n\n  var read$1 = function read$1(elem) {\n    var id = isElement(elem) ? elem.dom()[idAttr$1] : null;\n    return Option.from(id);\n  };\n\n  var generate$2 = function generate$2(prefix) {\n    return generate$1(prefix);\n  };\n\n  var make = identity;\n\n  var NoContextApi = function NoContextApi(getComp) {\n    var fail = function fail(event) {\n      return function () {\n        throw new Error('The component must be in a context to send: ' + event + '\\n' + element(getComp().element()) + ' is not in context.');\n      };\n    };\n\n    return {\n      debugInfo: constant('fake'),\n      triggerEvent: fail('triggerEvent'),\n      triggerFocus: fail('triggerFocus'),\n      triggerEscape: fail('triggerEscape'),\n      build: fail('build'),\n      addToWorld: fail('addToWorld'),\n      removeFromWorld: fail('removeFromWorld'),\n      addToGui: fail('addToGui'),\n      removeFromGui: fail('removeFromGui'),\n      getByUid: fail('getByUid'),\n      getByDom: fail('getByDom'),\n      broadcast: fail('broadcast'),\n      broadcastOn: fail('broadcastOn'),\n      broadcastEvent: fail('broadcastEvent'),\n      isConnected: constant(false)\n    };\n  };\n\n  var singleton = NoContextApi();\n\n  var markAsBehaviourApi = function markAsBehaviourApi(f, apiName, apiFunction) {\n    var delegate = apiFunction.toString();\n    var endIndex = delegate.indexOf(')') + 1;\n    var openBracketIndex = delegate.indexOf('(');\n    var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n\n    f.toFunctionAnnotation = function () {\n      return {\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      };\n    };\n\n    return f;\n  };\n\n  var cleanParameters = function cleanParameters(parameters) {\n    return map(parameters, function (p) {\n      return endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p;\n    });\n  };\n\n  var markAsExtraApi = function markAsExtraApi(f, extraName) {\n    var delegate = f.toString();\n    var endIndex = delegate.indexOf(')') + 1;\n    var openBracketIndex = delegate.indexOf('(');\n    var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n\n    f.toFunctionAnnotation = function () {\n      return {\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      };\n    };\n\n    return f;\n  };\n\n  var markAsSketchApi = function markAsSketchApi(f, apiFunction) {\n    var delegate = apiFunction.toString();\n    var endIndex = delegate.indexOf(')') + 1;\n    var openBracketIndex = delegate.indexOf('(');\n    var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n\n    f.toFunctionAnnotation = function () {\n      return {\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      };\n    };\n\n    return f;\n  };\n\n  var premadeTag = generate$1('alloy-premade');\n\n  var premade = function premade(comp) {\n    return wrap$1(premadeTag, comp);\n  };\n\n  var getPremade = function getPremade(spec) {\n    return readOptFrom$1(spec, premadeTag);\n  };\n\n  var makeApi = function makeApi(f) {\n    return markAsSketchApi(function (component) {\n      var rest = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        rest[_i - 1] = arguments[_i];\n      }\n\n      return f.apply(undefined, [component.getApis()].concat([component].concat(rest)));\n    }, f);\n  };\n\n  var NoState = {\n    init: function init() {\n      return nu$5({\n        readState: function readState() {\n          return 'No State required';\n        }\n      });\n    }\n  };\n\n  var nu$5 = function nu$5(spec) {\n    return spec;\n  };\n\n  var generateFrom = function generateFrom(spec, all) {\n    var schema = map(all, function (a) {\n      return optionObjOf(a.name(), [strict$1('config'), defaulted$1('state', NoState)]);\n    });\n    var validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(function (errInfo) {\n      throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n    }, function (v) {\n      return v;\n    });\n    return {\n      list: all,\n      data: map$1(validated, function (optBlobThunk) {\n        var optBlob = optBlobThunk;\n        var output = optBlob.map(function (blob) {\n          return {\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          };\n        });\n        return function () {\n          return output;\n        };\n      })\n    };\n  };\n\n  var getBehaviours = function getBehaviours(bData) {\n    return bData.list;\n  };\n\n  var getData = function getData(bData) {\n    return bData.data;\n  };\n\n  var byInnerKey = function byInnerKey(data, tuple) {\n    var r = {};\n    each$1(data, function (detail, key) {\n      each$1(detail, function (value, indexKey) {\n        var chain = readOr$1(indexKey, [])(r);\n        r[indexKey] = chain.concat([tuple(key, value)]);\n      });\n    });\n    return r;\n  };\n\n  var nu$6 = function nu$6(s) {\n    return {\n      classes: s.classes !== undefined ? s.classes : [],\n      attributes: s.attributes !== undefined ? s.attributes : {},\n      styles: s.styles !== undefined ? s.styles : {}\n    };\n  };\n\n  var merge$1 = function merge$1(defnA, mod) {\n    return _assign({}, defnA, {\n      attributes: _assign({}, defnA.attributes, mod.attributes),\n      styles: _assign({}, defnA.styles, mod.styles),\n      classes: defnA.classes.concat(mod.classes)\n    });\n  };\n\n  var combine = function combine(info, baseMod, behaviours, base) {\n    var modsByBehaviour = _assign({}, baseMod);\n\n    each(behaviours, function (behaviour) {\n      modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n    });\n\n    var nameAndMod = function nameAndMod(name, modification) {\n      return {\n        name: name,\n        modification: modification\n      };\n    };\n\n    var byAspect = byInnerKey(modsByBehaviour, nameAndMod);\n\n    var combineObjects = function combineObjects(objects) {\n      return foldr(objects, function (b, a) {\n        return _assign({}, a.modification, b);\n      }, {});\n    };\n\n    var combinedClasses = foldr(byAspect.classes, function (b, a) {\n      return a.modification.concat(b);\n    }, []);\n    var combinedAttributes = combineObjects(byAspect.attributes);\n    var combinedStyles = combineObjects(byAspect.styles);\n    return nu$6({\n      classes: combinedClasses,\n      attributes: combinedAttributes,\n      styles: combinedStyles\n    });\n  };\n\n  var sortKeys = function sortKeys(label, keyName, array, order) {\n    var sliced = array.slice(0);\n\n    try {\n      var sorted = sliced.sort(function (a, b) {\n        var aKey = a[keyName]();\n        var bKey = b[keyName]();\n        var aIndex = order.indexOf(aKey);\n        var bIndex = order.indexOf(bKey);\n\n        if (aIndex === -1) {\n          throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n        }\n\n        if (bIndex === -1) {\n          throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n        }\n\n        if (aIndex < bIndex) {\n          return -1;\n        } else if (bIndex < aIndex) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n      return Result.value(sorted);\n    } catch (err) {\n      return Result.error([err]);\n    }\n  };\n\n  var uncurried = function uncurried(handler, purpose) {\n    return {\n      handler: handler,\n      purpose: constant(purpose)\n    };\n  };\n\n  var curried = function curried(handler, purpose) {\n    return {\n      cHandler: handler,\n      purpose: constant(purpose)\n    };\n  };\n\n  var curryArgs = function curryArgs(descHandler, extraArgs) {\n    return curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose());\n  };\n\n  var getCurried = function getCurried(descHandler) {\n    return descHandler.cHandler;\n  };\n\n  var behaviourTuple = function behaviourTuple(name, handler) {\n    return {\n      name: constant(name),\n      handler: constant(handler)\n    };\n  };\n\n  var nameToHandlers = function nameToHandlers(behaviours, info) {\n    var r = {};\n    each(behaviours, function (behaviour) {\n      r[behaviour.name()] = behaviour.handlers(info);\n    });\n    return r;\n  };\n\n  var groupByEvents = function groupByEvents(info, behaviours, base) {\n    var behaviourEvents = _assign({}, base, nameToHandlers(behaviours, info));\n\n    return byInnerKey(behaviourEvents, behaviourTuple);\n  };\n\n  var combine$1 = function combine$1(info, eventOrder, behaviours, base) {\n    var byEventName = groupByEvents(info, behaviours, base);\n    return combineGroups(byEventName, eventOrder);\n  };\n\n  var assemble = function assemble(rawHandler) {\n    var handler = read(rawHandler);\n    return function (component, simulatedEvent) {\n      var rest = [];\n\n      for (var _i = 2; _i < arguments.length; _i++) {\n        rest[_i - 2] = arguments[_i];\n      }\n\n      var args = [component, simulatedEvent].concat(rest);\n\n      if (handler.abort.apply(undefined, args)) {\n        simulatedEvent.stop();\n      } else if (handler.can.apply(undefined, args)) {\n        handler.run.apply(undefined, args);\n      }\n    };\n  };\n\n  var missingOrderError = function missingOrderError(eventName, tuples) {\n    return Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map(tuples, function (c) {\n      return c.name();\n    }), null, 2)]);\n  };\n\n  var fuse$1 = function fuse$1(tuples, eventOrder, eventName) {\n    var order = eventOrder[eventName];\n\n    if (!order) {\n      return missingOrderError(eventName, tuples);\n    } else {\n      return sortKeys('Event: ' + eventName, 'name', tuples, order).map(function (sortedTuples) {\n        var handlers = map(sortedTuples, function (tuple) {\n          return tuple.handler();\n        });\n        return fuse(handlers);\n      });\n    }\n  };\n\n  var combineGroups = function combineGroups(byEventName, eventOrder) {\n    var r = mapToArray(byEventName, function (tuples, eventName) {\n      var combined = tuples.length === 1 ? Result.value(tuples[0].handler()) : fuse$1(tuples, eventOrder, eventName);\n      return combined.map(function (handler) {\n        var assembled = assemble(handler);\n        var purpose = tuples.length > 1 ? filter(eventOrder[eventName], function (o) {\n          return exists(tuples, function (t) {\n            return t.name() === o;\n          });\n        }).join(' > ') : tuples[0].name();\n        return wrap$1(eventName, uncurried(assembled, purpose));\n      });\n    });\n    return consolidate(r, {});\n  };\n\n  var toInfo = function toInfo(spec) {\n    return asRaw('custom.definition', objOf([field('dom', 'dom', strict(), objOf([strict$1('tag'), defaulted$1('styles', {}), defaulted$1('classes', []), defaulted$1('attributes', {}), option('value'), option('innerHtml')])), strict$1('components'), strict$1('uid'), defaulted$1('events', {}), defaulted$1('apis', {}), field('eventOrder', 'eventOrder', mergeWith({\n      'alloy.execute': ['disabling', 'alloy.base.behaviour', 'toggling', 'typeaheadevents'],\n      'alloy.focus': ['alloy.base.behaviour', 'focusing', 'keying'],\n      'alloy.system.init': ['alloy.base.behaviour', 'disabling', 'toggling', 'representing'],\n      'input': ['alloy.base.behaviour', 'representing', 'streaming', 'invalidating'],\n      'alloy.system.detached': ['alloy.base.behaviour', 'representing', 'item-events', 'tooltipping'],\n      'mousedown': ['focusing', 'alloy.base.behaviour', 'item-type-events'],\n      'mouseover': ['item-type-events', 'tooltipping']\n    }), anyValue$1()), option('domModification')]), spec);\n  };\n\n  var toDefinition = function toDefinition(detail) {\n    return _assign({}, detail.dom, {\n      uid: detail.uid,\n      domChildren: map(detail.components, function (comp) {\n        return comp.element();\n      })\n    });\n  };\n\n  var toModification = function toModification(detail) {\n    return detail.domModification.fold(function () {\n      return nu$6({});\n    }, nu$6);\n  };\n\n  var toEvents = function toEvents(info) {\n    return info.events;\n  };\n\n  var read$2 = function read$2(element, attr) {\n    var value = get$2(element, attr);\n    return value === undefined || value === '' ? [] : value.split(' ');\n  };\n\n  var add = function add(element, attr, id) {\n    var old = read$2(element, attr);\n    var nu = old.concat([id]);\n    set$1(element, attr, nu.join(' '));\n    return true;\n  };\n\n  var remove$2 = function remove$2(element, attr, id) {\n    var nu = filter(read$2(element, attr), function (v) {\n      return v !== id;\n    });\n\n    if (nu.length > 0) {\n      set$1(element, attr, nu.join(' '));\n    } else {\n      remove$1(element, attr);\n    }\n\n    return false;\n  };\n\n  var supports = function supports(element) {\n    return element.dom().classList !== undefined;\n  };\n\n  var get$3 = function get$3(element) {\n    return read$2(element, 'class');\n  };\n\n  var add$1 = function add$1(element, clazz) {\n    return add(element, 'class', clazz);\n  };\n\n  var remove$3 = function remove$3(element, clazz) {\n    return remove$2(element, 'class', clazz);\n  };\n\n  var add$2 = function add$2(element, clazz) {\n    if (supports(element)) {\n      element.dom().classList.add(clazz);\n    } else {\n      add$1(element, clazz);\n    }\n  };\n\n  var cleanClass = function cleanClass(element) {\n    var classList = supports(element) ? element.dom().classList : get$3(element);\n\n    if (classList.length === 0) {\n      remove$1(element, 'class');\n    }\n  };\n\n  var remove$4 = function remove$4(element, clazz) {\n    if (supports(element)) {\n      var classList = element.dom().classList;\n      classList.remove(clazz);\n    } else {\n      remove$3(element, clazz);\n    }\n\n    cleanClass(element);\n  };\n\n  var has$2 = function has$2(element, clazz) {\n    return supports(element) && element.dom().classList.contains(clazz);\n  };\n\n  var add$3 = function add$3(element, classes) {\n    each(classes, function (x) {\n      add$2(element, x);\n    });\n  };\n\n  var remove$5 = function remove$5(element, classes) {\n    each(classes, function (x) {\n      remove$4(element, x);\n    });\n  };\n\n  var isSupported = function isSupported(dom) {\n    return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n  };\n\n  var internalSet = function internalSet(dom, property, value) {\n    if (!isString(value)) {\n      domGlobals.console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n      throw new Error('CSS value must be a string: ' + value);\n    }\n\n    if (isSupported(dom)) {\n      dom.style.setProperty(property, value);\n    }\n  };\n\n  var internalRemove = function internalRemove(dom, property) {\n    if (isSupported(dom)) {\n      dom.style.removeProperty(property);\n    }\n  };\n\n  var set$2 = function set$2(element, property, value) {\n    var dom = element.dom();\n    internalSet(dom, property, value);\n  };\n\n  var setAll$1 = function setAll$1(element, css) {\n    var dom = element.dom();\n    each$1(css, function (v, k) {\n      internalSet(dom, k, v);\n    });\n  };\n\n  var setOptions = function setOptions(element, css) {\n    var dom = element.dom();\n    each$1(css, function (v, k) {\n      v.fold(function () {\n        internalRemove(dom, k);\n      }, function (value) {\n        internalSet(dom, k, value);\n      });\n    });\n  };\n\n  var get$4 = function get$4(element, property) {\n    var dom = element.dom();\n    var styles = domGlobals.window.getComputedStyle(dom);\n    var r = styles.getPropertyValue(property);\n    var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    return v === null ? undefined : v;\n  };\n\n  var getUnsafeProperty = function getUnsafeProperty(dom, property) {\n    return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n  };\n\n  var getRaw = function getRaw(element, property) {\n    var dom = element.dom();\n    var raw = getUnsafeProperty(dom, property);\n    return Option.from(raw).filter(function (r) {\n      return r.length > 0;\n    });\n  };\n\n  var isValidValue = function isValidValue(tag, property, value) {\n    var element = Element.fromTag(tag);\n    set$2(element, property, value);\n    var style = getRaw(element, property);\n    return style.isSome();\n  };\n\n  var remove$6 = function remove$6(element, property) {\n    var dom = element.dom();\n    internalRemove(dom, property);\n\n    if (has$1(element, 'style') && trim(get$2(element, 'style')) === '') {\n      remove$1(element, 'style');\n    }\n  };\n\n  var reflow = function reflow(e) {\n    return e.dom().offsetWidth;\n  };\n\n  var get$5 = function get$5(element) {\n    return element.dom().value;\n  };\n\n  var set$3 = function set$3(element, value) {\n    if (value === undefined) {\n      throw new Error('Value.set was undefined');\n    }\n\n    element.dom().value = value;\n  };\n\n  var renderToDom = function renderToDom(definition) {\n    var subject = Element.fromTag(definition.tag);\n    setAll(subject, definition.attributes);\n    add$3(subject, definition.classes);\n    setAll$1(subject, definition.styles);\n    definition.innerHtml.each(function (html) {\n      return set(subject, html);\n    });\n    var children = definition.domChildren;\n    append$1(subject, children);\n    definition.value.each(function (value) {\n      set$3(subject, value);\n    });\n\n    if (!definition.uid) {\n      debugger;\n    }\n\n    writeOnly(subject, definition.uid);\n    return subject;\n  };\n\n  var getBehaviours$1 = function getBehaviours$1(spec) {\n    var behaviours = readOr$1('behaviours', {})(spec);\n    var keys$1 = filter(keys(behaviours), function (k) {\n      return behaviours[k] !== undefined;\n    });\n    return map(keys$1, function (k) {\n      return behaviours[k].me;\n    });\n  };\n\n  var generateFrom$1 = function generateFrom$1(spec, all) {\n    return generateFrom(spec, all);\n  };\n\n  var generate$3 = function generate$3(spec) {\n    var all = getBehaviours$1(spec);\n    return generateFrom$1(spec, all);\n  };\n\n  var getDomDefinition = function getDomDefinition(info, bList, bData) {\n    var definition = toDefinition(info);\n    var infoModification = toModification(info);\n    var baseModification = {\n      'alloy.base.modification': infoModification\n    };\n    var modification = bList.length > 0 ? combine(bData, baseModification, bList, definition) : infoModification;\n    return merge$1(definition, modification);\n  };\n\n  var getEvents = function getEvents(info, bList, bData) {\n    var baseEvents = {\n      'alloy.base.behaviour': toEvents(info)\n    };\n    return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n  };\n\n  var build = function build(spec) {\n    var getMe = function getMe() {\n      return me;\n    };\n\n    var systemApi = Cell(singleton);\n    var info = getOrDie(toInfo(spec));\n    var bBlob = generate$3(spec);\n    var bList = getBehaviours(bBlob);\n    var bData = getData(bBlob);\n    var modDefinition = getDomDefinition(info, bList, bData);\n    var item = renderToDom(modDefinition);\n    var events = getEvents(info, bList, bData);\n    var subcomponents = Cell(info.components);\n\n    var connect = function connect(newApi) {\n      systemApi.set(newApi);\n    };\n\n    var disconnect = function disconnect() {\n      systemApi.set(NoContextApi(getMe));\n    };\n\n    var syncComponents = function syncComponents() {\n      var children$1 = children(item);\n      var subs = bind(children$1, function (child) {\n        return systemApi.get().getByDom(child).fold(function () {\n          return [];\n        }, function (c) {\n          return [c];\n        });\n      });\n      subcomponents.set(subs);\n    };\n\n    var config = function config(behaviour) {\n      var b = bData;\n      var f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : function () {\n        throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n      };\n      return f();\n    };\n\n    var hasConfigured = function hasConfigured(behaviour) {\n      return isFunction(bData[behaviour.name()]);\n    };\n\n    var getApis = function getApis() {\n      return info.apis;\n    };\n\n    var readState = function readState(behaviourName) {\n      return bData[behaviourName]().map(function (b) {\n        return b.state.readState();\n      }).getOr('not enabled');\n    };\n\n    var me = {\n      getSystem: systemApi.get,\n      config: config,\n      hasConfigured: hasConfigured,\n      spec: constant(spec),\n      readState: readState,\n      getApis: getApis,\n      connect: connect,\n      disconnect: disconnect,\n      element: constant(item),\n      syncComponents: syncComponents,\n      components: subcomponents.get,\n      events: constant(events)\n    };\n    return me;\n  };\n\n  var buildSubcomponents = function buildSubcomponents(spec) {\n    var components = readOr$1('components', [])(spec);\n    return map(components, build$1);\n  };\n\n  var buildFromSpec = function buildFromSpec(userSpec) {\n    var _a = make(userSpec),\n        specEvents = _a.events,\n        spec = __rest(_a, ['events']);\n\n    var components = buildSubcomponents(spec);\n\n    var completeSpec = _assign({}, spec, {\n      events: _assign({}, DefaultEvents, specEvents),\n      components: components\n    });\n\n    return Result.value(build(completeSpec));\n  };\n\n  var text = function text(textContent) {\n    var element = Element.fromText(textContent);\n    return external({\n      element: element\n    });\n  };\n\n  var external = function external(spec) {\n    var extSpec = asRawOrDie('external.component', objOfOnly([strict$1('element'), option('uid')]), spec);\n    var systemApi = Cell(NoContextApi());\n\n    var connect = function connect(newApi) {\n      systemApi.set(newApi);\n    };\n\n    var disconnect = function disconnect() {\n      systemApi.set(NoContextApi(function () {\n        return me;\n      }));\n    };\n\n    extSpec.uid.each(function (uid) {\n      writeOnly(extSpec.element, uid);\n    });\n    var me = {\n      getSystem: systemApi.get,\n      config: Option.none,\n      hasConfigured: constant(false),\n      connect: connect,\n      disconnect: disconnect,\n      getApis: function getApis() {\n        return {};\n      },\n      element: constant(extSpec.element),\n      spec: constant(spec),\n      readState: constant('No state'),\n      syncComponents: noop,\n      components: constant([]),\n      events: constant({})\n    };\n    return premade(me);\n  };\n\n  var uids = generate$2;\n\n  var build$1 = function build$1(spec) {\n    return getPremade(spec).fold(function () {\n      var userSpecWithUid = spec.hasOwnProperty('uid') ? spec : _assign({\n        uid: uids('')\n      }, spec);\n      return buildFromSpec(userSpecWithUid).getOrDie();\n    }, function (prebuilt) {\n      return prebuilt;\n    });\n  };\n\n  var premade$1 = premade;\n\n  var closest$2 = function closest$2(scope, predicate, isRoot) {\n    return closest(scope, predicate, isRoot).isSome();\n  };\n\n  var ancestor$1 = function ancestor$1(scope, selector, isRoot) {\n    return ancestor(scope, function (e) {\n      return is(e, selector);\n    }, isRoot);\n  };\n\n  var descendant$1 = function descendant$1(scope, selector) {\n    return one(selector, scope);\n  };\n\n  var closest$3 = function closest$3(scope, selector, isRoot) {\n    return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n  };\n\n  var find$3 = function find$3(queryElem) {\n    var dependent = closest(queryElem, function (elem) {\n      if (!isElement(elem)) {\n        return false;\n      }\n\n      var id = get$2(elem, 'id');\n      return id !== undefined && id.indexOf('aria-owns') > -1;\n    });\n    return dependent.bind(function (dep) {\n      var id = get$2(dep, 'id');\n      var doc = owner(dep);\n      return descendant$1(doc, '[aria-owns=\"' + id + '\"]');\n    });\n  };\n\n  var manager = function manager() {\n    var ariaId = generate$1('aria-owns');\n\n    var link = function link(elem) {\n      set$1(elem, 'aria-owns', ariaId);\n    };\n\n    var unlink = function unlink(elem) {\n      remove$1(elem, 'aria-owns');\n    };\n\n    return {\n      id: constant(ariaId),\n      link: link,\n      unlink: unlink\n    };\n  };\n\n  var isAriaPartOf = function isAriaPartOf(component, queryElem) {\n    return find$3(queryElem).exists(function (owner) {\n      return _isPartOf(component, owner);\n    });\n  };\n\n  var _isPartOf = function isPartOf(component, queryElem) {\n    return closest$2(queryElem, function (el) {\n      return eq(el, component.element());\n    }, constant(false)) || isAriaPartOf(component, queryElem);\n  };\n\n  var cat = function cat(arr) {\n    var r = [];\n\n    var push = function push(x) {\n      r.push(x);\n    };\n\n    for (var i = 0; i < arr.length; i++) {\n      arr[i].each(push);\n    }\n\n    return r;\n  };\n\n  var findMap = function findMap(arr, f) {\n    for (var i = 0; i < arr.length; i++) {\n      var r = f(arr[i], i);\n\n      if (r.isSome()) {\n        return r;\n      }\n    }\n\n    return Option.none();\n  };\n\n  var liftN = function liftN(arr, f) {\n    var r = [];\n\n    for (var i = 0; i < arr.length; i++) {\n      var x = arr[i];\n\n      if (x.isSome()) {\n        r.push(x.getOrDie());\n      } else {\n        return Option.none();\n      }\n    }\n\n    return Option.some(f.apply(null, r));\n  };\n\n  var unknown$3 = 'unknown';\n  var EventConfiguration;\n\n  (function (EventConfiguration) {\n    EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n    EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n    EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n  })(EventConfiguration || (EventConfiguration = {}));\n\n  var eventConfig = Cell({});\n\n  var makeEventLogger = function makeEventLogger(eventName, initialTarget) {\n    var sequence = [];\n    var startTime = new Date().getTime();\n    return {\n      logEventCut: function logEventCut(name, target, purpose) {\n        sequence.push({\n          outcome: 'cut',\n          target: target,\n          purpose: purpose\n        });\n      },\n      logEventStopped: function logEventStopped(name, target, purpose) {\n        sequence.push({\n          outcome: 'stopped',\n          target: target,\n          purpose: purpose\n        });\n      },\n      logNoParent: function logNoParent(name, target, purpose) {\n        sequence.push({\n          outcome: 'no-parent',\n          target: target,\n          purpose: purpose\n        });\n      },\n      logEventNoHandlers: function logEventNoHandlers(name, target) {\n        sequence.push({\n          outcome: 'no-handlers-left',\n          target: target\n        });\n      },\n      logEventResponse: function logEventResponse(name, target, purpose) {\n        sequence.push({\n          outcome: 'response',\n          purpose: purpose,\n          target: target\n        });\n      },\n      write: function write() {\n        var finishTime = new Date().getTime();\n\n        if (contains(['mousemove', 'mouseover', 'mouseout', systemInit()], eventName)) {\n          return;\n        }\n\n        domGlobals.console.log(eventName, {\n          event: eventName,\n          time: finishTime - startTime,\n          target: initialTarget.dom(),\n          sequence: map(sequence, function (s) {\n            if (!contains(['cut', 'stopped', 'response'], s.outcome)) {\n              return s.outcome;\n            } else {\n              return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n            }\n          })\n        });\n      }\n    };\n  };\n\n  var processEvent = function processEvent(eventName, initialTarget, f) {\n    var status = readOptFrom$1(eventConfig.get(), eventName).orThunk(function () {\n      var patterns = keys(eventConfig.get());\n      return findMap(patterns, function (p) {\n        return eventName.indexOf(p) > -1 ? Option.some(eventConfig.get()[p]) : Option.none();\n      });\n    }).getOr(EventConfiguration.NORMAL);\n\n    switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n\n      case EventConfiguration.LOGGING:\n        {\n          var logger = makeEventLogger(eventName, initialTarget);\n          var output = f(logger);\n          logger.write();\n          return output;\n        }\n\n      case EventConfiguration.STOP:\n        return true;\n    }\n  };\n\n  var path = ['alloy/data/Fields', 'alloy/debugging/Debugging'];\n\n  var getTrace = function getTrace() {\n    var err = new Error();\n\n    if (err.stack !== undefined) {\n      var lines = err.stack.split('\\n');\n      return find(lines, function (line) {\n        return line.indexOf('alloy') > 0 && !exists(path, function (p) {\n          return line.indexOf(p) > -1;\n        });\n      }).getOr(unknown$3);\n    } else {\n      return unknown$3;\n    }\n  };\n\n  var ignoreEvent = {\n    logEventCut: noop,\n    logEventStopped: noop,\n    logNoParent: noop,\n    logEventNoHandlers: noop,\n    logEventResponse: noop,\n    write: noop\n  };\n\n  var monitorEvent = function monitorEvent(eventName, initialTarget, f) {\n    return processEvent(eventName, initialTarget, f);\n  };\n\n  var noLogger = constant(ignoreEvent);\n  var menuFields = constant([strict$1('menu'), strict$1('selectedMenu')]);\n  var itemFields = constant([strict$1('item'), strict$1('selectedItem')]);\n  var schema = constant(objOf(itemFields().concat(menuFields())));\n  var itemSchema = constant(objOf(itemFields()));\n\n  var _initSize = strictObjOf('initSize', [strict$1('numColumns'), strict$1('numRows')]);\n\n  var itemMarkers = function itemMarkers() {\n    return strictOf('markers', itemSchema());\n  };\n\n  var tieredMenuMarkers = function tieredMenuMarkers() {\n    return strictObjOf('markers', [strict$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n  };\n\n  var markers = function markers(required) {\n    return strictObjOf('markers', map(required, strict$1));\n  };\n\n  var onPresenceHandler = function onPresenceHandler(label, fieldName, presence) {\n    var trace = getTrace();\n    return field(fieldName, fieldName, presence, valueOf(function (f) {\n      return Result.value(function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return f.apply(undefined, args);\n      });\n    }));\n  };\n\n  var onHandler = function onHandler(fieldName) {\n    return onPresenceHandler('onHandler', fieldName, defaulted(noop));\n  };\n\n  var onKeyboardHandler = function onKeyboardHandler(fieldName) {\n    return onPresenceHandler('onKeyboardHandler', fieldName, defaulted(Option.none));\n  };\n\n  var onStrictHandler = function onStrictHandler(fieldName) {\n    return onPresenceHandler('onHandler', fieldName, strict());\n  };\n\n  var onStrictKeyboardHandler = function onStrictKeyboardHandler(fieldName) {\n    return onPresenceHandler('onKeyboardHandler', fieldName, strict());\n  };\n\n  var output = function output(name, value) {\n    return state$1(name, constant(value));\n  };\n\n  var snapshot = function snapshot(name) {\n    return state$1(name, identity);\n  };\n\n  var initSize = constant(_initSize);\n\n  var executeEvent = function executeEvent(bConfig, bState, executor) {\n    return runOnExecute(function (component) {\n      executor(component, bConfig, bState);\n    });\n  };\n\n  var loadEvent = function loadEvent(bConfig, bState, f) {\n    return runOnInit(function (component, simulatedEvent) {\n      f(component, bConfig, bState);\n    });\n  };\n\n  var create = function create(schema, name, active, apis, extra, state) {\n    var configSchema = objOfOnly(schema);\n    var schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n    return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n  };\n\n  var createModes = function createModes(modes, name, active, apis, extra, state) {\n    var configSchema = modes;\n    var schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n    return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n  };\n\n  var wrapApi = function wrapApi(bName, apiFunction, apiName) {\n    var f = function f(component) {\n      var rest = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        rest[_i - 1] = arguments[_i];\n      }\n\n      var args = [component].concat(rest);\n      return component.config({\n        name: constant(bName)\n      }).fold(function () {\n        throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n      }, function (info) {\n        var rest = Array.prototype.slice.call(args, 1);\n        return apiFunction.apply(undefined, [component, info.config, info.state].concat(rest));\n      });\n    };\n\n    return markAsBehaviourApi(f, apiName, apiFunction);\n  };\n\n  var revokeBehaviour = function revokeBehaviour(name) {\n    return {\n      key: name,\n      value: undefined\n    };\n  };\n\n  var doCreate = function doCreate(configSchema, schemaSchema, _name2, active, apis, extra, state) {\n    var getConfig = function getConfig(info) {\n      return hasKey$1(info, _name2) ? info[_name2]() : Option.none();\n    };\n\n    var wrappedApis = map$1(apis, function (apiF, apiName) {\n      return wrapApi(_name2, apiF, apiName);\n    });\n    var wrappedExtra = map$1(extra, function (extraF, extraName) {\n      return markAsExtraApi(extraF, extraName);\n    });\n\n    var me = _assign({}, wrappedExtra, wrappedApis, {\n      revoke: curry(revokeBehaviour, _name2),\n      config: function config(spec) {\n        var prepared = asRawOrDie(_name2 + '-config', configSchema, spec);\n        return {\n          key: _name2,\n          value: {\n            config: prepared,\n            me: me,\n            configAsRaw: cached(function () {\n              return asRawOrDie(_name2 + '-config', configSchema, spec);\n            }),\n            initialConfig: spec,\n            state: state\n          }\n        };\n      },\n      schema: function schema() {\n        return schemaSchema;\n      },\n      exhibit: function exhibit(info, base) {\n        return getConfig(info).bind(function (behaviourInfo) {\n          return readOptFrom$1(active, 'exhibit').map(function (exhibitor) {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          });\n        }).getOr(nu$6({}));\n      },\n      name: function name() {\n        return _name2;\n      },\n      handlers: function handlers(info) {\n        return getConfig(info).map(function (behaviourInfo) {\n          var getEvents = readOr$1('events', function (a, b) {\n            return {};\n          })(active);\n          return getEvents(behaviourInfo.config, behaviourInfo.state);\n        }).getOr({});\n      }\n    });\n\n    return me;\n  };\n\n  var derive$1 = function derive$1(capabilities) {\n    return wrapAll$1(capabilities);\n  };\n\n  var simpleSchema = objOfOnly([strict$1('fields'), strict$1('name'), defaulted$1('active', {}), defaulted$1('apis', {}), defaulted$1('state', NoState), defaulted$1('extra', {})]);\n\n  var create$1 = function create$1(data) {\n    var value = asRawOrDie('Creating behaviour: ' + data.name, simpleSchema, data);\n    return create(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n  };\n\n  var modeSchema = objOfOnly([strict$1('branchKey'), strict$1('branches'), strict$1('name'), defaulted$1('active', {}), defaulted$1('apis', {}), defaulted$1('state', NoState), defaulted$1('extra', {})]);\n\n  var createModes$1 = function createModes$1(data) {\n    var value = asRawOrDie('Creating behaviour: ' + data.name, modeSchema, data);\n    return createModes(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n  };\n\n  var revoke = constant(undefined);\n\n  var chooseChannels = function chooseChannels(channels, message) {\n    return message.universal() ? channels : filter(channels, function (ch) {\n      return contains(message.channels(), ch);\n    });\n  };\n\n  var events$1 = function events$1(receiveConfig) {\n    return derive([run(receive(), function (component, message) {\n      var channelMap = receiveConfig.channels;\n      var channels = keys(channelMap);\n      var targetChannels = chooseChannels(channels, message);\n      each(targetChannels, function (ch) {\n        var channelInfo = channelMap[ch];\n        var channelSchema = channelInfo.schema;\n        var data = asRawOrDie('channel[' + ch + '] data\\nReceiver: ' + element(component.element()), channelSchema, message.data());\n        channelInfo.onReceive(component, data);\n      });\n    })]);\n  };\n\n  var ActiveReceiving =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$1\n  });\n  var ReceivingSchema = [strictOf('channels', setOf$1(Result.value, objOfOnly([onStrictHandler('onReceive'), defaulted$1('schema', anyValue$1())])))];\n  var Receiving = create$1({\n    fields: ReceivingSchema,\n    name: 'receiving',\n    active: ActiveReceiving\n  });\n\n  var exhibit = function exhibit(base, posConfig) {\n    return nu$6({\n      classes: [],\n      styles: posConfig.useFixed ? {} : {\n        position: 'relative'\n      }\n    });\n  };\n\n  var ActivePosition =\n  /*#__PURE__*/\n  Object.freeze({\n    exhibit: exhibit\n  });\n\n  var r = function r(left, top) {\n    var translate = function translate(x, y) {\n      return r(left + x, top + y);\n    };\n\n    return {\n      left: constant(left),\n      top: constant(top),\n      translate: translate\n    };\n  };\n\n  var Position = r;\n\n  var boxPosition = function boxPosition(dom) {\n    var box = dom.getBoundingClientRect();\n    return Position(box.left, box.top);\n  };\n\n  var firstDefinedOrZero = function firstDefinedOrZero(a, b) {\n    return a !== undefined ? a : b !== undefined ? b : 0;\n  };\n\n  var absolute = function absolute(element) {\n    var doc = element.dom().ownerDocument;\n    var body = doc.body;\n    var win = doc.defaultView;\n    var html = doc.documentElement;\n    var scrollTop = firstDefinedOrZero(win.pageYOffset, html.scrollTop);\n    var scrollLeft = firstDefinedOrZero(win.pageXOffset, html.scrollLeft);\n    var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n    var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n    return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n  };\n\n  var viewport = function viewport(element) {\n    var dom = element.dom();\n    var doc = dom.ownerDocument;\n    var body = doc.body;\n\n    if (body === dom) {\n      return Position(body.offsetLeft, body.offsetTop);\n    }\n\n    if (!inBody(element)) {\n      return Position(0, 0);\n    }\n\n    return boxPosition(dom);\n  };\n\n  function Dimension(name, getOffset) {\n    var set = function set(element, h) {\n      if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n        throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n      }\n\n      var dom = element.dom();\n\n      if (isSupported(dom)) {\n        dom.style[name] = h + 'px';\n      }\n    };\n\n    var get = function get(element) {\n      var r = getOffset(element);\n\n      if (r <= 0 || r === null) {\n        var css = get$4(element, name);\n        return parseFloat(css) || 0;\n      }\n\n      return r;\n    };\n\n    var getOuter = get;\n\n    var aggregate = function aggregate(element, properties) {\n      return foldl(properties, function (acc, property) {\n        var val = get$4(element, property);\n        var value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n    };\n\n    var max = function max(element, value, properties) {\n      var cumulativeInclusions = aggregate(element, properties);\n      var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n      return absoluteMax;\n    };\n\n    return {\n      set: set,\n      get: get,\n      getOuter: getOuter,\n      aggregate: aggregate,\n      max: max\n    };\n  }\n\n  var api = Dimension('height', function (element) {\n    var dom = element.dom();\n    return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n  });\n\n  var get$6 = function get$6(element) {\n    return api.get(element);\n  };\n\n  var getOuter$1 = function getOuter$1(element) {\n    return api.getOuter(element);\n  };\n\n  var setMax = function setMax(element, value) {\n    var inclusions = ['margin-top', 'border-top-width', 'padding-top', 'padding-bottom', 'border-bottom-width', 'margin-bottom'];\n    var absMax = api.max(element, value, inclusions);\n    set$2(element, 'max-height', absMax + 'px');\n  };\n\n  var api$1 = Dimension('width', function (element) {\n    return element.dom().offsetWidth;\n  });\n\n  var set$4 = function set$4(element, h) {\n    api$1.set(element, h);\n  };\n\n  var get$7 = function get$7(element) {\n    return api$1.get(element);\n  };\n\n  var getOuter$2 = function getOuter$2(element) {\n    return api$1.getOuter(element);\n  };\n\n  var isSafari = PlatformDetection$1.detect().browser.isSafari();\n\n  var get$8 = function get$8(_DOC) {\n    var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n    var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n    var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n    return Position(x, y);\n  };\n\n  var walkUp = function walkUp(navigation, doc) {\n    var frame = navigation.view(doc);\n    return frame.fold(constant([]), function (f) {\n      var parent = navigation.owner(f);\n      var rest = walkUp(navigation, parent);\n      return [f].concat(rest);\n    });\n  };\n\n  var pathTo = function pathTo(element, navigation) {\n    var d = navigation.owner(element);\n    var paths = walkUp(navigation, d);\n    return Option.some(paths);\n  };\n\n  var view = function view(doc) {\n    var element = doc.dom() === domGlobals.document ? Option.none() : Option.from(doc.dom().defaultView.frameElement);\n    return element.map(Element.fromDom);\n  };\n\n  var owner$1 = function owner$1(element) {\n    return owner(element);\n  };\n\n  var Navigation =\n  /*#__PURE__*/\n  Object.freeze({\n    view: view,\n    owner: owner$1\n  });\n\n  var find$4 = function find$4(element) {\n    var doc = Element.fromDom(domGlobals.document);\n    var scroll = get$8(doc);\n    var path = pathTo(element, Navigation);\n    return path.fold(curry(absolute, element), function (frames) {\n      var offset = viewport(element);\n      var r = foldr(frames, function (b, a) {\n        var loc = viewport(a);\n        return {\n          left: b.left + loc.left(),\n          top: b.top + loc.top()\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return Position(r.left + offset.left() + scroll.left(), r.top + offset.top() + scroll.top());\n    });\n  };\n\n  var pointed = Immutable('point', 'width', 'height');\n  var rect = Immutable('x', 'y', 'width', 'height');\n\n  var bounds = function bounds(x, y, width, height) {\n    return {\n      x: constant(x),\n      y: constant(y),\n      width: constant(width),\n      height: constant(height),\n      right: constant(x + width),\n      bottom: constant(y + height)\n    };\n  };\n\n  var box = function box(element) {\n    var xy = absolute(element);\n    var w = getOuter$2(element);\n    var h = getOuter$1(element);\n    return bounds(xy.left(), xy.top(), w, h);\n  };\n\n  var win = function win() {\n    var width = domGlobals.window.innerWidth;\n    var height = domGlobals.window.innerHeight;\n    var doc = Element.fromDom(domGlobals.document);\n    var scroll = get$8(doc);\n    return bounds(scroll.left(), scroll.top(), width, height);\n  };\n\n  var allAlignments = ['valignCentre', 'alignLeft', 'alignRight', 'alignCentre', 'top', 'bottom', 'left', 'right'];\n\n  var nu$7 = function nu$7(width, yoffset, classes) {\n    var getClasses = function getClasses(prop) {\n      return readOptFrom$1(classes, prop).getOr([]);\n    };\n\n    var make = function make(xDelta, yDelta, alignmentsOn) {\n      var alignmentsOff = difference(allAlignments, alignmentsOn);\n      return {\n        offset: function offset() {\n          return Position(xDelta, yDelta);\n        },\n        classesOn: function classesOn() {\n          return bind(alignmentsOn, getClasses);\n        },\n        classesOff: function classesOff() {\n          return bind(alignmentsOff, getClasses);\n        }\n      };\n    };\n\n    return {\n      southeast: function southeast() {\n        return make(-width, yoffset, ['top', 'alignLeft']);\n      },\n      southwest: function southwest() {\n        return make(width, yoffset, ['top', 'alignRight']);\n      },\n      south: function south() {\n        return make(-width / 2, yoffset, ['top', 'alignCentre']);\n      },\n      northeast: function northeast() {\n        return make(-width, -yoffset, ['bottom', 'alignLeft']);\n      },\n      northwest: function northwest() {\n        return make(width, -yoffset, ['bottom', 'alignRight']);\n      },\n      north: function north() {\n        return make(-width / 2, -yoffset, ['bottom', 'alignCentre']);\n      },\n      east: function east() {\n        return make(width, -yoffset / 2, ['valignCentre', 'left']);\n      },\n      west: function west() {\n        return make(-width, -yoffset / 2, ['valignCentre', 'right']);\n      },\n      innerNorthwest: function innerNorthwest() {\n        return make(-width, yoffset, ['top', 'alignRight']);\n      },\n      innerNortheast: function innerNortheast() {\n        return make(width, yoffset, ['top', 'alignLeft']);\n      },\n      innerNorth: function innerNorth() {\n        return make(-width / 2, yoffset, ['top', 'alignCentre']);\n      },\n      innerSouthwest: function innerSouthwest() {\n        return make(-width, -yoffset, ['bottom', 'alignRight']);\n      },\n      innerSoutheast: function innerSoutheast() {\n        return make(width, -yoffset, ['bottom', 'alignLeft']);\n      },\n      innerSouth: function innerSouth() {\n        return make(-width / 2, -yoffset, ['bottom', 'alignCentre']);\n      },\n      innerWest: function innerWest() {\n        return make(width, -yoffset / 2, ['valignCentre', 'right']);\n      },\n      innerEast: function innerEast() {\n        return make(-width, -yoffset / 2, ['valignCentre', 'left']);\n      }\n    };\n  };\n\n  var fallback = function fallback() {\n    return nu$7(0, 0, {});\n  };\n\n  var nu$8 = Immutable('x', 'y', 'bubble', 'direction', 'label');\n  var adt$2 = Adt.generate([{\n    southeast: []\n  }, {\n    southwest: []\n  }, {\n    northeast: []\n  }, {\n    northwest: []\n  }, {\n    south: []\n  }, {\n    north: []\n  }, {\n    east: []\n  }, {\n    west: []\n  }]);\n\n  var cata = function cata(subject, southeast, southwest, northeast, northwest, south, north, east, west) {\n    return subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n  };\n\n  var cataVertical = function cataVertical(subject, south, middle, north) {\n    return subject.fold(south, south, north, north, south, north, middle, middle);\n  };\n\n  var southeast = adt$2.southeast;\n  var southwest = adt$2.southwest;\n  var northeast = adt$2.northeast;\n  var northwest = adt$2.northwest;\n  var south = adt$2.south;\n  var north = adt$2.north;\n  var east = adt$2.east;\n  var west = adt$2.west;\n\n  var eastX = function eastX(anchor) {\n    return anchor.x();\n  };\n\n  var middleX = function middleX(anchor, element) {\n    return anchor.x() + anchor.width() / 2 - element.width() / 2;\n  };\n\n  var westX = function westX(anchor, element) {\n    return anchor.x() + anchor.width() - element.width();\n  };\n\n  var northY = function northY(anchor, element) {\n    return anchor.y() - element.height();\n  };\n\n  var southY = function southY(anchor) {\n    return anchor.y() + anchor.height();\n  };\n\n  var centreY = function centreY(anchor, element) {\n    return anchor.y() + anchor.height() / 2 - element.height() / 2;\n  };\n\n  var eastEdgeX = function eastEdgeX(anchor) {\n    return anchor.x() + anchor.width();\n  };\n\n  var westEdgeX = function westEdgeX(anchor, element) {\n    return anchor.x() - element.width();\n  };\n\n  var southeast$1 = function southeast$1(anchor, element, bubbles) {\n    return nu$8(eastX(anchor), southY(anchor), bubbles.southeast(), southeast(), 'layout-se');\n  };\n\n  var southwest$1 = function southwest$1(anchor, element, bubbles) {\n    return nu$8(westX(anchor, element), southY(anchor), bubbles.southwest(), southwest(), 'layout-sw');\n  };\n\n  var northeast$1 = function northeast$1(anchor, element, bubbles) {\n    return nu$8(eastX(anchor), northY(anchor, element), bubbles.northeast(), northeast(), 'layout-ne');\n  };\n\n  var northwest$1 = function northwest$1(anchor, element, bubbles) {\n    return nu$8(westX(anchor, element), northY(anchor, element), bubbles.northwest(), northwest(), 'layout-nw');\n  };\n\n  var north$1 = function north$1(anchor, element, bubbles) {\n    return nu$8(middleX(anchor, element), northY(anchor, element), bubbles.north(), north(), 'layout-n');\n  };\n\n  var south$1 = function south$1(anchor, element, bubbles) {\n    return nu$8(middleX(anchor, element), southY(anchor), bubbles.south(), south(), 'layout-s');\n  };\n\n  var east$1 = function east$1(anchor, element, bubbles) {\n    return nu$8(eastEdgeX(anchor), centreY(anchor, element), bubbles.east(), east(), 'layout-e');\n  };\n\n  var west$1 = function west$1(anchor, element, bubbles) {\n    return nu$8(westEdgeX(anchor, element), centreY(anchor, element), bubbles.west(), west(), 'layout-w');\n  };\n\n  var all$2 = function all$2() {\n    return [southeast$1, southwest$1, northeast$1, northwest$1, south$1, north$1, east$1, west$1];\n  };\n\n  var allRtl = function allRtl() {\n    return [southwest$1, southeast$1, northwest$1, northeast$1, south$1, north$1, east$1, west$1];\n  };\n\n  var decision = MixedBag(['x', 'y', 'width', 'height', 'maxHeight', 'direction', 'classes', 'label', 'candidateYforTest'], []);\n  var css = Immutable('position', 'left', 'top', 'right', 'bottom');\n  var adt$3 = Adt.generate([{\n    none: []\n  }, {\n    relative: ['x', 'y', 'width', 'height']\n  }, {\n    fixed: ['x', 'y', 'width', 'height']\n  }]);\n\n  var positionWithDirection = function positionWithDirection(posName, decision, x, y, width, height) {\n    var decisionX = decision.x() - x;\n    var decisionY = decision.y() - y;\n    var decisionWidth = decision.width();\n    var decisionHeight = decision.height();\n    var decisionRight = width - (decisionX + decisionWidth);\n    var decisionBottom = height - (decisionY + decisionHeight);\n    var left = Option.some(decisionX);\n    var top = Option.some(decisionY);\n    var right = Option.some(decisionRight);\n    var bottom = Option.some(decisionBottom);\n    var none = Option.none();\n    return cata(decision.direction(), function () {\n      return css(posName, left, top, none, none);\n    }, function () {\n      return css(posName, none, top, right, none);\n    }, function () {\n      return css(posName, left, none, none, bottom);\n    }, function () {\n      return css(posName, none, none, right, bottom);\n    }, function () {\n      return css(posName, left, top, none, none);\n    }, function () {\n      return css(posName, left, none, none, bottom);\n    }, function () {\n      return css(posName, left, top, none, none);\n    }, function () {\n      return css(posName, none, top, right, none);\n    });\n  };\n\n  var reposition = function reposition(origin, decision) {\n    return origin.fold(function () {\n      return css('absolute', Option.some(decision.x()), Option.some(decision.y()), Option.none(), Option.none());\n    }, function (x, y, width, height) {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, function (x, y, width, height) {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n  };\n\n  var toBox = function toBox(origin, element) {\n    var rel = curry(find$4, element);\n    var position = origin.fold(rel, rel, function () {\n      var scroll = get$8();\n      return find$4(element).translate(-scroll.left(), -scroll.top());\n    });\n    var width = getOuter$2(element);\n    var height = getOuter$1(element);\n    return bounds(position.left(), position.top(), width, height);\n  };\n\n  var viewport$1 = function viewport$1(origin, getBounds) {\n    return getBounds.fold(function () {\n      return origin.fold(win, win, bounds);\n    }, function (b) {\n      return origin.fold(b, b, bounds);\n    });\n  };\n\n  var cata$1 = function cata$1(subject, onNone, onRelative, onFixed) {\n    return subject.fold(onNone, onRelative, onFixed);\n  };\n\n  var relative = adt$3.relative;\n  var fixed = adt$3.fixed;\n\n  var nu$9 = function nu$9(x) {\n    return x;\n  };\n\n  var onDirection = function onDirection(isLtr, isRtl) {\n    return function (element) {\n      return getDirection(element) === 'rtl' ? isRtl : isLtr;\n    };\n  };\n\n  var getDirection = function getDirection(element) {\n    return get$4(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n  };\n\n  var schema$1 = function schema$1() {\n    return optionObjOf('layouts', [strict$1('onLtr'), strict$1('onRtl')]);\n  };\n\n  var get$9 = function get$9(elem, info, defaultLtr, defaultRtl) {\n    var ltr = info.layouts.map(function (ls) {\n      return ls.onLtr(elem);\n    }).getOr(defaultLtr);\n    var rtl = info.layouts.map(function (ls) {\n      return ls.onRtl(elem);\n    }).getOr(defaultRtl);\n    var f = onDirection(ltr, rtl);\n    return f(elem);\n  };\n\n  var placement = function placement(component, anchorInfo, origin) {\n    var hotspot = anchorInfo.hotspot;\n    var anchorBox = toBox(origin, hotspot.element());\n    var layouts = get$9(component.element(), anchorInfo, all$2(), allRtl());\n    return Option.some(nu$9({\n      anchorBox: anchorBox,\n      bubble: anchorInfo.bubble.getOr(fallback()),\n      overrides: anchorInfo.overrides,\n      layouts: layouts,\n      placer: Option.none()\n    }));\n  };\n\n  var HotspotAnchor = [strict$1('hotspot'), option('bubble'), defaulted$1('overrides', {}), schema$1(), output('placement', placement)];\n\n  var placement$1 = function placement$1(component, anchorInfo, origin) {\n    var anchorBox = bounds(anchorInfo.x, anchorInfo.y, anchorInfo.width, anchorInfo.height);\n    var layouts = get$9(component.element(), anchorInfo, all$2(), allRtl());\n    return Option.some(nu$9({\n      anchorBox: anchorBox,\n      bubble: anchorInfo.bubble,\n      overrides: anchorInfo.overrides,\n      layouts: layouts,\n      placer: Option.none()\n    }));\n  };\n\n  var MakeshiftAnchor = [strict$1('x'), strict$1('y'), defaulted$1('height', 0), defaulted$1('width', 0), defaulted$1('bubble', fallback()), defaulted$1('overrides', {}), schema$1(), output('placement', placement$1)];\n\n  var zeroWidth = function zeroWidth() {\n    return \"\\uFEFF\";\n  };\n\n  var create$2 = Immutable('start', 'soffset', 'finish', 'foffset');\n  var SimRange = {\n    create: create$2\n  };\n  var adt$4 = Adt.generate([{\n    before: ['element']\n  }, {\n    on: ['element', 'offset']\n  }, {\n    after: ['element']\n  }]);\n\n  var cata$2 = function cata$2(subject, onBefore, onOn, onAfter) {\n    return subject.fold(onBefore, onOn, onAfter);\n  };\n\n  var getStart = function getStart(situ) {\n    return situ.fold(identity, identity, identity);\n  };\n\n  var before$2 = adt$4.before;\n  var on = adt$4.on;\n  var after$1 = adt$4.after;\n  var Situ = {\n    before: before$2,\n    on: on,\n    after: after$1,\n    cata: cata$2,\n    getStart: getStart\n  };\n  var adt$5 = Adt.generate([{\n    domRange: ['rng']\n  }, {\n    relative: ['startSitu', 'finishSitu']\n  }, {\n    exact: ['start', 'soffset', 'finish', 'foffset']\n  }]);\n\n  var exactFromRange = function exactFromRange(simRange) {\n    return adt$5.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());\n  };\n\n  var getStart$1 = function getStart$1(selection) {\n    return selection.match({\n      domRange: function domRange(rng) {\n        return Element.fromDom(rng.startContainer);\n      },\n      relative: function relative(startSitu, finishSitu) {\n        return Situ.getStart(startSitu);\n      },\n      exact: function exact(start, soffset, finish, foffset) {\n        return start;\n      }\n    });\n  };\n\n  var domRange = adt$5.domRange;\n  var relative$1 = adt$5.relative;\n  var exact = adt$5.exact;\n\n  var getWin = function getWin(selection) {\n    var start = getStart$1(selection);\n    return defaultView(start);\n  };\n\n  var range$1 = SimRange.create;\n  var Selection = {\n    domRange: domRange,\n    relative: relative$1,\n    exact: exact,\n    exactFromRange: exactFromRange,\n    getWin: getWin,\n    range: range$1\n  };\n\n  var setStart = function setStart(rng, situ) {\n    situ.fold(function (e) {\n      rng.setStartBefore(e.dom());\n    }, function (e, o) {\n      rng.setStart(e.dom(), o);\n    }, function (e) {\n      rng.setStartAfter(e.dom());\n    });\n  };\n\n  var setFinish = function setFinish(rng, situ) {\n    situ.fold(function (e) {\n      rng.setEndBefore(e.dom());\n    }, function (e, o) {\n      rng.setEnd(e.dom(), o);\n    }, function (e) {\n      rng.setEndAfter(e.dom());\n    });\n  };\n\n  var relativeToNative = function relativeToNative(win, startSitu, finishSitu) {\n    var range = win.document.createRange();\n    setStart(range, startSitu);\n    setFinish(range, finishSitu);\n    return range;\n  };\n\n  var exactToNative = function exactToNative(win, start, soffset, finish, foffset) {\n    var rng = win.document.createRange();\n    rng.setStart(start.dom(), soffset);\n    rng.setEnd(finish.dom(), foffset);\n    return rng;\n  };\n\n  var toRect = function toRect(rect) {\n    return {\n      left: constant(rect.left),\n      top: constant(rect.top),\n      right: constant(rect.right),\n      bottom: constant(rect.bottom),\n      width: constant(rect.width),\n      height: constant(rect.height)\n    };\n  };\n\n  var getFirstRect = function getFirstRect(rng) {\n    var rects = rng.getClientRects();\n    var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n    return rect.width > 0 || rect.height > 0 ? Option.some(rect).map(toRect) : Option.none();\n  };\n\n  var adt$6 = Adt.generate([{\n    ltr: ['start', 'soffset', 'finish', 'foffset']\n  }, {\n    rtl: ['start', 'soffset', 'finish', 'foffset']\n  }]);\n\n  var fromRange = function fromRange(win, type, range) {\n    return type(Element.fromDom(range.startContainer), range.startOffset, Element.fromDom(range.endContainer), range.endOffset);\n  };\n\n  var getRanges = function getRanges(win, selection) {\n    return selection.match({\n      domRange: function domRange(rng) {\n        return {\n          ltr: constant(rng),\n          rtl: Option.none\n        };\n      },\n      relative: function relative(startSitu, finishSitu) {\n        return {\n          ltr: cached(function () {\n            return relativeToNative(win, startSitu, finishSitu);\n          }),\n          rtl: cached(function () {\n            return Option.some(relativeToNative(win, finishSitu, startSitu));\n          })\n        };\n      },\n      exact: function exact(start, soffset, finish, foffset) {\n        return {\n          ltr: cached(function () {\n            return exactToNative(win, start, soffset, finish, foffset);\n          }),\n          rtl: cached(function () {\n            return Option.some(exactToNative(win, finish, foffset, start, soffset));\n          })\n        };\n      }\n    });\n  };\n\n  var doDiagnose = function doDiagnose(win, ranges) {\n    var rng = ranges.ltr();\n\n    if (rng.collapsed) {\n      var reversed = ranges.rtl().filter(function (rev) {\n        return rev.collapsed === false;\n      });\n      return reversed.map(function (rev) {\n        return adt$6.rtl(Element.fromDom(rev.endContainer), rev.endOffset, Element.fromDom(rev.startContainer), rev.startOffset);\n      }).getOrThunk(function () {\n        return fromRange(win, adt$6.ltr, rng);\n      });\n    } else {\n      return fromRange(win, adt$6.ltr, rng);\n    }\n  };\n\n  var diagnose = function diagnose(win, selection) {\n    var ranges = getRanges(win, selection);\n    return doDiagnose(win, ranges);\n  };\n\n  var asLtrRange = function asLtrRange(win, selection) {\n    var diagnosis = diagnose(win, selection);\n    return diagnosis.match({\n      ltr: function ltr(start, soffset, finish, foffset) {\n        var rng = win.document.createRange();\n        rng.setStart(start.dom(), soffset);\n        rng.setEnd(finish.dom(), foffset);\n        return rng;\n      },\n      rtl: function rtl(start, soffset, finish, foffset) {\n        var rng = win.document.createRange();\n        rng.setStart(finish.dom(), foffset);\n        rng.setEnd(start.dom(), soffset);\n        return rng;\n      }\n    });\n  };\n\n  var searchForPoint = function searchForPoint(rectForOffset, x, y, maxX, length) {\n    if (length === 0) {\n      return 0;\n    } else if (x === maxX) {\n      return length - 1;\n    }\n\n    var xDelta = maxX;\n\n    for (var i = 1; i < length; i++) {\n      var rect = rectForOffset(i);\n      var curDeltaX = Math.abs(x - rect.left);\n\n      if (y <= rect.bottom) {\n        if (y < rect.top || curDeltaX > xDelta) {\n          return i - 1;\n        } else {\n          xDelta = curDeltaX;\n        }\n      }\n    }\n\n    return 0;\n  };\n\n  var inRect = function inRect(rect, x, y) {\n    return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n  };\n\n  function NodeValue(is, name) {\n    var get = function get(element) {\n      if (!is(element)) {\n        throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n      }\n\n      return getOption(element).getOr('');\n    };\n\n    var getOption = function getOption(element) {\n      return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\n    };\n\n    var set = function set(element, value) {\n      if (!is(element)) {\n        throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n      }\n\n      element.dom().nodeValue = value;\n    };\n\n    return {\n      get: get,\n      getOption: getOption,\n      set: set\n    };\n  }\n\n  var api$2 = NodeValue(isText, 'text');\n\n  var get$a = function get$a(element) {\n    return api$2.get(element);\n  };\n\n  var getOption = function getOption(element) {\n    return api$2.getOption(element);\n  };\n\n  var locateOffset = function locateOffset(doc, textnode, x, y, rect) {\n    var rangeForOffset = function rangeForOffset(o) {\n      var r = doc.dom().createRange();\n      r.setStart(textnode.dom(), o);\n      r.collapse(true);\n      return r;\n    };\n\n    var rectForOffset = function rectForOffset(o) {\n      var r = rangeForOffset(o);\n      return r.getBoundingClientRect();\n    };\n\n    var length = get$a(textnode).length;\n    var offset = searchForPoint(rectForOffset, x, y, rect.right, length);\n    return rangeForOffset(offset);\n  };\n\n  var locate = function locate(doc, node, x, y) {\n    var r = doc.dom().createRange();\n    r.selectNode(node.dom());\n    var rects = r.getClientRects();\n    var foundRect = findMap(rects, function (rect) {\n      return inRect(rect, x, y) ? Option.some(rect) : Option.none();\n    });\n    return foundRect.map(function (rect) {\n      return locateOffset(doc, node, x, y, rect);\n    });\n  };\n\n  var searchInChildren = function searchInChildren(doc, node, x, y) {\n    var r = doc.dom().createRange();\n    var nodes = children(node);\n    return findMap(nodes, function (n) {\n      r.selectNode(n.dom());\n      return inRect(r.getBoundingClientRect(), x, y) ? locateNode(doc, n, x, y) : Option.none();\n    });\n  };\n\n  var locateNode = function locateNode(doc, node, x, y) {\n    return isText(node) ? locate(doc, node, x, y) : searchInChildren(doc, node, x, y);\n  };\n\n  var locate$1 = function locate$1(doc, node, x, y) {\n    var r = doc.dom().createRange();\n    r.selectNode(node.dom());\n    var rect = r.getBoundingClientRect();\n    var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n    var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n    return locateNode(doc, node, boundedX, boundedY);\n  };\n\n  var getEnd = function getEnd(element) {\n    return name(element) === 'img' ? 1 : getOption(element).fold(function () {\n      return children(element).length;\n    }, function (v) {\n      return v.length;\n    });\n  };\n\n  var NBSP = '\\xA0';\n\n  var isTextNodeWithCursorPosition = function isTextNodeWithCursorPosition(el) {\n    return getOption(el).filter(function (text) {\n      return text.trim().length !== 0 || text.indexOf(NBSP) > -1;\n    }).isSome();\n  };\n\n  var elementsWithCursorPosition = ['img', 'br'];\n\n  var isCursorPosition = function isCursorPosition(elem) {\n    var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n    return hasCursorPosition || contains(elementsWithCursorPosition, name(elem));\n  };\n\n  var first = function first(element) {\n    return descendant(element, isCursorPosition);\n  };\n\n  var last$1 = function last$1(element) {\n    return descendantRtl(element, isCursorPosition);\n  };\n\n  var descendantRtl = function descendantRtl(scope, predicate) {\n    var descend = function descend(element) {\n      var children$1 = children(element);\n\n      for (var i = children$1.length - 1; i >= 0; i--) {\n        var child = children$1[i];\n\n        if (predicate(child)) {\n          return Option.some(child);\n        }\n\n        var res = descend(child);\n\n        if (res.isSome()) {\n          return res;\n        }\n      }\n\n      return Option.none();\n    };\n\n    return descend(scope);\n  };\n\n  var COLLAPSE_TO_LEFT = true;\n  var COLLAPSE_TO_RIGHT = false;\n\n  var getCollapseDirection = function getCollapseDirection(rect, x) {\n    return x - rect.left < rect.right - x ? COLLAPSE_TO_LEFT : COLLAPSE_TO_RIGHT;\n  };\n\n  var createCollapsedNode = function createCollapsedNode(doc, target, collapseDirection) {\n    var r = doc.dom().createRange();\n    r.selectNode(target.dom());\n    r.collapse(collapseDirection);\n    return r;\n  };\n\n  var locateInElement = function locateInElement(doc, node, x) {\n    var cursorRange = doc.dom().createRange();\n    cursorRange.selectNode(node.dom());\n    var rect = cursorRange.getBoundingClientRect();\n    var collapseDirection = getCollapseDirection(rect, x);\n    var f = collapseDirection === COLLAPSE_TO_LEFT ? first : last$1;\n    return f(node).map(function (target) {\n      return createCollapsedNode(doc, target, collapseDirection);\n    });\n  };\n\n  var locateInEmpty = function locateInEmpty(doc, node, x) {\n    var rect = node.dom().getBoundingClientRect();\n    var collapseDirection = getCollapseDirection(rect, x);\n    return Option.some(createCollapsedNode(doc, node, collapseDirection));\n  };\n\n  var search = function search(doc, node, x) {\n    var f = children(node).length === 0 ? locateInEmpty : locateInElement;\n    return f(doc, node, x);\n  };\n\n  var caretPositionFromPoint = function caretPositionFromPoint(doc, x, y) {\n    return Option.from(doc.dom().caretPositionFromPoint(x, y)).bind(function (pos) {\n      if (pos.offsetNode === null) {\n        return Option.none();\n      }\n\n      var r = doc.dom().createRange();\n      r.setStart(pos.offsetNode, pos.offset);\n      r.collapse();\n      return Option.some(r);\n    });\n  };\n\n  var caretRangeFromPoint = function caretRangeFromPoint(doc, x, y) {\n    return Option.from(doc.dom().caretRangeFromPoint(x, y));\n  };\n\n  var searchTextNodes = function searchTextNodes(doc, node, x, y) {\n    var r = doc.dom().createRange();\n    r.selectNode(node.dom());\n    var rect = r.getBoundingClientRect();\n    var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n    var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n    return locate$1(doc, node, boundedX, boundedY);\n  };\n\n  var searchFromPoint = function searchFromPoint(doc, x, y) {\n    return Element.fromPoint(doc, x, y).bind(function (elem) {\n      var fallback = function fallback() {\n        return search(doc, elem, x);\n      };\n\n      return children(elem).length === 0 ? fallback() : searchTextNodes(doc, elem, x, y).orThunk(fallback);\n    });\n  };\n\n  var availableSearch = document.caretPositionFromPoint ? caretPositionFromPoint : document.caretRangeFromPoint ? caretRangeFromPoint : searchFromPoint;\n\n  var descendants = function descendants(scope, selector) {\n    return all(selector, scope);\n  };\n\n  var makeRange = function makeRange(start, soffset, finish, foffset) {\n    var doc = owner(start);\n    var rng = doc.dom().createRange();\n    rng.setStart(start.dom(), soffset);\n    rng.setEnd(finish.dom(), foffset);\n    return rng;\n  };\n\n  var after$2 = function after$2(start, soffset, finish, foffset) {\n    var r = makeRange(start, soffset, finish, foffset);\n    var same = eq(start, finish) && soffset === foffset;\n    return r.collapsed && !same;\n  };\n\n  var readRange = function readRange(selection) {\n    if (selection.rangeCount > 0) {\n      var firstRng = selection.getRangeAt(0);\n      var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n      return Option.some(SimRange.create(Element.fromDom(firstRng.startContainer), firstRng.startOffset, Element.fromDom(lastRng.endContainer), lastRng.endOffset));\n    } else {\n      return Option.none();\n    }\n  };\n\n  var doGetExact = function doGetExact(selection) {\n    var anchor = Element.fromDom(selection.anchorNode);\n    var focus = Element.fromDom(selection.focusNode);\n    return after$2(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Option.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n  };\n\n  var getExact = function getExact(win) {\n    return Option.from(win.getSelection()).filter(function (sel) {\n      return sel.rangeCount > 0;\n    }).bind(doGetExact);\n  };\n\n  var getFirstRect$1 = function getFirstRect$1(win, selection) {\n    var rng = asLtrRange(win, selection);\n    return getFirstRect(rng);\n  };\n\n  var point = Immutable('element', 'offset');\n\n  var descendOnce = function descendOnce(element, offset) {\n    var children$1 = children(element);\n\n    if (children$1.length === 0) {\n      return point(element, offset);\n    } else if (offset < children$1.length) {\n      return point(children$1[offset], 0);\n    } else {\n      var last = children$1[children$1.length - 1];\n      var len = isText(last) ? get$a(last).length : children(last).length;\n      return point(last, len);\n    }\n  };\n\n  var adt$7 = Adt.generate([{\n    screen: ['point']\n  }, {\n    absolute: ['point', 'scrollLeft', 'scrollTop']\n  }]);\n\n  var toFixed = function toFixed(pos) {\n    return pos.fold(function (point) {\n      return point;\n    }, function (point, scrollLeft, scrollTop) {\n      return point.translate(-scrollLeft, -scrollTop);\n    });\n  };\n\n  var toAbsolute = function toAbsolute(pos) {\n    return pos.fold(function (point) {\n      return point;\n    }, function (point, scrollLeft, scrollTop) {\n      return point;\n    });\n  };\n\n  var sum = function sum(points) {\n    return foldl(points, function (b, a) {\n      return b.translate(a.left(), a.top());\n    }, Position(0, 0));\n  };\n\n  var sumAsFixed = function sumAsFixed(positions) {\n    var points = map(positions, toFixed);\n    return sum(points);\n  };\n\n  var sumAsAbsolute = function sumAsAbsolute(positions) {\n    var points = map(positions, toAbsolute);\n    return sum(points);\n  };\n\n  var screen = adt$7.screen;\n  var absolute$1 = adt$7.absolute;\n\n  var getOffset = function getOffset(component, origin, anchorInfo) {\n    var win = defaultView(anchorInfo.root).dom();\n\n    var hasSameOwner = function hasSameOwner(frame) {\n      var frameOwner = owner(frame);\n      var compOwner = owner(component.element());\n      return eq(frameOwner, compOwner);\n    };\n\n    return Option.from(win.frameElement).map(Element.fromDom).filter(hasSameOwner).map(absolute);\n  };\n\n  var getRootPoint = function getRootPoint(component, origin, anchorInfo) {\n    var doc = owner(component.element());\n    var outerScroll = get$8(doc);\n    var offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n    return absolute$1(offset, outerScroll.left(), outerScroll.top());\n  };\n\n  var capRect = function capRect(left, top, width, height) {\n    var newLeft = left,\n        newTop = top,\n        newWidth = width,\n        newHeight = height;\n\n    if (left < 0) {\n      newLeft = 0;\n      newWidth = width + left;\n    }\n\n    if (top < 0) {\n      newTop = 0;\n      newHeight = height + top;\n    }\n\n    var point = screen(Position(newLeft, newTop));\n    return Option.some(pointed(point, newWidth, newHeight));\n  };\n\n  var calcNewAnchor = function calcNewAnchor(optBox, rootPoint, anchorInfo, origin, elem) {\n    return optBox.map(function (box) {\n      var points = [rootPoint, box.point()];\n      var topLeft = cata$1(origin, function () {\n        return sumAsAbsolute(points);\n      }, function () {\n        return sumAsAbsolute(points);\n      }, function () {\n        return sumAsFixed(points);\n      });\n      var anchorBox = rect(topLeft.left(), topLeft.top(), box.width(), box.height());\n\n      var layoutsLtr = function layoutsLtr() {\n        return anchorInfo.showAbove ? [northeast$1, northwest$1, southeast$1, southwest$1, north$1, south$1] : [southeast$1, southwest$1, northeast$1, northwest$1, south$1, south$1];\n      };\n\n      var layoutsRtl = function layoutsRtl() {\n        return anchorInfo.showAbove ? [northwest$1, northeast$1, southwest$1, southeast$1, north$1, south$1] : [southwest$1, southeast$1, northwest$1, northeast$1, south$1, north$1];\n      };\n\n      var layouts = get$9(elem, anchorInfo, layoutsLtr(), layoutsRtl());\n      return nu$9({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Option.none()\n      });\n    });\n  };\n\n  var ContentAnchorCommon = {\n    capRect: capRect,\n    calcNewAnchor: calcNewAnchor\n  };\n  var point$1 = Immutable('element', 'offset');\n\n  var descendOnce$1 = function descendOnce$1(element, offset) {\n    return isText(element) ? point$1(element, offset) : descendOnce(element, offset);\n  };\n\n  var getAnchorSelection = function getAnchorSelection(win, anchorInfo) {\n    var getSelection = anchorInfo.getSelection.getOrThunk(function () {\n      return function () {\n        return getExact(win);\n      };\n    });\n    return getSelection().map(function (sel) {\n      var modStart = descendOnce$1(sel.start(), sel.soffset());\n      var modFinish = descendOnce$1(sel.finish(), sel.foffset());\n      return Selection.range(modStart.element(), modStart.offset(), modFinish.element(), modFinish.offset());\n    });\n  };\n\n  var placement$2 = function placement$2(component, anchorInfo, origin) {\n    var win = defaultView(anchorInfo.root).dom();\n    var rootPoint = getRootPoint(component, origin, anchorInfo);\n    var selectionBox = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n      var optRect = getFirstRect$1(win, Selection.exactFromRange(sel)).orThunk(function () {\n        var x = Element.fromText(zeroWidth());\n        before(sel.start(), x);\n        return getFirstRect$1(win, Selection.exact(x, 0, x, 1)).map(function (rect) {\n          remove(x);\n          return rect;\n        });\n      });\n      return optRect.bind(function (rawRect) {\n        return ContentAnchorCommon.capRect(rawRect.left(), rawRect.top(), rawRect.width(), rawRect.height());\n      });\n    });\n    var targetElement = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n      return isElement(sel.start()) ? Option.some(sel.start()) : parent(sel.start());\n    });\n    var elem = targetElement.getOr(component.element());\n    return ContentAnchorCommon.calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n  };\n\n  var SelectionAnchor = [option('getSelection'), strict$1('root'), option('bubble'), schema$1(), defaulted$1('overrides', {}), defaulted$1('showAbove', false), output('placement', placement$2)];\n\n  var placement$3 = function placement$3(component, anchorInfo, origin) {\n    var rootPoint = getRootPoint(component, origin, anchorInfo);\n    return anchorInfo.node.bind(function (target) {\n      var rect = target.dom().getBoundingClientRect();\n      var nodeBox = ContentAnchorCommon.capRect(rect.left, rect.top, rect.width, rect.height);\n      var elem = anchorInfo.node.getOr(component.element());\n      return ContentAnchorCommon.calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n    });\n  };\n\n  var NodeAnchor = [strict$1('node'), strict$1('root'), option('bubble'), schema$1(), defaulted$1('overrides', {}), defaulted$1('showAbove', false), output('placement', placement$3)];\n\n  var eastX$1 = function eastX$1(anchor) {\n    return anchor.x() + anchor.width();\n  };\n\n  var westX$1 = function westX$1(anchor, element) {\n    return anchor.x() - element.width();\n  };\n\n  var northY$1 = function northY$1(anchor, element) {\n    return anchor.y() - element.height() + anchor.height();\n  };\n\n  var southY$1 = function southY$1(anchor) {\n    return anchor.y();\n  };\n\n  var southeast$2 = function southeast$2(anchor, element, bubbles) {\n    return nu$8(eastX$1(anchor), southY$1(anchor), bubbles.southeast(), southeast(), 'link-layout-se');\n  };\n\n  var southwest$2 = function southwest$2(anchor, element, bubbles) {\n    return nu$8(westX$1(anchor, element), southY$1(anchor), bubbles.southwest(), southwest(), 'link-layout-sw');\n  };\n\n  var northeast$2 = function northeast$2(anchor, element, bubbles) {\n    return nu$8(eastX$1(anchor), northY$1(anchor, element), bubbles.northeast(), northeast(), 'link-layout-ne');\n  };\n\n  var northwest$2 = function northwest$2(anchor, element, bubbles) {\n    return nu$8(westX$1(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest(), 'link-layout-nw');\n  };\n\n  var all$3 = function all$3() {\n    return [southeast$2, southwest$2, northeast$2, northwest$2];\n  };\n\n  var allRtl$1 = function allRtl$1() {\n    return [southwest$2, southeast$2, northwest$2, northeast$2];\n  };\n\n  var placement$4 = function placement$4(component, submenuInfo, origin) {\n    var anchorBox = toBox(origin, submenuInfo.item.element());\n    var layouts = get$9(component.element(), submenuInfo, all$3(), allRtl$1());\n    return Option.some(nu$9({\n      anchorBox: anchorBox,\n      bubble: fallback(),\n      overrides: submenuInfo.overrides,\n      layouts: layouts,\n      placer: Option.none()\n    }));\n  };\n\n  var SubmenuAnchor = [strict$1('item'), schema$1(), defaulted$1('overrides', {}), output('placement', placement$4)];\n  var AnchorSchema = choose$1('anchor', {\n    selection: SelectionAnchor,\n    node: NodeAnchor,\n    hotspot: HotspotAnchor,\n    submenu: SubmenuAnchor,\n    makeshift: MakeshiftAnchor\n  });\n  var anchor = Immutable('anchorBox', 'origin');\n\n  var box$1 = function box$1(anchorBox, origin) {\n    return anchor(anchorBox, origin);\n  };\n\n  var adt$8 = Adt.generate([{\n    fit: ['reposition']\n  }, {\n    nofit: ['reposition', 'deltaW', 'deltaH']\n  }]);\n\n  var attempt = function attempt(candidate, width, height, bounds) {\n    var candidateX = candidate.x();\n    var candidateY = candidate.y();\n    var bubbleLeft = candidate.bubble().offset().left();\n    var bubbleTop = candidate.bubble().offset().top();\n    var boundsX = bounds.x();\n    var boundsY = bounds.y();\n    var boundsWidth = bounds.width();\n    var boundsHeight = bounds.height();\n    var newX = candidateX + bubbleLeft;\n    var newY = candidateY + bubbleTop;\n    var xInBounds = newX >= boundsX;\n    var yInBounds = newY >= boundsY;\n    var originInBounds = xInBounds && yInBounds;\n    var xFit = newX + width <= boundsX + boundsWidth;\n    var yFit = newY + height <= boundsY + boundsHeight;\n    var sizeInBounds = xFit && yFit;\n    var deltaW = xInBounds ? Math.min(width, boundsX + boundsWidth - newX) : Math.abs(boundsX - (newX + width));\n    var deltaH = yInBounds ? Math.min(height, boundsY + boundsHeight - newY) : Math.abs(boundsY - (newY + height));\n    var maxX = bounds.x() + bounds.width();\n    var minX = Math.max(bounds.x(), newX);\n    var limitX = Math.min(minX, maxX);\n    var limitY = yInBounds ? newY : newY + (height - deltaH);\n    var upAvailable = constant(limitY + deltaH - boundsY);\n    var downAvailable = constant(boundsY + boundsHeight - limitY);\n    var maxHeight = cataVertical(candidate.direction(), downAvailable, downAvailable, upAvailable);\n    var reposition = decision({\n      x: limitX,\n      y: limitY,\n      width: deltaW,\n      height: deltaH,\n      maxHeight: maxHeight,\n      direction: candidate.direction(),\n      classes: {\n        on: candidate.bubble().classesOn(),\n        off: candidate.bubble().classesOff()\n      },\n      label: candidate.label(),\n      candidateYforTest: newY\n    });\n    return originInBounds && sizeInBounds ? adt$8.fit(reposition) : adt$8.nofit(reposition, deltaW, deltaH);\n  };\n\n  var attempts = function attempts(candidates, anchorBox, elementBox, bubbles, bounds) {\n    var panelWidth = elementBox.width();\n    var panelHeight = elementBox.height();\n\n    var attemptBestFit = function attemptBestFit(layout, reposition, deltaW, deltaH) {\n      var next = layout(anchorBox, elementBox, bubbles);\n      var attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n      return attemptLayout.fold(adt$8.fit, function (newReposition, newDeltaW, newDeltaH) {\n        var improved = newDeltaH > deltaH || newDeltaW > deltaW;\n        return improved ? adt$8.nofit(newReposition, newDeltaW, newDeltaH) : adt$8.nofit(reposition, deltaW, deltaH);\n      });\n    };\n\n    var abc = foldl(candidates, function (b, a) {\n      var bestNext = curry(attemptBestFit, a);\n      return b.fold(adt$8.fit, bestNext);\n    }, adt$8.nofit(decision({\n      x: anchorBox.x(),\n      y: anchorBox.y(),\n      width: elementBox.width(),\n      height: elementBox.height(),\n      maxHeight: elementBox.height(),\n      direction: southeast(),\n      classes: [],\n      label: 'none',\n      candidateYforTest: anchorBox.y()\n    }), -1, -1));\n    return abc.fold(identity, identity);\n  };\n\n  var elementSize = function elementSize(p) {\n    return {\n      width: constant(getOuter$2(p)),\n      height: constant(getOuter$1(p))\n    };\n  };\n\n  var layout = function layout(anchorBox, element, bubbles, options) {\n    remove$6(element, 'max-height');\n    var elementBox = elementSize(element);\n    return attempts(options.preference(), anchorBox, elementBox, bubbles, options.bounds());\n  };\n\n  var setClasses = function setClasses(element, decision) {\n    var classInfo = decision.classes();\n    remove$5(element, classInfo.off);\n    add$3(element, classInfo.on);\n  };\n\n  var setHeight = function setHeight(element, decision, options) {\n    var maxHeightFunction = options.maxHeightFunction();\n    maxHeightFunction(element, decision.maxHeight());\n  };\n\n  var position = function position(element, decision, options) {\n    var addPx = function addPx(num) {\n      return num + 'px';\n    };\n\n    var newPosition = reposition(options.origin(), decision);\n    setOptions(element, {\n      position: Option.some(newPosition.position()),\n      left: newPosition.left().map(addPx),\n      top: newPosition.top().map(addPx),\n      right: newPosition.right().map(addPx),\n      bottom: newPosition.bottom().map(addPx)\n    });\n  };\n\n  var setMaxHeight = function setMaxHeight(element, maxHeight) {\n    setMax(element, Math.floor(maxHeight));\n  };\n\n  var anchored = constant(function (element, available) {\n    setMaxHeight(element, available);\n    setAll$1(element, {\n      'overflow-x': 'hidden',\n      'overflow-y': 'auto'\n    });\n  });\n  var expandable = constant(function (element, available) {\n    setMaxHeight(element, available);\n  });\n  var reparteeOptions = MixedBag(['bounds', 'origin', 'preference', 'maxHeightFunction'], []);\n\n  var defaultOr = function defaultOr(options, key, dephault) {\n    return options[key] === undefined ? dephault : options[key];\n  };\n\n  var simple = function simple(anchor, element, bubble, layouts, getBounds, overrideOptions) {\n    var maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n    var anchorBox = anchor.anchorBox();\n    var origin = anchor.origin();\n    var options = reparteeOptions({\n      bounds: viewport$1(origin, getBounds),\n      origin: origin,\n      preference: layouts,\n      maxHeightFunction: maxHeightFunction\n    });\n    go(anchorBox, element, bubble, options);\n  };\n\n  var go = function go(anchorBox, element, bubble, options) {\n    var decision = layout(anchorBox, element, bubble, options);\n    position(element, decision, options);\n    setClasses(element, decision);\n    setHeight(element, decision, options);\n  };\n\n  var getFixedOrigin = function getFixedOrigin() {\n    return fixed(0, 0, domGlobals.window.innerWidth, domGlobals.window.innerHeight);\n  };\n\n  var getRelativeOrigin = function getRelativeOrigin(component) {\n    var position = absolute(component.element());\n    var bounds = component.element().dom().getBoundingClientRect();\n    return relative(position.left(), position.top(), bounds.width, bounds.height);\n  };\n\n  var place = function place(component, origin, anchoring, getBounds, placee) {\n    var anchor = box$1(anchoring.anchorBox, origin);\n    simple(anchor, placee.element(), anchoring.bubble, anchoring.layouts, getBounds, anchoring.overrides);\n  };\n\n  var position$1 = function position$1(component, posConfig, posState, anchor, placee) {\n    var boxElement = Option.none();\n    positionWithin(component, posConfig, posState, anchor, placee, boxElement);\n  };\n\n  var positionWithin = function positionWithin(component, posConfig, posState, anchor, placee, boxElement) {\n    var boundsBox = boxElement.map(box);\n    return positionWithinBounds(component, posConfig, posState, anchor, placee, boundsBox);\n  };\n\n  var positionWithinBounds = function positionWithinBounds(component, posConfig, posState, anchor, placee, bounds) {\n    var anchorage = asRawOrDie('positioning anchor.info', AnchorSchema, anchor);\n    set$2(placee.element(), 'position', 'fixed');\n    var oldVisibility = getRaw(placee.element(), 'visibility');\n    set$2(placee.element(), 'visibility', 'hidden');\n    var origin = posConfig.useFixed ? getFixedOrigin() : getRelativeOrigin(component);\n    var placer = anchorage.placement;\n    var getBounds = bounds.map(constant).or(posConfig.getBounds);\n    placer(component, anchorage, origin).each(function (anchoring) {\n      var doPlace = anchoring.placer.getOr(place);\n      doPlace(component, origin, anchoring, getBounds, placee);\n    });\n    oldVisibility.fold(function () {\n      remove$6(placee.element(), 'visibility');\n    }, function (vis) {\n      set$2(placee.element(), 'visibility', vis);\n    });\n\n    if (getRaw(placee.element(), 'left').isNone() && getRaw(placee.element(), 'top').isNone() && getRaw(placee.element(), 'right').isNone() && getRaw(placee.element(), 'bottom').isNone() && getRaw(placee.element(), 'position').is('fixed')) {\n      remove$6(placee.element(), 'position');\n    }\n  };\n\n  var getMode = function getMode(component, pConfig, pState) {\n    return pConfig.useFixed ? 'fixed' : 'absolute';\n  };\n\n  var PositionApis =\n  /*#__PURE__*/\n  Object.freeze({\n    position: position$1,\n    positionWithin: positionWithin,\n    positionWithinBounds: positionWithinBounds,\n    getMode: getMode\n  });\n  var PositionSchema = [defaulted$1('useFixed', false), option('getBounds')];\n  var Positioning = create$1({\n    fields: PositionSchema,\n    name: 'positioning',\n    active: ActivePosition,\n    apis: PositionApis\n  });\n\n  var fireDetaching = function fireDetaching(component) {\n    emit(component, detachedFromDom());\n    var children = component.components();\n    each(children, fireDetaching);\n  };\n\n  var fireAttaching = function fireAttaching(component) {\n    var children = component.components();\n    each(children, fireAttaching);\n    emit(component, attachedToDom());\n  };\n\n  var attach = function attach(parent, child) {\n    attachWith(parent, child, append);\n  };\n\n  var attachWith = function attachWith(parent, child, insertion) {\n    parent.getSystem().addToWorld(child);\n    insertion(parent.element(), child.element());\n\n    if (inBody(parent.element())) {\n      fireAttaching(child);\n    }\n\n    parent.syncComponents();\n  };\n\n  var doDetach = function doDetach(component) {\n    fireDetaching(component);\n    remove(component.element());\n    component.getSystem().removeFromWorld(component);\n  };\n\n  var detach = function detach(component) {\n    var parent$1 = parent(component.element()).bind(function (p) {\n      return component.getSystem().getByDom(p).fold(Option.none, Option.some);\n    });\n    doDetach(component);\n    parent$1.each(function (p) {\n      p.syncComponents();\n    });\n  };\n\n  var detachChildren = function detachChildren(component) {\n    var subs = component.components();\n    each(subs, doDetach);\n    empty(component.element());\n    component.syncComponents();\n  };\n\n  var attachSystem = function attachSystem(element, guiSystem) {\n    attachSystemInternal(element, guiSystem, append);\n  };\n\n  var attachSystemAfter = function attachSystemAfter(element, guiSystem) {\n    attachSystemInternal(element, guiSystem, after);\n  };\n\n  var attachSystemInternal = function attachSystemInternal(element, guiSystem, inserter) {\n    inserter(element, guiSystem.element());\n    var children$1 = children(guiSystem.element());\n    each(children$1, function (child) {\n      guiSystem.getByDom(child).each(fireAttaching);\n    });\n  };\n\n  var detachSystem = function detachSystem(guiSystem) {\n    var children$1 = children(guiSystem.element());\n    each(children$1, function (child) {\n      guiSystem.getByDom(child).each(fireDetaching);\n    });\n    remove(guiSystem.element());\n  };\n\n  var rebuild = function rebuild(sandbox, sConfig, sState, data) {\n    sState.get().each(function (data) {\n      detachChildren(sandbox);\n    });\n    var point = sConfig.getAttachPoint(sandbox);\n    attach(point, sandbox);\n    var built = sandbox.getSystem().build(data);\n    attach(sandbox, built);\n    sState.set(built);\n    return built;\n  };\n\n  var open = function open(sandbox, sConfig, sState, data) {\n    var newState = rebuild(sandbox, sConfig, sState, data);\n    sConfig.onOpen(sandbox, newState);\n    return newState;\n  };\n\n  var openWhileCloaked = function openWhileCloaked(sandbox, sConfig, sState, data, transaction) {\n    cloak(sandbox, sConfig);\n    open(sandbox, sConfig, sState, data);\n    transaction();\n    decloak(sandbox, sConfig);\n  };\n\n  var close = function close(sandbox, sConfig, sState) {\n    sState.get().each(function (data) {\n      detachChildren(sandbox);\n      detach(sandbox);\n      sConfig.onClose(sandbox, data);\n      sState.clear();\n    });\n  };\n\n  var isOpen = function isOpen(sandbox, sConfig, sState) {\n    return sState.isOpen();\n  };\n\n  var isPartOf$1 = function isPartOf$1(sandbox, sConfig, sState, queryElem) {\n    return isOpen(sandbox, sConfig, sState) && sState.get().exists(function (data) {\n      return sConfig.isPartOf(sandbox, data, queryElem);\n    });\n  };\n\n  var getState = function getState(sandbox, sConfig, sState) {\n    return sState.get();\n  };\n\n  var store = function store(sandbox, cssKey, attr, newValue) {\n    getRaw(sandbox.element(), cssKey).fold(function () {\n      remove$1(sandbox.element(), attr);\n    }, function (v) {\n      set$1(sandbox.element(), attr, v);\n    });\n    set$2(sandbox.element(), cssKey, newValue);\n  };\n\n  var restore = function restore(sandbox, cssKey, attr) {\n    if (has$1(sandbox.element(), attr)) {\n      var oldValue = get$2(sandbox.element(), attr);\n      set$2(sandbox.element(), cssKey, oldValue);\n    } else {\n      remove$6(sandbox.element(), cssKey);\n    }\n  };\n\n  var cloak = function cloak(sandbox, sConfig, sState) {\n    var sink = sConfig.getAttachPoint(sandbox);\n    set$2(sandbox.element(), 'position', Positioning.getMode(sink));\n    store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n  };\n\n  var hasPosition = function hasPosition(element) {\n    return exists(['top', 'left', 'right', 'bottom'], function (pos) {\n      return getRaw(element, pos).isSome();\n    });\n  };\n\n  var decloak = function decloak(sandbox, sConfig, sState) {\n    if (!hasPosition(sandbox.element())) {\n      remove$6(sandbox.element(), 'position');\n    }\n\n    restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n  };\n\n  var SandboxApis =\n  /*#__PURE__*/\n  Object.freeze({\n    cloak: cloak,\n    decloak: decloak,\n    open: open,\n    openWhileCloaked: openWhileCloaked,\n    close: close,\n    isOpen: isOpen,\n    isPartOf: isPartOf$1,\n    getState: getState\n  });\n\n  var events$2 = function events$2(sandboxConfig, sandboxState) {\n    return derive([run(sandboxClose(), function (sandbox, simulatedEvent) {\n      close(sandbox, sandboxConfig, sandboxState);\n    })]);\n  };\n\n  var ActiveSandbox =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$2\n  });\n  var SandboxSchema = [onHandler('onOpen'), onHandler('onClose'), strict$1('isPartOf'), strict$1('getAttachPoint'), defaulted$1('cloakVisibilityAttr', 'data-precloak-visibility')];\n\n  var init = function init() {\n    var contents = Cell(Option.none());\n    var readState = constant('not-implemented');\n\n    var isOpen = function isOpen() {\n      return contents.get().isSome();\n    };\n\n    var set = function set(c) {\n      contents.set(Option.some(c));\n    };\n\n    var get = function get(c) {\n      return contents.get();\n    };\n\n    var clear = function clear() {\n      contents.set(Option.none());\n    };\n\n    return nu$5({\n      readState: readState,\n      isOpen: isOpen,\n      clear: clear,\n      set: set,\n      get: get\n    });\n  };\n\n  var SandboxState =\n  /*#__PURE__*/\n  Object.freeze({\n    init: init\n  });\n  var Sandboxing = create$1({\n    fields: SandboxSchema,\n    name: 'sandboxing',\n    active: ActiveSandbox,\n    apis: SandboxApis,\n    state: SandboxState\n  });\n  var dismissPopups = constant('dismiss.popups');\n  var mouseReleased = constant('mouse.released');\n  var schema$2 = objOfOnly([defaulted$1('isExtraPart', constant(false)), optionObjOf('fireEventInstead', [defaulted$1('event', dismissRequested())])]);\n\n  var receivingConfig = function receivingConfig(rawSpec) {\n    var c = receiving(rawSpec);\n    return Receiving.config(c);\n  };\n\n  var receiving = function receiving(rawSpec) {\n    var spec = asRawOrDie('Dismissal', schema$2, rawSpec);\n    return {\n      channels: wrap$1(dismissPopups(), {\n        schema: objOfOnly([strict$1('target')]),\n        onReceive: function onReceive(sandbox, data) {\n          if (Sandboxing.isOpen(sandbox)) {\n            var isPart = Sandboxing.isPartOf(sandbox, data.target) || spec.isExtraPart(sandbox, data.target);\n\n            if (!isPart) {\n              spec.fireEventInstead.fold(function () {\n                return Sandboxing.close(sandbox);\n              }, function (fe) {\n                return emit(sandbox, fe.event);\n              });\n            }\n          }\n        }\n      })\n    };\n  };\n\n  var field$1 = function field$1(name, forbidden) {\n    return defaultedObjOf(name, {}, map(forbidden, function (f) {\n      return forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name);\n    }).concat([state$1('dump', identity)]));\n  };\n\n  var get$b = function get$b(data) {\n    return data.dump;\n  };\n\n  var augment = function augment(data, original) {\n    return _assign({}, data.dump, derive$1(original));\n  };\n\n  var SketchBehaviours = {\n    field: field$1,\n    augment: augment,\n    get: get$b\n  };\n  var _placeholder = 'placeholder';\n  var adt$9 = Adt.generate([{\n    single: ['required', 'valueThunk']\n  }, {\n    multiple: ['required', 'valueThunks']\n  }]);\n\n  var subPlaceholder = function subPlaceholder(owner, detail, compSpec, placeholders) {\n    if (owner.exists(function (o) {\n      return o !== compSpec.owner;\n    })) {\n      return adt$9.single(true, constant(compSpec));\n    }\n\n    return readOptFrom$1(placeholders, compSpec.name).fold(function () {\n      throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n    }, function (newSpec) {\n      return newSpec.replace();\n    });\n  };\n\n  var scan = function scan(owner, detail, compSpec, placeholders) {\n    if (compSpec.uiType === _placeholder) {\n      return subPlaceholder(owner, detail, compSpec, placeholders);\n    } else {\n      return adt$9.single(false, constant(compSpec));\n    }\n  };\n\n  var substitute = function substitute(owner, detail, compSpec, placeholders) {\n    var base = scan(owner, detail, compSpec, placeholders);\n    return base.fold(function (req, valueThunk) {\n      var value = valueThunk(detail, compSpec.config, compSpec.validated);\n      var childSpecs = readOptFrom$1(value, 'components').getOr([]);\n      var substituted = bind(childSpecs, function (c) {\n        return substitute(owner, detail, c, placeholders);\n      });\n      return [_assign({}, value, {\n        components: substituted\n      })];\n    }, function (req, valuesThunk) {\n      var values = valuesThunk(detail, compSpec.config, compSpec.validated);\n      var preprocessor = compSpec.validated.preprocess.getOr(identity);\n      return preprocessor(values);\n    });\n  };\n\n  var substituteAll = function substituteAll(owner, detail, components, placeholders) {\n    return bind(components, function (c) {\n      return substitute(owner, detail, c, placeholders);\n    });\n  };\n\n  var oneReplace = function oneReplace(label, replacements) {\n    var called = false;\n\n    var used = function used() {\n      return called;\n    };\n\n    var replace = function replace() {\n      if (called === true) {\n        throw new Error('Trying to use the same placeholder more than once: ' + label);\n      }\n\n      called = true;\n      return replacements;\n    };\n\n    var required = function required() {\n      return replacements.fold(function (req, _) {\n        return req;\n      }, function (req, _) {\n        return req;\n      });\n    };\n\n    return {\n      name: constant(label),\n      required: required,\n      used: used,\n      replace: replace\n    };\n  };\n\n  var substitutePlaces = function substitutePlaces(owner, detail, components, placeholders) {\n    var ps = map$1(placeholders, function (ph, name) {\n      return oneReplace(name, ph);\n    });\n    var outcome = substituteAll(owner, detail, components, ps);\n    each$1(ps, function (p) {\n      if (p.used() === false && p.required()) {\n        throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n      }\n    });\n    return outcome;\n  };\n\n  var single = adt$9.single;\n  var multiple = adt$9.multiple;\n  var placeholder = constant(_placeholder);\n  var adt$a = Adt.generate([{\n    required: ['data']\n  }, {\n    external: ['data']\n  }, {\n    optional: ['data']\n  }, {\n    group: ['data']\n  }]);\n  var fFactory = defaulted$1('factory', {\n    sketch: identity\n  });\n  var fSchema = defaulted$1('schema', []);\n  var fName = strict$1('name');\n  var fPname = field('pname', 'pname', defaultedThunk(function (typeSpec) {\n    return '<alloy.' + generate$1(typeSpec.name) + '>';\n  }), anyValue$1());\n  var fGroupSchema = state$1('schema', function () {\n    return [option('preprocess')];\n  });\n  var fDefaults = defaulted$1('defaults', constant({}));\n  var fOverrides = defaulted$1('overrides', constant({}));\n  var requiredSpec = objOf([fFactory, fSchema, fName, fPname, fDefaults, fOverrides]);\n  var externalSpec = objOf([fFactory, fSchema, fName, fDefaults, fOverrides]);\n  var optionalSpec = objOf([fFactory, fSchema, fName, fPname, fDefaults, fOverrides]);\n  var groupSpec = objOf([fFactory, fGroupSchema, fName, strict$1('unit'), fPname, fDefaults, fOverrides]);\n\n  var asNamedPart = function asNamedPart(part) {\n    return part.fold(Option.some, Option.none, Option.some, Option.some);\n  };\n\n  var name$1 = function name$1(part) {\n    var get = function get(data) {\n      return data.name;\n    };\n\n    return part.fold(get, get, get, get);\n  };\n\n  var asCommon = function asCommon(part) {\n    return part.fold(identity, identity, identity, identity);\n  };\n\n  var convert = function convert(adtConstructor, partSchema) {\n    return function (spec) {\n      var data = asRawOrDie('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n  };\n\n  var required = convert(adt$a.required, requiredSpec);\n  var external$1 = convert(adt$a.external, externalSpec);\n  var optional = convert(adt$a.optional, optionalSpec);\n  var group = convert(adt$a.group, groupSpec);\n  var original = constant('entirety');\n  var PartType =\n  /*#__PURE__*/\n  Object.freeze({\n    required: required,\n    external: external$1,\n    optional: optional,\n    group: group,\n    asNamedPart: asNamedPart,\n    name: name$1,\n    asCommon: asCommon,\n    original: original\n  });\n\n  var combine$2 = function combine$2(detail, data, partSpec, partValidated) {\n    return deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, {\n      uid: detail.partUids[data.name]\n    }, data.overrides(detail, partSpec, partValidated));\n  };\n\n  var subs = function subs(owner, detail, parts) {\n    var internals = {};\n    var externals = {};\n    each(parts, function (part) {\n      part.fold(function (data) {\n        internals[data.pname] = single(true, function (detail, partSpec, partValidated) {\n          return data.factory.sketch(combine$2(detail, data, partSpec, partValidated));\n        });\n      }, function (data) {\n        var partSpec = detail.parts[data.name];\n        externals[data.name] = constant(data.factory.sketch(combine$2(detail, data, partSpec[original()]), partSpec));\n      }, function (data) {\n        internals[data.pname] = single(false, function (detail, partSpec, partValidated) {\n          return data.factory.sketch(combine$2(detail, data, partSpec, partValidated));\n        });\n      }, function (data) {\n        internals[data.pname] = multiple(true, function (detail, _partSpec, _partValidated) {\n          var units = detail[data.name];\n          return map(units, function (u) {\n            return data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u)));\n          });\n        });\n      });\n    });\n    return {\n      internals: constant(internals),\n      externals: constant(externals)\n    };\n  };\n\n  var generate$4 = function generate$4(owner, parts) {\n    var r = {};\n    each(parts, function (part) {\n      asNamedPart(part).each(function (np) {\n        var g = doGenerateOne(owner, np.pname);\n\n        r[np.name] = function (config) {\n          var validated = asRawOrDie('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n          return _assign({}, g, {\n            config: config,\n            validated: validated\n          });\n        };\n      });\n    });\n    return r;\n  };\n\n  var doGenerateOne = function doGenerateOne(owner, pname) {\n    return {\n      uiType: placeholder(),\n      owner: owner,\n      name: pname\n    };\n  };\n\n  var generateOne = function generateOne(owner, pname, config) {\n    return {\n      uiType: placeholder(),\n      owner: owner,\n      name: pname,\n      config: config,\n      validated: {}\n    };\n  };\n\n  var schemas = function schemas(parts) {\n    return bind(parts, function (part) {\n      return part.fold(Option.none, Option.some, Option.none, Option.none).map(function (data) {\n        return strictObjOf(data.name, data.schema.concat([snapshot(original())]));\n      }).toArray();\n    });\n  };\n\n  var names = function names(parts) {\n    return map(parts, name$1);\n  };\n\n  var substitutes = function substitutes(owner, detail, parts) {\n    return subs(owner, detail, parts);\n  };\n\n  var components = function components(owner, detail, internals) {\n    return substitutePlaces(Option.some(owner), detail, detail.components, internals);\n  };\n\n  var getPart = function getPart(component, detail, partKey) {\n    var uid = detail.partUids[partKey];\n    return component.getSystem().getByUid(uid).toOption();\n  };\n\n  var getPartOrDie = function getPartOrDie(component, detail, partKey) {\n    return getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n  };\n\n  var getParts = function getParts(component, detail, partKeys) {\n    var r = {};\n    var uids = detail.partUids;\n    var system = component.getSystem();\n    each(partKeys, function (pk) {\n      r[pk] = constant(system.getByUid(uids[pk]));\n    });\n    return r;\n  };\n\n  var getAllParts = function getAllParts(component, detail) {\n    var system = component.getSystem();\n    return map$1(detail.partUids, function (pUid, k) {\n      return constant(system.getByUid(pUid));\n    });\n  };\n\n  var getAllPartNames = function getAllPartNames(detail) {\n    return keys(detail.partUids);\n  };\n\n  var getPartsOrDie = function getPartsOrDie(component, detail, partKeys) {\n    var r = {};\n    var uids = detail.partUids;\n    var system = component.getSystem();\n    each(partKeys, function (pk) {\n      r[pk] = constant(system.getByUid(uids[pk]).getOrDie());\n    });\n    return r;\n  };\n\n  var defaultUids = function defaultUids(baseUid, partTypes) {\n    var partNames = names(partTypes);\n    return wrapAll$1(map(partNames, function (pn) {\n      return {\n        key: pn,\n        value: baseUid + '-' + pn\n      };\n    }));\n  };\n\n  var defaultUidsSchema = function defaultUidsSchema(partTypes) {\n    return field('partUids', 'partUids', mergeWithThunk(function (spec) {\n      return defaultUids(spec.uid, partTypes);\n    }), anyValue$1());\n  };\n\n  var AlloyParts =\n  /*#__PURE__*/\n  Object.freeze({\n    generate: generate$4,\n    generateOne: generateOne,\n    schemas: schemas,\n    names: names,\n    substitutes: substitutes,\n    components: components,\n    defaultUids: defaultUids,\n    defaultUidsSchema: defaultUidsSchema,\n    getAllParts: getAllParts,\n    getAllPartNames: getAllPartNames,\n    getPart: getPart,\n    getPartOrDie: getPartOrDie,\n    getParts: getParts,\n    getPartsOrDie: getPartsOrDie\n  });\n\n  var base = function base(partSchemas, partUidsSchemas) {\n    var ps = partSchemas.length > 0 ? [strictObjOf('parts', partSchemas)] : [];\n    return ps.concat([strict$1('uid'), defaulted$1('dom', {}), defaulted$1('components', []), snapshot('originalSpec'), defaulted$1('debug.sketcher', {})]).concat(partUidsSchemas);\n  };\n\n  var asRawOrDie$1 = function asRawOrDie$1(label, schema, spec, partSchemas, partUidsSchemas) {\n    var baseS = base(partSchemas, partUidsSchemas);\n    return asRawOrDie(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n  };\n\n  var single$1 = function single$1(owner, schema, factory, spec) {\n    var specWithUid = supplyUid(spec);\n    var detail = asRawOrDie$1(owner, schema, specWithUid, [], []);\n    return factory(detail, specWithUid);\n  };\n\n  var composite = function composite(owner, schema, partTypes, factory, spec) {\n    var specWithUid = supplyUid(spec);\n    var partSchemas = schemas(partTypes);\n    var partUidsSchema = defaultUidsSchema(partTypes);\n    var detail = asRawOrDie$1(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n    var subs = substitutes(owner, detail, partTypes);\n    var components$1 = components(owner, detail, subs.internals());\n    return factory(detail, components$1, specWithUid, subs.externals());\n  };\n\n  var supplyUid = function supplyUid(spec) {\n    return spec.hasOwnProperty('uid') ? spec : _assign({}, spec, {\n      uid: generate$2('uid')\n    });\n  };\n\n  function isSketchSpec(spec) {\n    return spec.uid !== undefined;\n  }\n\n  var singleSchema = objOfOnly([strict$1('name'), strict$1('factory'), strict$1('configFields'), defaulted$1('apis', {}), defaulted$1('extraApis', {})]);\n  var compositeSchema = objOfOnly([strict$1('name'), strict$1('factory'), strict$1('configFields'), strict$1('partFields'), defaulted$1('apis', {}), defaulted$1('extraApis', {})]);\n\n  var single$2 = function single$2(rawConfig) {\n    var config = asRawOrDie('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n\n    var sketch = function sketch(spec) {\n      return single$1(config.name, config.configFields, config.factory, spec);\n    };\n\n    var apis = map$1(config.apis, makeApi);\n    var extraApis = map$1(config.extraApis, function (f, k) {\n      return markAsExtraApi(f, k);\n    });\n    return _assign({\n      name: constant(config.name),\n      partFields: constant([]),\n      configFields: constant(config.configFields),\n      sketch: sketch\n    }, apis, extraApis);\n  };\n\n  var composite$1 = function composite$1(rawConfig) {\n    var config = asRawOrDie('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n\n    var sketch = function sketch(spec) {\n      return composite(config.name, config.configFields, config.partFields, config.factory, spec);\n    };\n\n    var parts = generate$4(config.name, config.partFields);\n    var apis = map$1(config.apis, makeApi);\n    var extraApis = map$1(config.extraApis, function (f, k) {\n      return markAsExtraApi(f, k);\n    });\n    return _assign({\n      name: constant(config.name),\n      partFields: constant(config.partFields),\n      configFields: constant(config.configFields),\n      sketch: sketch,\n      parts: constant(parts)\n    }, apis, extraApis);\n  };\n\n  var inside = function inside(target) {\n    return name(target) === 'input' && get$2(target, 'type') !== 'radio' || name(target) === 'textarea';\n  };\n\n  var getCurrent = function getCurrent(component, composeConfig, composeState) {\n    return composeConfig.find(component);\n  };\n\n  var ComposeApis =\n  /*#__PURE__*/\n  Object.freeze({\n    getCurrent: getCurrent\n  });\n  var ComposeSchema = [strict$1('find')];\n  var Composing = create$1({\n    fields: ComposeSchema,\n    name: 'composing',\n    apis: ComposeApis\n  });\n\n  var cycleBy = function cycleBy(value, delta, min, max) {\n    var r = value + delta;\n\n    if (r > max) {\n      return min;\n    } else {\n      return r < min ? max : r;\n    }\n  };\n\n  var cap = function cap(value, min, max) {\n    if (value <= min) {\n      return min;\n    } else {\n      return value >= max ? max : value;\n    }\n  };\n\n  var dehighlightAllExcept = function dehighlightAllExcept(component, hConfig, hState, skip) {\n    var highlighted = descendants(component.element(), '.' + hConfig.highlightClass);\n    each(highlighted, function (h) {\n      if (!exists(skip, function (skipComp) {\n        return skipComp.element() === h;\n      })) {\n        remove$4(h, hConfig.highlightClass);\n        component.getSystem().getByDom(h).each(function (target) {\n          hConfig.onDehighlight(component, target);\n          emit(target, dehighlight());\n        });\n      }\n    });\n  };\n\n  var dehighlightAll = function dehighlightAll(component, hConfig, hState) {\n    return dehighlightAllExcept(component, hConfig, hState, []);\n  };\n\n  var dehighlight$1 = function dehighlight$1(component, hConfig, hState, target) {\n    if (isHighlighted(component, hConfig, hState, target)) {\n      remove$4(target.element(), hConfig.highlightClass);\n      hConfig.onDehighlight(component, target);\n      emit(target, dehighlight());\n    }\n  };\n\n  var highlight$1 = function highlight$1(component, hConfig, hState, target) {\n    dehighlightAllExcept(component, hConfig, hState, [target]);\n\n    if (!isHighlighted(component, hConfig, hState, target)) {\n      add$2(target.element(), hConfig.highlightClass);\n      hConfig.onHighlight(component, target);\n      emit(target, highlight());\n    }\n  };\n\n  var highlightFirst = function highlightFirst(component, hConfig, hState) {\n    getFirst(component, hConfig).each(function (firstComp) {\n      highlight$1(component, hConfig, hState, firstComp);\n    });\n  };\n\n  var highlightLast = function highlightLast(component, hConfig, hState) {\n    getLast(component, hConfig).each(function (lastComp) {\n      highlight$1(component, hConfig, hState, lastComp);\n    });\n  };\n\n  var highlightAt = function highlightAt(component, hConfig, hState, index) {\n    getByIndex(component, hConfig, hState, index).fold(function (err) {\n      throw new Error(err);\n    }, function (firstComp) {\n      highlight$1(component, hConfig, hState, firstComp);\n    });\n  };\n\n  var highlightBy = function highlightBy(component, hConfig, hState, predicate) {\n    var candidates = getCandidates(component, hConfig);\n    var targetComp = find(candidates, predicate);\n    targetComp.each(function (c) {\n      highlight$1(component, hConfig, hState, c);\n    });\n  };\n\n  var isHighlighted = function isHighlighted(component, hConfig, hState, queryTarget) {\n    return has$2(queryTarget.element(), hConfig.highlightClass);\n  };\n\n  var getHighlighted = function getHighlighted(component, hConfig, hState) {\n    return descendant$1(component.element(), '.' + hConfig.highlightClass).bind(function (e) {\n      return component.getSystem().getByDom(e).toOption();\n    });\n  };\n\n  var getByIndex = function getByIndex(component, hConfig, hState, index) {\n    var items = descendants(component.element(), '.' + hConfig.itemClass);\n    return Option.from(items[index]).fold(function () {\n      return Result.error('No element found with index ' + index);\n    }, component.getSystem().getByDom);\n  };\n\n  var getFirst = function getFirst(component, hConfig, hState) {\n    return descendant$1(component.element(), '.' + hConfig.itemClass).bind(function (e) {\n      return component.getSystem().getByDom(e).toOption();\n    });\n  };\n\n  var getLast = function getLast(component, hConfig, hState) {\n    var items = descendants(component.element(), '.' + hConfig.itemClass);\n    var last = items.length > 0 ? Option.some(items[items.length - 1]) : Option.none();\n    return last.bind(function (c) {\n      return component.getSystem().getByDom(c).toOption();\n    });\n  };\n\n  var getDelta = function getDelta(component, hConfig, hState, delta) {\n    var items = descendants(component.element(), '.' + hConfig.itemClass);\n    var current = findIndex(items, function (item) {\n      return has$2(item, hConfig.highlightClass);\n    });\n    return current.bind(function (selected) {\n      var dest = cycleBy(selected, delta, 0, items.length - 1);\n      return component.getSystem().getByDom(items[dest]).toOption();\n    });\n  };\n\n  var getPrevious = function getPrevious(component, hConfig, hState) {\n    return getDelta(component, hConfig, hState, -1);\n  };\n\n  var getNext = function getNext(component, hConfig, hState) {\n    return getDelta(component, hConfig, hState, +1);\n  };\n\n  var getCandidates = function getCandidates(component, hConfig, hState) {\n    var items = descendants(component.element(), '.' + hConfig.itemClass);\n    return cat(map(items, function (i) {\n      return component.getSystem().getByDom(i).toOption();\n    }));\n  };\n\n  var HighlightApis =\n  /*#__PURE__*/\n  Object.freeze({\n    dehighlightAll: dehighlightAll,\n    dehighlight: dehighlight$1,\n    highlight: highlight$1,\n    highlightFirst: highlightFirst,\n    highlightLast: highlightLast,\n    highlightAt: highlightAt,\n    highlightBy: highlightBy,\n    isHighlighted: isHighlighted,\n    getHighlighted: getHighlighted,\n    getFirst: getFirst,\n    getLast: getLast,\n    getPrevious: getPrevious,\n    getNext: getNext,\n    getCandidates: getCandidates\n  });\n  var HighlightSchema = [strict$1('highlightClass'), strict$1('itemClass'), onHandler('onHighlight'), onHandler('onDehighlight')];\n  var Highlighting = create$1({\n    fields: HighlightSchema,\n    name: 'highlighting',\n    apis: HighlightApis\n  });\n\n  var BACKSPACE = function BACKSPACE() {\n    return [8];\n  };\n\n  var TAB = function TAB() {\n    return [9];\n  };\n\n  var ENTER = function ENTER() {\n    return [13];\n  };\n\n  var ESCAPE = function ESCAPE() {\n    return [27];\n  };\n\n  var SPACE = function SPACE() {\n    return [32];\n  };\n\n  var LEFT = function LEFT() {\n    return [37];\n  };\n\n  var UP = function UP() {\n    return [38];\n  };\n\n  var RIGHT = function RIGHT() {\n    return [39];\n  };\n\n  var DOWN = function DOWN() {\n    return [40];\n  };\n\n  var cyclePrev = function cyclePrev(values, index, predicate) {\n    var before = reverse(values.slice(0, index));\n    var after = reverse(values.slice(index + 1));\n    return find(before.concat(after), predicate);\n  };\n\n  var tryPrev = function tryPrev(values, index, predicate) {\n    var before = reverse(values.slice(0, index));\n    return find(before, predicate);\n  };\n\n  var cycleNext = function cycleNext(values, index, predicate) {\n    var before = values.slice(0, index);\n    var after = values.slice(index + 1);\n    return find(after.concat(before), predicate);\n  };\n\n  var tryNext = function tryNext(values, index, predicate) {\n    var after = values.slice(index + 1);\n    return find(after, predicate);\n  };\n\n  var inSet = function inSet(keys) {\n    return function (event) {\n      var raw = event.raw();\n      return contains(keys, raw.which);\n    };\n  };\n\n  var and = function and(preds) {\n    return function (event) {\n      return forall(preds, function (pred) {\n        return pred(event);\n      });\n    };\n  };\n\n  var isShift = function isShift(event) {\n    var raw = event.raw();\n    return raw.shiftKey === true;\n  };\n\n  var isControl = function isControl(event) {\n    var raw = event.raw();\n    return raw.ctrlKey === true;\n  };\n\n  var isNotShift = not(isShift);\n\n  var rule = function rule(matches, action) {\n    return {\n      matches: matches,\n      classification: action\n    };\n  };\n\n  var choose$2 = function choose$2(transitions, event) {\n    var transition = find(transitions, function (t) {\n      return t.matches(event);\n    });\n    return transition.map(function (t) {\n      return t.classification;\n    });\n  };\n\n  var focus$1 = function focus$1(element) {\n    element.dom().focus();\n  };\n\n  var blur = function blur(element) {\n    element.dom().blur();\n  };\n\n  var hasFocus = function hasFocus(element) {\n    var doc = owner(element).dom();\n    return element.dom() === doc.activeElement;\n  };\n\n  var active = function active(_doc) {\n    var doc = _doc !== undefined ? _doc.dom() : domGlobals.document;\n    return Option.from(doc.activeElement).map(Element.fromDom);\n  };\n\n  var search$1 = function search$1(element) {\n    return active(owner(element)).filter(function (e) {\n      return element.dom().contains(e.dom());\n    });\n  };\n\n  var reportFocusShifting = function reportFocusShifting(component, prevFocus, newFocus) {\n    var noChange = prevFocus.exists(function (p) {\n      return newFocus.exists(function (n) {\n        return eq(n, p);\n      });\n    });\n\n    if (!noChange) {\n      emitWith(component, focusShifted(), {\n        prevFocus: prevFocus,\n        newFocus: newFocus\n      });\n    }\n  };\n\n  var dom = function dom() {\n    var get = function get(component) {\n      return search$1(component.element());\n    };\n\n    var set = function set(component, focusee) {\n      var prevFocus = get(component);\n      component.getSystem().triggerFocus(focusee, component.element());\n      var newFocus = get(component);\n      reportFocusShifting(component, prevFocus, newFocus);\n    };\n\n    return {\n      get: get,\n      set: set\n    };\n  };\n\n  var highlights = function highlights() {\n    var get = function get(component) {\n      return Highlighting.getHighlighted(component).map(function (item) {\n        return item.element();\n      });\n    };\n\n    var set = function set(component, element) {\n      var prevFocus = get(component);\n      component.getSystem().getByDom(element).fold(noop, function (item) {\n        Highlighting.highlight(component, item);\n      });\n      var newFocus = get(component);\n      reportFocusShifting(component, prevFocus, newFocus);\n    };\n\n    return {\n      get: get,\n      set: set\n    };\n  };\n\n  var FocusInsideModes;\n\n  (function (FocusInsideModes) {\n    FocusInsideModes['OnFocusMode'] = 'onFocus';\n    FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n    FocusInsideModes['OnApiMode'] = 'onApi';\n  })(FocusInsideModes || (FocusInsideModes = {}));\n\n  var typical = function typical(infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) {\n    var schema = function schema() {\n      return infoSchema.concat([defaulted$1('focusManager', dom()), defaultedOf('focusInside', 'onFocus', valueOf(function (val) {\n        return contains(['onFocus', 'onEnterOrSpace', 'onApi'], val) ? Result.value(val) : Result.error('Invalid value for focusInside');\n      })), output('handler', me), output('state', stateInit), output('sendFocusIn', optFocusIn)]);\n    };\n\n    var processKey = function processKey(component, simulatedEvent, getRules, keyingConfig, keyingState) {\n      var rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n      return choose$2(rules, simulatedEvent.event()).bind(function (rule) {\n        return rule(component, simulatedEvent, keyingConfig, keyingState);\n      });\n    };\n\n    var toEvents = function toEvents(keyingConfig, keyingState) {\n      var onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Option.none() : optFocusIn(keyingConfig).map(function (focusIn) {\n        return run(focus(), function (component, simulatedEvent) {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        });\n      });\n\n      var tryGoInsideComponent = function tryGoInsideComponent(component, simulatedEvent) {\n        var isEnterOrSpace = inSet(SPACE().concat(ENTER()))(simulatedEvent.event());\n\n        if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n          optFocusIn(keyingConfig).each(function (focusIn) {\n            focusIn(component, keyingConfig, keyingState);\n            simulatedEvent.stop();\n          });\n        }\n      };\n\n      return derive(onFocusHandler.toArray().concat([run(keydown(), function (component, simulatedEvent) {\n        processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(function () {\n          tryGoInsideComponent(component, simulatedEvent);\n        }, function (_) {\n          simulatedEvent.stop();\n        });\n      }), run(keyup(), function (component, simulatedEvent) {\n        processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(function (_) {\n          simulatedEvent.stop();\n        });\n      })]));\n    };\n\n    var me = {\n      schema: schema,\n      processKey: processKey,\n      toEvents: toEvents\n    };\n    return me;\n  };\n\n  var create$3 = function create$3(cyclicField) {\n    var schema = [option('onEscape'), option('onEnter'), defaulted$1('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'), defaulted$1('firstTabstop', 0), defaulted$1('useTabstopAt', constant(true)), option('visibilitySelector')].concat([cyclicField]);\n\n    var isVisible = function isVisible(tabbingConfig, element) {\n      var target = tabbingConfig.visibilitySelector.bind(function (sel) {\n        return closest$3(element, sel);\n      }).getOr(element);\n      return get$6(target) > 0;\n    };\n\n    var findInitial = function findInitial(component, tabbingConfig) {\n      var tabstops = descendants(component.element(), tabbingConfig.selector);\n      var visibles = filter(tabstops, function (elem) {\n        return isVisible(tabbingConfig, elem);\n      });\n      return Option.from(visibles[tabbingConfig.firstTabstop]);\n    };\n\n    var findCurrent = function findCurrent(component, tabbingConfig) {\n      return tabbingConfig.focusManager.get(component).bind(function (elem) {\n        return closest$3(elem, tabbingConfig.selector);\n      });\n    };\n\n    var isTabstop = function isTabstop(tabbingConfig, element) {\n      return isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n    };\n\n    var focusIn = function focusIn(component, tabbingConfig) {\n      findInitial(component, tabbingConfig).each(function (target) {\n        tabbingConfig.focusManager.set(component, target);\n      });\n    };\n\n    var goFromTabstop = function goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle) {\n      return cycle(tabstops, stopIndex, function (elem) {\n        return isTabstop(tabbingConfig, elem);\n      }).fold(function () {\n        return tabbingConfig.cyclic ? Option.some(true) : Option.none();\n      }, function (target) {\n        tabbingConfig.focusManager.set(component, target);\n        return Option.some(true);\n      });\n    };\n\n    var go = function go(component, simulatedEvent, tabbingConfig, cycle) {\n      var tabstops = descendants(component.element(), tabbingConfig.selector);\n      return findCurrent(component, tabbingConfig).bind(function (tabstop) {\n        var optStopIndex = findIndex(tabstops, curry(eq, tabstop));\n        return optStopIndex.bind(function (stopIndex) {\n          return goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle);\n        });\n      });\n    };\n\n    var goBackwards = function goBackwards(component, simulatedEvent, tabbingConfig, tabbingState) {\n      var navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n      return go(component, simulatedEvent, tabbingConfig, navigate);\n    };\n\n    var goForwards = function goForwards(component, simulatedEvent, tabbingConfig, tabbingState) {\n      var navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n      return go(component, simulatedEvent, tabbingConfig, navigate);\n    };\n\n    var execute = function execute(component, simulatedEvent, tabbingConfig, tabbingState) {\n      return tabbingConfig.onEnter.bind(function (f) {\n        return f(component, simulatedEvent);\n      });\n    };\n\n    var exit = function exit(component, simulatedEvent, tabbingConfig, tabbingState) {\n      return tabbingConfig.onEscape.bind(function (f) {\n        return f(component, simulatedEvent);\n      });\n    };\n\n    var getKeydownRules = constant([rule(and([isShift, inSet(TAB())]), goBackwards), rule(inSet(TAB()), goForwards), rule(inSet(ESCAPE()), exit), rule(and([isNotShift, inSet(ENTER())]), execute)]);\n    var getKeyupRules = constant([]);\n    return typical(schema, NoState.init, getKeydownRules, getKeyupRules, function () {\n      return Option.some(focusIn);\n    });\n  };\n\n  var AcyclicType = create$3(state$1('cyclic', constant(false)));\n  var CyclicType = create$3(state$1('cyclic', constant(true)));\n\n  var doDefaultExecute = function doDefaultExecute(component, simulatedEvent, focused) {\n    dispatch(component, focused, execute());\n    return Option.some(true);\n  };\n\n  var defaultExecute = function defaultExecute(component, simulatedEvent, focused) {\n    return inside(focused) && inSet(SPACE())(simulatedEvent.event()) ? Option.none() : doDefaultExecute(component, simulatedEvent, focused);\n  };\n\n  var stopEventForFirefox = function stopEventForFirefox(component, simulatedEvent) {\n    return Option.some(true);\n  };\n\n  var schema$3 = [defaulted$1('execute', defaultExecute), defaulted$1('useSpace', false), defaulted$1('useEnter', true), defaulted$1('useControlEnter', false), defaulted$1('useDown', false)];\n\n  var execute$1 = function execute$1(component, simulatedEvent, executeConfig) {\n    return executeConfig.execute(component, simulatedEvent, component.element());\n  };\n\n  var getKeydownRules = function getKeydownRules(component, simulatedEvent, executeConfig, executeState) {\n    var spaceExec = executeConfig.useSpace && !inside(component.element()) ? SPACE() : [];\n    var enterExec = executeConfig.useEnter ? ENTER() : [];\n    var downExec = executeConfig.useDown ? DOWN() : [];\n    var execKeys = spaceExec.concat(enterExec).concat(downExec);\n    return [rule(inSet(execKeys), execute$1)].concat(executeConfig.useControlEnter ? [rule(and([isControl, inSet(ENTER())]), execute$1)] : []);\n  };\n\n  var getKeyupRules = function getKeyupRules(component, simulatedEvent, executeConfig, executeState) {\n    return executeConfig.useSpace && !inside(component.element()) ? [rule(inSet(SPACE()), stopEventForFirefox)] : [];\n  };\n\n  var ExecutionType = typical(schema$3, NoState.init, getKeydownRules, getKeyupRules, function () {\n    return Option.none();\n  });\n\n  var flatgrid = function flatgrid(spec) {\n    var dimensions = Cell(Option.none());\n\n    var setGridSize = function setGridSize(numRows, numColumns) {\n      dimensions.set(Option.some({\n        numRows: constant(numRows),\n        numColumns: constant(numColumns)\n      }));\n    };\n\n    var getNumRows = function getNumRows() {\n      return dimensions.get().map(function (d) {\n        return d.numRows();\n      });\n    };\n\n    var getNumColumns = function getNumColumns() {\n      return dimensions.get().map(function (d) {\n        return d.numColumns();\n      });\n    };\n\n    return nu$5({\n      readState: function readState() {\n        return dimensions.get().map(function (d) {\n          return {\n            numRows: d.numRows(),\n            numColumns: d.numColumns()\n          };\n        }).getOr({\n          numRows: '?',\n          numColumns: '?'\n        });\n      },\n      setGridSize: setGridSize,\n      getNumRows: getNumRows,\n      getNumColumns: getNumColumns\n    });\n  };\n\n  var init$1 = function init$1(spec) {\n    return spec.state(spec);\n  };\n\n  var KeyingState =\n  /*#__PURE__*/\n  Object.freeze({\n    flatgrid: flatgrid,\n    init: init$1\n  });\n\n  var useH = function useH(movement) {\n    return function (component, simulatedEvent, config, state) {\n      var move = movement(component.element());\n      return use(move, component, simulatedEvent, config, state);\n    };\n  };\n\n  var west$2 = function west$2(moveLeft, moveRight) {\n    var movement = onDirection(moveLeft, moveRight);\n    return useH(movement);\n  };\n\n  var east$2 = function east$2(moveLeft, moveRight) {\n    var movement = onDirection(moveRight, moveLeft);\n    return useH(movement);\n  };\n\n  var useV = function useV(move) {\n    return function (component, simulatedEvent, config, state) {\n      return use(move, component, simulatedEvent, config, state);\n    };\n  };\n\n  var use = function use(move, component, simulatedEvent, config, state) {\n    var outcome = config.focusManager.get(component).bind(function (focused) {\n      return move(component.element(), focused, config, state);\n    });\n    return outcome.map(function (newFocus) {\n      config.focusManager.set(component, newFocus);\n      return true;\n    });\n  };\n\n  var north$2 = useV;\n  var south$2 = useV;\n  var move = useV;\n\n  var isHidden = function isHidden(dom) {\n    return dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n  };\n\n  var isVisible = function isVisible(element) {\n    var dom = element.dom();\n    return !isHidden(dom);\n  };\n\n  var indexInfo = MixedBag(['index', 'candidates'], []);\n\n  var locate$2 = function locate$2(candidates, predicate) {\n    return findIndex(candidates, predicate).map(function (index) {\n      return indexInfo({\n        index: index,\n        candidates: candidates\n      });\n    });\n  };\n\n  var locateVisible = function locateVisible(container, current, selector) {\n    var predicate = curry(eq, current);\n    var candidates = descendants(container, selector);\n    var visible = filter(candidates, isVisible);\n    return locate$2(visible, predicate);\n  };\n\n  var findIndex$1 = function findIndex$1(elements, target) {\n    return findIndex(elements, function (elem) {\n      return eq(target, elem);\n    });\n  };\n\n  var withGrid = function withGrid(values, index, numCols, f) {\n    var oldRow = Math.floor(index / numCols);\n    var oldColumn = index % numCols;\n    return f(oldRow, oldColumn).bind(function (address) {\n      var newIndex = address.row() * numCols + address.column();\n      return newIndex >= 0 && newIndex < values.length ? Option.some(values[newIndex]) : Option.none();\n    });\n  };\n\n  var cycleHorizontal = function cycleHorizontal(values, index, numRows, numCols, delta) {\n    return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n      var onLastRow = oldRow === numRows - 1;\n      var colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      var newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Option.some({\n        row: constant(oldRow),\n        column: constant(newColumn)\n      });\n    });\n  };\n\n  var cycleVertical = function cycleVertical(values, index, numRows, numCols, delta) {\n    return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n      var newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      var onLastRow = newRow === numRows - 1;\n      var colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      var newCol = cap(oldColumn, 0, colsInRow - 1);\n      return Option.some({\n        row: constant(newRow),\n        column: constant(newCol)\n      });\n    });\n  };\n\n  var cycleRight = function cycleRight(values, index, numRows, numCols) {\n    return cycleHorizontal(values, index, numRows, numCols, +1);\n  };\n\n  var cycleLeft = function cycleLeft(values, index, numRows, numCols) {\n    return cycleHorizontal(values, index, numRows, numCols, -1);\n  };\n\n  var cycleUp = function cycleUp(values, index, numRows, numCols) {\n    return cycleVertical(values, index, numRows, numCols, -1);\n  };\n\n  var cycleDown = function cycleDown(values, index, numRows, numCols) {\n    return cycleVertical(values, index, numRows, numCols, +1);\n  };\n\n  var schema$4 = [strict$1('selector'), defaulted$1('execute', defaultExecute), onKeyboardHandler('onEscape'), defaulted$1('captureTab', false), initSize()];\n\n  var focusIn = function focusIn(component, gridConfig, gridState) {\n    descendant$1(component.element(), gridConfig.selector).each(function (first) {\n      gridConfig.focusManager.set(component, first);\n    });\n  };\n\n  var findCurrent = function findCurrent(component, gridConfig) {\n    return gridConfig.focusManager.get(component).bind(function (elem) {\n      return closest$3(elem, gridConfig.selector);\n    });\n  };\n\n  var execute$2 = function execute$2(component, simulatedEvent, gridConfig, gridState) {\n    return findCurrent(component, gridConfig).bind(function (focused) {\n      return gridConfig.execute(component, simulatedEvent, focused);\n    });\n  };\n\n  var doMove = function doMove(cycle) {\n    return function (element, focused, gridConfig, gridState) {\n      return locateVisible(element, focused, gridConfig.selector).bind(function (identified) {\n        return cycle(identified.candidates(), identified.index(), gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns));\n      });\n    };\n  };\n\n  var handleTab = function handleTab(component, simulatedEvent, gridConfig, gridState) {\n    return gridConfig.captureTab ? Option.some(true) : Option.none();\n  };\n\n  var doEscape = function doEscape(component, simulatedEvent, gridConfig, gridState) {\n    return gridConfig.onEscape(component, simulatedEvent);\n  };\n\n  var moveLeft = doMove(cycleLeft);\n  var moveRight = doMove(cycleRight);\n  var moveNorth = doMove(cycleUp);\n  var moveSouth = doMove(cycleDown);\n  var getKeydownRules$1 = constant([rule(inSet(LEFT()), west$2(moveLeft, moveRight)), rule(inSet(RIGHT()), east$2(moveLeft, moveRight)), rule(inSet(UP()), north$2(moveNorth)), rule(inSet(DOWN()), south$2(moveSouth)), rule(and([isShift, inSet(TAB())]), handleTab), rule(and([isNotShift, inSet(TAB())]), handleTab), rule(inSet(ESCAPE()), doEscape), rule(inSet(SPACE().concat(ENTER())), execute$2)]);\n  var getKeyupRules$1 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n  var FlatgridType = typical(schema$4, flatgrid, getKeydownRules$1, getKeyupRules$1, function () {\n    return Option.some(focusIn);\n  });\n\n  var horizontal = function horizontal(container, selector, current, delta) {\n    var isDisabledButton = function isDisabledButton(candidate) {\n      return name(candidate) === 'button' && get$2(candidate, 'disabled') === 'disabled';\n    };\n\n    var tryCycle = function tryCycle(initial, index, candidates) {\n      var newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n\n      if (newIndex === initial) {\n        return Option.none();\n      } else {\n        return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Option.from(candidates[newIndex]);\n      }\n    };\n\n    return locateVisible(container, current, selector).bind(function (identified) {\n      var index = identified.index();\n      var candidates = identified.candidates();\n      return tryCycle(index, index, candidates);\n    });\n  };\n\n  var schema$5 = [strict$1('selector'), defaulted$1('getInitial', Option.none), defaulted$1('execute', defaultExecute), onKeyboardHandler('onEscape'), defaulted$1('executeOnMove', false), defaulted$1('allowVertical', true)];\n\n  var findCurrent$1 = function findCurrent$1(component, flowConfig) {\n    return flowConfig.focusManager.get(component).bind(function (elem) {\n      return closest$3(elem, flowConfig.selector);\n    });\n  };\n\n  var execute$3 = function execute$3(component, simulatedEvent, flowConfig) {\n    return findCurrent$1(component, flowConfig).bind(function (focused) {\n      return flowConfig.execute(component, simulatedEvent, focused);\n    });\n  };\n\n  var focusIn$1 = function focusIn$1(component, flowConfig) {\n    flowConfig.getInitial(component).orThunk(function () {\n      return descendant$1(component.element(), flowConfig.selector);\n    }).each(function (first) {\n      flowConfig.focusManager.set(component, first);\n    });\n  };\n\n  var moveLeft$1 = function moveLeft$1(element, focused, info) {\n    return horizontal(element, info.selector, focused, -1);\n  };\n\n  var moveRight$1 = function moveRight$1(element, focused, info) {\n    return horizontal(element, info.selector, focused, +1);\n  };\n\n  var doMove$1 = function doMove$1(movement) {\n    return function (component, simulatedEvent, flowConfig) {\n      return movement(component, simulatedEvent, flowConfig).bind(function () {\n        return flowConfig.executeOnMove ? execute$3(component, simulatedEvent, flowConfig) : Option.some(true);\n      });\n    };\n  };\n\n  var doEscape$1 = function doEscape$1(component, simulatedEvent, flowConfig, _flowState) {\n    return flowConfig.onEscape(component, simulatedEvent);\n  };\n\n  var getKeydownRules$2 = function getKeydownRules$2(_component, _se, flowConfig, _flowState) {\n    var westMovers = LEFT().concat(flowConfig.allowVertical ? UP() : []);\n    var eastMovers = RIGHT().concat(flowConfig.allowVertical ? DOWN() : []);\n    return [rule(inSet(westMovers), doMove$1(west$2(moveLeft$1, moveRight$1))), rule(inSet(eastMovers), doMove$1(east$2(moveLeft$1, moveRight$1))), rule(inSet(ENTER()), execute$3), rule(inSet(SPACE()), execute$3), rule(inSet(ESCAPE()), doEscape$1)];\n  };\n\n  var getKeyupRules$2 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n  var FlowType = typical(schema$5, NoState.init, getKeydownRules$2, getKeyupRules$2, function () {\n    return Option.some(focusIn$1);\n  });\n  var outcome = MixedBag(['rowIndex', 'columnIndex', 'cell'], []);\n\n  var toCell = function toCell(matrix, rowIndex, columnIndex) {\n    return Option.from(matrix[rowIndex]).bind(function (row) {\n      return Option.from(row[columnIndex]).map(function (cell) {\n        return outcome({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex,\n          cell: cell\n        });\n      });\n    });\n  };\n\n  var cycleHorizontal$1 = function cycleHorizontal$1(matrix, rowIndex, startCol, deltaCol) {\n    var row = matrix[rowIndex];\n    var colsInRow = row.length;\n    var newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n    return toCell(matrix, rowIndex, newColIndex);\n  };\n\n  var cycleVertical$1 = function cycleVertical$1(matrix, colIndex, startRow, deltaRow) {\n    var nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n    var colsInNextRow = matrix[nextRowIndex].length;\n    var nextColIndex = cap(colIndex, 0, colsInNextRow - 1);\n    return toCell(matrix, nextRowIndex, nextColIndex);\n  };\n\n  var moveHorizontal = function moveHorizontal(matrix, rowIndex, startCol, deltaCol) {\n    var row = matrix[rowIndex];\n    var colsInRow = row.length;\n    var newColIndex = cap(startCol + deltaCol, 0, colsInRow - 1);\n    return toCell(matrix, rowIndex, newColIndex);\n  };\n\n  var moveVertical = function moveVertical(matrix, colIndex, startRow, deltaRow) {\n    var nextRowIndex = cap(startRow + deltaRow, 0, matrix.length - 1);\n    var colsInNextRow = matrix[nextRowIndex].length;\n    var nextColIndex = cap(colIndex, 0, colsInNextRow - 1);\n    return toCell(matrix, nextRowIndex, nextColIndex);\n  };\n\n  var cycleRight$1 = function cycleRight$1(matrix, startRow, startCol) {\n    return cycleHorizontal$1(matrix, startRow, startCol, +1);\n  };\n\n  var cycleLeft$1 = function cycleLeft$1(matrix, startRow, startCol) {\n    return cycleHorizontal$1(matrix, startRow, startCol, -1);\n  };\n\n  var cycleUp$1 = function cycleUp$1(matrix, startRow, startCol) {\n    return cycleVertical$1(matrix, startCol, startRow, -1);\n  };\n\n  var cycleDown$1 = function cycleDown$1(matrix, startRow, startCol) {\n    return cycleVertical$1(matrix, startCol, startRow, +1);\n  };\n\n  var moveLeft$2 = function moveLeft$2(matrix, startRow, startCol) {\n    return moveHorizontal(matrix, startRow, startCol, -1);\n  };\n\n  var moveRight$2 = function moveRight$2(matrix, startRow, startCol) {\n    return moveHorizontal(matrix, startRow, startCol, +1);\n  };\n\n  var moveUp = function moveUp(matrix, startRow, startCol) {\n    return moveVertical(matrix, startCol, startRow, -1);\n  };\n\n  var moveDown = function moveDown(matrix, startRow, startCol) {\n    return moveVertical(matrix, startCol, startRow, +1);\n  };\n\n  var schema$6 = [strictObjOf('selectors', [strict$1('row'), strict$1('cell')]), defaulted$1('cycles', true), defaulted$1('previousSelector', Option.none), defaulted$1('execute', defaultExecute)];\n\n  var focusIn$2 = function focusIn$2(component, matrixConfig) {\n    var focused = matrixConfig.previousSelector(component).orThunk(function () {\n      var selectors = matrixConfig.selectors;\n      return descendant$1(component.element(), selectors.cell);\n    });\n    focused.each(function (cell) {\n      matrixConfig.focusManager.set(component, cell);\n    });\n  };\n\n  var execute$4 = function execute$4(component, simulatedEvent, matrixConfig) {\n    return search$1(component.element()).bind(function (focused) {\n      return matrixConfig.execute(component, simulatedEvent, focused);\n    });\n  };\n\n  var toMatrix = function toMatrix(rows, matrixConfig) {\n    return map(rows, function (row) {\n      return descendants(row, matrixConfig.selectors.cell);\n    });\n  };\n\n  var doMove$2 = function doMove$2(ifCycle, ifMove) {\n    return function (element, focused, matrixConfig) {\n      var move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$3(focused, matrixConfig.selectors.row).bind(function (inRow) {\n        var cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex$1(cellsInRow, focused).bind(function (colIndex) {\n          var allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex$1(allRows, inRow).bind(function (rowIndex) {\n            var matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(function (next) {\n              return next.cell();\n            });\n          });\n        });\n      });\n    };\n  };\n\n  var moveLeft$3 = doMove$2(cycleLeft$1, moveLeft$2);\n  var moveRight$3 = doMove$2(cycleRight$1, moveRight$2);\n  var moveNorth$1 = doMove$2(cycleUp$1, moveUp);\n  var moveSouth$1 = doMove$2(cycleDown$1, moveDown);\n  var getKeydownRules$3 = constant([rule(inSet(LEFT()), west$2(moveLeft$3, moveRight$3)), rule(inSet(RIGHT()), east$2(moveLeft$3, moveRight$3)), rule(inSet(UP()), north$2(moveNorth$1)), rule(inSet(DOWN()), south$2(moveSouth$1)), rule(inSet(SPACE().concat(ENTER())), execute$4)]);\n  var getKeyupRules$3 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n  var MatrixType = typical(schema$6, NoState.init, getKeydownRules$3, getKeyupRules$3, function () {\n    return Option.some(focusIn$2);\n  });\n  var schema$7 = [strict$1('selector'), defaulted$1('execute', defaultExecute), defaulted$1('moveOnTab', false)];\n\n  var execute$5 = function execute$5(component, simulatedEvent, menuConfig) {\n    return menuConfig.focusManager.get(component).bind(function (focused) {\n      return menuConfig.execute(component, simulatedEvent, focused);\n    });\n  };\n\n  var focusIn$3 = function focusIn$3(component, menuConfig) {\n    descendant$1(component.element(), menuConfig.selector).each(function (first) {\n      menuConfig.focusManager.set(component, first);\n    });\n  };\n\n  var moveUp$1 = function moveUp$1(element, focused, info) {\n    return horizontal(element, info.selector, focused, -1);\n  };\n\n  var moveDown$1 = function moveDown$1(element, focused, info) {\n    return horizontal(element, info.selector, focused, +1);\n  };\n\n  var fireShiftTab = function fireShiftTab(component, simulatedEvent, menuConfig) {\n    return menuConfig.moveOnTab ? move(moveUp$1)(component, simulatedEvent, menuConfig) : Option.none();\n  };\n\n  var fireTab = function fireTab(component, simulatedEvent, menuConfig) {\n    return menuConfig.moveOnTab ? move(moveDown$1)(component, simulatedEvent, menuConfig) : Option.none();\n  };\n\n  var getKeydownRules$4 = constant([rule(inSet(UP()), move(moveUp$1)), rule(inSet(DOWN()), move(moveDown$1)), rule(and([isShift, inSet(TAB())]), fireShiftTab), rule(and([isNotShift, inSet(TAB())]), fireTab), rule(inSet(ENTER()), execute$5), rule(inSet(SPACE()), execute$5)]);\n  var getKeyupRules$4 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n  var MenuType = typical(schema$7, NoState.init, getKeydownRules$4, getKeyupRules$4, function () {\n    return Option.some(focusIn$3);\n  });\n  var schema$8 = [onKeyboardHandler('onSpace'), onKeyboardHandler('onEnter'), onKeyboardHandler('onShiftEnter'), onKeyboardHandler('onLeft'), onKeyboardHandler('onRight'), onKeyboardHandler('onTab'), onKeyboardHandler('onShiftTab'), onKeyboardHandler('onUp'), onKeyboardHandler('onDown'), onKeyboardHandler('onEscape'), defaulted$1('stopSpaceKeyup', false), option('focusIn')];\n\n  var getKeydownRules$5 = function getKeydownRules$5(component, simulatedEvent, specialInfo) {\n    return [rule(inSet(SPACE()), specialInfo.onSpace), rule(and([isNotShift, inSet(ENTER())]), specialInfo.onEnter), rule(and([isShift, inSet(ENTER())]), specialInfo.onShiftEnter), rule(and([isShift, inSet(TAB())]), specialInfo.onShiftTab), rule(and([isNotShift, inSet(TAB())]), specialInfo.onTab), rule(inSet(UP()), specialInfo.onUp), rule(inSet(DOWN()), specialInfo.onDown), rule(inSet(LEFT()), specialInfo.onLeft), rule(inSet(RIGHT()), specialInfo.onRight), rule(inSet(SPACE()), specialInfo.onSpace), rule(inSet(ESCAPE()), specialInfo.onEscape)];\n  };\n\n  var getKeyupRules$5 = function getKeyupRules$5(component, simulatedEvent, specialInfo) {\n    return specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE()), stopEventForFirefox)] : [];\n  };\n\n  var SpecialType = typical(schema$8, NoState.init, getKeydownRules$5, getKeyupRules$5, function (specialInfo) {\n    return specialInfo.focusIn;\n  });\n  var acyclic = AcyclicType.schema();\n  var cyclic = CyclicType.schema();\n  var flow = FlowType.schema();\n  var flatgrid$1 = FlatgridType.schema();\n  var matrix = MatrixType.schema();\n  var execution = ExecutionType.schema();\n  var menu = MenuType.schema();\n  var special = SpecialType.schema();\n  var KeyboardBranches =\n  /*#__PURE__*/\n  Object.freeze({\n    acyclic: acyclic,\n    cyclic: cyclic,\n    flow: flow,\n    flatgrid: flatgrid$1,\n    matrix: matrix,\n    execution: execution,\n    menu: menu,\n    special: special\n  });\n  var Keying = createModes$1({\n    branchKey: 'mode',\n    branches: KeyboardBranches,\n    name: 'keying',\n    active: {\n      events: function events(keyingConfig, keyingState) {\n        var handler = keyingConfig.handler;\n        return handler.toEvents(keyingConfig, keyingState);\n      }\n    },\n    apis: {\n      focusIn: function focusIn(component, keyConfig, keyState) {\n        keyConfig.sendFocusIn(keyConfig).fold(function () {\n          component.getSystem().triggerFocus(component.element(), component.element());\n        }, function (sendFocusIn) {\n          sendFocusIn(component, keyConfig, keyState);\n        });\n      },\n      setGridSize: function setGridSize(component, keyConfig, keyState, numRows, numColumns) {\n        if (!hasKey$1(keyState, 'setGridSize')) {\n          domGlobals.console.error('Layout does not support setGridSize');\n        } else {\n          keyState.setGridSize(numRows, numColumns);\n        }\n      }\n    },\n    state: KeyingState\n  });\n\n  var preserve = function preserve(f, container) {\n    var ownerDoc = owner(container);\n    var refocus = active(ownerDoc).bind(function (focused) {\n      var hasFocus = function hasFocus(elem) {\n        return eq(focused, elem);\n      };\n\n      return hasFocus(container) ? Option.some(container) : descendant(container, hasFocus);\n    });\n    var result = f(container);\n    refocus.each(function (oldFocus) {\n      active(ownerDoc).filter(function (newFocus) {\n        return eq(newFocus, oldFocus);\n      }).fold(function () {\n        focus$1(oldFocus);\n      }, noop);\n    });\n    return result;\n  };\n\n  var set$5 = function set$5(component, replaceConfig, replaceState, data) {\n    detachChildren(component);\n    preserve(function () {\n      var children = map(data, component.getSystem().build);\n      each(children, function (l) {\n        attach(component, l);\n      });\n    }, component.element());\n  };\n\n  var insert = function insert(component, replaceConfig, insertion, childSpec) {\n    var child = component.getSystem().build(childSpec);\n    attachWith(component, child, insertion);\n  };\n\n  var append$2 = function append$2(component, replaceConfig, replaceState, appendee) {\n    insert(component, replaceConfig, append, appendee);\n  };\n\n  var prepend$1 = function prepend$1(component, replaceConfig, replaceState, prependee) {\n    insert(component, replaceConfig, prepend, prependee);\n  };\n\n  var remove$7 = function remove$7(component, replaceConfig, replaceState, removee) {\n    var children = contents(component);\n    var foundChild = find(children, function (child) {\n      return eq(removee.element(), child.element());\n    });\n    foundChild.each(detach);\n  };\n\n  var contents = function contents(component, replaceConfig) {\n    return component.components();\n  };\n\n  var replaceAt = function replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer) {\n    var children = contents(component);\n    return Option.from(children[replaceeIndex]).map(function (replacee) {\n      remove$7(component, replaceConfig, replaceState, replacee);\n      replacer.each(function (r) {\n        insert(component, replaceConfig, function (p, c) {\n          appendAt(p, c, replaceeIndex);\n        }, r);\n      });\n      return replacee;\n    });\n  };\n\n  var replaceBy = function replaceBy(component, replaceConfig, replaceState, replaceePred, replacer) {\n    var children = contents(component);\n    return findIndex(children, replaceePred).bind(function (replaceeIndex) {\n      return replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer);\n    });\n  };\n\n  var ReplaceApis =\n  /*#__PURE__*/\n  Object.freeze({\n    append: append$2,\n    prepend: prepend$1,\n    remove: remove$7,\n    replaceAt: replaceAt,\n    replaceBy: replaceBy,\n    set: set$5,\n    contents: contents\n  });\n  var Replacing = create$1({\n    fields: [],\n    name: 'replacing',\n    apis: ReplaceApis\n  });\n\n  var onLoad = function onLoad(component, repConfig, repState) {\n    repConfig.store.manager.onLoad(component, repConfig, repState);\n  };\n\n  var onUnload = function onUnload(component, repConfig, repState) {\n    repConfig.store.manager.onUnload(component, repConfig, repState);\n  };\n\n  var setValue = function setValue(component, repConfig, repState, data) {\n    repConfig.store.manager.setValue(component, repConfig, repState, data);\n  };\n\n  var getValue = function getValue(component, repConfig, repState) {\n    return repConfig.store.manager.getValue(component, repConfig, repState);\n  };\n\n  var getState$1 = function getState$1(component, repConfig, repState) {\n    return repState;\n  };\n\n  var RepresentApis =\n  /*#__PURE__*/\n  Object.freeze({\n    onLoad: onLoad,\n    onUnload: onUnload,\n    setValue: setValue,\n    getValue: getValue,\n    getState: getState$1\n  });\n\n  var events$3 = function events$3(repConfig, repState) {\n    var es = repConfig.resetOnDom ? [runOnAttached(function (comp, se) {\n      onLoad(comp, repConfig, repState);\n    }), runOnDetached(function (comp, se) {\n      onUnload(comp, repConfig, repState);\n    })] : [loadEvent(repConfig, repState, onLoad)];\n    return derive(es);\n  };\n\n  var ActiveRepresenting =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$3\n  });\n\n  var memory = function memory() {\n    var data = Cell(null);\n\n    var readState = function readState() {\n      return {\n        mode: 'memory',\n        value: data.get()\n      };\n    };\n\n    var isNotSet = function isNotSet() {\n      return data.get() === null;\n    };\n\n    var clear = function clear() {\n      data.set(null);\n    };\n\n    return nu$5({\n      set: data.set,\n      get: data.get,\n      isNotSet: isNotSet,\n      clear: clear,\n      readState: readState\n    });\n  };\n\n  var manual = function manual() {\n    var readState = function readState() {};\n\n    return nu$5({\n      readState: readState\n    });\n  };\n\n  var dataset = function dataset() {\n    var dataByValue = Cell({});\n    var dataByText = Cell({});\n\n    var readState = function readState() {\n      return {\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      };\n    };\n\n    var clear = function clear() {\n      dataByValue.set({});\n      dataByText.set({});\n    };\n\n    var lookup = function lookup(itemString) {\n      return readOptFrom$1(dataByValue.get(), itemString).orThunk(function () {\n        return readOptFrom$1(dataByText.get(), itemString);\n      });\n    };\n\n    var update = function update(items) {\n      var currentDataByValue = dataByValue.get();\n      var currentDataByText = dataByText.get();\n      var newDataByValue = {};\n      var newDataByText = {};\n      each(items, function (item) {\n        newDataByValue[item.value] = item;\n        readOptFrom$1(item, 'meta').each(function (meta) {\n          readOptFrom$1(meta, 'text').each(function (text) {\n            newDataByText[text] = item;\n          });\n        });\n      });\n      dataByValue.set(_assign({}, currentDataByValue, newDataByValue));\n      dataByText.set(_assign({}, currentDataByText, newDataByText));\n    };\n\n    return nu$5({\n      readState: readState,\n      lookup: lookup,\n      update: update,\n      clear: clear\n    });\n  };\n\n  var init$2 = function init$2(spec) {\n    return spec.store.manager.state(spec);\n  };\n\n  var RepresentState =\n  /*#__PURE__*/\n  Object.freeze({\n    memory: memory,\n    dataset: dataset,\n    manual: manual,\n    init: init$2\n  });\n\n  var setValue$1 = function setValue$1(component, repConfig, repState, data) {\n    var store = repConfig.store;\n    repState.update([data]);\n    store.setValue(component, data);\n    repConfig.onSetValue(component, data);\n  };\n\n  var getValue$1 = function getValue$1(component, repConfig, repState) {\n    var store = repConfig.store;\n    var key = store.getDataKey(component);\n    return repState.lookup(key).fold(function () {\n      return store.getFallbackEntry(key);\n    }, function (data) {\n      return data;\n    });\n  };\n\n  var onLoad$1 = function onLoad$1(component, repConfig, repState) {\n    var store = repConfig.store;\n    store.initialValue.each(function (data) {\n      setValue$1(component, repConfig, repState, data);\n    });\n  };\n\n  var onUnload$1 = function onUnload$1(component, repConfig, repState) {\n    repState.clear();\n  };\n\n  var DatasetStore = [option('initialValue'), strict$1('getFallbackEntry'), strict$1('getDataKey'), strict$1('setValue'), output('manager', {\n    setValue: setValue$1,\n    getValue: getValue$1,\n    onLoad: onLoad$1,\n    onUnload: onUnload$1,\n    state: dataset\n  })];\n\n  var getValue$2 = function getValue$2(component, repConfig, repState) {\n    return repConfig.store.getValue(component);\n  };\n\n  var setValue$2 = function setValue$2(component, repConfig, repState, data) {\n    repConfig.store.setValue(component, data);\n    repConfig.onSetValue(component, data);\n  };\n\n  var onLoad$2 = function onLoad$2(component, repConfig, repState) {\n    repConfig.store.initialValue.each(function (data) {\n      repConfig.store.setValue(component, data);\n    });\n  };\n\n  var ManualStore = [strict$1('getValue'), defaulted$1('setValue', noop), option('initialValue'), output('manager', {\n    setValue: setValue$2,\n    getValue: getValue$2,\n    onLoad: onLoad$2,\n    onUnload: noop,\n    state: NoState.init\n  })];\n\n  var setValue$3 = function setValue$3(component, repConfig, repState, data) {\n    repState.set(data);\n    repConfig.onSetValue(component, data);\n  };\n\n  var getValue$3 = function getValue$3(component, repConfig, repState) {\n    return repState.get();\n  };\n\n  var onLoad$3 = function onLoad$3(component, repConfig, repState) {\n    repConfig.store.initialValue.each(function (initVal) {\n      if (repState.isNotSet()) {\n        repState.set(initVal);\n      }\n    });\n  };\n\n  var onUnload$2 = function onUnload$2(component, repConfig, repState) {\n    repState.clear();\n  };\n\n  var MemoryStore = [option('initialValue'), output('manager', {\n    setValue: setValue$3,\n    getValue: getValue$3,\n    onLoad: onLoad$3,\n    onUnload: onUnload$2,\n    state: memory\n  })];\n  var RepresentSchema = [defaultedOf('store', {\n    mode: 'memory'\n  }, choose$1('mode', {\n    memory: MemoryStore,\n    manual: ManualStore,\n    dataset: DatasetStore\n  })), onHandler('onSetValue'), defaulted$1('resetOnDom', false)];\n  var Representing = create$1({\n    fields: RepresentSchema,\n    name: 'representing',\n    active: ActiveRepresenting,\n    apis: RepresentApis,\n    extra: {\n      setValueFrom: function setValueFrom(component, source) {\n        var value = Representing.getValue(source);\n        Representing.setValue(component, value);\n      }\n    },\n    state: RepresentState\n  });\n\n  var events$4 = function events$4(name, eventHandlers) {\n    var events = derive(eventHandlers);\n    return create$1({\n      fields: [strict$1('enabled')],\n      name: name,\n      active: {\n        events: constant(events)\n      }\n    });\n  };\n\n  var config = function config(name, eventHandlers) {\n    var me = events$4(name, eventHandlers);\n    return {\n      key: name,\n      value: {\n        config: {},\n        me: me,\n        configAsRaw: constant({}),\n        initialConfig: {},\n        state: NoState\n      }\n    };\n  };\n\n  var focus$2 = function focus$2(component, focusConfig) {\n    if (!focusConfig.ignore) {\n      focus$1(component.element());\n      focusConfig.onFocus(component);\n    }\n  };\n\n  var blur$1 = function blur$1(component, focusConfig) {\n    if (!focusConfig.ignore) {\n      blur(component.element());\n    }\n  };\n\n  var isFocused = function isFocused(component) {\n    return hasFocus(component.element());\n  };\n\n  var FocusApis =\n  /*#__PURE__*/\n  Object.freeze({\n    focus: focus$2,\n    blur: blur$1,\n    isFocused: isFocused\n  });\n\n  var exhibit$1 = function exhibit$1(base, focusConfig) {\n    var mod = focusConfig.ignore ? {} : {\n      attributes: {\n        tabindex: '-1'\n      }\n    };\n    return nu$6(mod);\n  };\n\n  var events$5 = function events$5(focusConfig) {\n    return derive([run(focus(), function (component, simulatedEvent) {\n      focus$2(component, focusConfig);\n      simulatedEvent.stop();\n    })].concat(focusConfig.stopMousedown ? [run(mousedown(), function (_, simulatedEvent) {\n      simulatedEvent.event().prevent();\n    })] : []));\n  };\n\n  var ActiveFocus =\n  /*#__PURE__*/\n  Object.freeze({\n    exhibit: exhibit$1,\n    events: events$5\n  });\n  var FocusSchema = [onHandler('onFocus'), defaulted$1('stopMousedown', false), defaulted$1('ignore', false)];\n  var Focusing = create$1({\n    fields: FocusSchema,\n    name: 'focusing',\n    active: ActiveFocus,\n    apis: FocusApis\n  });\n\n  var updateAriaState = function updateAriaState(component, toggleConfig, toggleState) {\n    var ariaInfo = toggleConfig.aria;\n    ariaInfo.update(component, ariaInfo, toggleState.get());\n  };\n\n  var updateClass = function updateClass(component, toggleConfig, toggleState) {\n    toggleConfig.toggleClass.each(function (toggleClass) {\n      if (toggleState.get()) {\n        add$2(component.element(), toggleClass);\n      } else {\n        remove$4(component.element(), toggleClass);\n      }\n    });\n  };\n\n  var toggle = function toggle(component, toggleConfig, toggleState) {\n    set$6(component, toggleConfig, toggleState, !toggleState.get());\n  };\n\n  var on$1 = function on$1(component, toggleConfig, toggleState) {\n    toggleState.set(true);\n    updateClass(component, toggleConfig, toggleState);\n    updateAriaState(component, toggleConfig, toggleState);\n  };\n\n  var off = function off(component, toggleConfig, toggleState) {\n    toggleState.set(false);\n    updateClass(component, toggleConfig, toggleState);\n    updateAriaState(component, toggleConfig, toggleState);\n  };\n\n  var set$6 = function set$6(component, toggleConfig, toggleState, state) {\n    var action = state ? on$1 : off;\n    action(component, toggleConfig, toggleState);\n  };\n\n  var isOn = function isOn(component, toggleConfig, toggleState) {\n    return toggleState.get();\n  };\n\n  var onLoad$4 = function onLoad$4(component, toggleConfig, toggleState) {\n    set$6(component, toggleConfig, toggleState, toggleConfig.selected);\n  };\n\n  var ToggleApis =\n  /*#__PURE__*/\n  Object.freeze({\n    onLoad: onLoad$4,\n    toggle: toggle,\n    isOn: isOn,\n    on: on$1,\n    off: off,\n    set: set$6\n  });\n\n  var exhibit$2 = function exhibit$2(base, toggleConfig, toggleState) {\n    return nu$6({});\n  };\n\n  var events$6 = function events$6(toggleConfig, toggleState) {\n    var execute = executeEvent(toggleConfig, toggleState, toggle);\n    var load = loadEvent(toggleConfig, toggleState, onLoad$4);\n    return derive(flatten([toggleConfig.toggleOnExecute ? [execute] : [], [load]]));\n  };\n\n  var ActiveToggle =\n  /*#__PURE__*/\n  Object.freeze({\n    exhibit: exhibit$2,\n    events: events$6\n  });\n\n  var SetupBehaviourCellState = function SetupBehaviourCellState(initialState) {\n    var init = function init() {\n      var cell = Cell(initialState);\n\n      var get = function get() {\n        return cell.get();\n      };\n\n      var set = function set(newState) {\n        return cell.set(newState);\n      };\n\n      var clear = function clear() {\n        return cell.set(initialState);\n      };\n\n      var readState = function readState() {\n        return cell.get();\n      };\n\n      return {\n        get: get,\n        set: set,\n        clear: clear,\n        readState: readState\n      };\n    };\n\n    return {\n      init: init\n    };\n  };\n\n  var updatePressed = function updatePressed(component, ariaInfo, status) {\n    set$1(component.element(), 'aria-pressed', status);\n\n    if (ariaInfo.syncWithExpanded) {\n      updateExpanded(component, ariaInfo, status);\n    }\n  };\n\n  var updateSelected = function updateSelected(component, ariaInfo, status) {\n    set$1(component.element(), 'aria-selected', status);\n  };\n\n  var updateChecked = function updateChecked(component, ariaInfo, status) {\n    set$1(component.element(), 'aria-checked', status);\n  };\n\n  var updateExpanded = function updateExpanded(component, ariaInfo, status) {\n    set$1(component.element(), 'aria-expanded', status);\n  };\n\n  var ToggleSchema = [defaulted$1('selected', false), option('toggleClass'), defaulted$1('toggleOnExecute', true), defaultedOf('aria', {\n    mode: 'none'\n  }, choose$1('mode', {\n    pressed: [defaulted$1('syncWithExpanded', false), output('update', updatePressed)],\n    checked: [output('update', updateChecked)],\n    expanded: [output('update', updateExpanded)],\n    selected: [output('update', updateSelected)],\n    none: [output('update', noop)]\n  }))];\n  var Toggling = create$1({\n    fields: ToggleSchema,\n    name: 'toggling',\n    active: ActiveToggle,\n    apis: ToggleApis,\n    state: SetupBehaviourCellState(false)\n  });\n  var hoverEvent = 'alloy.item-hover';\n  var focusEvent = 'alloy.item-focus';\n\n  var onHover = function onHover(item) {\n    if (search$1(item.element()).isNone() || Focusing.isFocused(item)) {\n      if (!Focusing.isFocused(item)) {\n        Focusing.focus(item);\n      }\n\n      emitWith(item, hoverEvent, {\n        item: item\n      });\n    }\n  };\n\n  var _onFocus = function onFocus(item) {\n    emitWith(item, focusEvent, {\n      item: item\n    });\n  };\n\n  var hover = constant(hoverEvent);\n  var focus$3 = constant(focusEvent);\n\n  var builder = function builder(detail) {\n    return {\n      dom: detail.dom,\n      domModification: _assign({}, detail.domModification, {\n        attributes: _assign({\n          'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem'\n        }, detail.domModification.attributes, {\n          'aria-haspopup': detail.hasSubmenu\n        }, detail.hasSubmenu ? {\n          'aria-expanded': false\n        } : {})\n      }),\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [detail.toggling.fold(Toggling.revoke, function (tConfig) {\n        return Toggling.config(_assign({\n          aria: {\n            mode: 'checked'\n          }\n        }, tConfig));\n      }), Focusing.config({\n        ignore: detail.ignoreFocus,\n        stopMousedown: detail.ignoreFocus,\n        onFocus: function onFocus(component) {\n          _onFocus(component);\n        }\n      }), Keying.config({\n        mode: 'execution'\n      }), Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: detail.data\n        }\n      }), config('item-type-events', [run(tapOrClick(), emitExecute), cutter(mousedown()), run(mouseover(), onHover), run(focusItem(), Focusing.focus)])]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    };\n  };\n\n  var schema$9 = [strict$1('data'), strict$1('components'), strict$1('dom'), defaulted$1('hasSubmenu', false), option('toggling'), SketchBehaviours.field('itemBehaviours', [Toggling, Focusing, Keying, Representing]), defaulted$1('ignoreFocus', false), defaulted$1('domModification', {}), output('builder', builder), defaulted$1('eventOrder', {})];\n\n  var builder$1 = function builder$1(detail) {\n    return {\n      dom: detail.dom,\n      components: detail.components,\n      events: derive([stopper(focusItem())])\n    };\n  };\n\n  var schema$a = [strict$1('dom'), strict$1('components'), output('builder', builder$1)];\n\n  var owner$2 = function owner$2() {\n    return 'item-widget';\n  };\n\n  var parts = constant([required({\n    name: 'widget',\n    overrides: function overrides(detail) {\n      return {\n        behaviours: derive$1([Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: function getValue(component) {\n              return detail.data;\n            },\n            setValue: function setValue() {}\n          }\n        })])\n      };\n    }\n  })]);\n\n  var builder$2 = function builder$2(detail) {\n    var subs = substitutes(owner$2(), detail, parts());\n    var components$1 = components(owner$2(), detail, subs.internals());\n\n    var focusWidget = function focusWidget(component) {\n      return getPart(component, detail, 'widget').map(function (widget) {\n        Keying.focusIn(widget);\n        return widget;\n      });\n    };\n\n    var onHorizontalArrow = function onHorizontalArrow(component, simulatedEvent) {\n      return inside(simulatedEvent.event().target()) ? Option.none() : function () {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element());\n          return Option.none();\n        } else {\n          return Option.none();\n        }\n      }();\n    };\n\n    return {\n      dom: detail.dom,\n      components: components$1,\n      domModification: detail.domModification,\n      events: derive([runOnExecute(function (component, simulatedEvent) {\n        focusWidget(component).each(function (widget) {\n          simulatedEvent.stop();\n        });\n      }), run(mouseover(), onHover), run(focusItem(), function (component, simulatedEvent) {\n        if (detail.autofocus) {\n          focusWidget(component);\n        } else {\n          Focusing.focus(component);\n        }\n      })]),\n      behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: detail.data\n        }\n      }), Focusing.config({\n        ignore: detail.ignoreFocus,\n        onFocus: function onFocus(component) {\n          _onFocus(component);\n        }\n      }), Keying.config({\n        mode: 'special',\n        focusIn: detail.autofocus ? function (component) {\n          focusWidget(component);\n        } : revoke(),\n        onLeft: onHorizontalArrow,\n        onRight: onHorizontalArrow,\n        onEscape: function onEscape(component, simulatedEvent) {\n          if (!Focusing.isFocused(component) && !detail.autofocus) {\n            Focusing.focus(component);\n            return Option.some(true);\n          } else if (detail.autofocus) {\n            simulatedEvent.setSource(component.element());\n            return Option.none();\n          } else {\n            return Option.none();\n          }\n        }\n      })])\n    };\n  };\n\n  var schema$b = [strict$1('uid'), strict$1('data'), strict$1('components'), strict$1('dom'), defaulted$1('autofocus', false), defaulted$1('ignoreFocus', false), SketchBehaviours.field('widgetBehaviours', [Representing, Focusing, Keying]), defaulted$1('domModification', {}), defaultUidsSchema(parts()), output('builder', builder$2)];\n  var itemSchema$1 = choose$1('type', {\n    widget: schema$b,\n    item: schema$9,\n    separator: schema$a\n  });\n\n  var configureGrid = function configureGrid(detail, movementInfo) {\n    return {\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    };\n  };\n\n  var configureMatrix = function configureMatrix(detail, movementInfo) {\n    return {\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      focusManager: detail.focusManager\n    };\n  };\n\n  var configureMenu = function configureMenu(detail, movementInfo) {\n    return {\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    };\n  };\n\n  var parts$1 = constant([group({\n    factory: {\n      sketch: function sketch(spec) {\n        var itemInfo = asRawOrDie('menu.spec item', itemSchema$1, spec);\n        return itemInfo.builder(itemInfo);\n      }\n    },\n    name: 'items',\n    unit: 'item',\n    defaults: function defaults(detail, u) {\n      return u.hasOwnProperty('uid') ? u : _assign({}, u, {\n        uid: generate$2('item')\n      });\n    },\n    overrides: function overrides(detail, u) {\n      return {\n        type: u.type,\n        ignoreFocus: detail.fakeFocus,\n        domModification: {\n          classes: [detail.markers.item]\n        }\n      };\n    }\n  })]);\n  var schema$c = constant([strict$1('value'), strict$1('items'), strict$1('dom'), strict$1('components'), defaulted$1('eventOrder', {}), field$1('menuBehaviours', [Highlighting, Representing, Composing, Keying]), defaultedOf('movement', {\n    mode: 'menu',\n    moveOnTab: true\n  }, choose$1('mode', {\n    grid: [initSize(), output('config', configureGrid)],\n    matrix: [output('config', configureMatrix), strict$1('rowSelector')],\n    menu: [defaulted$1('moveOnTab', true), output('config', configureMenu)]\n  })), itemMarkers(), defaulted$1('fakeFocus', false), defaulted$1('focusManager', dom()), onHandler('onHighlight')]);\n  var focus$4 = constant('alloy.menu-focus');\n\n  var make$1 = function make$1(detail, components, spec, externals) {\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [Highlighting.config({\n        highlightClass: detail.markers.selectedItem,\n        itemClass: detail.markers.item,\n        onHighlight: detail.onHighlight\n      }), Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: detail.value\n        }\n      }), Composing.config({\n        find: Option.some\n      }), Keying.config(detail.movement.config(detail, detail.movement))]),\n      events: derive([run(focus$3(), function (menu, simulatedEvent) {\n        var event = simulatedEvent.event();\n        menu.getSystem().getByDom(event.target()).each(function (item) {\n          Highlighting.highlight(menu, item);\n          simulatedEvent.stop();\n          emitWith(menu, focus$4(), {\n            menu: menu,\n            item: item\n          });\n        });\n      }), run(hover(), function (menu, simulatedEvent) {\n        var item = simulatedEvent.event().item();\n        Highlighting.highlight(menu, item);\n      })]),\n      components: components,\n      eventOrder: detail.eventOrder,\n      domModification: {\n        attributes: {\n          role: 'menu'\n        }\n      }\n    };\n  };\n\n  var Menu = composite$1({\n    name: 'Menu',\n    configFields: schema$c(),\n    partFields: parts$1(),\n    factory: make$1\n  });\n\n  var transpose = function transpose(obj) {\n    return tupleMap(obj, function (v, k) {\n      return {\n        k: v,\n        v: k\n      };\n    });\n  };\n\n  var trace = function trace(items, byItem, byMenu, finish) {\n    return readOptFrom$1(byMenu, finish).bind(function (triggerItem) {\n      return readOptFrom$1(items, triggerItem).bind(function (triggerMenu) {\n        var rest = trace(items, byItem, byMenu, triggerMenu);\n        return Option.some([triggerMenu].concat(rest));\n      });\n    }).getOr([]);\n  };\n\n  var generate$5 = function generate$5(menus, expansions) {\n    var items = {};\n    each$1(menus, function (menuItems, menu) {\n      each(menuItems, function (item) {\n        items[item] = menu;\n      });\n    });\n    var byItem = expansions;\n    var byMenu = transpose(expansions);\n    var menuPaths = map$1(byMenu, function (_triggerItem, submenu) {\n      return [submenu].concat(trace(items, byItem, byMenu, submenu));\n    });\n    return map$1(items, function (menu) {\n      return readOptFrom$1(menuPaths, menu).getOr([menu]);\n    });\n  };\n\n  var init$3 = function init$3() {\n    var expansions = Cell({});\n    var menus = Cell({});\n    var paths = Cell({});\n    var primary = Cell(Option.none());\n    var directory = Cell({});\n\n    var clear = function clear() {\n      expansions.set({});\n      menus.set({});\n      paths.set({});\n      primary.set(Option.none());\n    };\n\n    var isClear = function isClear() {\n      return primary.get().isNone();\n    };\n\n    var setMenuBuilt = function setMenuBuilt(menuName, built) {\n      var _a;\n\n      menus.set(_assign({}, menus.get(), (_a = {}, _a[menuName] = {\n        type: 'prepared',\n        menu: built\n      }, _a)));\n    };\n\n    var setContents = function setContents(sPrimary, sMenus, sExpansions, dir) {\n      primary.set(Option.some(sPrimary));\n      expansions.set(sExpansions);\n      menus.set(sMenus);\n      directory.set(dir);\n      var sPaths = generate$5(dir, sExpansions);\n      paths.set(sPaths);\n    };\n\n    var expand = function expand(itemValue) {\n      return readOptFrom$1(expansions.get(), itemValue).map(function (menu) {\n        var current = readOptFrom$1(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n    };\n\n    var collapse = function collapse(itemValue) {\n      return readOptFrom$1(paths.get(), itemValue).bind(function (path) {\n        return path.length > 1 ? Option.some(path.slice(1)) : Option.none();\n      });\n    };\n\n    var refresh = function refresh(itemValue) {\n      return readOptFrom$1(paths.get(), itemValue);\n    };\n\n    var lookupMenu = function lookupMenu(menuValue) {\n      return readOptFrom$1(menus.get(), menuValue);\n    };\n\n    var otherMenus = function otherMenus(path) {\n      var menuValues = directory.get();\n      return difference(keys(menuValues), path);\n    };\n\n    var getPrimary = function getPrimary() {\n      return primary.get().bind(function (primaryName) {\n        return lookupMenu(primaryName).bind(function (prep) {\n          return prep.type === 'prepared' ? Option.some(prep.menu) : Option.none();\n        });\n      });\n    };\n\n    var getMenus = function getMenus() {\n      return menus.get();\n    };\n\n    return {\n      setMenuBuilt: setMenuBuilt,\n      setContents: setContents,\n      expand: expand,\n      refresh: refresh,\n      collapse: collapse,\n      lookupMenu: lookupMenu,\n      otherMenus: otherMenus,\n      getPrimary: getPrimary,\n      getMenus: getMenus,\n      clear: clear,\n      isClear: isClear\n    };\n  };\n\n  var LayeredState = {\n    init: init$3\n  };\n\n  var make$2 = function make$2(detail, rawUiSpec) {\n    var submenuParentItems = Cell(Option.none());\n\n    var buildMenus = function buildMenus(container, primaryName, menus) {\n      return map$1(menus, function (spec, name) {\n        var makeSketch = function makeSketch() {\n          return Menu.sketch(_assign({\n            dom: spec.dom\n          }, spec, {\n            value: name,\n            items: spec.items,\n            markers: detail.markers,\n            fakeFocus: detail.fakeFocus,\n            onHighlight: detail.onHighlight,\n            focusManager: detail.fakeFocus ? highlights() : dom()\n          }));\n        };\n\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n    };\n\n    var layeredState = LayeredState.init();\n\n    var setup = function setup(container) {\n      var componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n      var directory = toDirectory();\n      layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n      return layeredState.getPrimary();\n    };\n\n    var getItemValue = function getItemValue(item) {\n      return Representing.getValue(item).value;\n    };\n\n    var toDirectory = function toDirectory(container) {\n      return map$1(detail.data.menus, function (data, menuName) {\n        return bind(data.items, function (item) {\n          return item.type === 'separator' ? [] : [item.data.value];\n        });\n      });\n    };\n\n    var setActiveMenu = function setActiveMenu(container, menu) {\n      Highlighting.highlight(container, menu);\n      Highlighting.getHighlighted(menu).orThunk(function () {\n        return Highlighting.getFirst(menu);\n      }).each(function (item) {\n        dispatch(container, item.element(), focusItem());\n      });\n    };\n\n    var getMenus = function getMenus(state, menuValues) {\n      return cat(map(menuValues, function (mv) {\n        return state.lookupMenu(mv).bind(function (prep) {\n          return prep.type === 'prepared' ? Option.some(prep.menu) : Option.none();\n        });\n      }));\n    };\n\n    var closeOthers = function closeOthers(container, state, path) {\n      var others = getMenus(state, state.otherMenus(path));\n      each(others, function (o) {\n        remove$5(o.element(), [detail.markers.backgroundMenu]);\n\n        if (!detail.stayInDom) {\n          Replacing.remove(container, o);\n        }\n      });\n    };\n\n    var getSubmenuParents = function getSubmenuParents(container) {\n      return submenuParentItems.get().getOrThunk(function () {\n        var r = {};\n        var items = descendants(container.element(), '.' + detail.markers.item);\n        var parentItems = filter(items, function (i) {\n          return get$2(i, 'aria-haspopup') === 'true';\n        });\n        each(parentItems, function (i) {\n          container.getSystem().getByDom(i).each(function (itemComp) {\n            var key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(Option.some(r));\n        return r;\n      });\n    };\n\n    var updateAriaExpansions = function updateAriaExpansions(container, path) {\n      var parentItems = getSubmenuParents(container);\n      each$1(parentItems, function (v, k) {\n        var expanded = contains(path, k);\n        set$1(v.element(), 'aria-expanded', expanded);\n      });\n    };\n\n    var updateMenuPath = function updateMenuPath(container, state, path) {\n      return Option.from(path[0]).bind(function (latestMenuName) {\n        return state.lookupMenu(latestMenuName).bind(function (menuPrep) {\n          if (menuPrep.type === 'notbuilt') {\n            return Option.none();\n          } else {\n            var activeMenu = menuPrep.menu;\n            var rest = getMenus(state, path.slice(1));\n            each(rest, function (r) {\n              add$2(r.element(), detail.markers.backgroundMenu);\n            });\n\n            if (!inBody(activeMenu.element())) {\n              Replacing.append(container, premade$1(activeMenu));\n            }\n\n            remove$5(activeMenu.element(), [detail.markers.backgroundMenu]);\n            setActiveMenu(container, activeMenu);\n            closeOthers(container, state, path);\n            return Option.some(activeMenu);\n          }\n        });\n      });\n    };\n\n    var ExpandHighlightDecision;\n\n    (function (ExpandHighlightDecision) {\n      ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n      ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n    })(ExpandHighlightDecision || (ExpandHighlightDecision = {}));\n\n    var buildIfRequired = function buildIfRequired(container, menuName, menuPrep) {\n      if (menuPrep.type === 'notbuilt') {\n        var menu = container.getSystem().build(menuPrep.nbMenu());\n        layeredState.setMenuBuilt(menuName, menu);\n        return menu;\n      } else {\n        return menuPrep.menu;\n      }\n    };\n\n    var expandRight = function expandRight(container, item, decision) {\n      if (decision === void 0) {\n        decision = ExpandHighlightDecision.HighlightSubmenu;\n      }\n\n      var value = getItemValue(item);\n      return layeredState.expand(value).bind(function (path) {\n        updateAriaExpansions(container, path);\n        return Option.from(path[0]).bind(function (menuName) {\n          return layeredState.lookupMenu(menuName).bind(function (activeMenuPrep) {\n            var activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n\n            if (!inBody(activeMenu.element())) {\n              Replacing.append(container, premade$1(activeMenu));\n            }\n\n            detail.onOpenSubmenu(container, item, activeMenu);\n\n            if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n              Highlighting.highlightFirst(activeMenu);\n              return updateMenuPath(container, layeredState, path);\n            } else {\n              Highlighting.dehighlightAll(activeMenu);\n              return Option.some(item);\n            }\n          });\n        });\n      });\n    };\n\n    var collapseLeft = function collapseLeft(container, item) {\n      var value = getItemValue(item);\n      return layeredState.collapse(value).bind(function (path) {\n        updateAriaExpansions(container, path);\n        return updateMenuPath(container, layeredState, path).map(function (activeMenu) {\n          detail.onCollapseMenu(container, item, activeMenu);\n          return activeMenu;\n        });\n      });\n    };\n\n    var updateView = function updateView(container, item) {\n      var value = getItemValue(item);\n      return layeredState.refresh(value).bind(function (path) {\n        updateAriaExpansions(container, path);\n        return updateMenuPath(container, layeredState, path);\n      });\n    };\n\n    var onRight = function onRight(container, item) {\n      return inside(item.element()) ? Option.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n    };\n\n    var onLeft = function onLeft(container, item) {\n      return inside(item.element()) ? Option.none() : collapseLeft(container, item);\n    };\n\n    var onEscape = function onEscape(container, item) {\n      return collapseLeft(container, item).orThunk(function () {\n        return detail.onEscape(container, item).map(function () {\n          return container;\n        });\n      });\n    };\n\n    var keyOnItem = function keyOnItem(f) {\n      return function (container, simulatedEvent) {\n        return closest$3(simulatedEvent.getSource(), '.' + detail.markers.item).bind(function (target) {\n          return container.getSystem().getByDom(target).toOption().bind(function (item) {\n            return f(container, item).map(function () {\n              return true;\n            });\n          });\n        });\n      };\n    };\n\n    var events = derive([run(focus$4(), function (sandbox, simulatedEvent) {\n      var menu = simulatedEvent.event().menu();\n      Highlighting.highlight(sandbox, menu);\n      var value = getItemValue(simulatedEvent.event().item());\n      layeredState.refresh(value).each(function (path) {\n        return closeOthers(sandbox, layeredState, path);\n      });\n    }), runOnExecute(function (component, simulatedEvent) {\n      var target = simulatedEvent.event().target();\n      component.getSystem().getByDom(target).each(function (item) {\n        var itemValue = getItemValue(item);\n\n        if (itemValue.indexOf('collapse-item') === 0) {\n          collapseLeft(component, item);\n        }\n\n        expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(function () {\n          detail.onExecute(component, item);\n        }, function () {});\n      });\n    }), runOnAttached(function (container, simulatedEvent) {\n      setup(container).each(function (primary) {\n        Replacing.append(container, premade$1(primary));\n        detail.onOpenMenu(container, primary);\n\n        if (detail.highlightImmediately) {\n          setActiveMenu(container, primary);\n        }\n      });\n    })].concat(detail.navigateOnHover ? [run(hover(), function (sandbox, simulatedEvent) {\n      var item = simulatedEvent.event().item();\n      updateView(sandbox, item);\n      expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n      detail.onHover(sandbox, item);\n    })] : []));\n\n    var collapseMenuApi = function collapseMenuApi(container) {\n      Highlighting.getHighlighted(container).each(function (currentMenu) {\n        Highlighting.getHighlighted(currentMenu).each(function (currentItem) {\n          collapseLeft(container, currentItem);\n        });\n      });\n    };\n\n    var highlightPrimary = function highlightPrimary(container) {\n      layeredState.getPrimary().each(function (primary) {\n        setActiveMenu(container, primary);\n      });\n    };\n\n    var apis = {\n      collapseMenu: collapseMenuApi,\n      highlightPrimary: highlightPrimary\n    };\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.tmenuBehaviours, [Keying.config({\n        mode: 'special',\n        onRight: keyOnItem(onRight),\n        onLeft: keyOnItem(onLeft),\n        onEscape: keyOnItem(onEscape),\n        focusIn: function focusIn(container, keyInfo) {\n          layeredState.getPrimary().each(function (primary) {\n            dispatch(container, primary.element(), focusItem());\n          });\n        }\n      }), Highlighting.config({\n        highlightClass: detail.markers.selectedMenu,\n        itemClass: detail.markers.menu\n      }), Composing.config({\n        find: function find(container) {\n          return Highlighting.getHighlighted(container);\n        }\n      }), Replacing.config({})]),\n      eventOrder: detail.eventOrder,\n      apis: apis,\n      events: events\n    };\n  };\n\n  var collapseItem = constant('collapse-item');\n\n  var tieredData = function tieredData(primary, menus, expansions) {\n    return {\n      primary: primary,\n      menus: menus,\n      expansions: expansions\n    };\n  };\n\n  var singleData = function singleData(name, menu) {\n    return {\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    };\n  };\n\n  var collapseItem$1 = function collapseItem$1(text) {\n    return {\n      value: generate$1(collapseItem()),\n      meta: {\n        text: text\n      }\n    };\n  };\n\n  var tieredMenu = single$2({\n    name: 'TieredMenu',\n    configFields: [onStrictKeyboardHandler('onExecute'), onStrictKeyboardHandler('onEscape'), onStrictHandler('onOpenMenu'), onStrictHandler('onOpenSubmenu'), onHandler('onCollapseMenu'), defaulted$1('highlightImmediately', true), strictObjOf('data', [strict$1('primary'), strict$1('menus'), strict$1('expansions')]), defaulted$1('fakeFocus', false), onHandler('onHighlight'), onHandler('onHover'), tieredMenuMarkers(), strict$1('dom'), defaulted$1('navigateOnHover', true), defaulted$1('stayInDom', false), field$1('tmenuBehaviours', [Keying, Highlighting, Composing, Replacing]), defaulted$1('eventOrder', {})],\n    apis: {\n      collapseMenu: function collapseMenu(apis, tmenu) {\n        apis.collapseMenu(tmenu);\n      },\n      highlightPrimary: function highlightPrimary(apis, tmenu) {\n        apis.highlightPrimary(tmenu);\n      }\n    },\n    factory: make$2,\n    extraApis: {\n      tieredData: tieredData,\n      singleData: singleData,\n      collapseItem: collapseItem$1\n    }\n  });\n\n  var makeMenu = function makeMenu(detail, menuSandbox, anchor, menuSpec) {\n    var lazySink = function lazySink() {\n      return detail.lazySink(menuSandbox);\n    };\n\n    return tieredMenu.sketch({\n      dom: {\n        tag: 'div'\n      },\n      data: menuSpec.data,\n      markers: menuSpec.menu.markers,\n      onEscape: function onEscape() {\n        Sandboxing.close(menuSandbox);\n        detail.onEscape.map(function (handler) {\n          return handler(menuSandbox);\n        });\n        return Option.some(true);\n      },\n      onExecute: function onExecute() {\n        return Option.some(true);\n      },\n      onOpenMenu: function onOpenMenu(tmenu, menu) {\n        Positioning.position(lazySink().getOrDie(), anchor, menu);\n      },\n      onOpenSubmenu: function onOpenSubmenu(tmenu, item, submenu) {\n        var sink = lazySink().getOrDie();\n        Positioning.position(sink, {\n          anchor: 'submenu',\n          item: item\n        }, submenu);\n      }\n    });\n  };\n\n  var factory = function factory(detail, spec) {\n    var isPartOfRelated = function isPartOfRelated(sandbox, queryElem) {\n      var related = detail.getRelated(sandbox);\n      return related.exists(function (rel) {\n        return _isPartOf(rel, queryElem);\n      });\n    };\n\n    var setContent = function setContent(sandbox, thing) {\n      Sandboxing.open(sandbox, thing);\n    };\n\n    var showAt = function showAt(sandbox, anchor, thing) {\n      var getBounds = Option.none();\n      showWithin(sandbox, anchor, thing, getBounds);\n    };\n\n    var showWithin = function showWithin(sandbox, anchor, thing, boxElement) {\n      var sink = detail.lazySink(sandbox).getOrDie();\n      Sandboxing.openWhileCloaked(sandbox, thing, function () {\n        return Positioning.positionWithin(sink, anchor, sandbox, boxElement);\n      });\n      detail.onShow(sandbox);\n    };\n\n    var showWithinBounds = function showWithinBounds(sandbox, anchor, thing, bounds) {\n      var sink = detail.lazySink(sandbox).getOrDie();\n      Sandboxing.openWhileCloaked(sandbox, thing, function () {\n        return Positioning.positionWithinBounds(sink, anchor, sandbox, bounds);\n      });\n      detail.onShow(sandbox);\n    };\n\n    var showMenuAt = function showMenuAt(sandbox, anchor, menuSpec) {\n      var menu = makeMenu(detail, sandbox, anchor, menuSpec);\n      Sandboxing.open(sandbox, menu);\n      detail.onShow(sandbox);\n    };\n\n    var hide = function hide(sandbox) {\n      Sandboxing.close(sandbox);\n      detail.onHide(sandbox);\n    };\n\n    var getContent = function getContent(sandbox) {\n      return Sandboxing.getState(sandbox);\n    };\n\n    var apis = {\n      setContent: setContent,\n      showAt: showAt,\n      showWithin: showWithin,\n      showWithinBounds: showWithinBounds,\n      showMenuAt: showMenuAt,\n      hide: hide,\n      getContent: getContent,\n      isOpen: Sandboxing.isOpen\n    };\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.inlineBehaviours, [Sandboxing.config({\n        isPartOf: function isPartOf(sandbox, data, queryElem) {\n          return _isPartOf(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n        },\n        getAttachPoint: function getAttachPoint(sandbox) {\n          return detail.lazySink(sandbox).getOrDie();\n        }\n      }), receivingConfig(_assign({\n        isExtraPart: constant(false)\n      }, detail.fireDismissalEventInstead.map(function (fe) {\n        return {\n          fireEventInstead: {\n            event: fe.event\n          }\n        };\n      }).getOr({})))]),\n      eventOrder: detail.eventOrder,\n      apis: apis\n    };\n  };\n\n  var InlineView = single$2({\n    name: 'InlineView',\n    configFields: [strict$1('lazySink'), onHandler('onShow'), onHandler('onHide'), optionFunction('onEscape'), field$1('inlineBehaviours', [Sandboxing, Receiving]), optionObjOf('fireDismissalEventInstead', [defaulted$1('event', dismissRequested())]), defaulted$1('getRelated', Option.none), defaulted$1('eventOrder', Option.none)],\n    factory: factory,\n    apis: {\n      showAt: function showAt(apis, component, anchor, thing) {\n        apis.showAt(component, anchor, thing);\n      },\n      showWithin: function showWithin(apis, component, anchor, thing, boxElement) {\n        apis.showWithin(component, anchor, thing, boxElement);\n      },\n      showWithinBounds: function showWithinBounds(apis, component, anchor, thing, bounds) {\n        apis.showWithinBounds(component, anchor, thing, bounds);\n      },\n      showMenuAt: function showMenuAt(apis, component, anchor, menuSpec) {\n        apis.showMenuAt(component, anchor, menuSpec);\n      },\n      hide: function hide(apis, component) {\n        apis.hide(component);\n      },\n      isOpen: function isOpen(apis, component) {\n        return apis.isOpen(component);\n      },\n      getContent: function getContent(apis, component) {\n        return apis.getContent(component);\n      },\n      setContent: function setContent(apis, component, thing) {\n        apis.setContent(component, thing);\n      }\n    }\n  });\n\n  var events$7 = function events$7(optAction) {\n    var executeHandler = function executeHandler(action) {\n      return run(execute(), function (component, simulatedEvent) {\n        action(component);\n        simulatedEvent.stop();\n      });\n    };\n\n    var onClick = function onClick(component, simulatedEvent) {\n      simulatedEvent.stop();\n      emitExecute(component);\n    };\n\n    var onMousedown = function onMousedown(component, simulatedEvent) {\n      simulatedEvent.cut();\n    };\n\n    var pointerEvents = PlatformDetection$1.detect().deviceType.isTouch() ? [run(tap(), onClick)] : [run(click(), onClick), run(mousedown(), onMousedown)];\n    return derive(flatten([optAction.map(executeHandler).toArray(), pointerEvents]));\n  };\n\n  var factory$1 = function factory$1(detail) {\n    var events = events$7(detail.action);\n    var tag = detail.dom.tag;\n\n    var lookupAttr = function lookupAttr(attr) {\n      return readOptFrom$1(detail.dom, 'attributes').bind(function (attrs) {\n        return readOptFrom$1(attrs, attr);\n      });\n    };\n\n    var getModAttributes = function getModAttributes() {\n      if (tag === 'button') {\n        var type = lookupAttr('type').getOr('button');\n        var roleAttrs = lookupAttr('role').map(function (role) {\n          return {\n            role: role\n          };\n        }).getOr({});\n        return _assign({\n          type: type\n        }, roleAttrs);\n      } else {\n        var role = lookupAttr('role').getOr('button');\n        return {\n          role: role\n        };\n      }\n    };\n\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events,\n      behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [Focusing.config({}), Keying.config({\n        mode: 'execution',\n        useSpace: true,\n        useEnter: true\n      })]),\n      domModification: {\n        attributes: getModAttributes()\n      },\n      eventOrder: detail.eventOrder\n    };\n  };\n\n  var Button = single$2({\n    name: 'Button',\n    factory: factory$1,\n    configFields: [defaulted$1('uid', undefined), strict$1('dom'), defaulted$1('components', []), SketchBehaviours.field('buttonBehaviours', [Focusing, Keying]), option('action'), option('role'), defaulted$1('eventOrder', {})]\n  });\n\n  var record = function record(spec) {\n    var uid = isSketchSpec(spec) && hasKey$1(spec, 'uid') ? spec.uid : generate$2('memento');\n\n    var get = function get(anyInSystem) {\n      return anyInSystem.getSystem().getByUid(uid).getOrDie();\n    };\n\n    var getOpt = function getOpt(anyInSystem) {\n      return anyInSystem.getSystem().getByUid(uid).fold(Option.none, Option.some);\n    };\n\n    var asSpec = function asSpec() {\n      return _assign({}, spec, {\n        uid: uid\n      });\n    };\n\n    return {\n      get: get,\n      getOpt: getOpt,\n      asSpec: asSpec\n    };\n  };\n\n  var defaultIcon = function defaultIcon(icons) {\n    return Option.from(icons()['temporary-placeholder']).getOr('!not found!');\n  };\n\n  var get$c = function get$c(name, icons) {\n    return Option.from(icons()[name]).getOrThunk(function () {\n      return defaultIcon(icons);\n    });\n  };\n\n  var getOr = function getOr(name, icons, fallback) {\n    return Option.from(icons()[name]).or(fallback).getOrThunk(function () {\n      return defaultIcon(icons);\n    });\n  };\n\n  var getFirst$1 = function getFirst$1(names, icons) {\n    return findMap(names, function (name) {\n      return Option.from(icons()[name]);\n    }).getOrThunk(function () {\n      return defaultIcon(icons);\n    });\n  };\n\n  var notificationIconMap = {\n    success: 'checkmark',\n    error: 'warning',\n    err: 'error',\n    warning: 'warning',\n    warn: 'warning',\n    info: 'info'\n  };\n\n  var factory$2 = function factory$2(detail) {\n    var memBannerText = record({\n      dom: {\n        tag: 'p',\n        innerHtml: detail.translationProvider(detail.text)\n      },\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    var renderPercentBar = function renderPercentBar(percent) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          attributes: {\n            style: 'width: ' + percent + '%'\n          }\n        }\n      };\n    };\n\n    var renderPercentText = function renderPercentText(percent) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: percent + '%'\n        }\n      };\n    };\n\n    var memBannerProgress = record({\n      dom: {\n        tag: 'div',\n        classes: detail.progress ? ['tox-progress-bar', 'tox-progress-indicator'] : ['tox-progress-bar']\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar-container']\n        },\n        components: [renderPercentBar(0)]\n      }, renderPercentText(0)],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    var updateProgress = function updateProgress(comp, percent) {\n      if (comp.getSystem().isConnected()) {\n        memBannerProgress.getOpt(comp).each(function (progress) {\n          Replacing.set(progress, [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(percent)]\n          }, renderPercentText(percent)]);\n        });\n      }\n    };\n\n    var updateText = function updateText(comp, text$1) {\n      if (comp.getSystem().isConnected()) {\n        var banner = memBannerText.get(comp);\n        Replacing.set(banner, [text(text$1)]);\n      }\n    };\n\n    var apis = {\n      updateProgress: updateProgress,\n      updateText: updateText\n    };\n    var iconChoices = flatten([detail.icon.toArray(), detail.level.toArray(), detail.level.bind(function (level) {\n      return Option.from(notificationIconMap[level]);\n    }).toArray()]);\n    return {\n      uid: detail.uid,\n      dom: {\n        tag: 'div',\n        attributes: {\n          role: 'alert'\n        },\n        classes: detail.level.map(function (level) {\n          return ['tox-notification', 'tox-notification--in', 'tox-notification--' + level];\n        }).getOr(['tox-notification', 'tox-notification--in'])\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__icon'],\n          innerHtml: getFirst$1(iconChoices, detail.iconProvider)\n        }\n      }, {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      }].concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-notification__dismiss', 'tox-button', 'tox-button--naked', 'tox-button--icon']\n        },\n        components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-icon'],\n            innerHtml: get$c('close', detail.iconProvider),\n            attributes: {\n              'aria-label': detail.translationProvider('Close')\n            }\n          }\n        }],\n        action: function action(comp) {\n          detail.onAction(comp);\n        }\n      })),\n      apis: apis\n    };\n  };\n\n  var Notification = single$2({\n    name: 'Notification',\n    factory: factory$2,\n    configFields: [option('level'), strict$1('progress'), strict$1('icon'), strict$1('onAction'), strict$1('text'), strict$1('iconProvider'), strict$1('translationProvider')],\n    apis: {\n      updateProgress: function updateProgress(apis, comp, percent) {\n        apis.updateProgress(comp, percent);\n      },\n      updateText: function updateText(apis, comp, text) {\n        apis.updateText(comp, text);\n      }\n    }\n  });\n  var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n  function NotificationManagerImpl(editor, extras, uiMothership) {\n    var backstage = extras.backstage;\n\n    var getEditorContainer = function getEditorContainer(editor) {\n      return editor.inline ? editor.getElement() : editor.getContentAreaContainer();\n    };\n\n    var prePositionNotifications = function prePositionNotifications(notifications) {\n      each(notifications, function (notification) {\n        notification.moveTo(0, 0);\n      });\n    };\n\n    var positionNotifications = function positionNotifications(notifications) {\n      if (notifications.length > 0) {\n        var firstItem = notifications.slice(0, 1)[0];\n        var container = getEditorContainer(editor);\n        firstItem.moveRel(container, 'tc-tc');\n        each(notifications, function (notification, index) {\n          if (index > 0) {\n            notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n          }\n        });\n      }\n    };\n\n    var reposition = function reposition(notifications) {\n      prePositionNotifications(notifications);\n      positionNotifications(notifications);\n    };\n\n    var open = function open(settings, closeCallback) {\n      var close = function close() {\n        closeCallback();\n        InlineView.hide(notificationWrapper);\n      };\n\n      var notification = build$1(Notification.sketch({\n        text: settings.text,\n        level: contains(['success', 'error', 'warning', 'info'], settings.type) ? settings.type : undefined,\n        progress: settings.progressBar === true,\n        icon: Option.from(settings.icon),\n        onAction: close,\n        iconProvider: backstage.shared.providers.icons,\n        translationProvider: backstage.shared.providers.translate\n      }));\n      var notificationWrapper = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-notifications-container']\n        },\n        lazySink: extras.backstage.shared.getSink,\n        fireDismissalEventInstead: {}\n      }));\n      uiMothership.add(notificationWrapper);\n\n      if (settings.timeout > 0) {\n        global$2.setTimeout(function () {\n          close();\n        }, settings.timeout);\n      }\n\n      return {\n        close: close,\n        moveTo: function moveTo(x, y) {\n          InlineView.showAt(notificationWrapper, {\n            anchor: 'makeshift',\n            x: x,\n            y: y\n          }, premade$1(notification));\n        },\n        moveRel: function moveRel(element, rel) {\n          InlineView.showAt(notificationWrapper, extras.backstage.shared.anchors.banner(), premade$1(notification));\n        },\n        text: function text(nuText) {\n          Notification.updateText(notification, nuText);\n        },\n        settings: settings,\n        getEl: function getEl() {},\n        progressBar: {\n          value: function value(percent) {\n            Notification.updateProgress(notification, percent);\n          }\n        }\n      };\n    };\n\n    var close = function close(notification) {\n      notification.close();\n    };\n\n    var getArgs = function getArgs(notification) {\n      return notification.settings;\n    };\n\n    return {\n      open: open,\n      close: close,\n      reposition: reposition,\n      getArgs: getArgs\n    };\n  }\n\n  var last$2 = function last$2(fn, rate) {\n    var timer = null;\n\n    var cancel = function cancel() {\n      if (timer !== null) {\n        domGlobals.clearTimeout(timer);\n        timer = null;\n      }\n    };\n\n    var throttle = function throttle() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      if (timer !== null) {\n        domGlobals.clearTimeout(timer);\n      }\n\n      timer = domGlobals.setTimeout(function () {\n        fn.apply(null, args);\n        timer = null;\n      }, rate);\n    };\n\n    return {\n      cancel: cancel,\n      throttle: throttle\n    };\n  };\n\n  var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n  var isText$1 = function isText$1(node) {\n    return node.nodeType === domGlobals.Node.TEXT_NODE;\n  };\n\n  var outcome$1 = Adt.generate([{\n    aborted: []\n  }, {\n    edge: ['element']\n  }, {\n    success: ['info']\n  }]);\n  var phase = Adt.generate([{\n    abort: []\n  }, {\n    kontinue: []\n  }, {\n    finish: ['info']\n  }]);\n\n  var repeat = function repeat(dom, node, offset, process, walker, recent) {\n    var terminate = function terminate() {\n      return recent.fold(outcome$1.aborted, outcome$1.edge);\n    };\n\n    var recurse = function recurse() {\n      var next = walker();\n\n      if (next) {\n        return repeat(dom, next, Option.none(), process, walker, Option.some(node));\n      } else {\n        return terminate();\n      }\n    };\n\n    if (dom.isBlock(node)) {\n      return terminate();\n    } else if (!isText$1(node)) {\n      return recurse();\n    } else {\n      var text = node.textContent;\n      return process(phase, node, text, offset).fold(outcome$1.aborted, function () {\n        return recurse();\n      }, outcome$1.success);\n    }\n  };\n\n  var repeatLeft = function repeatLeft(dom, node, offset, process, rootNode) {\n    var walker = new global$3(node, rootNode || dom.getRoot());\n    return repeat(dom, node, Option.some(offset), process, walker.prev, Option.none());\n  };\n\n  var autocompleteSelector = '[data-mce-autocompleter]';\n\n  var create$4 = function create$4(editor, range) {\n    return detect$4(Element.fromDom(editor.selection.getNode())).getOrThunk(function () {\n      var wrapper = Element.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n      append(wrapper, Element.fromDom(range.extractContents()));\n      range.insertNode(wrapper.dom());\n      parent(wrapper).each(function (elm) {\n        return elm.dom().normalize();\n      });\n      last$1(wrapper).map(function (last) {\n        editor.selection.setCursorLocation(last.dom(), getEnd(last));\n      });\n      return wrapper;\n    });\n  };\n\n  var detect$4 = function detect$4(elm) {\n    return closest$3(elm, autocompleteSelector);\n  };\n\n  var isValidTextRange = function isValidTextRange(rng) {\n    return rng.collapsed && rng.startContainer.nodeType === 3;\n  };\n\n  var whiteSpace = /[\\u00a0 \\t\\r\\n]/;\n\n  var parse = function parse(text, index, ch, minChars) {\n    var i;\n\n    for (i = index - 1; i >= 0; i--) {\n      var _char = text.charAt(i);\n\n      if (whiteSpace.test(_char)) {\n        return Option.none();\n      }\n\n      if (_char === ch) {\n        break;\n      }\n    }\n\n    if (i === -1 || index - i < minChars) {\n      return Option.none();\n    }\n\n    return Option.some(text.substring(i + 1, index));\n  };\n\n  var getText = function getText(rng, ch) {\n    var text = rng.toString().substring(ch.length);\n    return text.replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n  };\n\n  var findStart = function findStart(dom, initRange, ch, minChars) {\n    if (minChars === void 0) {\n      minChars = 0;\n    }\n\n    if (!isValidTextRange(initRange)) {\n      return Option.none();\n    }\n\n    var findTriggerCh = function findTriggerCh(phase, element, text, optOffset) {\n      var index = optOffset.getOr(text.length);\n      return parse(text, index, ch, 1).fold(function () {\n        return text.match(whiteSpace) ? phase.abort() : phase.kontinue();\n      }, function (newText) {\n        var range = initRange.cloneRange();\n        range.setStart(element, index - newText.length - 1);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        return text.length < minChars ? phase.abort() : phase.finish({\n          text: getText(range, ch),\n          range: range,\n          triggerChar: ch\n        });\n      });\n    };\n\n    return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerCh).fold(Option.none, Option.none, Option.some);\n  };\n\n  var getContext = function getContext(dom, initRange, ch, minChars) {\n    if (minChars === void 0) {\n      minChars = 0;\n    }\n\n    return detect$4(Element.fromDom(initRange.startContainer)).fold(function () {\n      return findStart(dom, initRange, ch, minChars);\n    }, function (elm) {\n      var range = dom.createRng();\n      range.selectNode(elm.dom());\n      return Option.some({\n        range: range,\n        text: getText(range, ch),\n        triggerChar: ch\n      });\n    });\n  };\n\n  var setup = function setup(api, editor) {\n    editor.on('keypress compositionend', api.onKeypress.throttle);\n    editor.on('remove', api.onKeypress.cancel);\n\n    var redirectKeyToItem = function redirectKeyToItem(item, e) {\n      emitWith(item, keydown(), {\n        raw: e\n      });\n    };\n\n    editor.on('keydown', function (e) {\n      var getItem = function getItem() {\n        return api.getView().bind(Highlighting.getHighlighted);\n      };\n\n      if (e.which === 8) {\n        api.onKeypress.throttle(e);\n      }\n\n      if (api.isActive()) {\n        if (e.which === 27) {\n          api.cancelIfNecessary();\n        }\n\n        if (api.isMenuOpen()) {\n          if (e.which === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (e.which === 40) {\n            getItem().fold(function () {\n              api.getView().each(Highlighting.highlightFirst);\n            }, function (item) {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (e.which === 37 || e.which === 38 || e.which === 39) {\n            getItem().each(function (item) {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (e.which === 13 || e.which === 38 || e.which === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      }\n    });\n    editor.on('NodeChange', function (e) {\n      if (api.isActive() && detect$4(Element.fromDom(e.element)).isNone()) {\n        api.cancelIfNecessary();\n      }\n    });\n  };\n\n  var AutocompleterEditorEvents = {\n    setup: setup\n  };\n  var global$4 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n  var point$2 = function point$2(element, offset) {\n    return {\n      element: element,\n      offset: offset\n    };\n  };\n\n  var isText$2 = function isText$2(node) {\n    return node.nodeType === domGlobals.Node.TEXT_NODE;\n  };\n\n  var isElement$1 = function isElement$1(node) {\n    return node.nodeType === domGlobals.Node.ELEMENT_NODE;\n  };\n\n  var toLast = function toLast(node) {\n    if (isText$2(node)) {\n      return point$2(node, node.data.length);\n    } else {\n      var children = node.childNodes;\n      return children.length > 0 ? toLast(children[children.length - 1]) : point$2(node, children.length);\n    }\n  };\n\n  var toLeaf = function toLeaf(node, offset) {\n    var children = node.childNodes;\n\n    if (children.length > 0 && offset < children.length) {\n      return toLeaf(children[offset], 0);\n    } else if (children.length > 0 && isElement$1(node) && children.length === offset) {\n      return toLast(children[children.length - 1]);\n    } else {\n      return point$2(node, offset);\n    }\n  };\n\n  var isStartOfWord = function isStartOfWord(dom) {\n    var process = function process(phase, element, text, optOffset) {\n      var index = optOffset.getOr(text.length);\n      return index === 0 ? phase.kontinue() : phase.finish(/\\s/.test(text.charAt(index - 1)));\n    };\n\n    return function (rng) {\n      var leaf = toLeaf(rng.startContainer, rng.startOffset);\n      return repeatLeft(dom, leaf.element, leaf.offset, process).fold(constant(true), constant(true), identity);\n    };\n  };\n\n  var getTriggerContext = function getTriggerContext(dom, initRange, database) {\n    return findMap(database.triggerChars, function (ch) {\n      return getContext(dom, initRange, ch);\n    });\n  };\n\n  var lookup = function lookup(editor, getDatabase) {\n    var database = getDatabase();\n    var rng = editor.selection.getRng();\n    return getTriggerContext(editor.dom, rng, database).bind(function (context) {\n      return lookupWithContext(editor, getDatabase, context);\n    });\n  };\n\n  var lookupWithContext = function lookupWithContext(editor, getDatabase, context, fetchOptions) {\n    if (fetchOptions === void 0) {\n      fetchOptions = {};\n    }\n\n    var database = getDatabase();\n    var rng = editor.selection.getRng();\n    var startText = rng.startContainer.nodeValue;\n    var autocompleters = filter(database.lookupByChar(context.triggerChar), function (autocompleter) {\n      return context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(function () {\n        return isStartOfWord(editor.dom);\n      })(context.range, startText, context.text);\n    });\n\n    if (autocompleters.length === 0) {\n      return Option.none();\n    }\n\n    var lookupData = global$4.all(map(autocompleters, function (ac) {\n      var fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n      return fetchResult.then(function (results) {\n        return {\n          matchText: context.text,\n          items: results,\n          columns: ac.columns,\n          onAction: ac.onAction\n        };\n      });\n    }));\n    return Option.some({\n      lookupData: lookupData,\n      context: context\n    });\n  };\n\n  var separatorMenuItemSchema = objOf([strictString('type'), optionString('text')]);\n\n  var createSeparatorMenuItem = function createSeparatorMenuItem(spec) {\n    return asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n  };\n\n  var autocompleterItemSchema = objOf([state$1('type', function () {\n    return 'autocompleteitem';\n  }), state$1('active', function () {\n    return false;\n  }), state$1('disabled', function () {\n    return false;\n  }), defaulted$1('meta', {}), strictString('value'), optionString('text'), optionString('icon')]);\n  var autocompleterSchema = objOf([strictString('type'), strictString('ch'), defaultedNumber('minChars', 1), defaulted$1('columns', 1), defaultedNumber('maxResults', 10), optionFunction('matches'), strictFunction('fetch'), strictFunction('onAction')]);\n\n  var createSeparatorItem = function createSeparatorItem(spec) {\n    return asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n  };\n\n  var createAutocompleterItem = function createAutocompleterItem(spec) {\n    return asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n  };\n\n  var createAutocompleter = function createAutocompleter(spec) {\n    return asRaw('Autocompleter', autocompleterSchema, spec);\n  };\n\n  var stringArray = function stringArray(a) {\n    var all = {};\n    each(a, function (key) {\n      all[key] = {};\n    });\n    return keys(all);\n  };\n\n  var register = function register(editor) {\n    var popups = editor.ui.registry.getAll().popups;\n    var dataset = map$1(popups, function (popup) {\n      return createAutocompleter(popup).fold(function (err) {\n        throw new Error(formatError(err));\n      }, function (x) {\n        return x;\n      });\n    });\n    var triggerChars = stringArray(mapToArray(dataset, function (v) {\n      return v.ch;\n    }));\n    var datasetValues = values(dataset);\n\n    var lookupByChar = function lookupByChar(ch) {\n      return filter(datasetValues, function (dv) {\n        return dv.ch === ch;\n      });\n    };\n\n    return {\n      dataset: dataset,\n      triggerChars: triggerChars,\n      lookupByChar: lookupByChar\n    };\n  };\n\n  var commonMenuItemFields = [defaultedBoolean('disabled', false), optionString('text'), optionString('shortcut'), field('value', 'value', defaultedThunk(function () {\n    return generate$1('menuitem-value');\n  }), anyValue$1()), defaulted$1('meta', {})];\n  var menuItemSchema = objOf([strictString('type'), defaultedFunction('onSetup', function () {\n    return noop;\n  }), defaultedFunction('onAction', noop), optionString('icon')].concat(commonMenuItemFields));\n\n  var createMenuItem = function createMenuItem(spec) {\n    return asRaw('menuitem', menuItemSchema, spec);\n  };\n\n  var nestedMenuItemSchema = objOf([strictString('type'), strictFunction('getSubmenuItems'), defaultedFunction('onSetup', function () {\n    return noop;\n  }), optionString('icon')].concat(commonMenuItemFields));\n\n  var createNestedMenuItem = function createNestedMenuItem(spec) {\n    return asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n  };\n\n  var toggleMenuItemSchema = objOf([strictString('type'), defaultedBoolean('active', false), defaultedFunction('onSetup', function () {\n    return noop;\n  }), strictFunction('onAction')].concat(commonMenuItemFields));\n\n  var createToggleMenuItem = function createToggleMenuItem(spec) {\n    return asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n  };\n\n  var choiceMenuItemSchema = objOf([strictString('type'), defaultedBoolean('active', false), optionString('icon')].concat(commonMenuItemFields));\n\n  var createChoiceMenuItem = function createChoiceMenuItem(spec) {\n    return asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n  };\n\n  var fancyTypes = ['inserttable', 'colorswatch'];\n  var fancyMenuItemSchema = objOf([strictString('type'), strictStringEnum('fancytype', fancyTypes), defaultedFunction('onAction', noop)]);\n\n  var createFancyMenuItem = function createFancyMenuItem(spec) {\n    return asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n  };\n\n  var detectSize = function detectSize(comp, margin, selectorClass) {\n    var descendants$1 = descendants(comp.element(), '.' + selectorClass);\n\n    if (descendants$1.length > 0) {\n      var columnLength = findIndex(descendants$1, function (c) {\n        var thisTop = c.dom().getBoundingClientRect().top;\n        var cTop = descendants$1[0].dom().getBoundingClientRect().top;\n        return Math.abs(thisTop - cTop) > margin;\n      }).getOr(descendants$1.length);\n      return Option.some({\n        numColumns: columnLength,\n        numRows: Math.ceil(descendants$1.length / columnLength)\n      });\n    } else {\n      return Option.none();\n    }\n  };\n\n  var namedEvents = function namedEvents(name, handlers) {\n    return derive$1([config(name, handlers)]);\n  };\n\n  var unnamedEvents = function unnamedEvents(handlers) {\n    return namedEvents(generate$1('unnamed-events'), handlers);\n  };\n\n  var SimpleBehaviours = {\n    namedEvents: namedEvents,\n    unnamedEvents: unnamedEvents\n  };\n  var TooltippingSchema = [strict$1('lazySink'), strict$1('tooltipDom'), defaulted$1('exclusive', true), defaulted$1('tooltipComponents', []), defaulted$1('delay', 300), defaultedStringEnum('mode', 'normal', ['normal', 'follow-highlight']), defaulted$1('anchor', function (comp) {\n    return {\n      anchor: 'hotspot',\n      hotspot: comp,\n      layouts: {\n        onLtr: constant([south$1, north$1, southeast$1, northeast$1, southwest$1, northwest$1]),\n        onRtl: constant([south$1, north$1, southeast$1, northeast$1, southwest$1, northwest$1])\n      }\n    };\n  }), onHandler('onHide'), onHandler('onShow')];\n\n  var init$4 = function init$4() {\n    var timer = Cell(Option.none());\n    var popup = Cell(Option.none());\n\n    var getTooltip = function getTooltip() {\n      return popup.get();\n    };\n\n    var setTooltip = function setTooltip(s) {\n      popup.set(Option.some(s));\n    };\n\n    var clearTooltip = function clearTooltip() {\n      popup.set(Option.none());\n    };\n\n    var clearTimer = function clearTimer() {\n      timer.get().each(function (t) {\n        domGlobals.clearTimeout(t);\n      });\n    };\n\n    var resetTimer = function resetTimer(f, delay) {\n      clearTimer();\n      timer.set(Option.some(domGlobals.setTimeout(function () {\n        f();\n      }, delay)));\n    };\n\n    var isShowing = function isShowing() {\n      return popup.get().isSome();\n    };\n\n    var readState = constant('not-implemented');\n    return nu$5({\n      getTooltip: getTooltip,\n      isShowing: isShowing,\n      setTooltip: setTooltip,\n      clearTooltip: clearTooltip,\n      clearTimer: clearTimer,\n      resetTimer: resetTimer,\n      readState: readState\n    });\n  };\n\n  var TooltippingState =\n  /*#__PURE__*/\n  Object.freeze({\n    init: init$4\n  });\n  var ExclusivityChannel = generate$1('tooltip.exclusive');\n  var ShowTooltipEvent = generate$1('tooltip.show');\n  var HideTooltipEvent = generate$1('tooltip.hide');\n\n  var hideAllExclusive = function hideAllExclusive(component, tConfig, tState) {\n    component.getSystem().broadcastOn([ExclusivityChannel], {});\n  };\n\n  var setComponents = function setComponents(component, tConfig, tState, specs) {\n    tState.getTooltip().each(function (tooltip) {\n      if (tooltip.getSystem().isConnected()) {\n        Replacing.set(tooltip, specs);\n      }\n    });\n  };\n\n  var TooltippingApis =\n  /*#__PURE__*/\n  Object.freeze({\n    hideAllExclusive: hideAllExclusive,\n    setComponents: setComponents\n  });\n\n  var events$8 = function events$8(tooltipConfig, state) {\n    var hide = function hide(comp) {\n      state.getTooltip().each(function (p) {\n        detach(p);\n        tooltipConfig.onHide(comp, p);\n        state.clearTooltip();\n      });\n      state.clearTimer();\n    };\n\n    var show = function show(comp) {\n      if (!state.isShowing()) {\n        hideAllExclusive(comp);\n        var sink = tooltipConfig.lazySink(comp).getOrDie();\n        var popup = comp.getSystem().build({\n          dom: tooltipConfig.tooltipDom,\n          components: tooltipConfig.tooltipComponents,\n          events: derive(tooltipConfig.mode === 'normal' ? [run(mouseover(), function (_) {\n            emit(comp, ShowTooltipEvent);\n          }), run(mouseout(), function (_) {\n            emit(comp, HideTooltipEvent);\n          })] : []),\n          behaviours: derive$1([Replacing.config({})])\n        });\n        state.setTooltip(popup);\n        attach(sink, popup);\n        tooltipConfig.onShow(comp, popup);\n        Positioning.position(sink, tooltipConfig.anchor(comp), popup);\n      }\n    };\n\n    return derive(flatten([[run(ShowTooltipEvent, function (comp) {\n      state.resetTimer(function () {\n        show(comp);\n      }, tooltipConfig.delay);\n    }), run(HideTooltipEvent, function (comp) {\n      state.resetTimer(function () {\n        hide(comp);\n      }, tooltipConfig.delay);\n    }), run(receive(), function (comp, message) {\n      var receivingData = message;\n\n      if (contains(receivingData.channels(), ExclusivityChannel)) {\n        hide(comp);\n      }\n    }), runOnDetached(function (comp) {\n      hide(comp);\n    })], tooltipConfig.mode === 'normal' ? [run(focusin(), function (comp) {\n      emit(comp, ShowTooltipEvent);\n    }), run(postBlur(), function (comp) {\n      emit(comp, HideTooltipEvent);\n    }), run(mouseover(), function (comp) {\n      emit(comp, ShowTooltipEvent);\n    }), run(mouseout(), function (comp) {\n      emit(comp, HideTooltipEvent);\n    })] : [run(highlight(), function (comp, se) {\n      emit(comp, ShowTooltipEvent);\n    }), run(dehighlight(), function (comp) {\n      emit(comp, HideTooltipEvent);\n    })]]));\n  };\n\n  var ActiveTooltipping =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$8\n  });\n  var Tooltipping = create$1({\n    fields: TooltippingSchema,\n    name: 'tooltipping',\n    active: ActiveTooltipping,\n    state: TooltippingState,\n    apis: TooltippingApis\n  });\n\n  var getAttrs = function getAttrs(elem) {\n    var attributes = elem.dom().attributes !== undefined ? elem.dom().attributes : [];\n    return foldl(attributes, function (b, attr) {\n      var _a;\n\n      if (attr.name === 'class') {\n        return b;\n      } else {\n        return _assign({}, b, (_a = {}, _a[attr.name] = attr.value, _a));\n      }\n    }, {});\n  };\n\n  var getClasses = function getClasses(elem) {\n    return Array.prototype.slice.call(elem.dom().classList, 0);\n  };\n\n  var fromHtml$2 = function fromHtml$2(html) {\n    var elem = Element.fromHtml(html);\n    var children$1 = children(elem);\n    var attrs = getAttrs(elem);\n    var classes = getClasses(elem);\n    var contents = children$1.length === 0 ? {} : {\n      innerHtml: get$1(elem)\n    };\n    return _assign({\n      tag: name(elem),\n      classes: classes,\n      attributes: attrs\n    }, contents);\n  };\n\n  var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n  var navClass = 'tox-menu-nav__js';\n  var selectableClass = 'tox-collection__item';\n  var colorClass = 'tox-swatch';\n  var presetClasses = {\n    normal: navClass,\n    color: colorClass\n  };\n  var tickedClass = 'tox-collection__item--enabled';\n  var groupHeadingClass = 'tox-collection__group-heading';\n  var iconClass = 'tox-collection__item-icon';\n  var textClass = 'tox-collection__item-label';\n  var accessoryClass = 'tox-collection__item-accessory';\n  var caretClass = 'tox-collection__item-caret';\n  var checkmarkClass = 'tox-collection__item-checkmark';\n  var activeClass = 'tox-collection__item--active';\n  var iconClassRtl = 'tox-collection__item-icon-rtl';\n\n  var classForPreset = function classForPreset(presets) {\n    return readOptFrom$1(presetClasses, presets).getOr(navClass);\n  };\n\n  var global$6 = tinymce.util.Tools.resolve('tinymce.Env');\n\n  var convertText = function convertText(source) {\n    var mac = {\n      alt: '&#x2325;',\n      ctrl: '&#x2303;',\n      shift: '&#x21E7;',\n      meta: '&#x2318;',\n      access: '&#x2303;&#x2325;'\n    };\n    var other = {\n      meta: 'Ctrl',\n      access: 'Shift+Alt'\n    };\n    var replace = global$6.mac ? mac : other;\n    var shortcut = source.split('+');\n    var updated = map(shortcut, function (segment) {\n      var search = segment.toLowerCase().trim();\n      return has(replace, search) ? replace[search] : segment;\n    });\n    return global$6.mac ? updated.join('') : updated.join('+');\n  };\n\n  var ConvertShortcut = {\n    convertText: convertText\n  };\n\n  var renderIcon = function renderIcon(iconHtml) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: [iconClass],\n        innerHtml: iconHtml\n      }\n    };\n  };\n\n  var renderText = function renderText(text$1) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text(global$5.translate(text$1))]\n    };\n  };\n\n  var renderHtml = function renderHtml(html) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: [textClass],\n        innerHtml: html\n      }\n    };\n  };\n\n  var renderStyledText = function renderStyledText(style, text$1) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n        dom: {\n          tag: style.tag,\n          attributes: {\n            style: style.styleAttr\n          }\n        },\n        components: [text(global$5.translate(text$1))]\n      }]\n    };\n  };\n\n  var renderShortcut = function renderShortcut(shortcut) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass],\n        innerHtml: ConvertShortcut.convertText(shortcut)\n      }\n    };\n  };\n\n  var renderCheckmark = function renderCheckmark(icons) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: [iconClass, checkmarkClass],\n        innerHtml: get$c('checkmark', icons)\n      }\n    };\n  };\n\n  var renderSubmenuCaret = function renderSubmenuCaret(icons) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: [caretClass],\n        innerHtml: get$c('chevron-right', icons)\n      }\n    };\n  };\n\n  var renderColorStructure = function renderColorStructure(itemText, itemValue, iconSvg, providerBackstage) {\n    var colorPickerCommand = 'custom';\n    var removeColorCommand = 'remove';\n\n    var getDom = function getDom() {\n      var common = colorClass;\n      var icon = iconSvg.getOr('');\n      var title = itemText.map(function (text) {\n        return ' title=\"' + providerBackstage.translate(text) + '\"';\n      }).getOr('');\n\n      if (itemValue === colorPickerCommand) {\n        return fromHtml$2('<button class=\"' + common + ' tox-swatches__picker-btn\"' + title + '>' + icon + '</button>');\n      } else if (itemValue === removeColorCommand) {\n        return fromHtml$2('<div class=\"' + common + ' tox-swatch--remove\"' + title + '>' + icon + '</div>');\n      } else {\n        return fromHtml$2('<div class=\"' + common + '\" style=\"background-color: ' + itemValue + '\" data-mce-color=\"' + itemValue + '\"' + title + '></div>');\n      }\n    };\n\n    return {\n      dom: getDom(),\n      optComponents: []\n    };\n  };\n\n  var renderNormalItemStructure = function renderNormalItemStructure(info, icon, renderIcons, textRender, rtlClass) {\n    var leftIcon = renderIcons ? info.checkMark.orThunk(function () {\n      return icon.or(Option.some('')).map(renderIcon);\n    }) : Option.none();\n    var domTitle = info.ariaLabel.map(function (label) {\n      return {\n        attributes: {\n          title: global$5.translate(label)\n        }\n      };\n    }).getOr({});\n    var dom = merge({\n      tag: 'div',\n      classes: [navClass, selectableClass].concat(rtlClass ? [iconClassRtl] : [])\n    }, domTitle);\n    var content = info.htmlContent.fold(function () {\n      return info.textContent.map(textRender);\n    }, function (html) {\n      return Option.some(renderHtml(html));\n    });\n    var menuItem = {\n      dom: dom,\n      optComponents: [leftIcon, content, info.shortcutContent.map(renderShortcut), info.caret]\n    };\n    return menuItem;\n  };\n\n  var rtlIcon = ['list-num-default', 'list-num-lower-alpha', 'list-num-lower-greek', 'list-num-lower-roman', 'list-num-upper-alpha', 'list-num-upper-roman'];\n  var rtlTransform = ['list-bull-circle', 'list-bull-default', 'list-bull-square'];\n\n  var renderItemStructure = function renderItemStructure(info, providersBackstage, renderIcons, fallbackIcon) {\n    if (fallbackIcon === void 0) {\n      fallbackIcon = Option.none();\n    }\n\n    var getIconName = function getIconName(iconName) {\n      return iconName.map(function (name) {\n        return global$5.isRtl() && contains(rtlIcon, name) ? name + '-rtl' : name;\n      });\n    };\n\n    var needRtlClass = global$5.isRtl() && info.iconContent.exists(function (name) {\n      return contains(rtlTransform, name);\n    });\n    var icon = getIconName(info.iconContent).map(function (iconName) {\n      return getOr(iconName, providersBackstage.icons, fallbackIcon);\n    });\n    var textRender = Option.from(info.meta).fold(function () {\n      return renderText;\n    }, function (meta) {\n      return has(meta, 'style') ? curry(renderStyledText, meta.style) : renderText;\n    });\n\n    if (info.presets === 'color') {\n      return renderColorStructure(info.ariaLabel, info.value, icon, providersBackstage);\n    } else {\n      return renderNormalItemStructure(info, icon, renderIcons, textRender, needRtlClass);\n    }\n  };\n\n  var nativeDisabled = ['input', 'button', 'textarea', 'select'];\n\n  var onLoad$5 = function onLoad$5(component, disableConfig, disableState) {\n    if (disableConfig.disabled) {\n      disable(component, disableConfig);\n    }\n  };\n\n  var hasNative = function hasNative(component, config) {\n    return config.useNative === true && contains(nativeDisabled, name(component.element()));\n  };\n\n  var nativeIsDisabled = function nativeIsDisabled(component) {\n    return has$1(component.element(), 'disabled');\n  };\n\n  var nativeDisable = function nativeDisable(component) {\n    set$1(component.element(), 'disabled', 'disabled');\n  };\n\n  var nativeEnable = function nativeEnable(component) {\n    remove$1(component.element(), 'disabled');\n  };\n\n  var ariaIsDisabled = function ariaIsDisabled(component) {\n    return get$2(component.element(), 'aria-disabled') === 'true';\n  };\n\n  var ariaDisable = function ariaDisable(component) {\n    set$1(component.element(), 'aria-disabled', 'true');\n  };\n\n  var ariaEnable = function ariaEnable(component) {\n    set$1(component.element(), 'aria-disabled', 'false');\n  };\n\n  var disable = function disable(component, disableConfig, disableState) {\n    disableConfig.disableClass.each(function (disableClass) {\n      add$2(component.element(), disableClass);\n    });\n    var f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n    f(component);\n    disableConfig.onDisabled(component);\n  };\n\n  var enable = function enable(component, disableConfig, disableState) {\n    disableConfig.disableClass.each(function (disableClass) {\n      remove$4(component.element(), disableClass);\n    });\n    var f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n    f(component);\n    disableConfig.onEnabled(component);\n  };\n\n  var isDisabled = function isDisabled(component, disableConfig) {\n    return hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n  };\n\n  var set$7 = function set$7(component, disableConfig, disableState, disabled) {\n    var f = disabled ? disable : enable;\n    f(component, disableConfig, disableState);\n  };\n\n  var DisableApis =\n  /*#__PURE__*/\n  Object.freeze({\n    enable: enable,\n    disable: disable,\n    isDisabled: isDisabled,\n    onLoad: onLoad$5,\n    set: set$7\n  });\n\n  var exhibit$3 = function exhibit$3(base, disableConfig, disableState) {\n    return nu$6({\n      classes: disableConfig.disabled ? disableConfig.disableClass.map(pure).getOr([]) : []\n    });\n  };\n\n  var events$9 = function events$9(disableConfig, disableState) {\n    return derive([abort(execute(), function (component, simulatedEvent) {\n      return isDisabled(component, disableConfig);\n    }), loadEvent(disableConfig, disableState, onLoad$5)]);\n  };\n\n  var ActiveDisable =\n  /*#__PURE__*/\n  Object.freeze({\n    exhibit: exhibit$3,\n    events: events$9\n  });\n  var DisableSchema = [defaulted$1('disabled', false), defaulted$1('useNative', true), option('disableClass'), onHandler('onDisabled'), onHandler('onEnabled')];\n  var Disabling = create$1({\n    fields: DisableSchema,\n    name: 'disabling',\n    active: ActiveDisable,\n    apis: DisableApis\n  });\n\n  var item = function item(disabled) {\n    return Disabling.config({\n      disabled: disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n  };\n\n  var button = function button(disabled) {\n    return Disabling.config({\n      disabled: disabled\n    });\n  };\n\n  var splitButton = function splitButton(disabled) {\n    return Disabling.config({\n      disabled: disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n  };\n\n  var toolbarButton = function toolbarButton(disabled) {\n    return Disabling.config({\n      disabled: disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n  };\n\n  var DisablingConfigs = {\n    item: item,\n    button: button,\n    splitButton: splitButton,\n    toolbarButton: toolbarButton\n  };\n\n  var runWithApi = function runWithApi(info, comp) {\n    var api = info.getApi(comp);\n    return function (f) {\n      f(api);\n    };\n  };\n\n  var onControlAttached = function onControlAttached(info, editorOffCell) {\n    return runOnAttached(function (comp) {\n      var run = runWithApi(info, comp);\n      run(function (api) {\n        var onDestroy = info.onSetup(api);\n\n        if (onDestroy !== null && onDestroy !== undefined) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n  };\n\n  var onControlDetached = function onControlDetached(getApi, editorOffCell) {\n    return runOnDetached(function (comp) {\n      return runWithApi(getApi, comp)(editorOffCell.get());\n    });\n  };\n\n  var ItemResponse;\n\n  (function (ItemResponse) {\n    ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n    ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n  })(ItemResponse || (ItemResponse = {}));\n\n  var ItemResponse$1 = ItemResponse;\n\n  var onMenuItemExecute = function onMenuItemExecute(info, itemResponse) {\n    return runOnExecute(function (comp, simulatedEvent) {\n      runWithApi(info, comp)(info.onAction);\n\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        emit(comp, sandboxClose());\n        simulatedEvent.stop();\n      }\n    });\n  };\n\n  var menuItemEventOrder = {\n    'alloy.execute': ['disabling', 'alloy.base.behaviour', 'toggling', 'item-events']\n  };\n\n  var componentRenderPipeline = function componentRenderPipeline(xs) {\n    return bind(xs, function (o) {\n      return o.toArray();\n    });\n  };\n\n  var renderCommonItem = function renderCommonItem(spec, structure, itemResponse) {\n    var editorOffCell = Cell(noop);\n    return {\n      type: 'item',\n      dom: structure.dom,\n      components: componentRenderPipeline(structure.optComponents),\n      data: spec.data,\n      eventOrder: menuItemEventOrder,\n      hasSubmenu: spec.triggersSubmenu,\n      itemBehaviours: derive$1([config('item-events', [onMenuItemExecute(spec, itemResponse), onControlAttached(spec, editorOffCell), onControlDetached(spec, editorOffCell)]), DisablingConfigs.item(spec.disabled), Replacing.config({})].concat(spec.itemBehaviours))\n    };\n  };\n\n  var buildData = function buildData(source) {\n    return {\n      value: source.value,\n      meta: merge({\n        text: source.text.getOr('')\n      }, source.meta)\n    };\n  };\n\n  var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n  var tooltipBehaviour = function tooltipBehaviour(meta, sharedBackstage) {\n    return get(meta, 'tooltipWorker').map(function (tooltipWorker) {\n      return [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: function anchor(comp) {\n          return {\n            anchor: 'submenu',\n            item: comp,\n            overrides: {\n              maxHeightFunction: expandable\n            }\n          };\n        },\n        mode: 'follow-highlight',\n        onShow: function onShow(component, _tooltip) {\n          tooltipWorker(function (elm) {\n            Tooltipping.setComponents(component, [external({\n              element: Element.fromDom(elm)\n            })]);\n          });\n        }\n      })];\n    }).getOr([]);\n  };\n\n  var escapeRegExp = function escapeRegExp(text) {\n    return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  };\n\n  var encodeText = function encodeText(text) {\n    return global$7.DOM.encode(text);\n  };\n\n  var replaceText = function replaceText(text, matchText) {\n    var translated = global$5.translate(text);\n    var encoded = encodeText(translated);\n\n    if (matchText.length > 0) {\n      var escapedMatchRegex = new RegExp(escapeRegExp(matchText), 'gi');\n      return encoded.replace(escapedMatchRegex, function (match) {\n        return '<span class=\"tox-autocompleter-highlight\">' + match + '</span>';\n      });\n    } else {\n      return encoded;\n    }\n  };\n\n  var renderAutocompleteItem = function renderAutocompleteItem(spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons) {\n    if (renderIcons === void 0) {\n      renderIcons = true;\n    }\n\n    var structure = renderItemStructure({\n      presets: presets,\n      textContent: Option.none(),\n      htmlContent: useText ? spec.text.map(function (text) {\n        return replaceText(text, matchText);\n      }) : Option.none(),\n      ariaLabel: spec.text,\n      iconContent: spec.icon,\n      shortcutContent: Option.none(),\n      checkMark: Option.none(),\n      caret: Option.none(),\n      value: spec.value\n    }, sharedBackstage.providers, renderIcons, spec.icon);\n    return renderCommonItem({\n      data: buildData(spec),\n      disabled: spec.disabled,\n      getApi: function getApi() {\n        return {};\n      },\n      onAction: function onAction(_api) {\n        return onItemValueHandler(spec.value, spec.meta);\n      },\n      onSetup: function onSetup() {\n        return function () {};\n      },\n      triggersSubmenu: false,\n      itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n    }, structure, itemResponse);\n  };\n\n  var renderChoiceItem = function renderChoiceItem(spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage) {\n    var getApi = function getApi(component) {\n      return {\n        setActive: function setActive(state) {\n          Toggling.set(component, state);\n        },\n        isActive: function isActive() {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function isDisabled() {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function setDisabled(state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n\n    var structure = renderItemStructure({\n      presets: presets,\n      textContent: useText ? spec.text : Option.none(),\n      htmlContent: Option.none(),\n      ariaLabel: spec.text,\n      iconContent: spec.icon,\n      shortcutContent: useText ? spec.shortcut : Option.none(),\n      checkMark: useText ? Option.some(renderCheckmark(providersBackstage.icons)) : Option.none(),\n      caret: Option.none(),\n      value: spec.value\n    }, providersBackstage, true);\n    return deepMerge(renderCommonItem({\n      data: buildData(spec),\n      disabled: spec.disabled,\n      getApi: getApi,\n      onAction: function onAction(_api) {\n        return onItemValueHandler(spec.value);\n      },\n      onSetup: function onSetup(api) {\n        api.setActive(isSelected);\n        return function () {};\n      },\n      triggersSubmenu: false,\n      itemBehaviours: []\n    }, structure, itemResponse), {\n      toggling: {\n        toggleClass: tickedClass,\n        toggleOnExecute: false,\n        selected: spec.active\n      }\n    });\n  };\n\n  var parts$2 = constant(generate$4(owner$2(), parts()));\n  var cellOverEvent = generate$1('cell-over');\n  var cellExecuteEvent = generate$1('cell-execute');\n\n  var makeCell = function makeCell(row, col, labelId) {\n    var _a;\n\n    var emitCellOver = function emitCellOver(c) {\n      return emitWith(c, cellOverEvent, {\n        row: row,\n        col: col\n      });\n    };\n\n    var emitExecute = function emitExecute(c) {\n      return emitWith(c, cellExecuteEvent, {\n        row: row,\n        col: col\n      });\n    };\n\n    return build$1({\n      dom: {\n        tag: 'div',\n        attributes: (_a = {\n          role: 'button'\n        }, _a['aria-labelledby'] = labelId, _a)\n      },\n      behaviours: derive$1([config('insert-table-picker-cell', [run(mouseover(), Focusing.focus), run(execute(), emitExecute), run(tapOrClick(), emitExecute)]), Toggling.config({\n        toggleClass: 'tox-insert-table-picker__selected',\n        toggleOnExecute: false\n      }), Focusing.config({\n        onFocus: emitCellOver\n      })])\n    });\n  };\n\n  var makeCells = function makeCells(labelId, numRows, numCols) {\n    var cells = [];\n\n    for (var i = 0; i < numRows; i++) {\n      var row = [];\n\n      for (var j = 0; j < numCols; j++) {\n        row.push(makeCell(i, j, labelId));\n      }\n\n      cells.push(row);\n    }\n\n    return cells;\n  };\n\n  var selectCells = function selectCells(cells, selectedRow, selectedColumn, numRows, numColumns) {\n    for (var i = 0; i < numRows; i++) {\n      for (var j = 0; j < numColumns; j++) {\n        Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n      }\n    }\n  };\n\n  var makeComponents = function makeComponents(cells) {\n    return bind(cells, function (cellRow) {\n      return map(cellRow, premade$1);\n    });\n  };\n\n  var makeLabelText = function makeLabelText(row, col) {\n    return text(col + 1 + 'x' + (row + 1));\n  };\n\n  function renderInsertTableMenuItem(spec) {\n    var numRows = 10;\n    var numColumns = 10;\n    var sizeLabelId = generate$1('size-label');\n    var cells = makeCells(sizeLabelId, numRows, numColumns);\n    var memLabel = record({\n      dom: {\n        tag: 'span',\n        classes: ['tox-insert-table-picker__label'],\n        attributes: {\n          id: sizeLabelId\n        }\n      },\n      components: [text('0x0')],\n      behaviours: derive$1([Replacing.config({})])\n    });\n    return {\n      type: 'widget',\n      data: {\n        value: generate$1('widget-id')\n      },\n      dom: {\n        tag: 'div',\n        classes: ['tox-fancymenuitem']\n      },\n      autofocus: true,\n      components: [parts$2().widget({\n        dom: {\n          tag: 'div',\n          classes: ['tox-insert-table-picker']\n        },\n        components: makeComponents(cells).concat(memLabel.asSpec()),\n        behaviours: derive$1([config('insert-table-picker', [runWithTarget(cellOverEvent, function (c, t, e) {\n          var row = e.event().row();\n          var col = e.event().col();\n          selectCells(cells, row, col, numRows, numColumns);\n          Replacing.set(memLabel.get(c), [makeLabelText(row, col)]);\n        }), runWithTarget(cellExecuteEvent, function (c, _, e) {\n          spec.onAction({\n            numRows: e.event().row() + 1,\n            numColumns: e.event().col() + 1\n          });\n          emit(c, sandboxClose());\n        })]), Keying.config({\n          initSize: {\n            numRows: numRows,\n            numColumns: numColumns\n          },\n          mode: 'flatgrid',\n          selector: '[role=\"button\"]'\n        })])\n      })]\n    };\n  }\n\n  var hexColour = function hexColour(hexString) {\n    return {\n      value: constant(hexString)\n    };\n  };\n\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n\n  var isHexString = function isHexString(hex) {\n    return shorthandRegex.test(hex) || longformRegex.test(hex);\n  };\n\n  var getLongForm = function getLongForm(hex) {\n    var hexString = hex.value().replace(shorthandRegex, function (m, r, g, b) {\n      return r + r + g + g + b + b;\n    });\n    return {\n      value: constant(hexString)\n    };\n  };\n\n  var extractValues = function extractValues(hex) {\n    var longForm = getLongForm(hex);\n    var splitForm = longformRegex.exec(longForm.value());\n    return splitForm === null ? ['FFFFFF', 'FF', 'FF', 'FF'] : splitForm;\n  };\n\n  var toHex = function toHex(component) {\n    var hex = component.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  };\n\n  var fromRgba = function fromRgba(rgbaColour) {\n    var value = toHex(rgbaColour.red()) + toHex(rgbaColour.green()) + toHex(rgbaColour.blue());\n    return hexColour(value);\n  };\n\n  var min = Math.min;\n  var max = Math.max;\n  var round = Math.round;\n  var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n  var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n\n  var rgbaColour = function rgbaColour(red, green, blue, alpha) {\n    return {\n      red: constant(red),\n      green: constant(green),\n      blue: constant(blue),\n      alpha: constant(alpha)\n    };\n  };\n\n  var isRgbaComponent = function isRgbaComponent(value) {\n    var num = parseInt(value, 10);\n    return num.toString() === value && num >= 0 && num <= 255;\n  };\n\n  var fromHsv = function fromHsv(hsv) {\n    var r;\n    var g;\n    var b;\n    var hue = (hsv.hue() || 0) % 360;\n    var saturation = hsv.saturation() / 100;\n    var brightness = hsv.value() / 100;\n    saturation = max(0, min(saturation, 1));\n    brightness = max(0, min(brightness, 1));\n\n    if (saturation === 0) {\n      r = g = b = round(255 * brightness);\n      return rgbaColour(r, g, b, 1);\n    }\n\n    var side = hue / 60;\n    var chroma = brightness * saturation;\n    var x = chroma * (1 - Math.abs(side % 2 - 1));\n    var match = brightness - chroma;\n\n    switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n\n      default:\n        r = g = b = 0;\n    }\n\n    r = round(255 * (r + match));\n    g = round(255 * (g + match));\n    b = round(255 * (b + match));\n    return rgbaColour(r, g, b, 1);\n  };\n\n  var fromHex = function fromHex(hexColour) {\n    var result = extractValues(hexColour);\n    var red = parseInt(result[1], 16);\n    var green = parseInt(result[2], 16);\n    var blue = parseInt(result[3], 16);\n    return rgbaColour(red, green, blue, 1);\n  };\n\n  var fromStringValues = function fromStringValues(red, green, blue, alpha) {\n    var r = parseInt(red, 10);\n    var g = parseInt(green, 10);\n    var b = parseInt(blue, 10);\n    var a = parseFloat(alpha);\n    return rgbaColour(r, g, b, a);\n  };\n\n  var fromString = function fromString(rgbaString) {\n    if (rgbaString === 'transparent') {\n      return Option.some(rgbaColour(0, 0, 0, 0));\n    }\n\n    var rgbMatch = rgbRegex.exec(rgbaString);\n\n    if (rgbMatch !== null) {\n      return Option.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n    }\n\n    var rgbaMatch = rgbaRegex.exec(rgbaString);\n\n    if (rgbaMatch !== null) {\n      return Option.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n    }\n\n    return Option.none();\n  };\n\n  var toString = function toString(rgba) {\n    return 'rgba(' + rgba.red() + ',' + rgba.green() + ',' + rgba.blue() + ',' + rgba.alpha() + ')';\n  };\n\n  var redColour = constant(rgbaColour(255, 0, 0, 1));\n  var global$8 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n  var storageName = 'tinymce-custom-colors';\n\n  function ColorCache(max) {\n    if (max === void 0) {\n      max = 10;\n    }\n\n    var storageString = global$8.getItem(storageName);\n    var localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n\n    var prune = function prune(list) {\n      var diff = max - list.length;\n      return diff < 0 ? list.slice(0, max) : list;\n    };\n\n    var cache = prune(localstorage);\n\n    var add = function add(key) {\n      indexOf(cache, key).each(remove);\n      cache.unshift(key);\n\n      if (cache.length > max) {\n        cache.pop();\n      }\n\n      global$8.setItem(storageName, JSON.stringify(cache));\n    };\n\n    var remove = function remove(idx) {\n      cache.splice(idx, 1);\n    };\n\n    var state = function state() {\n      return cache.slice(0);\n    };\n\n    return {\n      add: add,\n      state: state\n    };\n  }\n\n  var choiceItem = 'choiceitem';\n  var defaultColors = [{\n    type: choiceItem,\n    text: 'Light Green',\n    value: '#BFEDD2'\n  }, {\n    type: choiceItem,\n    text: 'Light Yellow',\n    value: '#FBEEB8'\n  }, {\n    type: choiceItem,\n    text: 'Light Red',\n    value: '#F8CAC6'\n  }, {\n    type: choiceItem,\n    text: 'Light Purple',\n    value: '#ECCAFA'\n  }, {\n    type: choiceItem,\n    text: 'Light Blue',\n    value: '#C2E0F4'\n  }, {\n    type: choiceItem,\n    text: 'Green',\n    value: '#2DC26B'\n  }, {\n    type: choiceItem,\n    text: 'Yellow',\n    value: '#F1C40F'\n  }, {\n    type: choiceItem,\n    text: 'Red',\n    value: '#E03E2D'\n  }, {\n    type: choiceItem,\n    text: 'Purple',\n    value: '#B96AD9'\n  }, {\n    type: choiceItem,\n    text: 'Blue',\n    value: '#3598DB'\n  }, {\n    type: choiceItem,\n    text: 'Dark Turquoise',\n    value: '#169179'\n  }, {\n    type: choiceItem,\n    text: 'Orange',\n    value: '#E67E23'\n  }, {\n    type: choiceItem,\n    text: 'Dark Red',\n    value: '#BA372A'\n  }, {\n    type: choiceItem,\n    text: 'Dark Purple',\n    value: '#843FA1'\n  }, {\n    type: choiceItem,\n    text: 'Dark Blue',\n    value: '#236FA1'\n  }, {\n    type: choiceItem,\n    text: 'Light Gray',\n    value: '#ECF0F1'\n  }, {\n    type: choiceItem,\n    text: 'Medium Gray',\n    value: '#CED4D9'\n  }, {\n    type: choiceItem,\n    text: 'Gray',\n    value: '#95A5A6'\n  }, {\n    type: choiceItem,\n    text: 'Dark Gray',\n    value: '#7E8C8D'\n  }, {\n    type: choiceItem,\n    text: 'Navy Blue',\n    value: '#34495E'\n  }, {\n    type: choiceItem,\n    text: 'Black',\n    value: '#000000'\n  }, {\n    type: choiceItem,\n    text: 'White',\n    value: '#ffffff'\n  }];\n  var colorCache = ColorCache(10);\n\n  var mapColors = function mapColors(colorMap) {\n    var colors = [];\n    var canvas = domGlobals.document.createElement('canvas');\n    canvas.height = 1;\n    canvas.width = 1;\n    var ctx = canvas.getContext('2d');\n\n    var byteAsHex = function byteAsHex(colorByte, alphaByte) {\n      var bg = 255;\n      var alpha = alphaByte / 255;\n      var colorByteWithWhiteBg = Math.round(colorByte * alpha + bg * (1 - alpha));\n      return ('0' + colorByteWithWhiteBg.toString(16)).slice(-2).toUpperCase();\n    };\n\n    var asHexColor = function asHexColor(color) {\n      if (/^[0-9A-Fa-f]{6}$/.test(color)) {\n        return '#' + color.toUpperCase();\n      }\n\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.fillStyle = '#FFFFFF';\n      ctx.fillStyle = color;\n      ctx.fillRect(0, 0, 1, 1);\n      var rgba = ctx.getImageData(0, 0, 1, 1).data;\n      var r = rgba[0],\n          g = rgba[1],\n          b = rgba[2],\n          a = rgba[3];\n      return '#' + byteAsHex(r, a) + byteAsHex(g, a) + byteAsHex(b, a);\n    };\n\n    for (var i = 0; i < colorMap.length; i += 2) {\n      colors.push({\n        text: colorMap[i + 1],\n        value: asHexColor(colorMap[i]),\n        type: 'choiceitem'\n      });\n    }\n\n    return colors;\n  };\n\n  var getColorCols = function getColorCols(editor, defaultCols) {\n    return editor.getParam('color_cols', defaultCols, 'number');\n  };\n\n  var hasCustomColors = function hasCustomColors(editor) {\n    return editor.getParam('custom_colors') !== false;\n  };\n\n  var getColorMap = function getColorMap(editor) {\n    return editor.getParam('color_map');\n  };\n\n  var getColors = function getColors(editor) {\n    var unmapped = getColorMap(editor);\n    return unmapped !== undefined ? mapColors(unmapped) : defaultColors;\n  };\n\n  var getCurrentColors = function getCurrentColors() {\n    return map(colorCache.state(), function (color) {\n      return {\n        type: choiceItem,\n        text: color,\n        value: color\n      };\n    });\n  };\n\n  var addColor = function addColor(color) {\n    colorCache.add(color);\n  };\n\n  var Settings = {\n    mapColors: mapColors,\n    getColorCols: getColorCols,\n    hasCustomColors: hasCustomColors,\n    getColorMap: getColorMap,\n    getColors: getColors,\n    getCurrentColors: getCurrentColors,\n    addColor: addColor\n  };\n\n  var fireSkinLoaded = function fireSkinLoaded(editor) {\n    return editor.fire('SkinLoaded');\n  };\n\n  var fireResizeEditor = function fireResizeEditor(editor) {\n    return editor.fire('ResizeEditor');\n  };\n\n  var fireBeforeRenderUI = function fireBeforeRenderUI(editor) {\n    return editor.fire('BeforeRenderUI');\n  };\n\n  var fireResizeContent = function fireResizeContent(editor) {\n    return editor.fire('ResizeContent');\n  };\n\n  var fireTextColorChange = function fireTextColorChange(editor, data) {\n    editor.fire('TextColorChange', data);\n  };\n\n  var Events = {\n    fireSkinLoaded: fireSkinLoaded,\n    fireResizeEditor: fireResizeEditor,\n    fireBeforeRenderUI: fireBeforeRenderUI,\n    fireResizeContent: fireResizeContent,\n    fireTextColorChange: fireTextColorChange\n  };\n\n  var getCurrentColor = function getCurrentColor(editor, format) {\n    var color;\n    editor.dom.getParents(editor.selection.getStart(), function (elm) {\n      var value;\n\n      if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n        color = color ? color : value;\n      }\n    });\n    return color;\n  };\n\n  var applyFormat = function applyFormat(editor, format, value) {\n    editor.undoManager.transact(function () {\n      editor.focus();\n      editor.formatter.apply(format, {\n        value: value\n      });\n      editor.nodeChanged();\n    });\n  };\n\n  var removeFormat = function removeFormat(editor, format) {\n    editor.undoManager.transact(function () {\n      editor.focus();\n      editor.formatter.remove(format, {\n        value: null\n      }, null, true);\n      editor.nodeChanged();\n    });\n  };\n\n  var registerCommands = function registerCommands(editor) {\n    editor.addCommand('mceApplyTextcolor', function (format, value) {\n      applyFormat(editor, format, value);\n    });\n    editor.addCommand('mceRemoveTextcolor', function (format) {\n      removeFormat(editor, format);\n    });\n  };\n\n  var calcCols = function calcCols(colors) {\n    return Math.max(5, Math.ceil(Math.sqrt(colors)));\n  };\n\n  var getColorCols$1 = function getColorCols$1(editor) {\n    var colors = Settings.getColors(editor);\n    var defaultCols = calcCols(colors.length);\n    return Settings.getColorCols(editor, defaultCols);\n  };\n\n  var getAdditionalColors = function getAdditionalColors(hasCustom) {\n    var type = 'choiceitem';\n    var remove = {\n      type: type,\n      text: 'Remove color',\n      icon: 'color-swatch-remove-color',\n      value: 'remove'\n    };\n    var custom = {\n      type: type,\n      text: 'Custom color',\n      icon: 'color-picker',\n      value: 'custom'\n    };\n    return hasCustom ? [remove, custom] : [remove];\n  };\n\n  var applyColor = function applyColor(editor, format, value, onChoice) {\n    if (value === 'custom') {\n      var dialog = colorPickerDialog(editor);\n      dialog(function (colorOpt) {\n        colorOpt.each(function (color) {\n          Settings.addColor(color);\n          editor.execCommand('mceApplyTextcolor', format, color);\n          onChoice(color);\n        });\n      }, '#000000');\n    } else if (value === 'remove') {\n      onChoice('');\n      editor.execCommand('mceRemoveTextcolor', format);\n    } else {\n      onChoice(value);\n      editor.execCommand('mceApplyTextcolor', format, value);\n    }\n  };\n\n  var getMenuColors = function getMenuColors(colors, hasCustom) {\n    return colors.concat(Settings.getCurrentColors().concat(getAdditionalColors(hasCustom)));\n  };\n\n  var getFetch = function getFetch(colors, hasCustom) {\n    return function (callback) {\n      callback(getMenuColors(colors, hasCustom));\n    };\n  };\n\n  var setIconColor = function setIconColor(splitButtonApi, name, newColor) {\n    var setIconFillAndStroke = function setIconFillAndStroke(pathId, color) {\n      splitButtonApi.setIconFill(pathId, color);\n      splitButtonApi.setIconStroke(pathId, color);\n    };\n\n    var id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n    setIconFillAndStroke(id, newColor);\n  };\n\n  var registerTextColorButton = function registerTextColorButton(editor, name, format, tooltip, lastColor) {\n    editor.ui.registry.addSplitButton(name, {\n      tooltip: tooltip,\n      presets: 'color',\n      icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n      select: function select(value) {\n        var optCurrentRgb = Option.from(getCurrentColor(editor, format));\n        return optCurrentRgb.bind(function (currentRgb) {\n          return fromString(currentRgb).map(function (rgba) {\n            var currentHex = fromRgba(rgba).value();\n            return contains$1(value.toLowerCase(), currentHex);\n          });\n        }).getOr(false);\n      },\n      columns: getColorCols$1(editor),\n      fetch: getFetch(Settings.getColors(editor), Settings.hasCustomColors(editor)),\n      onAction: function onAction(splitButtonApi) {\n        if (lastColor.get() !== null) {\n          applyColor(editor, format, lastColor.get(), function () {});\n        }\n      },\n      onItemAction: function onItemAction(splitButtonApi, value) {\n        applyColor(editor, format, value, function (newColor) {\n          lastColor.set(newColor);\n          Events.fireTextColorChange(editor, {\n            name: name,\n            color: newColor\n          });\n        });\n      },\n      onSetup: function onSetup(splitButtonApi) {\n        if (lastColor.get() !== null) {\n          setIconColor(splitButtonApi, name, lastColor.get());\n        }\n\n        var handler = function handler(e) {\n          if (e.name === name) {\n            setIconColor(splitButtonApi, e.name, e.color);\n          }\n        };\n\n        editor.on('TextColorChange', handler);\n        return function () {\n          editor.off('TextColorChange', handler);\n        };\n      }\n    });\n  };\n\n  var registerTextColorMenuItem = function registerTextColorMenuItem(editor, name, format, text) {\n    editor.ui.registry.addNestedMenuItem(name, {\n      text: text,\n      icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n      getSubmenuItems: function getSubmenuItems() {\n        return [{\n          type: 'fancymenuitem',\n          fancytype: 'colorswatch',\n          onAction: function onAction(data) {\n            applyColor(editor, format, data.value, noop);\n          }\n        }];\n      }\n    });\n  };\n\n  var colorPickerDialog = function colorPickerDialog(editor) {\n    return function (callback, value) {\n      var getOnSubmit = function getOnSubmit(callback) {\n        return function (api) {\n          var data = api.getData();\n          callback(Option.from(data.colorpicker));\n          api.close();\n        };\n      };\n\n      var onAction = function onAction(api, details) {\n        if (details.name === 'hex-valid') {\n          if (details.value) {\n            api.enable('ok');\n          } else {\n            api.disable('ok');\n          }\n        }\n      };\n\n      var initialData = {\n        colorpicker: value\n      };\n      var submit = getOnSubmit(callback);\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n            type: 'colorpicker',\n            name: 'colorpicker',\n            label: 'Color'\n          }]\n        },\n        buttons: [{\n          type: 'cancel',\n          name: 'cancel',\n          text: 'Cancel'\n        }, {\n          type: 'submit',\n          name: 'save',\n          text: 'Save',\n          primary: true\n        }],\n        initialData: initialData,\n        onAction: onAction,\n        onSubmit: submit,\n        onClose: function onClose() {},\n        onCancel: function onCancel() {\n          callback(Option.none());\n        }\n      });\n    };\n  };\n\n  var register$1 = function register$1(editor) {\n    registerCommands(editor);\n    var lastForeColor = Cell(null);\n    var lastBackColor = Cell(null);\n    registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n    registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n    registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n    registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n  };\n\n  var ColorSwatch = {\n    register: register$1,\n    getColors: getMenuColors,\n    getFetch: getFetch,\n    colorPickerDialog: colorPickerDialog,\n    getCurrentColor: getCurrentColor,\n    getColorCols: getColorCols$1,\n    calcCols: calcCols\n  };\n\n  var chunk$1 = function chunk$1(rowDom, numColumns) {\n    return function (items) {\n      var chunks = chunk(items, numColumns);\n      return map(chunks, function (c) {\n        return {\n          dom: rowDom,\n          components: c\n        };\n      });\n    };\n  };\n\n  var forSwatch = function forSwatch(columns) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-menu', 'tox-swatches-menu']\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-swatches']\n        },\n        components: [Menu.parts().items({\n          preprocess: columns !== 'auto' ? chunk$1({\n            tag: 'div',\n            classes: ['tox-swatches__row']\n          }, columns) : identity\n        })]\n      }]\n    };\n  };\n\n  var forToolbar = function forToolbar(columns) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-menu', 'tox-collection', 'tox-collection--toolbar', 'tox-collection--toolbar-lg']\n      },\n      components: [Menu.parts().items({\n        preprocess: chunk$1({\n          tag: 'div',\n          classes: ['tox-collection__group']\n        }, columns)\n      })]\n    };\n  };\n\n  var preprocessCollection = function preprocessCollection(items, isSeparator) {\n    var allSplits = [];\n    var currentSplit = [];\n    each(items, function (item, i) {\n      if (isSeparator(item, i)) {\n        if (currentSplit.length > 0) {\n          allSplits.push(currentSplit);\n        }\n\n        currentSplit = [];\n\n        if (has(item.dom, 'innerHtml')) {\n          currentSplit.push(item);\n        }\n      } else {\n        currentSplit.push(item);\n      }\n    });\n\n    if (currentSplit.length > 0) {\n      allSplits.push(currentSplit);\n    }\n\n    return map(allSplits, function (s) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      };\n    });\n  };\n\n  var forCollection = function forCollection(columns, initItems, hasIcons) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-menu', 'tox-collection'].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [Menu.parts().items({\n        preprocess: function preprocess(items) {\n          if (columns !== 'auto' && columns > 1) {\n            return chunk$1({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)(items);\n          } else {\n            return preprocessCollection(items, function (item, i) {\n              return initItems[i].type === 'separator';\n            });\n          }\n        }\n      })]\n    };\n  };\n\n  var forMenu = function forMenu(presets) {\n    if (presets === 'color') {\n      return 'tox-swatches';\n    } else {\n      return 'tox-menu';\n    }\n  };\n\n  var classes = function classes(presets) {\n    return {\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    };\n  };\n\n  var markers$1 = function markers$1(presets) {\n    var menuClasses = classes(presets);\n    return {\n      backgroundMenu: menuClasses.backgroundMenu,\n      selectedMenu: menuClasses.selectedMenu,\n      menu: menuClasses.menu,\n      selectedItem: menuClasses.selectedItem,\n      item: classForPreset(presets)\n    };\n  };\n\n  var dom$1 = function dom$1(hasIcons, columns, presets) {\n    var menuClasses = classes(presets);\n    return {\n      tag: 'div',\n      classes: flatten([[menuClasses.menu, 'tox-menu-' + columns + '-column'], hasIcons ? [menuClasses.hasIcons] : []])\n    };\n  };\n\n  var components$1 = [Menu.parts().items({})];\n\n  var part = function part(hasIcons, columns, presets) {\n    var menuClasses = classes(presets);\n    var d = {\n      tag: 'div',\n      classes: flatten([[menuClasses.tieredMenu]])\n    };\n    return {\n      dom: d,\n      markers: markers$1(presets)\n    };\n  };\n\n  var hasIcon = function hasIcon(item) {\n    return item.icon !== undefined || item.type === 'togglemenuitem' || item.type === 'choicemenuitem';\n  };\n\n  var menuHasIcons = function menuHasIcons(xs) {\n    return exists(xs, hasIcon);\n  };\n\n  var handleError = function handleError(error) {\n    domGlobals.console.error(formatError(error));\n    domGlobals.console.log(error);\n    return Option.none();\n  };\n\n  var createPartialMenuWithAlloyItems = function createPartialMenuWithAlloyItems(value, hasIcons, items, columns, presets) {\n    if (presets === 'color') {\n      var structure = forSwatch(columns);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    }\n\n    if (presets === 'normal' && columns === 'auto') {\n      var structure = forCollection(columns, items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    }\n\n    if (presets === 'normal' && columns === 1) {\n      var structure = forCollection(1, items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    }\n\n    if (presets === 'normal') {\n      var structure = forCollection(columns, items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    }\n\n    if (presets === 'listpreview' && columns !== 'auto') {\n      var structure = forToolbar(columns);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    }\n\n    return {\n      value: value,\n      dom: dom$1(hasIcons, columns, presets),\n      components: components$1,\n      items: items\n    };\n  };\n\n  var createPartialChoiceMenu = function createPartialChoiceMenu(value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) {\n    var hasIcons = menuHasIcons(items);\n    var presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n    var alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n    return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n  };\n\n  var createChoiceItems = function createChoiceItems(items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) {\n    return cat(map(items, function (item) {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, function (d) {\n          return Option.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage));\n        });\n      } else {\n        return Option.none();\n      }\n    }));\n  };\n\n  var deriveMenuMovement = function deriveMenuMovement(columns, presets) {\n    var menuMarkers = markers$1(presets);\n\n    if (columns === 1) {\n      return {\n        mode: 'menu',\n        moveOnTab: true\n      };\n    } else if (columns === 'auto') {\n      return {\n        mode: 'grid',\n        selector: '.' + menuMarkers.item,\n        initSize: {\n          numColumns: 1,\n          numRows: 1\n        }\n      };\n    } else {\n      var rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n      return {\n        mode: 'matrix',\n        rowSelector: '.' + rowClass\n      };\n    }\n  };\n\n  var deriveCollectionMovement = function deriveCollectionMovement(columns, presets) {\n    if (columns === 1) {\n      return {\n        mode: 'menu',\n        moveOnTab: false,\n        selector: '.tox-collection__item'\n      };\n    } else if (columns === 'auto') {\n      return {\n        mode: 'flatgrid',\n        selector: '.' + 'tox-collection__item',\n        initSize: {\n          numColumns: 1,\n          numRows: 1\n        }\n      };\n    } else {\n      return {\n        mode: 'matrix',\n        selectors: {\n          row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n          cell: presets === 'color' ? '.' + colorClass : '.' + selectableClass\n        }\n      };\n    }\n  };\n\n  function renderColorSwatchItem(spec, backstage) {\n    var items = ColorSwatch.getColors(backstage.colorinput.getColors(), backstage.colorinput.hasCustomColors());\n    var columns = backstage.colorinput.getColorCols();\n    var presets = 'color';\n    var menuSpec = createPartialChoiceMenu(generate$1('menu-value'), items, function (value) {\n      spec.onAction({\n        value: value\n      });\n    }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, function () {\n      return false;\n    }, backstage.shared.providers);\n    var widgetSpec = deepMerge(_assign({}, menuSpec, {\n      markers: markers$1(presets),\n      movement: deriveMenuMovement(columns, presets)\n    }));\n    return {\n      type: 'widget',\n      data: {\n        value: generate$1('widget-id')\n      },\n      dom: {\n        tag: 'div',\n        classes: ['tox-fancymenuitem']\n      },\n      autofocus: true,\n      components: [parts$2().widget(Menu.sketch(widgetSpec))]\n    };\n  }\n\n  var fancyMenuItems = {\n    inserttable: renderInsertTableMenuItem,\n    colorswatch: renderColorSwatchItem\n  };\n\n  var valueOpt = function valueOpt(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key) ? Option.some(obj[key]) : Option.none();\n  };\n\n  var renderFancyMenuItem = function renderFancyMenuItem(spec, backstage) {\n    return valueOpt(fancyMenuItems, spec.fancytype).map(function (render) {\n      return render(spec, backstage);\n    });\n  };\n\n  var renderNormalItem = function renderNormalItem(spec, itemResponse, providersBackstage, renderIcons) {\n    if (renderIcons === void 0) {\n      renderIcons = true;\n    }\n\n    var getApi = function getApi(component) {\n      return {\n        isDisabled: function isDisabled() {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function setDisabled(state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n\n    var structure = renderItemStructure({\n      presets: 'normal',\n      iconContent: spec.icon,\n      textContent: spec.text,\n      htmlContent: Option.none(),\n      ariaLabel: spec.text,\n      caret: Option.none(),\n      checkMark: Option.none(),\n      shortcutContent: spec.shortcut\n    }, providersBackstage, renderIcons);\n    return renderCommonItem({\n      data: buildData(spec),\n      getApi: getApi,\n      disabled: spec.disabled,\n      onAction: spec.onAction,\n      onSetup: spec.onSetup,\n      triggersSubmenu: false,\n      itemBehaviours: []\n    }, structure, itemResponse);\n  };\n\n  var renderNestedItem = function renderNestedItem(spec, itemResponse, providersBackstage, renderIcons) {\n    if (renderIcons === void 0) {\n      renderIcons = true;\n    }\n\n    var caret = renderSubmenuCaret(providersBackstage.icons);\n\n    var getApi = function getApi(component) {\n      return {\n        isDisabled: function isDisabled() {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function setDisabled(state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n\n    var structure = renderItemStructure({\n      presets: 'normal',\n      iconContent: spec.icon,\n      textContent: spec.text,\n      htmlContent: Option.none(),\n      ariaLabel: spec.text,\n      caret: Option.some(caret),\n      checkMark: Option.none(),\n      shortcutContent: spec.shortcut\n    }, providersBackstage, renderIcons);\n    return renderCommonItem({\n      data: buildData(spec),\n      getApi: getApi,\n      disabled: spec.disabled,\n      onAction: noop,\n      onSetup: spec.onSetup,\n      triggersSubmenu: true,\n      itemBehaviours: []\n    }, structure, itemResponse);\n  };\n\n  var renderSeparatorItem = function renderSeparatorItem(spec) {\n    var innerHtml = spec.text.fold(function () {\n      return {};\n    }, function (text) {\n      return {\n        innerHtml: text\n      };\n    });\n    return {\n      type: 'separator',\n      dom: _assign({\n        tag: 'div',\n        classes: [selectableClass, groupHeadingClass]\n      }, innerHtml),\n      components: []\n    };\n  };\n\n  var renderToggleMenuItem = function renderToggleMenuItem(spec, itemResponse, providersBackstage) {\n    var getApi = function getApi(component) {\n      return {\n        setActive: function setActive(state) {\n          Toggling.set(component, state);\n        },\n        isActive: function isActive() {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function isDisabled() {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function setDisabled(state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n\n    var structure = renderItemStructure({\n      iconContent: Option.none(),\n      textContent: spec.text,\n      htmlContent: Option.none(),\n      ariaLabel: spec.text,\n      checkMark: Option.some(renderCheckmark(providersBackstage.icons)),\n      caret: Option.none(),\n      shortcutContent: spec.shortcut,\n      presets: 'normal',\n      meta: spec.meta\n    }, providersBackstage, true);\n    return deepMerge(renderCommonItem({\n      data: buildData(spec),\n      disabled: spec.disabled,\n      getApi: getApi,\n      onAction: spec.onAction,\n      onSetup: spec.onSetup,\n      triggersSubmenu: false,\n      itemBehaviours: []\n    }, structure, itemResponse), {\n      toggling: {\n        toggleClass: tickedClass,\n        toggleOnExecute: false,\n        selected: spec.active\n      }\n    });\n  };\n\n  var autocomplete = renderAutocompleteItem;\n  var separator = renderSeparatorItem;\n  var normal = renderNormalItem;\n  var nested = renderNestedItem;\n  var toggle$1 = renderToggleMenuItem;\n  var fancy = renderFancyMenuItem;\n  var FocusMode;\n\n  (function (FocusMode) {\n    FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n    FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n  })(FocusMode || (FocusMode = {}));\n\n  var hasIcon$1 = function hasIcon$1(item) {\n    return item.icon !== undefined || item.type === 'togglemenuitem' || item.type === 'choicemenuitem';\n  };\n\n  var menuHasIcons$1 = function menuHasIcons$1(xs) {\n    return exists(xs, hasIcon$1);\n  };\n\n  var createMenuItemFromBridge = function createMenuItemFromBridge(item, itemResponse, backstage, menuHasIcons) {\n    if (menuHasIcons === void 0) {\n      menuHasIcons = true;\n    }\n\n    var providersBackstage = backstage.shared.providers;\n\n    switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, function (d) {\n          return Option.some(normal(d, itemResponse, providersBackstage, menuHasIcons));\n        });\n\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, function (d) {\n          return Option.some(nested(d, itemResponse, providersBackstage, menuHasIcons));\n        });\n\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, function (d) {\n          return Option.some(toggle$1(d, itemResponse, providersBackstage));\n        });\n\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, function (d) {\n          return Option.some(separator(d));\n        });\n\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, function (d) {\n          return fancy(d, backstage);\n        });\n\n      default:\n        {\n          domGlobals.console.error('Unknown item in general menu', item);\n          return Option.none();\n        }\n    }\n  };\n\n  var createAutocompleteItems = function createAutocompleteItems(items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage) {\n    var renderText = columns === 1;\n    var renderIcons = !renderText || menuHasIcons$1(items);\n    return cat(map(items, function (item) {\n      if (item.type === 'separator') {\n        return createSeparatorItem(item).fold(handleError, function (d) {\n          return Option.some(separator(d));\n        });\n      } else {\n        return createAutocompleterItem(item).fold(handleError, function (d) {\n          return Option.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons));\n        });\n      }\n    }));\n  };\n\n  var createPartialMenu = function createPartialMenu(value, items, itemResponse, backstage) {\n    var hasIcons = menuHasIcons$1(items);\n    var alloyItems = cat(map(items, function (item) {\n      var createItem = function createItem(i) {\n        return createMenuItemFromBridge(i, itemResponse, backstage, hasIcons);\n      };\n\n      if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n        return createItem(merge(item, {\n          disabled: true\n        }));\n      } else {\n        return createItem(item);\n      }\n    }));\n    return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, 1, 'normal');\n  };\n\n  var createTieredDataFrom = function createTieredDataFrom(partialMenu) {\n    return tieredMenu.singleData(partialMenu.value, partialMenu);\n  };\n\n  var createMenuFrom = function createMenuFrom(partialMenu, columns, focusMode, presets) {\n    var focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom();\n    var movement = deriveMenuMovement(columns, presets);\n    var menuMarkers = markers$1(presets);\n    return {\n      dom: partialMenu.dom,\n      components: partialMenu.components,\n      items: partialMenu.items,\n      value: partialMenu.value,\n      markers: {\n        selectedItem: menuMarkers.selectedItem,\n        item: menuMarkers.item\n      },\n      movement: movement,\n      fakeFocus: focusMode === FocusMode.ContentFocus,\n      focusManager: focusManager,\n      menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached(function (comp, se) {\n        detectSize(comp, 4, menuMarkers.item).each(function (_a) {\n          var numColumns = _a.numColumns,\n              numRows = _a.numRows;\n          Keying.setGridSize(comp, numRows, numColumns);\n        });\n      })])\n    };\n  };\n\n  var register$2 = function register$2(editor, sharedBackstage) {\n    var activeAutocompleter = Cell(Option.none());\n    var autocompleter = build$1(InlineView.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-autocompleter']\n      },\n      components: [],\n      fireDismissalEventInstead: {},\n      inlineBehaviours: derive$1([config('dismissAutocompleter', [run(dismissRequested(), function () {\n        return cancelIfNecessary();\n      })])]),\n      lazySink: sharedBackstage.getSink\n    }));\n\n    var isMenuOpen = function isMenuOpen() {\n      return InlineView.isOpen(autocompleter);\n    };\n\n    var isActive = function isActive() {\n      return activeAutocompleter.get().isSome();\n    };\n\n    var hideIfNecessary = function hideIfNecessary() {\n      if (isActive()) {\n        InlineView.hide(autocompleter);\n      }\n    };\n\n    var cancelIfNecessary = function cancelIfNecessary() {\n      if (isActive()) {\n        var lastElement = activeAutocompleter.get().map(function (ac) {\n          return ac.element;\n        });\n        detect$4(lastElement.getOr(Element.fromDom(editor.selection.getNode()))).each(unwrap);\n        hideIfNecessary();\n        activeAutocompleter.set(Option.none());\n      }\n    };\n\n    var getAutocompleters = cached(function () {\n      return register(editor);\n    });\n\n    var getCombinedItems = function getCombinedItems(triggerChar, matches) {\n      var columns = findMap(matches, function (m) {\n        return Option.from(m.columns);\n      }).getOr(1);\n      return bind(matches, function (match) {\n        var choices = match.items;\n        return createAutocompleteItems(choices, match.matchText, function (itemValue, itemMeta) {\n          var nr = editor.selection.getRng();\n          getContext(editor.dom, nr, triggerChar).fold(function () {\n            return domGlobals.console.error('Lost context. Cursor probably moved');\n          }, function (_a) {\n            var range = _a.range;\n            var autocompleterApi = {\n              hide: cancelIfNecessary,\n              reload: function reload(fetchOptions) {\n                hideIfNecessary();\n                load(fetchOptions);\n              }\n            };\n            match.onAction(autocompleterApi, range, itemValue, itemMeta);\n          });\n        }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage);\n      });\n    };\n\n    var commenceIfNecessary = function commenceIfNecessary(context) {\n      if (!isActive()) {\n        var wrapper = create$4(editor, context.range);\n        activeAutocompleter.set(Option.some({\n          triggerChar: context.triggerChar,\n          element: wrapper,\n          matchLength: context.text.length\n        }));\n      }\n    };\n\n    var display = function display(ac, context, lookupData, items) {\n      ac.matchLength = context.text.length;\n      var columns = findMap(lookupData, function (ld) {\n        return Option.from(ld.columns);\n      }).getOr(1);\n      InlineView.showAt(autocompleter, {\n        anchor: 'node',\n        root: Element.fromDom(editor.getBody()),\n        node: Option.from(ac.element)\n      }, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')));\n      InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n    };\n\n    var doLookup = function doLookup(fetchOptions) {\n      return activeAutocompleter.get().map(function (ac) {\n        return getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(function (newContext) {\n          return lookupWithContext(editor, getAutocompleters, newContext, fetchOptions);\n        });\n      }).getOrThunk(function () {\n        return lookup(editor, getAutocompleters);\n      });\n    };\n\n    var load = function load(fetchOptions) {\n      doLookup(fetchOptions).fold(cancelIfNecessary, function (lookupInfo) {\n        commenceIfNecessary(lookupInfo.context);\n        lookupInfo.lookupData.then(function (lookupData) {\n          activeAutocompleter.get().map(function (ac) {\n            var context = lookupInfo.context;\n\n            if (ac.triggerChar === context.triggerChar) {\n              var combinedItems = getCombinedItems(context.triggerChar, lookupData);\n\n              if (combinedItems.length > 0) {\n                display(ac, context, lookupData, combinedItems);\n              } else if (context.text.length - ac.matchLength >= 10) {\n                cancelIfNecessary();\n              } else {\n                hideIfNecessary();\n              }\n            }\n          });\n        });\n      });\n    };\n\n    var onKeypress = last$2(function (e) {\n      if (e.which === 27) {\n        return;\n      }\n\n      load();\n    }, 50);\n    var autocompleterUiApi = {\n      onKeypress: onKeypress,\n      cancelIfNecessary: cancelIfNecessary,\n      isMenuOpen: isMenuOpen,\n      isActive: isActive,\n      getView: function getView() {\n        return InlineView.getContent(autocompleter);\n      }\n    };\n    AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n  };\n\n  var Autocompleter = {\n    register: register$2\n  };\n\n  var mkEvent = function mkEvent(target, x, y, stop, prevent, kill, raw) {\n    return {\n      target: constant(target),\n      x: constant(x),\n      y: constant(y),\n      stop: stop,\n      prevent: prevent,\n      kill: kill,\n      raw: constant(raw)\n    };\n  };\n\n  var handle = function handle(filter, handler) {\n    return function (rawEvent) {\n      if (!filter(rawEvent)) {\n        return;\n      }\n\n      var target = Element.fromDom(rawEvent.target);\n\n      var stop = function stop() {\n        rawEvent.stopPropagation();\n      };\n\n      var prevent = function prevent() {\n        rawEvent.preventDefault();\n      };\n\n      var kill = compose(prevent, stop);\n      var evt = mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n      handler(evt);\n    };\n  };\n\n  var binder = function binder(element, event, filter, handler, useCapture) {\n    var wrapped = handle(filter, handler);\n    element.dom().addEventListener(event, wrapped, useCapture);\n    return {\n      unbind: curry(unbind, element, event, wrapped, useCapture)\n    };\n  };\n\n  var bind$2 = function bind$2(element, event, filter, handler) {\n    return binder(element, event, filter, handler, false);\n  };\n\n  var capture = function capture(element, event, filter, handler) {\n    return binder(element, event, filter, handler, true);\n  };\n\n  var unbind = function unbind(element, event, handler, useCapture) {\n    element.dom().removeEventListener(event, handler, useCapture);\n  };\n\n  var filter$1 = constant(true);\n\n  var bind$3 = function bind$3(element, event, handler) {\n    return bind$2(element, event, filter$1, handler);\n  };\n\n  var capture$1 = function capture$1(element, event, handler) {\n    return capture(element, event, filter$1, handler);\n  };\n\n  var closest$4 = function closest$4(scope, selector, isRoot) {\n    return closest$3(scope, selector, isRoot).isSome();\n  };\n\n  function DelayedFunction(fun, delay) {\n    var ref = null;\n\n    var schedule = function schedule() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      ref = domGlobals.setTimeout(function () {\n        fun.apply(null, args);\n        ref = null;\n      }, delay);\n    };\n\n    var cancel = function cancel() {\n      if (ref !== null) {\n        domGlobals.clearTimeout(ref);\n        ref = null;\n      }\n    };\n\n    return {\n      cancel: cancel,\n      schedule: schedule\n    };\n  }\n\n  var SIGNIFICANT_MOVE = 5;\n  var LONGPRESS_DELAY = 400;\n\n  var getTouch = function getTouch(event) {\n    var raw = event.raw();\n\n    if (raw.touches === undefined || raw.touches.length !== 1) {\n      return Option.none();\n    }\n\n    return Option.some(raw.touches[0]);\n  };\n\n  var isFarEnough = function isFarEnough(touch, data) {\n    var distX = Math.abs(touch.clientX - data.x());\n    var distY = Math.abs(touch.clientY - data.y());\n    return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n  };\n\n  var monitor = function monitor(settings) {\n    var startData = Cell(Option.none());\n    var longpress$1 = DelayedFunction(function (event) {\n      startData.set(Option.none());\n      settings.triggerEvent(longpress(), event);\n    }, LONGPRESS_DELAY);\n\n    var handleTouchstart = function handleTouchstart(event) {\n      getTouch(event).each(function (touch) {\n        longpress$1.cancel();\n        var data = {\n          x: constant(touch.clientX),\n          y: constant(touch.clientY),\n          target: event.target\n        };\n        longpress$1.schedule(event);\n        startData.set(Option.some(data));\n      });\n      return Option.none();\n    };\n\n    var handleTouchmove = function handleTouchmove(event) {\n      longpress$1.cancel();\n      getTouch(event).each(function (touch) {\n        startData.get().each(function (data) {\n          if (isFarEnough(touch, data)) {\n            startData.set(Option.none());\n          }\n        });\n      });\n      return Option.none();\n    };\n\n    var handleTouchend = function handleTouchend(event) {\n      longpress$1.cancel();\n\n      var isSame = function isSame(data) {\n        return eq(data.target(), event.target());\n      };\n\n      return startData.get().filter(isSame).map(function (data) {\n        return settings.triggerEvent(tap(), event);\n      });\n    };\n\n    var handlers = wrapAll$1([{\n      key: touchstart(),\n      value: handleTouchstart\n    }, {\n      key: touchmove(),\n      value: handleTouchmove\n    }, {\n      key: touchend(),\n      value: handleTouchend\n    }]);\n\n    var fireIfReady = function fireIfReady(event, type) {\n      return readOptFrom$1(handlers, type).bind(function (handler) {\n        return handler(event);\n      });\n    };\n\n    return {\n      fireIfReady: fireIfReady\n    };\n  };\n\n  var isDangerous = function isDangerous(event) {\n    var keyEv = event.raw();\n    return keyEv.which === BACKSPACE()[0] && !contains(['input', 'textarea'], name(event.target())) && !closest$4(event.target(), '[contenteditable=\"true\"]');\n  };\n\n  var isFirefox = PlatformDetection$1.detect().browser.isFirefox();\n  var settingsSchema = objOfOnly([strictFunction('triggerEvent'), defaulted$1('stopBackspace', true)]);\n\n  var bindFocus = function bindFocus(container, handler) {\n    if (isFirefox) {\n      return capture$1(container, 'focus', handler);\n    } else {\n      return bind$3(container, 'focusin', handler);\n    }\n  };\n\n  var bindBlur = function bindBlur(container, handler) {\n    if (isFirefox) {\n      return capture$1(container, 'blur', handler);\n    } else {\n      return bind$3(container, 'focusout', handler);\n    }\n  };\n\n  var setup$1 = function setup$1(container, rawSettings) {\n    var settings = asRawOrDie('Getting GUI events settings', settingsSchema, rawSettings);\n    var pointerEvents = PlatformDetection$1.detect().deviceType.isTouch() ? ['touchstart', 'touchmove', 'touchend', 'gesturestart'] : ['mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'click'];\n    var tapEvent = monitor(settings);\n    var simpleEvents = map(pointerEvents.concat(['selectstart', 'input', 'contextmenu', 'change', 'transitionend', 'drag', 'dragstart', 'dragend', 'dragenter', 'dragleave', 'dragover', 'drop', 'keyup']), function (type) {\n      return bind$3(container, type, function (event) {\n        tapEvent.fireIfReady(event, type).each(function (tapStopped) {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        var stopped = settings.triggerEvent(type, event);\n\n        if (stopped) {\n          event.kill();\n        }\n      });\n    });\n    var pasteTimeout = Cell(Option.none());\n    var onPaste = bind$3(container, 'paste', function (event) {\n      tapEvent.fireIfReady(event, 'paste').each(function (tapStopped) {\n        if (tapStopped) {\n          event.kill();\n        }\n      });\n      var stopped = settings.triggerEvent('paste', event);\n\n      if (stopped) {\n        event.kill();\n      }\n\n      pasteTimeout.set(Option.some(domGlobals.setTimeout(function () {\n        settings.triggerEvent(postPaste(), event);\n      }, 0)));\n    });\n    var onKeydown = bind$3(container, 'keydown', function (event) {\n      var stopped = settings.triggerEvent('keydown', event);\n\n      if (stopped) {\n        event.kill();\n      } else if (settings.stopBackspace === true && isDangerous(event)) {\n        event.prevent();\n      }\n    });\n    var onFocusIn = bindFocus(container, function (event) {\n      var stopped = settings.triggerEvent('focusin', event);\n\n      if (stopped) {\n        event.kill();\n      }\n    });\n    var focusoutTimeout = Cell(Option.none());\n    var onFocusOut = bindBlur(container, function (event) {\n      var stopped = settings.triggerEvent('focusout', event);\n\n      if (stopped) {\n        event.kill();\n      }\n\n      focusoutTimeout.set(Option.some(domGlobals.setTimeout(function () {\n        settings.triggerEvent(postBlur(), event);\n      }, 0)));\n    });\n\n    var unbind = function unbind() {\n      each(simpleEvents, function (e) {\n        e.unbind();\n      });\n      onKeydown.unbind();\n      onFocusIn.unbind();\n      onFocusOut.unbind();\n      onPaste.unbind();\n      pasteTimeout.get().each(domGlobals.clearTimeout);\n      focusoutTimeout.get().each(domGlobals.clearTimeout);\n    };\n\n    return {\n      unbind: unbind\n    };\n  };\n\n  var derive$2 = function derive$2(rawEvent, rawTarget) {\n    var source = readOptFrom$1(rawEvent, 'target').map(function (getTarget) {\n      return getTarget();\n    }).getOr(rawTarget);\n    return Cell(source);\n  };\n\n  var fromSource = function fromSource(event, source) {\n    var stopper = Cell(false);\n    var cutter = Cell(false);\n\n    var stop = function stop() {\n      stopper.set(true);\n    };\n\n    var cut = function cut() {\n      cutter.set(true);\n    };\n\n    return {\n      stop: stop,\n      cut: cut,\n      isStopped: stopper.get,\n      isCut: cutter.get,\n      event: constant(event),\n      setSource: source.set,\n      getSource: source.get\n    };\n  };\n\n  var fromExternal = function fromExternal(event) {\n    var stopper = Cell(false);\n\n    var stop = function stop() {\n      stopper.set(true);\n    };\n\n    return {\n      stop: stop,\n      cut: noop,\n      isStopped: stopper.get,\n      isCut: constant(false),\n      event: constant(event),\n      setSource: die('Cannot set source of a broadcasted event'),\n      getSource: die('Cannot get source of a broadcasted event')\n    };\n  };\n\n  var adt$b = Adt.generate([{\n    stopped: []\n  }, {\n    resume: ['element']\n  }, {\n    complete: []\n  }]);\n\n  var doTriggerHandler = function doTriggerHandler(lookup, eventType, rawEvent, target, source, logger) {\n    var handler = lookup(eventType, target);\n    var simulatedEvent = fromSource(rawEvent, source);\n    return handler.fold(function () {\n      logger.logEventNoHandlers(eventType, target);\n      return adt$b.complete();\n    }, function (handlerInfo) {\n      var descHandler = handlerInfo.descHandler();\n      var eventHandler = getCurried(descHandler);\n      eventHandler(simulatedEvent);\n\n      if (simulatedEvent.isStopped()) {\n        logger.logEventStopped(eventType, handlerInfo.element(), descHandler.purpose());\n        return adt$b.stopped();\n      } else if (simulatedEvent.isCut()) {\n        logger.logEventCut(eventType, handlerInfo.element(), descHandler.purpose());\n        return adt$b.complete();\n      } else {\n        return parent(handlerInfo.element()).fold(function () {\n          logger.logNoParent(eventType, handlerInfo.element(), descHandler.purpose());\n          return adt$b.complete();\n        }, function (parent) {\n          logger.logEventResponse(eventType, handlerInfo.element(), descHandler.purpose());\n          return adt$b.resume(parent);\n        });\n      }\n    });\n  };\n\n  var doTriggerOnUntilStopped = function doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger) {\n    return doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(function () {\n      return true;\n    }, function (parent) {\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger);\n    }, function () {\n      return false;\n    });\n  };\n\n  var triggerHandler = function triggerHandler(lookup, eventType, rawEvent, target, logger) {\n    var source = derive$2(rawEvent, target);\n    return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n  };\n\n  var broadcast = function broadcast(listeners, rawEvent, logger) {\n    var simulatedEvent = fromExternal(rawEvent);\n    each(listeners, function (listener) {\n      var descHandler = listener.descHandler();\n      var handler = getCurried(descHandler);\n      handler(simulatedEvent);\n    });\n    return simulatedEvent.isStopped();\n  };\n\n  var triggerUntilStopped = function triggerUntilStopped(lookup, eventType, rawEvent, logger) {\n    var rawTarget = rawEvent.target();\n    return triggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, logger);\n  };\n\n  var triggerOnUntilStopped = function triggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, logger) {\n    var source = derive$2(rawEvent, rawTarget);\n    return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n  };\n\n  var eventHandler = Immutable('element', 'descHandler');\n\n  var broadcastHandler = function broadcastHandler(id, handler) {\n    return {\n      id: constant(id),\n      descHandler: constant(handler)\n    };\n  };\n\n  function EventRegistry() {\n    var registry = {};\n\n    var registerId = function registerId(extraArgs, id, events) {\n      each$1(events, function (v, k) {\n        var handlers = registry[k] !== undefined ? registry[k] : {};\n        handlers[id] = curryArgs(v, extraArgs);\n        registry[k] = handlers;\n      });\n    };\n\n    var findHandler = function findHandler(handlers, elem) {\n      return read$1(elem).fold(function () {\n        return Option.none();\n      }, function (id) {\n        var reader = readOpt$1(id);\n        return handlers.bind(reader).map(function (descHandler) {\n          return eventHandler(elem, descHandler);\n        });\n      });\n    };\n\n    var filterByType = function filterByType(type) {\n      return readOptFrom$1(registry, type).map(function (handlers) {\n        return mapToArray(handlers, function (f, id) {\n          return broadcastHandler(id, f);\n        });\n      }).getOr([]);\n    };\n\n    var find = function find(isAboveRoot, type, target) {\n      var readType = readOpt$1(type);\n      var handlers = readType(registry);\n      return closest$1(target, function (elem) {\n        return findHandler(handlers, elem);\n      }, isAboveRoot);\n    };\n\n    var unregisterId = function unregisterId(id) {\n      each$1(registry, function (handlersById, eventName) {\n        if (handlersById.hasOwnProperty(id)) {\n          delete handlersById[id];\n        }\n      });\n    };\n\n    return {\n      registerId: registerId,\n      unregisterId: unregisterId,\n      filterByType: filterByType,\n      find: find\n    };\n  }\n\n  function Registry() {\n    var events = EventRegistry();\n    var components = {};\n\n    var readOrTag = function readOrTag(component) {\n      var elem = component.element();\n      return read$1(elem).fold(function () {\n        return write('uid-', component.element());\n      }, function (uid) {\n        return uid;\n      });\n    };\n\n    var failOnDuplicate = function failOnDuplicate(component, tagId) {\n      var conflict = components[tagId];\n\n      if (conflict === component) {\n        unregister(component);\n      } else {\n        throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element()) + '\\nCannot use it for: ' + element(component.element()) + '\\n' + 'The conflicting element is' + (inBody(conflict.element()) ? ' ' : ' not ') + 'already in the DOM');\n      }\n    };\n\n    var register = function register(component) {\n      var tagId = readOrTag(component);\n\n      if (hasKey$1(components, tagId)) {\n        failOnDuplicate(component, tagId);\n      }\n\n      var extraArgs = [component];\n      events.registerId(extraArgs, tagId, component.events());\n      components[tagId] = component;\n    };\n\n    var unregister = function unregister(component) {\n      read$1(component.element()).each(function (tagId) {\n        delete components[tagId];\n        events.unregisterId(tagId);\n      });\n    };\n\n    var filter = function filter(type) {\n      return events.filterByType(type);\n    };\n\n    var find = function find(isAboveRoot, type, target) {\n      return events.find(isAboveRoot, type, target);\n    };\n\n    var getById = function getById(id) {\n      return readOpt$1(id)(components);\n    };\n\n    return {\n      find: find,\n      filter: filter,\n      register: register,\n      unregister: unregister,\n      getById: getById\n    };\n  }\n\n  var factory$3 = function factory$3(detail) {\n    var _a = detail.dom,\n        attributes = _a.attributes,\n        domWithoutAttributes = __rest(_a, ['attributes']);\n\n    return {\n      uid: detail.uid,\n      dom: _assign({\n        tag: 'div',\n        attributes: _assign({\n          role: 'presentation'\n        }, attributes)\n      }, domWithoutAttributes),\n      components: detail.components,\n      behaviours: get$b(detail.containerBehaviours),\n      events: detail.events,\n      domModification: detail.domModification,\n      eventOrder: detail.eventOrder\n    };\n  };\n\n  var Container = single$2({\n    name: 'Container',\n    factory: factory$3,\n    configFields: [defaulted$1('components', []), field$1('containerBehaviours', []), defaulted$1('events', {}), defaulted$1('domModification', {}), defaulted$1('eventOrder', {})]\n  });\n\n  var takeover = function takeover(root) {\n    var isAboveRoot = function isAboveRoot(el) {\n      return parent(root.element()).fold(function () {\n        return true;\n      }, function (parent) {\n        return eq(el, parent);\n      });\n    };\n\n    var registry = Registry();\n\n    var lookup = function lookup(eventName, target) {\n      return registry.find(isAboveRoot, eventName, target);\n    };\n\n    var domEvents = setup$1(root.element(), {\n      triggerEvent: function triggerEvent(eventName, event) {\n        return monitorEvent(eventName, event.target(), function (logger) {\n          return triggerUntilStopped(lookup, eventName, event, logger);\n        });\n      }\n    });\n    var systemApi = {\n      debugInfo: constant('real'),\n      triggerEvent: function triggerEvent(eventName, target, data) {\n        monitorEvent(eventName, target, function (logger) {\n          triggerOnUntilStopped(lookup, eventName, data, target, logger);\n        });\n      },\n      triggerFocus: function triggerFocus(target, originator) {\n        read$1(target).fold(function () {\n          focus$1(target);\n        }, function (_alloyId) {\n          monitorEvent(focus(), target, function (logger) {\n            triggerHandler(lookup, focus(), {\n              originator: constant(originator),\n              kill: noop,\n              prevent: noop,\n              target: constant(target)\n            }, target, logger);\n          });\n        });\n      },\n      triggerEscape: function triggerEscape(comp, simulatedEvent) {\n        systemApi.triggerEvent('keydown', comp.element(), simulatedEvent.event());\n      },\n      getByUid: function getByUid(uid) {\n        return _getByUid(uid);\n      },\n      getByDom: function getByDom(elem) {\n        return _getByDom(elem);\n      },\n      build: build$1,\n      addToGui: function addToGui(c) {\n        add(c);\n      },\n      removeFromGui: function removeFromGui(c) {\n        remove$1(c);\n      },\n      addToWorld: function addToWorld(c) {\n        _addToWorld(c);\n      },\n      removeFromWorld: function removeFromWorld(c) {\n        _removeFromWorld(c);\n      },\n      broadcast: function broadcast(message) {\n        broadcast$1(message);\n      },\n      broadcastOn: function broadcastOn(channels, message) {\n        _broadcastOn(channels, message);\n      },\n      broadcastEvent: function broadcastEvent(eventName, event) {\n        _broadcastEvent(eventName, event);\n      },\n      isConnected: constant(true)\n    };\n\n    var _addToWorld = function _addToWorld(component) {\n      component.connect(systemApi);\n\n      if (!isText(component.element())) {\n        registry.register(component);\n        each(component.components(), _addToWorld);\n        systemApi.triggerEvent(systemInit(), component.element(), {\n          target: constant(component.element())\n        });\n      }\n    };\n\n    var _removeFromWorld = function _removeFromWorld(component) {\n      if (!isText(component.element())) {\n        each(component.components(), _removeFromWorld);\n        registry.unregister(component);\n      }\n\n      component.disconnect();\n    };\n\n    var add = function add(component) {\n      attach(root, component);\n    };\n\n    var remove$1 = function remove$1(component) {\n      detach(component);\n    };\n\n    var destroy = function destroy() {\n      domEvents.unbind();\n      remove(root.element());\n    };\n\n    var broadcastData = function broadcastData(data) {\n      var receivers = registry.filter(receive());\n      each(receivers, function (receiver) {\n        var descHandler = receiver.descHandler();\n        var handler = getCurried(descHandler);\n        handler(data);\n      });\n    };\n\n    var broadcast$1 = function broadcast$1(message) {\n      broadcastData({\n        universal: constant(true),\n        data: constant(message)\n      });\n    };\n\n    var _broadcastOn = function _broadcastOn(channels, message) {\n      broadcastData({\n        universal: constant(false),\n        channels: constant(channels),\n        data: constant(message)\n      });\n    };\n\n    var _broadcastEvent = function _broadcastEvent(eventName, event) {\n      var listeners = registry.filter(eventName);\n      return broadcast(listeners, event);\n    };\n\n    var _getByUid = function _getByUid(uid) {\n      return registry.getById(uid).fold(function () {\n        return Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.'));\n      }, Result.value);\n    };\n\n    var _getByDom = function _getByDom(elem) {\n      var uid = read$1(elem).getOr('not found');\n      return _getByUid(uid);\n    };\n\n    _addToWorld(root);\n\n    return {\n      root: constant(root),\n      element: root.element,\n      destroy: destroy,\n      add: add,\n      remove: remove$1,\n      getByUid: _getByUid,\n      getByDom: _getByDom,\n      addToWorld: _addToWorld,\n      removeFromWorld: _removeFromWorld,\n      broadcast: broadcast$1,\n      broadcastOn: _broadcastOn,\n      broadcastEvent: _broadcastEvent\n    };\n  };\n\n  var global$9 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n  var getSkinUrl = function getSkinUrl(editor) {\n    var settings = editor.settings;\n    var skin = settings.skin;\n    var skinUrl = settings.skin_url;\n\n    if (skin !== false) {\n      var skinName = skin ? skin : 'oxide';\n\n      if (skinUrl) {\n        skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n      } else {\n        skinUrl = global$9.baseURL + '/skins/ui/' + skinName;\n      }\n    }\n\n    return skinUrl;\n  };\n\n  var isReadOnly = function isReadOnly(editor) {\n    return editor.getParam('readonly', false, 'boolean');\n  };\n\n  var isSkinDisabled = function isSkinDisabled(editor) {\n    return editor.getParam('skin') === false;\n  };\n\n  var getHeightSetting = function getHeightSetting(editor) {\n    return editor.getParam('height', Math.max(editor.getElement().offsetHeight, 200));\n  };\n\n  var getMinWidthSetting = function getMinWidthSetting(editor) {\n    return Option.from(editor.settings.min_width).filter(isNumber);\n  };\n\n  var getMinHeightSetting = function getMinHeightSetting(editor) {\n    return Option.from(editor.settings.min_height).filter(isNumber);\n  };\n\n  var getMaxWidthSetting = function getMaxWidthSetting(editor) {\n    return Option.from(editor.getParam('max_width')).filter(isNumber);\n  };\n\n  var getMaxHeightSetting = function getMaxHeightSetting(editor) {\n    return Option.from(editor.getParam('max_height')).filter(isNumber);\n  };\n\n  var getUserStyleFormats = function getUserStyleFormats(editor) {\n    return Option.from(editor.getParam('style_formats')).filter(isArray);\n  };\n\n  var isMergeStyleFormats = function isMergeStyleFormats(editor) {\n    return editor.getParam('style_formats_merge', false, 'boolean');\n  };\n\n  var getRemovedMenuItems = function getRemovedMenuItems(editor) {\n    return editor.getParam('removed_menuitems', '');\n  };\n\n  var isMenubarEnabled = function isMenubarEnabled(editor) {\n    return editor.getParam('menubar', true, 'boolean') !== false;\n  };\n\n  var isToolbarEnabled = function isToolbarEnabled(editor) {\n    var toolbar = editor.getParam('toolbar', true);\n    var isToolbarTrue = toolbar === true;\n    var isToolbarString = isString(toolbar);\n    var isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n    return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || isToolbarTrue);\n  };\n\n  var getMultipleToolbarsSetting = function getMultipleToolbarsSetting(editor) {\n    var keys$1 = keys(editor.settings);\n    var toolbarKeys = filter(keys$1, function (key) {\n      return /^toolbar([1-9])$/.test(key);\n    });\n    var toolbars = map(toolbarKeys, function (key) {\n      return editor.getParam(key, false, 'string');\n    });\n    var toolbarArray = filter(toolbars, function (toolbar) {\n      return typeof toolbar === 'string';\n    });\n    return toolbarArray.length > 0 ? Option.some(toolbarArray) : Option.none();\n  };\n\n  var isMultipleToolbars = function isMultipleToolbars(editor) {\n    return getMultipleToolbarsSetting(editor).fold(function () {\n      var toolbar = editor.getParam('toolbar', [], 'string[]');\n      return toolbar.length > 0;\n    }, function () {\n      return true;\n    });\n  };\n\n  var ToolbarDrawer;\n\n  (function (ToolbarDrawer) {\n    ToolbarDrawer['default'] = '';\n    ToolbarDrawer['floating'] = 'floating';\n    ToolbarDrawer['sliding'] = 'sliding';\n  })(ToolbarDrawer || (ToolbarDrawer = {}));\n\n  var getToolbarDrawer = function getToolbarDrawer(editor) {\n    return editor.getParam('toolbar_drawer', '', 'string');\n  };\n\n  var fixedContainerSelector = function fixedContainerSelector(editor) {\n    return editor.getParam('fixed_toolbar_container', '', 'string');\n  };\n\n  var fixedContainerElement = function fixedContainerElement(editor) {\n    var selector = fixedContainerSelector(editor);\n    var isInline = editor.getParam('inline', false, 'boolean');\n    return selector.length > 0 && isInline ? descendant$1(body(), selector) : Option.none();\n  };\n\n  var useFixedContainer = function useFixedContainer(editor) {\n    return editor.getParam('inline', false, 'boolean') && fixedContainerElement(editor).isSome();\n  };\n\n  var getUiContainer = function getUiContainer(editor) {\n    var fixedContainer = fixedContainerElement(editor);\n    return fixedContainer.getOr(body());\n  };\n\n  var isDraggableModal = function isDraggableModal(editor) {\n    return editor.getParam('draggable_modal', false, 'boolean');\n  };\n\n  var formChangeEvent = generate$1('form-component-change');\n  var formCloseEvent = generate$1('form-close');\n  var formCancelEvent = generate$1('form-cancel');\n  var formActionEvent = generate$1('form-action');\n  var formSubmitEvent = generate$1('form-submit');\n  var formBlockEvent = generate$1('form-block');\n  var formUnblockEvent = generate$1('form-unblock');\n  var formTabChangeEvent = generate$1('form-tabchange');\n  var formResizeEvent = generate$1('form-resize');\n\n  var renderAlertBanner = function renderAlertBanner(spec, providersBackstage) {\n    return Container.sketch({\n      dom: {\n        tag: 'div',\n        attributes: {\n          role: 'alert'\n        },\n        classes: ['tox-notification', 'tox-notification--in', 'tox-notification--' + spec.level]\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__icon']\n        },\n        components: [Button.sketch({\n          dom: {\n            tag: 'button',\n            classes: ['tox-button', 'tox-button--naked', 'tox-button--icon'],\n            innerHtml: get$c(spec.icon, providersBackstage.icons),\n            attributes: {\n              title: providersBackstage.translate(spec.iconTooltip)\n            }\n          },\n          action: function action(comp) {\n            emitWith(comp, formActionEvent, {\n              name: 'alert-banner',\n              value: spec.url\n            });\n          }\n        })]\n      }, {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body'],\n          innerHtml: providersBackstage.translate(spec.text)\n        }\n      }]\n    });\n  };\n\n  var schema$d = constant([defaulted$1('prefix', 'form-field'), field$1('fieldBehaviours', [Composing, Representing])]);\n  var parts$3 = constant([optional({\n    schema: [strict$1('dom')],\n    name: 'label'\n  }), optional({\n    factory: {\n      sketch: function sketch(spec) {\n        return {\n          uid: spec.uid,\n          dom: {\n            tag: 'span',\n            styles: {\n              display: 'none'\n            },\n            attributes: {\n              'aria-hidden': 'true'\n            },\n            innerHtml: spec.text\n          }\n        };\n      }\n    },\n    schema: [strict$1('text')],\n    name: 'aria-descriptor'\n  }), required({\n    factory: {\n      sketch: function sketch(spec) {\n        var excludeFactory = exclude$1(spec, ['factory']);\n        return spec.factory.sketch(excludeFactory);\n      }\n    },\n    schema: [strict$1('factory')],\n    name: 'field'\n  })]);\n\n  var factory$4 = function factory$4(detail, components, spec, externals) {\n    var behaviours = augment(detail.fieldBehaviours, [Composing.config({\n      find: function find(container) {\n        return getPart(container, detail, 'field');\n      }\n    }), Representing.config({\n      store: {\n        mode: 'manual',\n        getValue: function getValue(field) {\n          return Composing.getCurrent(field).bind(Representing.getValue);\n        },\n        setValue: function setValue(field, value) {\n          Composing.getCurrent(field).each(function (current) {\n            Representing.setValue(current, value);\n          });\n        }\n      }\n    })]);\n    var events = derive([runOnAttached(function (component, simulatedEvent) {\n      var ps = getParts(component, detail, ['label', 'field', 'aria-descriptor']);\n      ps.field().each(function (field) {\n        var id = generate$1(detail.prefix);\n        ps.label().each(function (label) {\n          set$1(label.element(), 'for', id);\n          set$1(field.element(), 'id', id);\n        });\n        ps['aria-descriptor']().each(function (descriptor) {\n          var descriptorId = generate$1(detail.prefix);\n          set$1(descriptor.element(), 'id', descriptorId);\n          set$1(field.element(), 'aria-describedby', descriptorId);\n        });\n      });\n    })]);\n    var apis = {\n      getField: function getField(container) {\n        return getPart(container, detail, 'field');\n      },\n      getLabel: function getLabel(container) {\n        return getPart(container, detail, 'label');\n      }\n    };\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: behaviours,\n      events: events,\n      apis: apis\n    };\n  };\n\n  var FormField = composite$1({\n    name: 'FormField',\n    configFields: schema$d(),\n    partFields: parts$3(),\n    factory: factory$4,\n    apis: {\n      getField: function getField(apis, comp) {\n        return apis.getField(comp);\n      },\n      getLabel: function getLabel(apis, comp) {\n        return apis.getLabel(comp);\n      }\n    }\n  });\n\n  var getCoupled = function getCoupled(component, coupleConfig, coupleState, name) {\n    return coupleState.getOrCreate(component, coupleConfig, name);\n  };\n\n  var CouplingApis =\n  /*#__PURE__*/\n  Object.freeze({\n    getCoupled: getCoupled\n  });\n  var CouplingSchema = [strictOf('others', setOf$1(Result.value, anyValue$1()))];\n\n  var init$5 = function init$5(spec) {\n    var coupled = {};\n\n    var getOrCreate = function getOrCreate(component, coupleConfig, name) {\n      var available = keys(coupleConfig.others);\n\n      if (!available) {\n        throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n      } else {\n        return readOptFrom$1(coupled, name).getOrThunk(function () {\n          var builder = readOptFrom$1(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          var spec = builder(component);\n          var built = component.getSystem().build(spec);\n          coupled[name] = built;\n          return built;\n        });\n      }\n    };\n\n    var readState = constant({});\n    return nu$5({\n      readState: readState,\n      getOrCreate: getOrCreate\n    });\n  };\n\n  var CouplingState =\n  /*#__PURE__*/\n  Object.freeze({\n    init: init$5\n  });\n  var Coupling = create$1({\n    fields: CouplingSchema,\n    name: 'coupling',\n    apis: CouplingApis,\n    state: CouplingState\n  });\n\n  var events$a = function events$a(streamConfig, streamState) {\n    var streams = streamConfig.stream.streams;\n    var processor = streams.setup(streamConfig, streamState);\n    return derive([run(streamConfig.event, processor), runOnDetached(function () {\n      return streamState.cancel();\n    })].concat(streamConfig.cancelEvent.map(function (e) {\n      return [run(e, function () {\n        return streamState.cancel();\n      })];\n    }).getOr([])));\n  };\n\n  var ActiveStreaming =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$a\n  });\n\n  var throttle = function throttle(_config) {\n    var state = Cell(null);\n\n    var readState = function readState() {\n      return {\n        timer: state.get() !== null ? 'set' : 'unset'\n      };\n    };\n\n    var setTimer = function setTimer(t) {\n      state.set(t);\n    };\n\n    var cancel = function cancel() {\n      var t = state.get();\n\n      if (t !== null) {\n        t.cancel();\n      }\n    };\n\n    return nu$5({\n      readState: readState,\n      setTimer: setTimer,\n      cancel: cancel\n    });\n  };\n\n  var init$6 = function init$6(spec) {\n    return spec.stream.streams.state(spec);\n  };\n\n  var StreamingState =\n  /*#__PURE__*/\n  Object.freeze({\n    throttle: throttle,\n    init: init$6\n  });\n\n  var setup$2 = function setup$2(streamInfo, streamState) {\n    var sInfo = streamInfo.stream;\n    var throttler = last$2(streamInfo.onStream, sInfo.delay);\n    streamState.setTimer(throttler);\n    return function (component, simulatedEvent) {\n      throttler.throttle(component, simulatedEvent);\n\n      if (sInfo.stopEvent) {\n        simulatedEvent.stop();\n      }\n    };\n  };\n\n  var StreamingSchema = [strictOf('stream', choose$1('mode', {\n    throttle: [strict$1('delay'), defaulted$1('stopEvent', true), output('streams', {\n      setup: setup$2,\n      state: throttle\n    })]\n  })), defaulted$1('event', 'input'), option('cancelEvent'), onStrictHandler('onStream')];\n  var Streaming = create$1({\n    fields: StreamingSchema,\n    name: 'streaming',\n    active: ActiveStreaming,\n    state: StreamingState\n  });\n  var exports$1 = {},\n      module = {\n    exports: exports$1\n  };\n\n  (function (define, exports, module, require) {\n    (function (f) {\n      if (typeof exports === 'object' && typeof module !== 'undefined') {\n        module.exports = f();\n      } else if (typeof define === 'function' && define.amd) {\n        define([], f);\n      } else {\n        var g;\n\n        if (typeof window !== 'undefined') {\n          g = window;\n        } else if (typeof global !== 'undefined') {\n          g = global;\n        } else if (typeof self !== 'undefined') {\n          g = self;\n        } else {\n          g = this;\n        }\n\n        g.EphoxContactWrapper = f();\n      }\n    })(function () {\n      return function () {\n        function r(e, n, t) {\n          function o(i, f) {\n            if (!n[i]) {\n              if (!e[i]) {\n                var c = 'function' == typeof require && require;\n                if (!f && c) return c(i, !0);\n                if (u) return u(i, !0);\n                var a = new Error('Cannot find module \\'' + i + '\\'');\n                throw a.code = 'MODULE_NOT_FOUND', a;\n              }\n\n              var p = n[i] = {\n                exports: {}\n              };\n              e[i][0].call(p.exports, function (r) {\n                var n = e[i][1][r];\n                return o(n || r);\n              }, p, p.exports, r, e, n, t);\n            }\n\n            return n[i].exports;\n          }\n\n          for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++) {\n            o(t[i]);\n          }\n\n          return o;\n        }\n\n        return r;\n      }()({\n        1: [function (require, module, exports) {\n          var process = module.exports = {};\n          var cachedSetTimeout;\n          var cachedClearTimeout;\n\n          function defaultSetTimout() {\n            throw new Error('setTimeout has not been defined');\n          }\n\n          function defaultClearTimeout() {\n            throw new Error('clearTimeout has not been defined');\n          }\n\n          (function () {\n            try {\n              if (typeof setTimeout === 'function') {\n                cachedSetTimeout = setTimeout;\n              } else {\n                cachedSetTimeout = defaultSetTimout;\n              }\n            } catch (e) {\n              cachedSetTimeout = defaultSetTimout;\n            }\n\n            try {\n              if (typeof clearTimeout === 'function') {\n                cachedClearTimeout = clearTimeout;\n              } else {\n                cachedClearTimeout = defaultClearTimeout;\n              }\n            } catch (e) {\n              cachedClearTimeout = defaultClearTimeout;\n            }\n          })();\n\n          function runTimeout(fun) {\n            if (cachedSetTimeout === setTimeout) {\n              return setTimeout(fun, 0);\n            }\n\n            if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n              cachedSetTimeout = setTimeout;\n              return setTimeout(fun, 0);\n            }\n\n            try {\n              return cachedSetTimeout(fun, 0);\n            } catch (e) {\n              try {\n                return cachedSetTimeout.call(null, fun, 0);\n              } catch (e) {\n                return cachedSetTimeout.call(this, fun, 0);\n              }\n            }\n          }\n\n          function runClearTimeout(marker) {\n            if (cachedClearTimeout === clearTimeout) {\n              return clearTimeout(marker);\n            }\n\n            if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n              cachedClearTimeout = clearTimeout;\n              return clearTimeout(marker);\n            }\n\n            try {\n              return cachedClearTimeout(marker);\n            } catch (e) {\n              try {\n                return cachedClearTimeout.call(null, marker);\n              } catch (e) {\n                return cachedClearTimeout.call(this, marker);\n              }\n            }\n          }\n\n          var queue = [];\n          var draining = false;\n          var currentQueue;\n          var queueIndex = -1;\n\n          function cleanUpNextTick() {\n            if (!draining || !currentQueue) {\n              return;\n            }\n\n            draining = false;\n\n            if (currentQueue.length) {\n              queue = currentQueue.concat(queue);\n            } else {\n              queueIndex = -1;\n            }\n\n            if (queue.length) {\n              drainQueue();\n            }\n          }\n\n          function drainQueue() {\n            if (draining) {\n              return;\n            }\n\n            var timeout = runTimeout(cleanUpNextTick);\n            draining = true;\n            var len = queue.length;\n\n            while (len) {\n              currentQueue = queue;\n              queue = [];\n\n              while (++queueIndex < len) {\n                if (currentQueue) {\n                  currentQueue[queueIndex].run();\n                }\n              }\n\n              queueIndex = -1;\n              len = queue.length;\n            }\n\n            currentQueue = null;\n            draining = false;\n            runClearTimeout(timeout);\n          }\n\n          process.nextTick = function (fun) {\n            var args = new Array(arguments.length - 1);\n\n            if (arguments.length > 1) {\n              for (var i = 1; i < arguments.length; i++) {\n                args[i - 1] = arguments[i];\n              }\n            }\n\n            queue.push(new Item(fun, args));\n\n            if (queue.length === 1 && !draining) {\n              runTimeout(drainQueue);\n            }\n          };\n\n          function Item(fun, array) {\n            this.fun = fun;\n            this.array = array;\n          }\n\n          Item.prototype.run = function () {\n            this.fun.apply(null, this.array);\n          };\n\n          process.title = 'browser';\n          process.browser = true;\n          process.env = {};\n          process.argv = [];\n          process.version = '';\n          process.versions = {};\n\n          function noop() {}\n\n          process.on = noop;\n          process.addListener = noop;\n          process.once = noop;\n          process.off = noop;\n          process.removeListener = noop;\n          process.removeAllListeners = noop;\n          process.emit = noop;\n          process.prependListener = noop;\n          process.prependOnceListener = noop;\n\n          process.listeners = function (name) {\n            return [];\n          };\n\n          process.binding = function (name) {\n            throw new Error('process.binding is not supported');\n          };\n\n          process.cwd = function () {\n            return '/';\n          };\n\n          process.chdir = function (dir) {\n            throw new Error('process.chdir is not supported');\n          };\n\n          process.umask = function () {\n            return 0;\n          };\n        }, {}],\n        2: [function (require, module, exports) {\n          (function (setImmediate) {\n            (function (root) {\n              var setTimeoutFunc = setTimeout;\n\n              function noop() {}\n\n              function bind(fn, thisArg) {\n                return function () {\n                  fn.apply(thisArg, arguments);\n                };\n              }\n\n              function Promise(fn) {\n                if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n                if (typeof fn !== 'function') throw new TypeError('not a function');\n                this._state = 0;\n                this._handled = false;\n                this._value = undefined;\n                this._deferreds = [];\n                doResolve(fn, this);\n              }\n\n              function handle(self, deferred) {\n                while (self._state === 3) {\n                  self = self._value;\n                }\n\n                if (self._state === 0) {\n                  self._deferreds.push(deferred);\n\n                  return;\n                }\n\n                self._handled = true;\n\n                Promise._immediateFn(function () {\n                  var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\n                  if (cb === null) {\n                    (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                    return;\n                  }\n\n                  var ret;\n\n                  try {\n                    ret = cb(self._value);\n                  } catch (e) {\n                    reject(deferred.promise, e);\n                    return;\n                  }\n\n                  resolve(deferred.promise, ret);\n                });\n              }\n\n              function resolve(self, newValue) {\n                try {\n                  if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n\n                  if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                    var then = newValue.then;\n\n                    if (newValue instanceof Promise) {\n                      self._state = 3;\n                      self._value = newValue;\n                      finale(self);\n                      return;\n                    } else if (typeof then === 'function') {\n                      doResolve(bind(then, newValue), self);\n                      return;\n                    }\n                  }\n\n                  self._state = 1;\n                  self._value = newValue;\n                  finale(self);\n                } catch (e) {\n                  reject(self, e);\n                }\n              }\n\n              function reject(self, newValue) {\n                self._state = 2;\n                self._value = newValue;\n                finale(self);\n              }\n\n              function finale(self) {\n                if (self._state === 2 && self._deferreds.length === 0) {\n                  Promise._immediateFn(function () {\n                    if (!self._handled) {\n                      Promise._unhandledRejectionFn(self._value);\n                    }\n                  });\n                }\n\n                for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                  handle(self, self._deferreds[i]);\n                }\n\n                self._deferreds = null;\n              }\n\n              function Handler(onFulfilled, onRejected, promise) {\n                this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                this.promise = promise;\n              }\n\n              function doResolve(fn, self) {\n                var done = false;\n\n                try {\n                  fn(function (value) {\n                    if (done) return;\n                    done = true;\n                    resolve(self, value);\n                  }, function (reason) {\n                    if (done) return;\n                    done = true;\n                    reject(self, reason);\n                  });\n                } catch (ex) {\n                  if (done) return;\n                  done = true;\n                  reject(self, ex);\n                }\n              }\n\n              Promise.prototype['catch'] = function (onRejected) {\n                return this.then(null, onRejected);\n              };\n\n              Promise.prototype.then = function (onFulfilled, onRejected) {\n                var prom = new this.constructor(noop);\n                handle(this, new Handler(onFulfilled, onRejected, prom));\n                return prom;\n              };\n\n              Promise.all = function (arr) {\n                var args = Array.prototype.slice.call(arr);\n                return new Promise(function (resolve, reject) {\n                  if (args.length === 0) return resolve([]);\n                  var remaining = args.length;\n\n                  function res(i, val) {\n                    try {\n                      if (val && (typeof val === 'object' || typeof val === 'function')) {\n                        var then = val.then;\n\n                        if (typeof then === 'function') {\n                          then.call(val, function (val) {\n                            res(i, val);\n                          }, reject);\n                          return;\n                        }\n                      }\n\n                      args[i] = val;\n\n                      if (--remaining === 0) {\n                        resolve(args);\n                      }\n                    } catch (ex) {\n                      reject(ex);\n                    }\n                  }\n\n                  for (var i = 0; i < args.length; i++) {\n                    res(i, args[i]);\n                  }\n                });\n              };\n\n              Promise.resolve = function (value) {\n                if (value && typeof value === 'object' && value.constructor === Promise) {\n                  return value;\n                }\n\n                return new Promise(function (resolve) {\n                  resolve(value);\n                });\n              };\n\n              Promise.reject = function (value) {\n                return new Promise(function (resolve, reject) {\n                  reject(value);\n                });\n              };\n\n              Promise.race = function (values) {\n                return new Promise(function (resolve, reject) {\n                  for (var i = 0, len = values.length; i < len; i++) {\n                    values[i].then(resolve, reject);\n                  }\n                });\n              };\n\n              Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                setImmediate(fn);\n              } : function (fn) {\n                setTimeoutFunc(fn, 0);\n              };\n\n              Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                if (typeof console !== 'undefined' && console) {\n                  console.warn('Possible Unhandled Promise Rejection:', err);\n                }\n              };\n\n              Promise._setImmediateFn = function _setImmediateFn(fn) {\n                Promise._immediateFn = fn;\n              };\n\n              Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                Promise._unhandledRejectionFn = fn;\n              };\n\n              if (typeof module !== 'undefined' && module.exports) {\n                module.exports = Promise;\n              } else if (!root.Promise) {\n                root.Promise = Promise;\n              }\n            })(this);\n          }).call(this, require('timers').setImmediate);\n        }, {\n          'timers': 3\n        }],\n        3: [function (require, module, exports) {\n          (function (setImmediate, clearImmediate) {\n            var nextTick = require('process/browser.js').nextTick;\n\n            var apply = Function.prototype.apply;\n            var slice = Array.prototype.slice;\n            var immediateIds = {};\n            var nextImmediateId = 0;\n\n            exports.setTimeout = function () {\n              return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n            };\n\n            exports.setInterval = function () {\n              return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n            };\n\n            exports.clearTimeout = exports.clearInterval = function (timeout) {\n              timeout.close();\n            };\n\n            function Timeout(id, clearFn) {\n              this._id = id;\n              this._clearFn = clearFn;\n            }\n\n            Timeout.prototype.unref = Timeout.prototype.ref = function () {};\n\n            Timeout.prototype.close = function () {\n              this._clearFn.call(window, this._id);\n            };\n\n            exports.enroll = function (item, msecs) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = msecs;\n            };\n\n            exports.unenroll = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = -1;\n            };\n\n            exports._unrefActive = exports.active = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              var msecs = item._idleTimeout;\n\n              if (msecs >= 0) {\n                item._idleTimeoutId = setTimeout(function onTimeout() {\n                  if (item._onTimeout) item._onTimeout();\n                }, msecs);\n              }\n            };\n\n            exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n              var id = nextImmediateId++;\n              var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n              immediateIds[id] = true;\n              nextTick(function onNextTick() {\n                if (immediateIds[id]) {\n                  if (args) {\n                    fn.apply(null, args);\n                  } else {\n                    fn.call(null);\n                  }\n\n                  exports.clearImmediate(id);\n                }\n              });\n              return id;\n            };\n            exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n              delete immediateIds[id];\n            };\n          }).call(this, require('timers').setImmediate, require('timers').clearImmediate);\n        }, {\n          'process/browser.js': 1,\n          'timers': 3\n        }],\n        4: [function (require, module, exports) {\n          var promisePolyfill = require('promise-polyfill');\n\n          var Global = function () {\n            if (typeof window !== 'undefined') {\n              return window;\n            } else {\n              return Function('return this;')();\n            }\n          }();\n\n          module.exports = {\n            boltExport: Global.Promise || promisePolyfill\n          };\n        }, {\n          'promise-polyfill': 2\n        }]\n      }, {}, [4])(4);\n    });\n  })(undefined, exports$1, module, undefined);\n\n  var Promise = module.exports.boltExport;\n\n  var nu$a = function nu$a(baseFn) {\n    var data = Option.none();\n    var callbacks = [];\n\n    var map = function map(f) {\n      return nu$a(function (nCallback) {\n        get(function (data) {\n          nCallback(f(data));\n        });\n      });\n    };\n\n    var get = function get(nCallback) {\n      if (isReady()) {\n        call(nCallback);\n      } else {\n        callbacks.push(nCallback);\n      }\n    };\n\n    var set = function set(x) {\n      data = Option.some(x);\n      run(callbacks);\n      callbacks = [];\n    };\n\n    var isReady = function isReady() {\n      return data.isSome();\n    };\n\n    var run = function run(cbs) {\n      each(cbs, call);\n    };\n\n    var call = function call(cb) {\n      data.each(function (x) {\n        domGlobals.setTimeout(function () {\n          cb(x);\n        }, 0);\n      });\n    };\n\n    baseFn(set);\n    return {\n      get: get,\n      map: map,\n      isReady: isReady\n    };\n  };\n\n  var pure$1 = function pure$1(a) {\n    return nu$a(function (callback) {\n      callback(a);\n    });\n  };\n\n  var LazyValue = {\n    nu: nu$a,\n    pure: pure$1\n  };\n\n  var errorReporter = function errorReporter(err) {\n    domGlobals.setTimeout(function () {\n      throw err;\n    }, 0);\n  };\n\n  var make$3 = function make$3(run) {\n    var get = function get(callback) {\n      run().then(callback, errorReporter);\n    };\n\n    var map = function map(fab) {\n      return make$3(function () {\n        return run().then(fab);\n      });\n    };\n\n    var bind = function bind(aFutureB) {\n      return make$3(function () {\n        return run().then(function (v) {\n          return aFutureB(v).toPromise();\n        });\n      });\n    };\n\n    var anonBind = function anonBind(futureB) {\n      return make$3(function () {\n        return run().then(function () {\n          return futureB.toPromise();\n        });\n      });\n    };\n\n    var toLazy = function toLazy() {\n      return LazyValue.nu(get);\n    };\n\n    var toCached = function toCached() {\n      var cache = null;\n      return make$3(function () {\n        if (cache === null) {\n          cache = run();\n        }\n\n        return cache;\n      });\n    };\n\n    var toPromise = run;\n    return {\n      map: map,\n      bind: bind,\n      anonBind: anonBind,\n      toLazy: toLazy,\n      toCached: toCached,\n      toPromise: toPromise,\n      get: get\n    };\n  };\n\n  var nu$b = function nu$b(baseFn) {\n    return make$3(function () {\n      return new Promise(baseFn);\n    });\n  };\n\n  var pure$2 = function pure$2(a) {\n    return make$3(function () {\n      return Promise.resolve(a);\n    });\n  };\n\n  var Future = {\n    nu: nu$b,\n    pure: pure$2\n  };\n  var suffix = constant('sink');\n  var partType = constant(optional({\n    name: suffix(),\n    overrides: constant({\n      dom: {\n        tag: 'div'\n      },\n      behaviours: derive$1([Positioning.config({\n        useFixed: true\n      })]),\n      events: derive([cutter(keydown()), cutter(mousedown()), cutter(click())])\n    })\n  }));\n  var HighlightOnOpen;\n\n  (function (HighlightOnOpen) {\n    HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n    HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n  })(HighlightOnOpen || (HighlightOnOpen = {}));\n\n  var getAnchor = function getAnchor(detail, component) {\n    var hotspot = detail.getHotspot(component).getOr(component);\n    var anchor = 'hotspot';\n    var overrides = detail.getAnchorOverrides();\n    return detail.layouts.fold(function () {\n      return {\n        anchor: anchor,\n        hotspot: hotspot,\n        overrides: overrides\n      };\n    }, function (layouts) {\n      return {\n        anchor: anchor,\n        hotspot: hotspot,\n        overrides: overrides,\n        layouts: layouts\n      };\n    });\n  };\n\n  var fetch = function fetch(detail, mapFetch, component) {\n    var fetcher = detail.fetch;\n    return fetcher(component).map(mapFetch);\n  };\n\n  var openF = function openF(detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) {\n    var futureData = fetch(detail, mapFetch, component);\n    var getLazySink = getSink(component, detail);\n    return futureData.map(function (tdata) {\n      return tdata.bind(function (data) {\n        return Option.from(tieredMenu.sketch(_assign({}, externals.menu(), {\n          uid: generate$2(''),\n          data: data,\n          highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n          onOpenMenu: function onOpenMenu(tmenu, menu) {\n            var sink = getLazySink().getOrDie();\n            Positioning.position(sink, anchor, menu);\n            Sandboxing.decloak(sandbox);\n          },\n          onOpenSubmenu: function onOpenSubmenu(tmenu, item, submenu) {\n            var sink = getLazySink().getOrDie();\n            Positioning.position(sink, {\n              anchor: 'submenu',\n              item: item\n            }, submenu);\n            Sandboxing.decloak(sandbox);\n          },\n          onEscape: function onEscape() {\n            Focusing.focus(component);\n            Sandboxing.close(sandbox);\n            return Option.some(true);\n          }\n        })));\n      });\n    });\n  };\n\n  var open$1 = function open$1(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) {\n    var anchor = getAnchor(detail, hotspot);\n    var processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n    return processed.map(function (tdata) {\n      tdata.fold(function () {\n        if (Sandboxing.isOpen(sandbox)) {\n          Sandboxing.close(sandbox);\n        }\n      }, function (data) {\n        Sandboxing.cloak(sandbox);\n        Sandboxing.open(sandbox, data);\n        onOpenSync(sandbox);\n      });\n      return sandbox;\n    });\n  };\n\n  var close$1 = function close$1(detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) {\n    Sandboxing.close(sandbox);\n    return Future.pure(sandbox);\n  };\n\n  var togglePopup = function togglePopup(detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) {\n    var sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n    var showing = Sandboxing.isOpen(sandbox);\n    var action = showing ? close$1 : open$1;\n    return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n  };\n\n  var matchWidth = function matchWidth(hotspot, container, useMinWidth) {\n    var menu = Composing.getCurrent(container).getOr(container);\n    var buttonWidth = get$7(hotspot.element());\n\n    if (useMinWidth) {\n      set$2(menu.element(), 'min-width', buttonWidth + 'px');\n    } else {\n      set$4(menu.element(), buttonWidth);\n    }\n  };\n\n  var getSink = function getSink(anyInSystem, sinkDetail) {\n    return anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(function (internalSink) {\n      return function () {\n        return Result.value(internalSink);\n      };\n    }).getOrThunk(function () {\n      return sinkDetail.lazySink.fold(function () {\n        return function () {\n          return Result.error(new Error('No internal sink is specified, nor could an external sink be found'));\n        };\n      }, function (lazySinkFn) {\n        return function () {\n          return lazySinkFn(anyInSystem);\n        };\n      });\n    });\n  };\n\n  var makeSandbox = function makeSandbox(detail, hotspot, extras) {\n    var ariaOwner = manager();\n\n    var onOpen = function onOpen(component, menu) {\n      var anchor = getAnchor(detail, hotspot);\n      ariaOwner.link(hotspot.element());\n\n      if (detail.matchWidth) {\n        matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n      }\n\n      detail.onOpen(anchor, component, menu);\n\n      if (extras !== undefined && extras.onOpen !== undefined) {\n        extras.onOpen(component, menu);\n      }\n    };\n\n    var onClose = function onClose(component, menu) {\n      ariaOwner.unlink(hotspot.element());\n\n      if (extras !== undefined && extras.onClose !== undefined) {\n        extras.onClose(component, menu);\n      }\n    };\n\n    var lazySink = getSink(hotspot, detail);\n    return {\n      dom: {\n        tag: 'div',\n        classes: detail.sandboxClasses,\n        attributes: {\n          id: ariaOwner.id(),\n          role: 'listbox'\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: hotspot\n        }\n      }), Sandboxing.config({\n        onOpen: onOpen,\n        onClose: onClose,\n        isPartOf: function isPartOf(container, data, queryElem) {\n          return _isPartOf(data, queryElem) || _isPartOf(hotspot, queryElem);\n        },\n        getAttachPoint: function getAttachPoint() {\n          return lazySink().getOrDie();\n        }\n      }), Composing.config({\n        find: function find(sandbox) {\n          return Sandboxing.getState(sandbox).bind(function (menu) {\n            return Composing.getCurrent(menu);\n          });\n        }\n      }), receivingConfig({\n        isExtraPart: constant(false)\n      })])\n    };\n  };\n\n  var setValueFromItem = function setValueFromItem(model, input, item) {\n    var itemData = Representing.getValue(item);\n    Representing.setValue(input, itemData);\n    setCursorAtEnd(input);\n  };\n\n  var setSelectionOn = function setSelectionOn(input, f) {\n    var el = input.element();\n    var value = get$5(el);\n    var node = el.dom();\n\n    if (get$2(el, 'type') !== 'number') {\n      f(node, value);\n    }\n  };\n\n  var setCursorAtEnd = function setCursorAtEnd(input) {\n    setSelectionOn(input, function (node, value) {\n      return node.setSelectionRange(value.length, value.length);\n    });\n  };\n\n  var setSelectionToEnd = function setSelectionToEnd(input, startOffset) {\n    setSelectionOn(input, function (node, value) {\n      return node.setSelectionRange(startOffset, value.length);\n    });\n  };\n\n  var attemptSelectOver = function attemptSelectOver(model, input, item) {\n    if (!model.selectsOver) {\n      return Option.none();\n    } else {\n      var currentValue = Representing.getValue(input);\n      var inputDisplay_1 = model.getDisplayText(currentValue);\n      var itemValue = Representing.getValue(item);\n      var itemDisplay = model.getDisplayText(itemValue);\n      return itemDisplay.indexOf(inputDisplay_1) === 0 ? Option.some(function () {\n        setValueFromItem(model, input, item);\n        setSelectionToEnd(input, inputDisplay_1.length);\n      }) : Option.none();\n    }\n  };\n\n  var schema$e = constant([option('data'), defaulted$1('inputAttributes', {}), defaulted$1('inputStyles', {}), defaulted$1('tag', 'input'), defaulted$1('inputClasses', []), onHandler('onSetValue'), defaulted$1('styles', {}), defaulted$1('eventOrder', {}), field$1('inputBehaviours', [Representing, Focusing]), defaulted$1('selectOnFocus', true)]);\n\n  var focusBehaviours = function focusBehaviours(detail) {\n    return derive$1([Focusing.config({\n      onFocus: detail.selectOnFocus === false ? noop : function (component) {\n        var input = component.element();\n        var value = get$5(input);\n        input.dom().setSelectionRange(0, value.length);\n      }\n    })]);\n  };\n\n  var behaviours = function behaviours(detail) {\n    return _assign({}, focusBehaviours(detail), augment(detail.inputBehaviours, [Representing.config({\n      store: {\n        mode: 'manual',\n        initialValue: detail.data.getOr(undefined),\n        getValue: function getValue(input) {\n          return get$5(input.element());\n        },\n        setValue: function setValue(input, data) {\n          var current = get$5(input.element());\n\n          if (current !== data) {\n            set$3(input.element(), data);\n          }\n        }\n      },\n      onSetValue: detail.onSetValue\n    })]));\n  };\n\n  var dom$2 = function dom$2(detail) {\n    return {\n      tag: detail.tag,\n      attributes: _assign({\n        type: 'text'\n      }, detail.inputAttributes),\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    };\n  };\n\n  var itemExecute = constant('alloy.typeahead.itemexecute');\n\n  var make$4 = function make$4(detail, components, spec, externals) {\n    var navigateList = function navigateList(comp, simulatedEvent, highlighter) {\n      detail.previewing.set(false);\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n\n      if (Sandboxing.isOpen(sandbox)) {\n        Composing.getCurrent(sandbox).each(function (menu) {\n          Highlighting.getHighlighted(menu).fold(function () {\n            highlighter(menu);\n          }, function () {\n            dispatchEvent(sandbox, menu.element(), 'keydown', simulatedEvent);\n          });\n        });\n      } else {\n        var onOpenSync = function onOpenSync(sandbox) {\n          Composing.getCurrent(sandbox).each(highlighter);\n        };\n\n        open$1(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      }\n    };\n\n    var focusBehaviours$1 = focusBehaviours(detail);\n\n    var mapFetch = function mapFetch(comp) {\n      return function (tdata) {\n        return tdata.map(function (data) {\n          var menus = values(data.menus);\n          var items = bind(menus, function (menu) {\n            return filter(menu.items, function (item) {\n              return item.type === 'item';\n            });\n          });\n          var repState = Representing.getState(comp);\n          repState.update(map(items, function (item) {\n            return item.data;\n          }));\n          return data;\n        });\n      };\n    };\n\n    var behaviours = [Focusing.config({}), Representing.config({\n      onSetValue: detail.onSetValue,\n      store: _assign({\n        mode: 'dataset',\n        getDataKey: function getDataKey(comp) {\n          return get$5(comp.element());\n        },\n        getFallbackEntry: function getFallbackEntry(itemString) {\n          return {\n            value: itemString,\n            meta: {}\n          };\n        },\n        setValue: function setValue(comp, data) {\n          set$3(comp.element(), detail.model.getDisplayText(data));\n        }\n      }, detail.initialData.map(function (d) {\n        return wrap$1('initialValue', d);\n      }).getOr({}))\n    }), Streaming.config({\n      stream: {\n        mode: 'throttle',\n        delay: detail.responseTime,\n        stopEvent: false\n      },\n      onStream: function onStream(component, simulatedEvent) {\n        var sandbox = Coupling.getCoupled(component, 'sandbox');\n        var focusInInput = Focusing.isFocused(component);\n\n        if (focusInInput) {\n          if (get$5(component.element()).length >= detail.minChars) {\n            var previousValue_1 = Composing.getCurrent(sandbox).bind(function (menu) {\n              return Highlighting.getHighlighted(menu).map(Representing.getValue);\n            });\n            detail.previewing.set(true);\n\n            var onOpenSync = function onOpenSync(_sandbox) {\n              Composing.getCurrent(sandbox).each(function (menu) {\n                previousValue_1.fold(function () {\n                  if (detail.model.selectsOver) {\n                    Highlighting.highlightFirst(menu);\n                  }\n                }, function (pv) {\n                  Highlighting.highlightBy(menu, function (item) {\n                    var itemData = Representing.getValue(item);\n                    return itemData.value === pv.value;\n                  });\n                  Highlighting.getHighlighted(menu).orThunk(function () {\n                    Highlighting.highlightFirst(menu);\n                    return Option.none();\n                  });\n                });\n              });\n            };\n\n            open$1(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        }\n      },\n      cancelEvent: typeaheadCancel()\n    }), Keying.config({\n      mode: 'special',\n      onDown: function onDown(comp, simulatedEvent) {\n        navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n        return Option.some(true);\n      },\n      onEscape: function onEscape(comp) {\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n\n        if (Sandboxing.isOpen(sandbox)) {\n          Sandboxing.close(sandbox);\n          return Option.some(true);\n        }\n\n        return Option.none();\n      },\n      onUp: function onUp(comp, simulatedEvent) {\n        navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n        return Option.some(true);\n      },\n      onEnter: function onEnter(comp) {\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n        var sandboxIsOpen = Sandboxing.isOpen(sandbox);\n\n        if (sandboxIsOpen && !detail.previewing.get()) {\n          return Composing.getCurrent(sandbox).bind(function (menu) {\n            return Highlighting.getHighlighted(menu);\n          }).map(function (item) {\n            emitWith(comp, itemExecute(), {\n              item: item\n            });\n            return true;\n          });\n        } else {\n          var currentValue = Representing.getValue(comp);\n          emit(comp, typeaheadCancel());\n          detail.onExecute(sandbox, comp, currentValue);\n\n          if (sandboxIsOpen) {\n            Sandboxing.close(sandbox);\n          }\n\n          return Option.some(true);\n        }\n      }\n    }), Toggling.config({\n      toggleClass: detail.markers.openClass,\n      aria: {\n        mode: 'expanded'\n      }\n    }), Coupling.config({\n      others: {\n        sandbox: function sandbox(hotspot) {\n          return makeSandbox(detail, hotspot, {\n            onOpen: function onOpen() {\n              return Toggling.on(hotspot);\n            },\n            onClose: function onClose() {\n              return Toggling.off(hotspot);\n            }\n          });\n        }\n      }\n    }), config('typeaheadevents', [runOnExecute(function (comp) {\n      var onOpenSync = noop;\n      togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n    }), run(itemExecute(), function (comp, se) {\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n      setValueFromItem(detail.model, comp, se.event().item());\n      emit(comp, typeaheadCancel());\n      detail.onItemExecute(comp, sandbox, se.event().item(), Representing.getValue(comp));\n      Sandboxing.close(sandbox);\n      setCursorAtEnd(comp);\n    })].concat(detail.dismissOnBlur ? [run(postBlur(), function (typeahead) {\n      var sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n\n      if (search$1(sandbox.element()).isNone()) {\n        Sandboxing.close(sandbox);\n      }\n    })] : []))];\n    return {\n      uid: detail.uid,\n      dom: dom$2(deepMerge(detail, {\n        inputAttributes: {\n          'role': 'combobox',\n          'aria-autocomplete': 'list',\n          'aria-haspopup': 'true'\n        }\n      })),\n      behaviours: _assign({}, focusBehaviours$1, augment(detail.typeaheadBehaviours, behaviours)),\n      eventOrder: detail.eventOrder\n    };\n  };\n\n  var sandboxFields = function sandboxFields() {\n    return [defaulted$1('sandboxClasses', []), SketchBehaviours.field('sandboxBehaviours', [Composing, Receiving, Sandboxing, Representing])];\n  };\n\n  var schema$f = constant([option('lazySink'), strict$1('fetch'), defaulted$1('minChars', 5), defaulted$1('responseTime', 1000), onHandler('onOpen'), defaulted$1('getHotspot', Option.some), defaulted$1('getAnchorOverrides', constant({})), defaulted$1('layouts', Option.none()), defaulted$1('eventOrder', {}), defaultedObjOf('model', {}, [defaulted$1('getDisplayText', function (itemData) {\n    return itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value;\n  }), defaulted$1('selectsOver', true), defaulted$1('populateFromBrowse', true)]), onHandler('onSetValue'), onKeyboardHandler('onExecute'), onHandler('onItemExecute'), defaulted$1('inputClasses', []), defaulted$1('inputAttributes', {}), defaulted$1('inputStyles', {}), defaulted$1('matchWidth', true), defaulted$1('useMinWidth', false), defaulted$1('dismissOnBlur', true), markers(['openClass']), option('initialData'), field$1('typeaheadBehaviours', [Focusing, Representing, Streaming, Keying, Toggling, Coupling]), state$1('previewing', function () {\n    return Cell(true);\n  })].concat(schema$e()).concat(sandboxFields()));\n  var parts$4 = constant([external$1({\n    schema: [tieredMenuMarkers()],\n    name: 'menu',\n    overrides: function overrides(detail) {\n      return {\n        fakeFocus: true,\n        onHighlight: function onHighlight(menu, item) {\n          if (!detail.previewing.get()) {\n            menu.getSystem().getByUid(detail.uid).each(function (input) {\n              if (detail.model.populateFromBrowse) {\n                setValueFromItem(detail.model, input, item);\n              }\n            });\n          } else {\n            menu.getSystem().getByUid(detail.uid).each(function (input) {\n              attemptSelectOver(detail.model, input, item).fold(function () {\n                return Highlighting.dehighlight(menu, item);\n              }, function (fn) {\n                return fn();\n              });\n            });\n          }\n\n          detail.previewing.set(false);\n        },\n        onExecute: function onExecute(menu, item) {\n          return menu.getSystem().getByUid(detail.uid).toOption().map(function (typeahead) {\n            emitWith(typeahead, itemExecute(), {\n              item: item\n            });\n            return true;\n          });\n        },\n        onHover: function onHover(menu, item) {\n          detail.previewing.set(false);\n          menu.getSystem().getByUid(detail.uid).each(function (input) {\n            if (detail.model.populateFromBrowse) {\n              setValueFromItem(detail.model, input, item);\n            }\n          });\n        }\n      };\n    }\n  })]);\n  var Typeahead = composite$1({\n    name: 'Typeahead',\n    configFields: schema$f(),\n    partFields: parts$4(),\n    factory: make$4\n  });\n\n  var renderFormFieldWith = function renderFormFieldWith(pLabel, pField, extraClasses, extraBehaviours) {\n    var spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n    return FormField.sketch(spec);\n  };\n\n  var renderFormField = function renderFormField(pLabel, pField) {\n    return renderFormFieldWith(pLabel, pField, [], []);\n  };\n\n  var renderFormFieldSpecWith = function renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours) {\n    return {\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    };\n  };\n\n  var renderFormFieldDom = function renderFormFieldDom() {\n    return renderFormFieldDomWith([]);\n  };\n\n  var renderFormFieldDomWith = function renderFormFieldDomWith(extraClasses) {\n    return {\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    };\n  };\n\n  var renderLabel = function renderLabel(label, providersBackstage) {\n    return FormField.parts().label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label'],\n        innerHtml: providersBackstage.translate(label)\n      }\n    });\n  };\n\n  var isMenuItemReference = function isMenuItemReference(item) {\n    return isString(item);\n  };\n\n  var isSeparator = function isSeparator(item) {\n    return item.type === 'separator';\n  };\n\n  var isExpandingMenuItem = function isExpandingMenuItem(item) {\n    return has(item, 'getSubmenuItems');\n  };\n\n  var separator$1 = {\n    type: 'separator'\n  };\n\n  var unwrapReferences = function unwrapReferences(items, menuItems) {\n    var realItems = foldl(items, function (acc, item) {\n      if (isMenuItemReference(item)) {\n        if (item === '') {\n          return acc;\n        } else if (item === '|') {\n          return acc.length > 0 && !isSeparator(acc[acc.length - 1]) ? acc.concat([separator$1]) : acc;\n        } else if (has(menuItems, item.toLowerCase())) {\n          return acc.concat([menuItems[item.toLowerCase()]]);\n        } else {\n          return acc;\n        }\n      } else {\n        return acc.concat([item]);\n      }\n    }, []);\n\n    if (realItems.length > 0 && isSeparator(realItems[realItems.length - 1])) {\n      realItems.pop();\n    }\n\n    return realItems;\n  };\n\n  var getFromExpandingItem = function getFromExpandingItem(item, menuItems) {\n    var submenuItems = item.getSubmenuItems();\n    var rest = expand(submenuItems, menuItems);\n    var newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n    var newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n    return {\n      item: item,\n      menus: newMenus,\n      expansions: newExpansions\n    };\n  };\n\n  var getFromItem = function getFromItem(item, menuItems) {\n    return isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n      item: item,\n      menus: {},\n      expansions: {}\n    };\n  };\n\n  var generateValueIfRequired = function generateValueIfRequired(item) {\n    if (isSeparator(item)) {\n      return item;\n    } else {\n      var itemValue = readOptFrom$1(item, 'value').getOrThunk(function () {\n        return generate$1('generated-menu-item');\n      });\n      return deepMerge({\n        value: itemValue\n      }, item);\n    }\n  };\n\n  var expand = function expand(items, menuItems) {\n    var realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n    return foldr(realItems, function (acc, item) {\n      var itemWithValue = generateValueIfRequired(item);\n      var newData = getFromItem(itemWithValue, menuItems);\n      return {\n        menus: deepMerge(acc.menus, newData.menus),\n        items: [newData.item].concat(acc.items),\n        expansions: deepMerge(acc.expansions, newData.expansions)\n      };\n    }, {\n      menus: {},\n      expansions: {},\n      items: []\n    });\n  };\n\n  var build$2 = function build$2(items, itemResponse, backstage) {\n    var primary = generate$1('primary-menu');\n    var data = expand(items, backstage.shared.providers.menuItems());\n\n    if (data.items.length === 0) {\n      return Option.none();\n    }\n\n    var mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage);\n    var submenus = map$1(data.menus, function (menuItems, menuName) {\n      return createPartialMenu(menuName, menuItems, itemResponse, backstage);\n    });\n    var menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n    return Option.from(tieredMenu.tieredData(primary, menus, data.expansions));\n  };\n\n  var renderAutocomplete = function renderAutocomplete(spec, backstage) {\n    var pLabel = renderLabel(spec.label.getOr('?'), backstage.shared.providers);\n    var pField = FormField.parts().field({\n      factory: Typeahead,\n      dismissOnBlur: false,\n      inputClasses: ['tox-textfield'],\n      minChars: 1,\n      fetch: function fetch(input) {\n        var value = Representing.getValue(input);\n        var items = spec.getItems(value);\n        var tdata = build$2(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage);\n        return Future.pure(tdata);\n      },\n      markers: {\n        openClass: 'dog'\n      },\n      lazySink: backstage.shared.getSink,\n      parts: {\n        menu: part(false, 1, 'normal')\n      }\n    });\n    return renderFormField(Option.some(pLabel), pField);\n  };\n\n  var renderBar = function renderBar(spec, backstage) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-bar', 'tox-form__controls-h-stack']\n      },\n      components: map(spec.items, backstage.interpreter)\n    };\n  };\n\n  var factory$5 = function factory$5(detail, spec) {\n    return {\n      uid: detail.uid,\n      dom: dom$2(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    };\n  };\n\n  var Input = single$2({\n    name: 'Input',\n    configFields: schema$e(),\n    factory: factory$5\n  });\n  var ariaElements = ['input', 'textarea'];\n\n  var isAriaElement = function isAriaElement(elem) {\n    var name$1 = name(elem);\n    return contains(ariaElements, name$1);\n  };\n\n  var markValid = function markValid(component, invalidConfig) {\n    var elem = invalidConfig.getRoot(component).getOr(component.element());\n    remove$4(elem, invalidConfig.invalidClass);\n    invalidConfig.notify.each(function (notifyInfo) {\n      if (isAriaElement(component.element())) {\n        set$1(component.element(), 'aria-invalid', false);\n      }\n\n      notifyInfo.getContainer(component).each(function (container) {\n        set(container, notifyInfo.validHtml);\n      });\n      notifyInfo.onValid(component);\n    });\n  };\n\n  var markInvalid = function markInvalid(component, invalidConfig, invalidState, text) {\n    var elem = invalidConfig.getRoot(component).getOr(component.element());\n    add$2(elem, invalidConfig.invalidClass);\n    invalidConfig.notify.each(function (notifyInfo) {\n      if (isAriaElement(component.element())) {\n        set$1(component.element(), 'aria-invalid', true);\n      }\n\n      notifyInfo.getContainer(component).each(function (container) {\n        set(container, text);\n      });\n      notifyInfo.onInvalid(component, text);\n    });\n  };\n\n  var query = function query(component, invalidConfig, invalidState) {\n    return invalidConfig.validator.fold(function () {\n      return Future.pure(Result.value(true));\n    }, function (validatorInfo) {\n      return validatorInfo.validate(component);\n    });\n  };\n\n  var run$1 = function run$1(component, invalidConfig, invalidState) {\n    invalidConfig.notify.each(function (notifyInfo) {\n      notifyInfo.onValidate(component);\n    });\n    return query(component, invalidConfig).map(function (valid) {\n      if (component.getSystem().isConnected()) {\n        return valid.fold(function (err) {\n          markInvalid(component, invalidConfig, invalidState, err);\n          return Result.error(err);\n        }, function (v) {\n          markValid(component, invalidConfig);\n          return Result.value(v);\n        });\n      } else {\n        return Result.error('No longer in system');\n      }\n    });\n  };\n\n  var isInvalid = function isInvalid(component, invalidConfig) {\n    var elem = invalidConfig.getRoot(component).getOr(component.element());\n    return has$2(elem, invalidConfig.invalidClass);\n  };\n\n  var InvalidateApis =\n  /*#__PURE__*/\n  Object.freeze({\n    markValid: markValid,\n    markInvalid: markInvalid,\n    query: query,\n    run: run$1,\n    isInvalid: isInvalid\n  });\n\n  var events$b = function events$b(invalidConfig, invalidState) {\n    return invalidConfig.validator.map(function (validatorInfo) {\n      return derive([run(validatorInfo.onEvent, function (component) {\n        run$1(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(function (component) {\n        run$1(component, invalidConfig, invalidState).get(noop);\n      })] : []));\n    }).getOr({});\n  };\n\n  var ActiveInvalidate =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$b\n  });\n  var InvalidateSchema = [strict$1('invalidClass'), defaulted$1('getRoot', Option.none), optionObjOf('notify', [defaulted$1('aria', 'alert'), defaulted$1('getContainer', Option.none), defaulted$1('validHtml', ''), onHandler('onValid'), onHandler('onInvalid'), onHandler('onValidate')]), optionObjOf('validator', [strict$1('validate'), defaulted$1('onEvent', 'input'), defaulted$1('validateOnLoad', true)])];\n  var Invalidating = create$1({\n    fields: InvalidateSchema,\n    name: 'invalidating',\n    active: ActiveInvalidate,\n    apis: InvalidateApis,\n    extra: {\n      validation: function validation(validator) {\n        return function (component) {\n          var v = Representing.getValue(component);\n          return Future.pure(validator(v));\n        };\n      }\n    }\n  });\n\n  var exhibit$4 = function exhibit$4(base, tabConfig) {\n    return nu$6({\n      attributes: wrapAll$1([{\n        key: tabConfig.tabAttr,\n        value: 'true'\n      }])\n    });\n  };\n\n  var ActiveTabstopping =\n  /*#__PURE__*/\n  Object.freeze({\n    exhibit: exhibit$4\n  });\n  var TabstopSchema = [defaulted$1('tabAttr', 'data-alloy-tabstop')];\n  var Tabstopping = create$1({\n    fields: TabstopSchema,\n    name: 'tabstopping',\n    active: ActiveTabstopping\n  });\n  var schema$g = constant([strict$1('dom'), strict$1('fetch'), onHandler('onOpen'), onKeyboardHandler('onExecute'), defaulted$1('getHotspot', Option.some), defaulted$1('getAnchorOverrides', constant({})), defaulted$1('layouts', Option.none()), field$1('dropdownBehaviours', [Toggling, Coupling, Keying, Focusing]), strict$1('toggleClass'), defaulted$1('eventOrder', {}), option('lazySink'), defaulted$1('matchWidth', false), defaulted$1('useMinWidth', false), option('role')].concat(sandboxFields()));\n  var parts$5 = constant([external$1({\n    schema: [tieredMenuMarkers()],\n    name: 'menu',\n    defaults: function defaults(detail) {\n      return {\n        onExecute: detail.onExecute\n      };\n    }\n  }), partType()]);\n\n  var factory$6 = function factory$6(detail, components, _spec, externals) {\n    var _a;\n\n    var lookupAttr = function lookupAttr(attr) {\n      return readOptFrom$1(detail.dom, 'attributes').bind(function (attrs) {\n        return readOptFrom$1(attrs, attr);\n      });\n    };\n\n    var switchToMenu = function switchToMenu(sandbox) {\n      Sandboxing.getState(sandbox).each(function (tmenu) {\n        tieredMenu.highlightPrimary(tmenu);\n      });\n    };\n\n    var action = function action(component) {\n      var onOpenSync = switchToMenu;\n      togglePopup(detail, function (x) {\n        return x;\n      }, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n    };\n\n    var apis = {\n      expand: function expand(comp) {\n        if (!Toggling.isOn(comp)) {\n          togglePopup(detail, function (x) {\n            return x;\n          }, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n        }\n      },\n      open: function open(comp) {\n        if (!Toggling.isOn(comp)) {\n          togglePopup(detail, function (x) {\n            return x;\n          }, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      },\n      isOpen: Toggling.isOn,\n      close: function close(comp) {\n        if (Toggling.isOn(comp)) {\n          togglePopup(detail, function (x) {\n            return x;\n          }, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      }\n    };\n\n    var triggerExecute = function triggerExecute(comp, se) {\n      emitExecute(comp);\n      return Option.some(true);\n    };\n\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: augment(detail.dropdownBehaviours, [Toggling.config({\n        toggleClass: detail.toggleClass,\n        aria: {\n          mode: 'expanded'\n        }\n      }), Coupling.config({\n        others: {\n          sandbox: function sandbox(hotspot) {\n            return makeSandbox(detail, hotspot, {\n              onOpen: function onOpen() {\n                Toggling.on(hotspot);\n              },\n              onClose: function onClose() {\n                Toggling.off(hotspot);\n              }\n            });\n          }\n        }\n      }), Keying.config({\n        mode: 'special',\n        onSpace: triggerExecute,\n        onEnter: triggerExecute,\n        onDown: function onDown(comp, se) {\n          if (Dropdown.isOpen(comp)) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            switchToMenu(sandbox);\n          } else {\n            Dropdown.open(comp);\n          }\n\n          return Option.some(true);\n        },\n        onEscape: function onEscape(comp, se) {\n          if (Dropdown.isOpen(comp)) {\n            Dropdown.close(comp);\n            return Option.some(true);\n          } else {\n            return Option.none();\n          }\n        }\n      }), Focusing.config({})]),\n      events: events$7(Option.some(action)),\n      eventOrder: _assign({}, detail.eventOrder, (_a = {}, _a[execute()] = ['disabling', 'toggling', 'alloy.base.behaviour'], _a)),\n      apis: apis,\n      domModification: {\n        attributes: _assign({\n          'aria-haspopup': 'true'\n        }, detail.role.fold(function () {\n          return {};\n        }, function (role) {\n          return {\n            role: role\n          };\n        }), detail.dom.tag === 'button' ? {\n          type: lookupAttr('type').getOr('button')\n        } : {})\n      }\n    };\n  };\n\n  var Dropdown = composite$1({\n    name: 'Dropdown',\n    configFields: schema$g(),\n    partFields: parts$5(),\n    factory: factory$6,\n    apis: {\n      open: function open(apis, comp) {\n        return apis.open(comp);\n      },\n      expand: function expand(apis, comp) {\n        return apis.expand(comp);\n      },\n      close: function close(apis, comp) {\n        return apis.close(comp);\n      },\n      isOpen: function isOpen(apis, comp) {\n        return apis.isOpen(comp);\n      }\n    }\n  });\n\n  var exhibit$5 = function exhibit$5(base, unselectConfig) {\n    return nu$6({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: {\n        unselectable: 'on'\n      }\n    });\n  };\n\n  var events$c = function events$c(unselectConfig) {\n    return derive([abort(selectstart(), constant(true))]);\n  };\n\n  var ActiveUnselecting =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$c,\n    exhibit: exhibit$5\n  });\n  var Unselecting = create$1({\n    fields: [],\n    name: 'unselecting',\n    active: ActiveUnselecting\n  });\n\n  var renderPanelButton = function renderPanelButton(spec, sharedBackstage) {\n    return Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([Unselecting.config({}), Tabstopping.config({})]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: function fetch(comp) {\n        return Future.nu(function (callback) {\n          return spec.fetch(callback);\n        }).map(function (items) {\n          return Option.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$1('menu-value'), items, function (value) {\n            spec.onItemAction(comp, value);\n          }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, function () {\n            return false;\n          }, sharedBackstage.providers), {\n            movement: deriveMenuMovement(spec.columns, spec.presets)\n          })));\n        });\n      },\n      parts: {\n        menu: part(false, 1, spec.presets)\n      }\n    });\n  };\n\n  var colorInputChangeEvent = generate$1('color-input-change');\n  var colorSwatchChangeEvent = generate$1('color-swatch-change');\n  var colorPickerCancelEvent = generate$1('color-picker-cancel');\n\n  var renderColorInput = function renderColorInput(spec, sharedBackstage, colorInputBackstage) {\n    var pField = FormField.parts().field({\n      factory: Input,\n      inputClasses: ['tox-textfield'],\n      onSetValue: function onSetValue(c) {\n        return Invalidating.run(c).get(function () {});\n      },\n      inputBehaviours: derive$1([Tabstopping.config({}), Invalidating.config({\n        invalidClass: 'tox-textbox-field-invalid',\n        getRoot: function getRoot(comp) {\n          return parent(comp.element());\n        },\n        notify: {\n          onValid: function onValid(comp) {\n            var val = Representing.getValue(comp);\n            emitWith(comp, colorInputChangeEvent, {\n              color: val\n            });\n          }\n        },\n        validator: {\n          validateOnLoad: false,\n          validate: function validate(input) {\n            var inputValue = Representing.getValue(input);\n\n            if (inputValue.length === 0) {\n              return Future.pure(Result.value(true));\n            } else {\n              var span = Element.fromTag('span');\n              set$2(span, 'background-color', inputValue);\n              var res = getRaw(span, 'background-color').fold(function () {\n                return Result.error('blah');\n              }, function (_) {\n                return Result.value(inputValue);\n              });\n              return Future.pure(res);\n            }\n          }\n        }\n      })]),\n      selectOnFocus: false\n    });\n    var pLabel = spec.label.map(function (label) {\n      return renderLabel(label, sharedBackstage.providers);\n    });\n\n    var emitSwatchChange = function emitSwatchChange(colorBit, value) {\n      emitWith(colorBit, colorSwatchChangeEvent, {\n        value: value\n      });\n    };\n\n    var onItemAction = function onItemAction(comp, value) {\n      memColorButton.getOpt(comp).each(function (colorBit) {\n        if (value === 'custom') {\n          colorInputBackstage.colorPicker(function (valueOpt) {\n            valueOpt.fold(function () {\n              return emit(colorBit, colorPickerCancelEvent);\n            }, function (value) {\n              emitSwatchChange(colorBit, value);\n              Settings.addColor(value);\n            });\n          }, '#ffffff');\n        } else if (value === 'remove') {\n          emitSwatchChange(colorBit, '');\n        } else {\n          emitSwatchChange(colorBit, value);\n        }\n      });\n    };\n\n    var memColorButton = record(renderPanelButton({\n      dom: {\n        tag: 'span',\n        attributes: {\n          'aria-label': sharedBackstage.providers.translate('Color swatch')\n        }\n      },\n      layouts: Option.some({\n        onRtl: function onRtl() {\n          return [southeast$1];\n        },\n        onLtr: function onLtr() {\n          return [southwest$1];\n        }\n      }),\n      components: [],\n      fetch: ColorSwatch.getFetch(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n      columns: colorInputBackstage.getColorCols(),\n      presets: 'color',\n      onItemAction: onItemAction\n    }, sharedBackstage));\n    return FormField.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-form__group']\n      },\n      components: pLabel.toArray().concat([{\n        dom: {\n          tag: 'div',\n          classes: ['tox-color-input']\n        },\n        components: [pField, memColorButton.asSpec()]\n      }]),\n      fieldBehaviours: derive$1([config('form-field-events', [run(colorInputChangeEvent, function (comp, se) {\n        memColorButton.getOpt(comp).each(function (colorButton) {\n          set$2(colorButton.element(), 'background-color', se.event().color());\n        });\n        emitWith(comp, formChangeEvent, {\n          name: spec.name\n        });\n      }), run(colorSwatchChangeEvent, function (comp, se) {\n        FormField.getField(comp).each(function (field) {\n          Representing.setValue(field, se.event().value());\n          Composing.getCurrent(comp).each(Focusing.focus);\n        });\n      }), run(colorPickerCancelEvent, function (comp, se) {\n        FormField.getField(comp).each(function (field) {\n          Composing.getCurrent(comp).each(Focusing.focus);\n        });\n      })])])\n    });\n  };\n\n  var hsvColour = function hsvColour(hue, saturation, value) {\n    return {\n      hue: constant(hue),\n      saturation: constant(saturation),\n      value: constant(value)\n    };\n  };\n\n  var fromRgb = function fromRgb(rgbaColour) {\n    var h = 0;\n    var s = 0;\n    var v = 0;\n    var r = rgbaColour.red() / 255;\n    var g = rgbaColour.green() / 255;\n    var b = rgbaColour.blue() / 255;\n    var minRGB = Math.min(r, Math.min(g, b));\n    var maxRGB = Math.max(r, Math.max(g, b));\n\n    if (minRGB === maxRGB) {\n      v = minRGB;\n      return hsvColour(0, 0, v * 100);\n    }\n\n    var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n    h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n    h = 60 * (h - d / (maxRGB - minRGB));\n    s = (maxRGB - minRGB) / maxRGB;\n    v = maxRGB;\n    return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n  };\n\n  var calcHex = function calcHex(value) {\n    var hue = (100 - value) / 100 * 360;\n    var hsv = hsvColour(hue, 100, 100);\n    var rgb = fromHsv(hsv);\n    return fromRgba(rgb);\n  };\n\n  var fieldsUpdate = constant(generate$1('rgb-hex-update'));\n  var sliderUpdate = constant(generate$1('slider-update'));\n  var paletteUpdate = constant(generate$1('palette-update'));\n  var platform = PlatformDetection$1.detect();\n  var isTouch = platform.deviceType.isTouch();\n  var labelPart = optional({\n    schema: [strict$1('dom')],\n    name: 'label'\n  });\n\n  var edgePart = function edgePart(name) {\n    return optional({\n      name: '' + name + '-edge',\n      overrides: function overrides(detail) {\n        var action = detail.model.manager.edgeActions[name];\n        return action.fold(function () {\n          return {};\n        }, function (a) {\n          var touchEvents = derive([runActionExtra(touchstart(), a, [detail])]);\n          var mouseEvents = derive([runActionExtra(mousedown(), a, [detail]), runActionExtra(mousemove(), function (l, det) {\n            if (det.mouseIsDown.get()) {\n              a(l, det);\n            }\n          }, [detail])]);\n          return {\n            events: isTouch ? touchEvents : mouseEvents\n          };\n        });\n      }\n    });\n  };\n\n  var tlEdgePart = edgePart('top-left');\n  var tedgePart = edgePart('top');\n  var trEdgePart = edgePart('top-right');\n  var redgePart = edgePart('right');\n  var brEdgePart = edgePart('bottom-right');\n  var bedgePart = edgePart('bottom');\n  var blEdgePart = edgePart('bottom-left');\n  var ledgePart = edgePart('left');\n  var thumbPart = required({\n    name: 'thumb',\n    defaults: constant({\n      dom: {\n        styles: {\n          position: 'absolute'\n        }\n      }\n    }),\n    overrides: function overrides(detail) {\n      return {\n        events: derive([redirectToPart(touchstart(), detail, 'spectrum'), redirectToPart(touchmove(), detail, 'spectrum'), redirectToPart(touchend(), detail, 'spectrum'), redirectToPart(mousedown(), detail, 'spectrum'), redirectToPart(mousemove(), detail, 'spectrum'), redirectToPart(mouseup(), detail, 'spectrum')])\n      };\n    }\n  });\n  var spectrumPart = required({\n    schema: [state$1('mouseIsDown', function () {\n      return Cell(false);\n    })],\n    name: 'spectrum',\n    overrides: function overrides(detail) {\n      var modelDetail = detail.model;\n      var model = modelDetail.manager;\n\n      var setValueFrom = function setValueFrom(component, simulatedEvent) {\n        return model.getValueFromEvent(simulatedEvent).map(function (value) {\n          return model.setValueFrom(component, detail, value);\n        });\n      };\n\n      var touchEvents = derive([run(touchstart(), setValueFrom), run(touchmove(), setValueFrom)]);\n      var mouseEvents = derive([run(mousedown(), setValueFrom), run(mousemove(), function (spectrum, se) {\n        if (detail.mouseIsDown.get()) {\n          setValueFrom(spectrum, se);\n        }\n      })]);\n      return {\n        behaviours: derive$1(isTouch ? [] : [Keying.config({\n          mode: 'special',\n          onLeft: function onLeft(spectrum) {\n            return model.onLeft(spectrum, detail);\n          },\n          onRight: function onRight(spectrum) {\n            return model.onRight(spectrum, detail);\n          },\n          onUp: function onUp(spectrum) {\n            return model.onUp(spectrum, detail);\n          },\n          onDown: function onDown(spectrum) {\n            return model.onDown(spectrum, detail);\n          }\n        }), Focusing.config({})]),\n        events: isTouch ? touchEvents : mouseEvents\n      };\n    }\n  });\n  var SliderParts = [labelPart, ledgePart, redgePart, tedgePart, bedgePart, tlEdgePart, trEdgePart, blEdgePart, brEdgePart, thumbPart, spectrumPart];\n  var isTouch$1 = PlatformDetection$1.detect().deviceType.isTouch();\n  var _sliderChangeEvent = 'slider.change.value';\n  var sliderChangeEvent = constant(_sliderChangeEvent);\n\n  var getEventSource = function getEventSource(simulatedEvent) {\n    var evt = simulatedEvent.event().raw();\n\n    if (isTouch$1) {\n      var touchEvent = evt;\n      return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Option.some(touchEvent.touches[0]).map(function (t) {\n        return Position(t.clientX, t.clientY);\n      }) : Option.none();\n    } else {\n      var mouseEvent = evt;\n      return mouseEvent.clientX !== undefined ? Option.some(mouseEvent).map(function (me) {\n        return Position(me.clientX, me.clientY);\n      }) : Option.none();\n    }\n  };\n\n  var t = 'top',\n      r$1 = 'right',\n      b = 'bottom',\n      l = 'left';\n\n  var minX = function minX(detail) {\n    return detail.model.minX;\n  };\n\n  var minY = function minY(detail) {\n    return detail.model.minY;\n  };\n\n  var min1X = function min1X(detail) {\n    return detail.model.minX - 1;\n  };\n\n  var min1Y = function min1Y(detail) {\n    return detail.model.minY - 1;\n  };\n\n  var maxX = function maxX(detail) {\n    return detail.model.maxX;\n  };\n\n  var maxY = function maxY(detail) {\n    return detail.model.maxY;\n  };\n\n  var max1X = function max1X(detail) {\n    return detail.model.maxX + 1;\n  };\n\n  var max1Y = function max1Y(detail) {\n    return detail.model.maxY + 1;\n  };\n\n  var range$2 = function range$2(detail, max, min) {\n    return max(detail) - min(detail);\n  };\n\n  var xRange = function xRange(detail) {\n    return range$2(detail, maxX, minX);\n  };\n\n  var yRange = function yRange(detail) {\n    return range$2(detail, maxY, minY);\n  };\n\n  var halfX = function halfX(detail) {\n    return xRange(detail) / 2;\n  };\n\n  var halfY = function halfY(detail) {\n    return yRange(detail) / 2;\n  };\n\n  var step = function step(detail) {\n    return detail.stepSize;\n  };\n\n  var snap = function snap(detail) {\n    return detail.snapToGrid;\n  };\n\n  var snapStart = function snapStart(detail) {\n    return detail.snapStart;\n  };\n\n  var rounded = function rounded(detail) {\n    return detail.rounded;\n  };\n\n  var hasEdge = function hasEdge(detail, edgeName) {\n    return detail[edgeName + '-edge'] !== undefined;\n  };\n\n  var hasLEdge = function hasLEdge(detail) {\n    return hasEdge(detail, l);\n  };\n\n  var hasREdge = function hasREdge(detail) {\n    return hasEdge(detail, r$1);\n  };\n\n  var hasTEdge = function hasTEdge(detail) {\n    return hasEdge(detail, t);\n  };\n\n  var hasBEdge = function hasBEdge(detail) {\n    return hasEdge(detail, b);\n  };\n\n  var currentValue = function currentValue(detail) {\n    return detail.model.value.get();\n  };\n\n  var xValue = function xValue(x) {\n    return {\n      x: constant(x)\n    };\n  };\n\n  var yValue = function yValue(y) {\n    return {\n      y: constant(y)\n    };\n  };\n\n  var xyValue = function xyValue(x, y) {\n    return {\n      x: constant(x),\n      y: constant(y)\n    };\n  };\n\n  var fireSliderChange = function fireSliderChange(component, value) {\n    emitWith(component, sliderChangeEvent(), {\n      value: value\n    });\n  };\n\n  var setToTLEdgeXY = function setToTLEdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(min1X(detail), min1Y(detail)));\n  };\n\n  var setToTEdge = function setToTEdge(edge, detail) {\n    fireSliderChange(edge, yValue(min1Y(detail)));\n  };\n\n  var setToTEdgeXY = function setToTEdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(halfX(detail), min1Y(detail)));\n  };\n\n  var setToTREdgeXY = function setToTREdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(max1X(detail), min1Y(detail)));\n  };\n\n  var setToREdge = function setToREdge(edge, detail) {\n    fireSliderChange(edge, xValue(max1X(detail)));\n  };\n\n  var setToREdgeXY = function setToREdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(max1X(detail), halfY(detail)));\n  };\n\n  var setToBREdgeXY = function setToBREdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(max1X(detail), max1Y(detail)));\n  };\n\n  var setToBEdge = function setToBEdge(edge, detail) {\n    fireSliderChange(edge, yValue(max1Y(detail)));\n  };\n\n  var setToBEdgeXY = function setToBEdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(halfX(detail), max1Y(detail)));\n  };\n\n  var setToBLEdgeXY = function setToBLEdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(min1X(detail), max1Y(detail)));\n  };\n\n  var setToLEdge = function setToLEdge(edge, detail) {\n    fireSliderChange(edge, xValue(min1X(detail)));\n  };\n\n  var setToLEdgeXY = function setToLEdgeXY(edge, detail) {\n    fireSliderChange(edge, xyValue(min1X(detail), halfY(detail)));\n  };\n\n  var reduceBy = function reduceBy(value, min, max, step) {\n    if (value < min) {\n      return value;\n    } else if (value > max) {\n      return max;\n    } else if (value === min) {\n      return min - 1;\n    } else {\n      return Math.max(min, value - step);\n    }\n  };\n\n  var increaseBy = function increaseBy(value, min, max, step) {\n    if (value > max) {\n      return value;\n    } else if (value < min) {\n      return min;\n    } else if (value === max) {\n      return max + 1;\n    } else {\n      return Math.min(max, value + step);\n    }\n  };\n\n  var capValue = function capValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n  };\n\n  var snapValueOf = function snapValueOf(value, min, max, step, snapStart) {\n    return snapStart.fold(function () {\n      var initValue = value - min;\n      var extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, function (start) {\n      var remainder = (value - start) % step;\n      var adjustment = Math.round(remainder / step);\n      var rawSteps = Math.floor((value - start) / step);\n      var maxSteps = Math.floor((max - start) / step);\n      var numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      var r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n  };\n\n  var findOffsetOf = function findOffsetOf(value, min, max) {\n    return Math.min(max, Math.max(value, min)) - min;\n  };\n\n  var findValueOf = function findValueOf(args) {\n    var min = args.min,\n        max = args.max,\n        range = args.range,\n        value = args.value,\n        step = args.step,\n        snap = args.snap,\n        snapStart = args.snapStart,\n        rounded = args.rounded,\n        hasMinEdge = args.hasMinEdge,\n        hasMaxEdge = args.hasMaxEdge,\n        minBound = args.minBound,\n        maxBound = args.maxBound,\n        screenRange = args.screenRange;\n    var capMin = hasMinEdge ? min - 1 : min;\n    var capMax = hasMaxEdge ? max + 1 : max;\n\n    if (value < minBound) {\n      return capMin;\n    } else if (value > maxBound) {\n      return capMax;\n    } else {\n      var offset = findOffsetOf(value, minBound, maxBound);\n      var newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n\n      if (snap && newValue >= min && newValue <= max) {\n        return snapValueOf(newValue, min, max, step, snapStart);\n      } else if (rounded) {\n        return Math.round(newValue);\n      } else {\n        return newValue;\n      }\n    }\n  };\n\n  var findOffsetOfValue = function findOffsetOfValue(args) {\n    var min = args.min,\n        max = args.max,\n        range = args.range,\n        value = args.value,\n        hasMinEdge = args.hasMinEdge,\n        hasMaxEdge = args.hasMaxEdge,\n        maxBound = args.maxBound,\n        maxOffset = args.maxOffset,\n        centerMinEdge = args.centerMinEdge,\n        centerMaxEdge = args.centerMaxEdge;\n\n    if (value < min) {\n      return hasMinEdge ? 0 : centerMinEdge;\n    } else if (value > max) {\n      return hasMaxEdge ? maxBound : centerMaxEdge;\n    } else {\n      return (value - min) / range * maxOffset;\n    }\n  };\n\n  var top = 'top',\n      right = 'right',\n      bottom = 'bottom',\n      left = 'left',\n      width = 'width',\n      height = 'height';\n\n  var getBounds = function getBounds(component) {\n    return component.element().dom().getBoundingClientRect();\n  };\n\n  var getBoundsProperty = function getBoundsProperty(bounds, property) {\n    return bounds[property];\n  };\n\n  var getMinXBounds = function getMinXBounds(component) {\n    var bounds = getBounds(component);\n    return getBoundsProperty(bounds, left);\n  };\n\n  var getMaxXBounds = function getMaxXBounds(component) {\n    var bounds = getBounds(component);\n    return getBoundsProperty(bounds, right);\n  };\n\n  var getMinYBounds = function getMinYBounds(component) {\n    var bounds = getBounds(component);\n    return getBoundsProperty(bounds, top);\n  };\n\n  var getMaxYBounds = function getMaxYBounds(component) {\n    var bounds = getBounds(component);\n    return getBoundsProperty(bounds, bottom);\n  };\n\n  var getXScreenRange = function getXScreenRange(component) {\n    var bounds = getBounds(component);\n    return getBoundsProperty(bounds, width);\n  };\n\n  var getYScreenRange = function getYScreenRange(component) {\n    var bounds = getBounds(component);\n    return getBoundsProperty(bounds, height);\n  };\n\n  var getCenterOffsetOf = function getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge) {\n    return (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n  };\n\n  var getXCenterOffSetOf = function getXCenterOffSetOf(component, spectrum) {\n    var componentBounds = getBounds(component);\n    var spectrumBounds = getBounds(spectrum);\n    var componentMinEdge = getBoundsProperty(componentBounds, left);\n    var componentMaxEdge = getBoundsProperty(componentBounds, right);\n    var spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n    return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n  };\n\n  var getYCenterOffSetOf = function getYCenterOffSetOf(component, spectrum) {\n    var componentBounds = getBounds(component);\n    var spectrumBounds = getBounds(spectrum);\n    var componentMinEdge = getBoundsProperty(componentBounds, top);\n    var componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n    var spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n    return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n  };\n\n  var fireSliderChange$1 = function fireSliderChange$1(spectrum, value) {\n    emitWith(spectrum, sliderChangeEvent(), {\n      value: value\n    });\n  };\n\n  var sliderValue = function sliderValue(x) {\n    return {\n      x: constant(x)\n    };\n  };\n\n  var findValueOfOffset = function findValueOfOffset(spectrum, detail, left) {\n    var args = {\n      min: minX(detail),\n      max: maxX(detail),\n      range: xRange(detail),\n      value: left,\n      step: step(detail),\n      snap: snap(detail),\n      snapStart: snapStart(detail),\n      rounded: rounded(detail),\n      hasMinEdge: hasLEdge(detail),\n      hasMaxEdge: hasREdge(detail),\n      minBound: getMinXBounds(spectrum),\n      maxBound: getMaxXBounds(spectrum),\n      screenRange: getXScreenRange(spectrum)\n    };\n    return findValueOf(args);\n  };\n\n  var setValueFrom = function setValueFrom(spectrum, detail, value) {\n    var xValue = findValueOfOffset(spectrum, detail, value);\n    var sliderVal = sliderValue(xValue);\n    fireSliderChange$1(spectrum, sliderVal);\n    return xValue;\n  };\n\n  var setToMin = function setToMin(spectrum, detail) {\n    var min = minX(detail);\n    fireSliderChange$1(spectrum, sliderValue(min));\n  };\n\n  var setToMax = function setToMax(spectrum, detail) {\n    var max = maxX(detail);\n    fireSliderChange$1(spectrum, sliderValue(max));\n  };\n\n  var moveBy = function moveBy(direction, spectrum, detail) {\n    var f = direction > 0 ? increaseBy : reduceBy;\n    var xValue = f(currentValue(detail).x(), minX(detail), maxX(detail), step(detail));\n    fireSliderChange$1(spectrum, sliderValue(xValue));\n    return Option.some(xValue);\n  };\n\n  var handleMovement = function handleMovement(direction) {\n    return function (spectrum, detail) {\n      return moveBy(direction, spectrum, detail).map(function () {\n        return true;\n      });\n    };\n  };\n\n  var getValueFromEvent = function getValueFromEvent(simulatedEvent) {\n    var pos = getEventSource(simulatedEvent);\n    return pos.map(function (p) {\n      return p.left();\n    });\n  };\n\n  var findOffsetOfValue$1 = function findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge) {\n    var minOffset = 0;\n    var maxOffset = getXScreenRange(spectrum);\n    var centerMinEdge = minEdge.bind(function (edge) {\n      return Option.some(getXCenterOffSetOf(edge, spectrum));\n    }).getOr(minOffset);\n    var centerMaxEdge = maxEdge.bind(function (edge) {\n      return Option.some(getXCenterOffSetOf(edge, spectrum));\n    }).getOr(maxOffset);\n    var args = {\n      min: minX(detail),\n      max: maxX(detail),\n      range: xRange(detail),\n      value: value,\n      hasMinEdge: hasLEdge(detail),\n      hasMaxEdge: hasREdge(detail),\n      minBound: getMinXBounds(spectrum),\n      minOffset: minOffset,\n      maxBound: getMaxXBounds(spectrum),\n      maxOffset: maxOffset,\n      centerMinEdge: centerMinEdge,\n      centerMaxEdge: centerMaxEdge\n    };\n    return findOffsetOfValue(args);\n  };\n\n  var findPositionOfValue = function findPositionOfValue(slider, spectrum, value, minEdge, maxEdge, detail) {\n    var offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n    return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n  };\n\n  var setPositionFromValue = function setPositionFromValue(slider, thumb, detail, edges) {\n    var value = currentValue(detail);\n    var pos = findPositionOfValue(slider, edges.getSpectrum(slider), value.x(), edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n    var thumbRadius = get$7(thumb.element()) / 2;\n    set$2(thumb.element(), 'left', pos - thumbRadius + 'px');\n  };\n\n  var onLeft = handleMovement(-1);\n  var onRight = handleMovement(1);\n  var onUp = Option.none;\n  var onDown = Option.none;\n  var edgeActions = {\n    'top-left': Option.none(),\n    'top': Option.none(),\n    'top-right': Option.none(),\n    'right': Option.some(setToREdge),\n    'bottom-right': Option.none(),\n    'bottom': Option.none(),\n    'bottom-left': Option.none(),\n    'left': Option.some(setToLEdge)\n  };\n  var HorizontalModel =\n  /*#__PURE__*/\n  Object.freeze({\n    setValueFrom: setValueFrom,\n    setToMin: setToMin,\n    setToMax: setToMax,\n    findValueOfOffset: findValueOfOffset,\n    getValueFromEvent: getValueFromEvent,\n    findPositionOfValue: findPositionOfValue,\n    setPositionFromValue: setPositionFromValue,\n    onLeft: onLeft,\n    onRight: onRight,\n    onUp: onUp,\n    onDown: onDown,\n    edgeActions: edgeActions\n  });\n\n  var fireSliderChange$2 = function fireSliderChange$2(spectrum, value) {\n    emitWith(spectrum, sliderChangeEvent(), {\n      value: value\n    });\n  };\n\n  var sliderValue$1 = function sliderValue$1(y) {\n    return {\n      y: constant(y)\n    };\n  };\n\n  var findValueOfOffset$1 = function findValueOfOffset$1(spectrum, detail, top) {\n    var args = {\n      min: minY(detail),\n      max: maxY(detail),\n      range: yRange(detail),\n      value: top,\n      step: step(detail),\n      snap: snap(detail),\n      snapStart: snapStart(detail),\n      rounded: rounded(detail),\n      hasMinEdge: hasTEdge(detail),\n      hasMaxEdge: hasBEdge(detail),\n      minBound: getMinYBounds(spectrum),\n      maxBound: getMaxYBounds(spectrum),\n      screenRange: getYScreenRange(spectrum)\n    };\n    return findValueOf(args);\n  };\n\n  var setValueFrom$1 = function setValueFrom$1(spectrum, detail, value) {\n    var yValue = findValueOfOffset$1(spectrum, detail, value);\n    var sliderVal = sliderValue$1(yValue);\n    fireSliderChange$2(spectrum, sliderVal);\n    return yValue;\n  };\n\n  var setToMin$1 = function setToMin$1(spectrum, detail) {\n    var min = minY(detail);\n    fireSliderChange$2(spectrum, sliderValue$1(min));\n  };\n\n  var setToMax$1 = function setToMax$1(spectrum, detail) {\n    var max = maxY(detail);\n    fireSliderChange$2(spectrum, sliderValue$1(max));\n  };\n\n  var moveBy$1 = function moveBy$1(direction, spectrum, detail) {\n    var f = direction > 0 ? increaseBy : reduceBy;\n    var yValue = f(currentValue(detail).y(), minY(detail), maxY(detail), step(detail));\n    fireSliderChange$2(spectrum, sliderValue$1(yValue));\n    return Option.some(yValue);\n  };\n\n  var handleMovement$1 = function handleMovement$1(direction) {\n    return function (spectrum, detail) {\n      return moveBy$1(direction, spectrum, detail).map(function () {\n        return true;\n      });\n    };\n  };\n\n  var getValueFromEvent$1 = function getValueFromEvent$1(simulatedEvent) {\n    var pos = getEventSource(simulatedEvent);\n    return pos.map(function (p) {\n      return p.top();\n    });\n  };\n\n  var findOffsetOfValue$2 = function findOffsetOfValue$2(spectrum, detail, value, minEdge, maxEdge) {\n    var minOffset = 0;\n    var maxOffset = getYScreenRange(spectrum);\n    var centerMinEdge = minEdge.bind(function (edge) {\n      return Option.some(getYCenterOffSetOf(edge, spectrum));\n    }).getOr(minOffset);\n    var centerMaxEdge = maxEdge.bind(function (edge) {\n      return Option.some(getYCenterOffSetOf(edge, spectrum));\n    }).getOr(maxOffset);\n    var args = {\n      min: minY(detail),\n      max: maxY(detail),\n      range: yRange(detail),\n      value: value,\n      hasMinEdge: hasTEdge(detail),\n      hasMaxEdge: hasBEdge(detail),\n      minBound: getMinYBounds(spectrum),\n      minOffset: minOffset,\n      maxBound: getMaxYBounds(spectrum),\n      maxOffset: maxOffset,\n      centerMinEdge: centerMinEdge,\n      centerMaxEdge: centerMaxEdge\n    };\n    return findOffsetOfValue(args);\n  };\n\n  var findPositionOfValue$1 = function findPositionOfValue$1(slider, spectrum, value, minEdge, maxEdge, detail) {\n    var offset = findOffsetOfValue$2(spectrum, detail, value, minEdge, maxEdge);\n    return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n  };\n\n  var setPositionFromValue$1 = function setPositionFromValue$1(slider, thumb, detail, edges) {\n    var value = currentValue(detail);\n    var pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.y(), edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n    var thumbRadius = get$6(thumb.element()) / 2;\n    set$2(thumb.element(), 'top', pos - thumbRadius + 'px');\n  };\n\n  var onLeft$1 = Option.none;\n  var onRight$1 = Option.none;\n  var onUp$1 = handleMovement$1(-1);\n  var onDown$1 = handleMovement$1(1);\n  var edgeActions$1 = {\n    'top-left': Option.none(),\n    'top': Option.some(setToTEdge),\n    'top-right': Option.none(),\n    'right': Option.none(),\n    'bottom-right': Option.none(),\n    'bottom': Option.some(setToBEdge),\n    'bottom-left': Option.none(),\n    'left': Option.none()\n  };\n  var VerticalModel =\n  /*#__PURE__*/\n  Object.freeze({\n    setValueFrom: setValueFrom$1,\n    setToMin: setToMin$1,\n    setToMax: setToMax$1,\n    findValueOfOffset: findValueOfOffset$1,\n    getValueFromEvent: getValueFromEvent$1,\n    findPositionOfValue: findPositionOfValue$1,\n    setPositionFromValue: setPositionFromValue$1,\n    onLeft: onLeft$1,\n    onRight: onRight$1,\n    onUp: onUp$1,\n    onDown: onDown$1,\n    edgeActions: edgeActions$1\n  });\n\n  var fireSliderChange$3 = function fireSliderChange$3(spectrum, value) {\n    emitWith(spectrum, sliderChangeEvent(), {\n      value: value\n    });\n  };\n\n  var sliderValue$2 = function sliderValue$2(x, y) {\n    return {\n      x: constant(x),\n      y: constant(y)\n    };\n  };\n\n  var setValueFrom$2 = function setValueFrom$2(spectrum, detail, value) {\n    var xValue = findValueOfOffset(spectrum, detail, value.left());\n    var yValue = findValueOfOffset$1(spectrum, detail, value.top());\n    var val = sliderValue$2(xValue, yValue);\n    fireSliderChange$3(spectrum, val);\n    return val;\n  };\n\n  var moveBy$2 = function moveBy$2(direction, isVerticalMovement, spectrum, detail) {\n    var f = direction > 0 ? increaseBy : reduceBy;\n    var xValue = isVerticalMovement ? currentValue(detail).x() : f(currentValue(detail).x(), minX(detail), maxX(detail), step(detail));\n    var yValue = !isVerticalMovement ? currentValue(detail).y() : f(currentValue(detail).y(), minY(detail), maxY(detail), step(detail));\n    fireSliderChange$3(spectrum, sliderValue$2(xValue, yValue));\n    return Option.some(xValue);\n  };\n\n  var handleMovement$2 = function handleMovement$2(direction, isVerticalMovement) {\n    return function (spectrum, detail) {\n      return moveBy$2(direction, isVerticalMovement, spectrum, detail).map(function () {\n        return true;\n      });\n    };\n  };\n\n  var setToMin$2 = function setToMin$2(spectrum, detail) {\n    var mX = minX(detail);\n    var mY = minY(detail);\n    fireSliderChange$3(spectrum, sliderValue$2(mX, mY));\n  };\n\n  var setToMax$2 = function setToMax$2(spectrum, detail) {\n    var mX = maxX(detail);\n    var mY = maxY(detail);\n    fireSliderChange$3(spectrum, sliderValue$2(mX, mY));\n  };\n\n  var getValueFromEvent$2 = function getValueFromEvent$2(simulatedEvent) {\n    return getEventSource(simulatedEvent);\n  };\n\n  var setPositionFromValue$2 = function setPositionFromValue$2(slider, thumb, detail, edges) {\n    var value = currentValue(detail);\n    var xPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.x(), edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n    var yPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.y(), edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n    var thumbXRadius = get$7(thumb.element()) / 2;\n    var thumbYRadius = get$6(thumb.element()) / 2;\n    set$2(thumb.element(), 'left', xPos - thumbXRadius + 'px');\n    set$2(thumb.element(), 'top', yPos - thumbYRadius + 'px');\n  };\n\n  var onLeft$2 = handleMovement$2(-1, false);\n  var onRight$2 = handleMovement$2(1, false);\n  var onUp$2 = handleMovement$2(-1, true);\n  var onDown$2 = handleMovement$2(1, true);\n  var edgeActions$2 = {\n    'top-left': Option.some(setToTLEdgeXY),\n    'top': Option.some(setToTEdgeXY),\n    'top-right': Option.some(setToTREdgeXY),\n    'right': Option.some(setToREdgeXY),\n    'bottom-right': Option.some(setToBREdgeXY),\n    'bottom': Option.some(setToBEdgeXY),\n    'bottom-left': Option.some(setToBLEdgeXY),\n    'left': Option.some(setToLEdgeXY)\n  };\n  var TwoDModel =\n  /*#__PURE__*/\n  Object.freeze({\n    setValueFrom: setValueFrom$2,\n    setToMin: setToMin$2,\n    setToMax: setToMax$2,\n    getValueFromEvent: getValueFromEvent$2,\n    setPositionFromValue: setPositionFromValue$2,\n    onLeft: onLeft$2,\n    onRight: onRight$2,\n    onUp: onUp$2,\n    onDown: onDown$2,\n    edgeActions: edgeActions$2\n  });\n  var isTouch$2 = PlatformDetection$1.detect().deviceType.isTouch();\n  var SliderSchema = [defaulted$1('stepSize', 1), defaulted$1('onChange', noop), defaulted$1('onChoose', noop), defaulted$1('onInit', noop), defaulted$1('onDragStart', noop), defaulted$1('onDragEnd', noop), defaulted$1('snapToGrid', false), defaulted$1('rounded', true), option('snapStart'), strictOf('model', choose$1('mode', {\n    x: [defaulted$1('minX', 0), defaulted$1('maxX', 100), state$1('value', function (spec) {\n      return Cell(spec.mode.minX);\n    }), strict$1('getInitialValue'), output('manager', HorizontalModel)],\n    y: [defaulted$1('minY', 0), defaulted$1('maxY', 100), state$1('value', function (spec) {\n      return Cell(spec.mode.minY);\n    }), strict$1('getInitialValue'), output('manager', VerticalModel)],\n    xy: [defaulted$1('minX', 0), defaulted$1('maxX', 100), defaulted$1('minY', 0), defaulted$1('maxY', 100), state$1('value', function (spec) {\n      return Cell({\n        x: constant(spec.mode.minX),\n        y: constant(spec.mode.minY)\n      });\n    }), strict$1('getInitialValue'), output('manager', TwoDModel)]\n  })), field$1('sliderBehaviours', [Keying, Representing])].concat(!isTouch$2 ? [state$1('mouseIsDown', function () {\n    return Cell(false);\n  })] : []);\n  var isTouch$3 = PlatformDetection$1.detect().deviceType.isTouch();\n\n  var sketch = function sketch(detail, components, _spec, _externals) {\n    var getThumb = function getThumb(component) {\n      return getPartOrDie(component, detail, 'thumb');\n    };\n\n    var getSpectrum = function getSpectrum(component) {\n      return getPartOrDie(component, detail, 'spectrum');\n    };\n\n    var getLeftEdge = function getLeftEdge(component) {\n      return getPart(component, detail, 'left-edge');\n    };\n\n    var getRightEdge = function getRightEdge(component) {\n      return getPart(component, detail, 'right-edge');\n    };\n\n    var getTopEdge = function getTopEdge(component) {\n      return getPart(component, detail, 'top-edge');\n    };\n\n    var getBottomEdge = function getBottomEdge(component) {\n      return getPart(component, detail, 'bottom-edge');\n    };\n\n    var modelDetail = detail.model;\n    var model = modelDetail.manager;\n\n    var refresh = function refresh(slider, thumb) {\n      model.setPositionFromValue(slider, thumb, detail, {\n        getLeftEdge: getLeftEdge,\n        getRightEdge: getRightEdge,\n        getTopEdge: getTopEdge,\n        getBottomEdge: getBottomEdge,\n        getSpectrum: getSpectrum\n      });\n    };\n\n    var changeValue = function changeValue(slider, newValue) {\n      modelDetail.value.set(newValue);\n      var thumb = getThumb(slider);\n      refresh(slider, thumb);\n      detail.onChange(slider, thumb, newValue);\n      return Option.some(true);\n    };\n\n    var resetToMin = function resetToMin(slider) {\n      model.setToMin(slider, detail);\n    };\n\n    var resetToMax = function resetToMax(slider) {\n      model.setToMax(slider, detail);\n    };\n\n    var touchEvents = [run(touchstart(), function (slider, _simulatedEvent) {\n      detail.onDragStart(slider, getThumb(slider));\n    }), run(touchend(), function (slider, _simulatedEvent) {\n      detail.onDragEnd(slider, getThumb(slider));\n    })];\n    var mouseEvents = [run(mousedown(), function (slider, simulatedEvent) {\n      simulatedEvent.stop();\n      detail.onDragStart(slider, getThumb(slider));\n      detail.mouseIsDown.set(true);\n    }), run(mouseup(), function (slider, _simulatedEvent) {\n      detail.onDragEnd(slider, getThumb(slider));\n    })];\n    var uiEventsArr = isTouch$3 ? touchEvents : mouseEvents;\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: augment(detail.sliderBehaviours, flatten([!isTouch$3 ? [Keying.config({\n        mode: 'special',\n        focusIn: function focusIn(slider) {\n          return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(constant(true));\n        }\n      })] : [], [Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function getValue(_) {\n            return modelDetail.value.get();\n          }\n        }\n      }), Receiving.config({\n        channels: {\n          'mouse.released': {\n            onReceive: function onReceive(slider, se) {\n              var wasDown = detail.mouseIsDown.get();\n              detail.mouseIsDown.set(false);\n\n              if (wasDown) {\n                getPart(slider, detail, 'thumb').each(function (thumb) {\n                  var value = modelDetail.value.get();\n                  detail.onChoose(slider, thumb, value);\n                });\n              }\n            }\n          }\n        }\n      })]])),\n      events: derive([run(sliderChangeEvent(), function (slider, simulatedEvent) {\n        changeValue(slider, simulatedEvent.event().value());\n      }), runOnAttached(function (slider, simulatedEvent) {\n        var getInitial = modelDetail.getInitialValue();\n        modelDetail.value.set(getInitial);\n        var thumb = getThumb(slider);\n        refresh(slider, thumb);\n        var spectrum = getSpectrum(slider);\n        detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n      })].concat(uiEventsArr)),\n      apis: {\n        resetToMin: resetToMin,\n        resetToMax: resetToMax,\n        changeValue: changeValue,\n        refresh: refresh\n      },\n      domModification: {\n        styles: {\n          position: 'relative'\n        }\n      }\n    };\n  };\n\n  var Slider = composite$1({\n    name: 'Slider',\n    configFields: SliderSchema,\n    partFields: SliderParts,\n    factory: sketch,\n    apis: {\n      resetToMin: function resetToMin(apis, slider) {\n        apis.resetToMin(slider);\n      },\n      resetToMax: function resetToMax(apis, slider) {\n        apis.resetToMax(slider);\n      },\n      refresh: function refresh(apis, slider) {\n        apis.refresh(slider);\n      }\n    }\n  });\n\n  var sliderFactory = function sliderFactory(translate, getClass) {\n    var spectrum = Slider.parts().spectrum({\n      dom: {\n        tag: 'div',\n        classes: [getClass('hue-slider-spectrum')],\n        attributes: {\n          role: 'presentation'\n        }\n      }\n    });\n    var thumb = Slider.parts().thumb({\n      dom: {\n        tag: 'div',\n        classes: [getClass('hue-slider-thumb')],\n        attributes: {\n          role: 'presentation'\n        }\n      }\n    });\n    return Slider.sketch({\n      dom: {\n        tag: 'div',\n        classes: [getClass('hue-slider')],\n        attributes: {\n          role: 'presentation'\n        }\n      },\n      rounded: false,\n      model: {\n        mode: 'y',\n        getInitialValue: constant({\n          y: constant(0)\n        })\n      },\n      components: [spectrum, thumb],\n      sliderBehaviours: derive$1([Focusing.config({})]),\n      onChange: function onChange(slider, _thumb, value) {\n        emitWith(slider, sliderUpdate(), {\n          value: value\n        });\n      }\n    });\n  };\n\n  var HueSlider = {\n    sliderFactory: sliderFactory\n  };\n  var owner$3 = 'form';\n  var schema$h = [field$1('formBehaviours', [Representing])];\n\n  var getPartName = function getPartName(name) {\n    return '<alloy.field.' + name + '>';\n  };\n\n  var sketch$1 = function sketch$1(fSpec) {\n    var parts = function () {\n      var _record = [];\n\n      var field = function field(name, config) {\n        _record.push(name);\n\n        return generateOne(owner$3, getPartName(name), config);\n      };\n\n      return {\n        field: field,\n        record: function record() {\n          return _record;\n        }\n      };\n    }();\n\n    var spec = fSpec(parts);\n    var partNames = parts.record();\n    var fieldParts = map(partNames, function (n) {\n      return required({\n        name: n,\n        pname: getPartName(n)\n      });\n    });\n    return composite(owner$3, schema$h, fieldParts, make$5, spec);\n  };\n\n  var toResult$1 = function toResult$1(o, e) {\n    return o.fold(function () {\n      return Result.error(e);\n    }, Result.value);\n  };\n\n  var make$5 = function make$5(detail, components, spec) {\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function getValue(form) {\n            var resPs = getAllParts(form, detail);\n            return map$1(resPs, function (resPThunk, pName) {\n              return resPThunk().bind(function (v) {\n                var opt = Composing.getCurrent(v);\n                return toResult$1(opt, 'missing current');\n              }).map(Representing.getValue);\n            });\n          },\n          setValue: function setValue(form, values) {\n            each$1(values, function (newValue, key) {\n              getPart(form, detail, key).each(function (wrapper) {\n                Composing.getCurrent(wrapper).each(function (field) {\n                  Representing.setValue(field, newValue);\n                });\n              });\n            });\n          }\n        }\n      })]),\n      apis: {\n        getField: function getField(form, key) {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    };\n  };\n\n  var Form = {\n    getField: makeApi(function (apis, component, key) {\n      return apis.getField(component, key);\n    }),\n    sketch: sketch$1\n  };\n  var validInput = generate$1('valid-input');\n  var invalidInput = generate$1('invalid-input');\n  var validatingInput = generate$1('validating-input');\n  var translatePrefix = 'colorcustom.rgb.';\n\n  var rgbFormFactory = function rgbFormFactory(translate, getClass, onValidHexx, onInvalidHexx) {\n    var invalidation = function invalidation(label, isValid) {\n      return Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: function onValidate(comp) {\n            emitWith(comp, validatingInput, {\n              type: label\n            });\n          },\n          onValid: function onValid(comp) {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: function onInvalid(comp) {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: function validate(comp) {\n            var value = Representing.getValue(comp);\n            var res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n    };\n\n    var renderTextField = function renderTextField(isValid, name, label, description, data) {\n      var helptext = translate(translatePrefix + 'range');\n      var pLabel = FormField.parts().label({\n        dom: {\n          tag: 'label',\n          innerHtml: label,\n          attributes: {\n            'aria-label': description\n          }\n        }\n      });\n      var pField = FormField.parts().field({\n        data: data,\n        factory: Input,\n        inputAttributes: _assign({\n          type: 'text'\n        }, name === 'hex' ? {\n          'aria-live': 'polite'\n        } : {}),\n        inputClasses: [getClass('textfield')],\n        inputBehaviours: derive$1([invalidation(name, isValid), Tabstopping.config({})]),\n        onSetValue: function onSetValue(input) {\n          if (Invalidating.isInvalid(input)) {\n            var run = Invalidating.run(input);\n            run.get(noop);\n          }\n        }\n      });\n      var comps = [pLabel, pField];\n      var concats = name !== 'hex' ? [FormField.parts()['aria-descriptor']({\n        text: helptext\n      })] : [];\n      var components = comps.concat(concats);\n      return {\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation'\n          }\n        },\n        components: components\n      };\n    };\n\n    var copyRgbToHex = function copyRgbToHex(form, rgba) {\n      var hex = fromRgba(rgba);\n      Form.getField(form, 'hex').each(function (hexField) {\n        if (!Focusing.isFocused(hexField)) {\n          Representing.setValue(form, {\n            hex: hex.value()\n          });\n        }\n      });\n      return hex;\n    };\n\n    var copyRgbToForm = function copyRgbToForm(form, rgb) {\n      var red = rgb.red();\n      var green = rgb.green();\n      var blue = rgb.blue();\n      Representing.setValue(form, {\n        red: red,\n        green: green,\n        blue: blue\n      });\n    };\n\n    var memPreview = record({\n      dom: {\n        tag: 'div',\n        classes: [getClass('rgba-preview')],\n        styles: {\n          'background-color': 'white'\n        },\n        attributes: {\n          role: 'presentation'\n        }\n      }\n    });\n\n    var updatePreview = function updatePreview(anyInSystem, hex) {\n      memPreview.getOpt(anyInSystem).each(function (preview) {\n        set$2(preview.element(), 'background-color', '#' + hex.value());\n      });\n    };\n\n    var factory = function factory() {\n      var state = {\n        red: constant(Cell(Option.some(255))),\n        green: constant(Cell(Option.some(255))),\n        blue: constant(Cell(Option.some(255))),\n        hex: constant(Cell(Option.some('ffffff')))\n      };\n\n      var copyHexToRgb = function copyHexToRgb(form, hex) {\n        var rgb = fromHex(hex);\n        copyRgbToForm(form, rgb);\n        setValueRgb(rgb);\n      };\n\n      var get = function get(prop) {\n        return state[prop]().get();\n      };\n\n      var set = function set(prop, value) {\n        state[prop]().set(value);\n      };\n\n      var getValueRgb = function getValueRgb() {\n        return get('red').bind(function (red) {\n          return get('green').bind(function (green) {\n            return get('blue').map(function (blue) {\n              return rgbaColour(red, green, blue, 1);\n            });\n          });\n        });\n      };\n\n      var setValueRgb = function setValueRgb(rgb) {\n        var red = rgb.red();\n        var green = rgb.green();\n        var blue = rgb.blue();\n        set('red', Option.some(red));\n        set('green', Option.some(green));\n        set('blue', Option.some(blue));\n      };\n\n      var onInvalidInput = function onInvalidInput(form, simulatedEvent) {\n        var data = simulatedEvent.event();\n\n        if (data.type() !== 'hex') {\n          set(data.type(), Option.none());\n        } else {\n          onInvalidHexx(form);\n        }\n      };\n\n      var onValidHex = function onValidHex(form, value) {\n        onValidHexx(form);\n        var hex = hexColour(value);\n        set('hex', Option.some(value));\n        var rgb = fromHex(hex);\n        copyRgbToForm(form, rgb);\n        setValueRgb(rgb);\n        emitWith(form, fieldsUpdate(), {\n          hex: hex\n        });\n        updatePreview(form, hex);\n      };\n\n      var onValidRgb = function onValidRgb(form, prop, value) {\n        var val = parseInt(value, 10);\n        set(prop, Option.some(val));\n        getValueRgb().each(function (rgb) {\n          var hex = copyRgbToHex(form, rgb);\n          updatePreview(form, hex);\n        });\n      };\n\n      var isHexInputEvent = function isHexInputEvent(data) {\n        return data.type() === 'hex';\n      };\n\n      var onValidInput = function onValidInput(form, simulatedEvent) {\n        var data = simulatedEvent.event();\n\n        if (isHexInputEvent(data)) {\n          onValidHex(form, data.value());\n        } else {\n          onValidRgb(form, data.type(), data.value());\n        }\n      };\n\n      var formPartStrings = function formPartStrings(key) {\n        return {\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        };\n      };\n\n      var redStrings = formPartStrings('red');\n      var greenStrings = formPartStrings('green');\n      var blueStrings = formPartStrings('blue');\n      var hexStrings = formPartStrings('hex');\n      return deepMerge(Form.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: {\n              'aria-label': translate('aria.color.picker')\n            }\n          },\n          components: [parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))), parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))), parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))), parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))), memPreview.asSpec()],\n          formBehaviours: derive$1([Invalidating.config({\n            invalidClass: getClass('form-invalid')\n          }), config('rgb-form-events', [run(validInput, onValidInput), run(invalidInput, onInvalidInput), run(validatingInput, onInvalidInput)])])\n        };\n      }), {\n        apis: {\n          updateHex: function updateHex(form, hex) {\n            Representing.setValue(form, {\n              hex: hex.value()\n            });\n            copyHexToRgb(form, hex);\n            updatePreview(form, hex);\n          }\n        }\n      });\n    };\n\n    var rgbFormSketcher = single$2({\n      factory: factory,\n      name: 'RgbForm',\n      configFields: [],\n      apis: {\n        updateHex: function updateHex(apis, form, hex) {\n          apis.updateHex(form, hex);\n        }\n      },\n      extraApis: {}\n    });\n    return rgbFormSketcher;\n  };\n\n  var RgbForm = {\n    rgbFormFactory: rgbFormFactory\n  };\n\n  var paletteFactory = function paletteFactory(_translate, getClass) {\n    var spectrumPart = Slider.parts().spectrum({\n      dom: {\n        tag: 'canvas',\n        attributes: {\n          role: 'presentation'\n        },\n        classes: [getClass('sv-palette-spectrum')]\n      }\n    });\n    var thumbPart = Slider.parts().thumb({\n      dom: {\n        tag: 'div',\n        attributes: {\n          role: 'presentation'\n        },\n        classes: [getClass('sv-palette-thumb')],\n        innerHtml: '<div class=' + getClass('sv-palette-inner-thumb') + ' role=\"presentation\"></div>'\n      }\n    });\n\n    var setColour = function setColour(canvas, rgba) {\n      var width = canvas.width,\n          height = canvas.height;\n      var ctx = canvas.getContext('2d');\n\n      if (ctx === null) {\n        return;\n      }\n\n      ctx.fillStyle = rgba;\n      ctx.fillRect(0, 0, width, height);\n      var grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n      grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n      grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n      ctx.fillStyle = grdWhite;\n      ctx.fillRect(0, 0, width, height);\n      var grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n      grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n      grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n      ctx.fillStyle = grdBlack;\n      ctx.fillRect(0, 0, width, height);\n    };\n\n    var setSliderColour = function setSliderColour(slider, rgba) {\n      var canvas = slider.components()[0].element().dom();\n      setColour(canvas, toString(rgba));\n    };\n\n    var factory = function factory(_detail) {\n      var getInitialValue = constant({\n        x: constant(0),\n        y: constant(0)\n      });\n\n      var onChange = function onChange(slider, _thumb, value) {\n        emitWith(slider, paletteUpdate(), {\n          value: value\n        });\n      };\n\n      var onInit = function onInit(_slider, _thumb, spectrum, _value) {\n        setColour(spectrum.element().dom(), toString(redColour()));\n      };\n\n      var sliderBehaviours = derive$1([Composing.config({\n        find: Option.some\n      }), Focusing.config({})]);\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation'\n          },\n          classes: [getClass('sv-palette')]\n        },\n        model: {\n          mode: 'xy',\n          getInitialValue: getInitialValue\n        },\n        rounded: false,\n        components: [spectrumPart, thumbPart],\n        onChange: onChange,\n        onInit: onInit,\n        sliderBehaviours: sliderBehaviours\n      });\n    };\n\n    var saturationBrightnessPaletteSketcher = single$2({\n      factory: factory,\n      name: 'SaturationBrightnessPalette',\n      configFields: [],\n      apis: {\n        setRgba: function setRgba(_apis, slider, rgba) {\n          setSliderColour(slider, rgba);\n        }\n      },\n      extraApis: {}\n    });\n    return saturationBrightnessPaletteSketcher;\n  };\n\n  var SaturationBrightnessPalette = {\n    paletteFactory: paletteFactory\n  };\n\n  var makeFactory = function makeFactory(translate, getClass) {\n    var factory = function factory(detail) {\n      var rgbForm = RgbForm.rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n      var sbPalette = SaturationBrightnessPalette.paletteFactory(translate, getClass);\n      var state = {\n        paletteRgba: constant(Cell(redColour()))\n      };\n      var memPalette = record(sbPalette.sketch({}));\n      var memRgb = record(rgbForm.sketch({}));\n\n      var updatePalette = function updatePalette(anyInSystem, hex) {\n        memPalette.getOpt(anyInSystem).each(function (palette) {\n          var rgba = fromHex(hex);\n          state.paletteRgba().set(rgba);\n          sbPalette.setRgba(palette, rgba);\n        });\n      };\n\n      var updateFields = function updateFields(anyInSystem, hex) {\n        memRgb.getOpt(anyInSystem).each(function (form) {\n          rgbForm.updateHex(form, hex);\n        });\n      };\n\n      var runUpdates = function runUpdates(anyInSystem, hex, updates) {\n        each(updates, function (update) {\n          update(anyInSystem, hex);\n        });\n      };\n\n      var paletteUpdates = function paletteUpdates() {\n        var updates = [updateFields];\n        return function (form, simulatedEvent) {\n          var value = simulatedEvent.event().value();\n          var oldRgb = state.paletteRgba().get();\n          var hsvColour$1 = fromRgb(oldRgb);\n          var newHsvColour = hsvColour(hsvColour$1.hue(), value.x(), 100 - value.y());\n          var rgb = fromHsv(newHsvColour);\n          var nuHex = fromRgba(rgb);\n          runUpdates(form, nuHex, updates);\n        };\n      };\n\n      var sliderUpdates = function sliderUpdates() {\n        var updates = [updatePalette, updateFields];\n        return function (form, simulatedEvent) {\n          var value = simulatedEvent.event().value();\n          var hex = calcHex(value.y());\n          runUpdates(form, hex, updates);\n        };\n      };\n\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [memPalette.asSpec(), HueSlider.sliderFactory(translate, getClass), memRgb.asSpec()],\n        behaviours: derive$1([config('colour-picker-events', [run(paletteUpdate(), paletteUpdates()), run(sliderUpdate(), sliderUpdates())]), Composing.config({\n          find: function find(comp) {\n            return memRgb.getOpt(comp);\n          }\n        }), Keying.config({\n          mode: 'acyclic'\n        })])\n      };\n    };\n\n    var colourPickerSketcher = single$2({\n      name: 'ColourPicker',\n      configFields: [strict$1('dom'), defaulted$1('onValidHex', noop), defaulted$1('onInvalidHex', noop)],\n      factory: factory\n    });\n    return colourPickerSketcher;\n  };\n\n  var ColourPicker = {\n    makeFactory: makeFactory\n  };\n\n  var self$1 = function self$1() {\n    return Composing.config({\n      find: Option.some\n    });\n  };\n\n  var memento = function memento(mem) {\n    return Composing.config({\n      find: mem.getOpt\n    });\n  };\n\n  var childAt = function childAt(index) {\n    return Composing.config({\n      find: function find(comp) {\n        return child(comp.element(), index).bind(function (element) {\n          return comp.getSystem().getByDom(element).toOption();\n        });\n      }\n    });\n  };\n\n  var ComposingConfigs = {\n    self: self$1,\n    memento: memento,\n    childAt: childAt\n  };\n  var english = {\n    'colorcustom.rgb.red.label': 'R',\n    'colorcustom.rgb.red.description': 'Red component',\n    'colorcustom.rgb.green.label': 'G',\n    'colorcustom.rgb.green.description': 'Green component',\n    'colorcustom.rgb.blue.label': 'B',\n    'colorcustom.rgb.blue.description': 'Blue component',\n    'colorcustom.rgb.hex.label': '#',\n    'colorcustom.rgb.hex.description': 'Hex color code',\n    'colorcustom.rgb.range': 'Range 0 to 255',\n    'colorcustom.sb.saturation': 'Saturation',\n    'colorcustom.sb.brightness': 'Brightness',\n    'colorcustom.sb.picker': 'Saturation and Brightness Picker',\n    'colorcustom.sb.palette': 'Saturation and Brightness Palette',\n    'colorcustom.sb.instructions': 'Use arrow keys to select saturation and brightness, on x and y axes',\n    'colorcustom.hue.hue': 'Hue',\n    'colorcustom.hue.slider': 'Hue Slider',\n    'colorcustom.hue.palette': 'Hue Palette',\n    'colorcustom.hue.instructions': 'Use arrow keys to select a hue',\n    'aria.color.picker': 'Color Picker',\n    'aria.input.invalid': 'Invalid input'\n  };\n\n  var getEnglishText = function getEnglishText(key) {\n    return english[key];\n  };\n\n  var translate = function translate(key) {\n    return getEnglishText(key);\n  };\n\n  var renderColorPicker = function renderColorPicker(spec) {\n    var getClass = function getClass(key) {\n      return 'tox-' + key;\n    };\n\n    var colourPickerFactory = ColourPicker.makeFactory(translate, getClass);\n\n    var onValidHex = function onValidHex(form) {\n      emitWith(form, formActionEvent, {\n        name: 'hex-valid',\n        value: true\n      });\n    };\n\n    var onInvalidHex = function onInvalidHex(form) {\n      emitWith(form, formActionEvent, {\n        name: 'hex-valid',\n        value: false\n      });\n    };\n\n    var memPicker = record(colourPickerFactory.sketch({\n      dom: {\n        tag: 'div',\n        classes: [getClass('color-picker-container')],\n        attributes: {\n          role: 'presentation'\n        }\n      },\n      onValidHex: onValidHex,\n      onInvalidHex: onInvalidHex\n    }));\n    return {\n      dom: {\n        tag: 'div'\n      },\n      components: [memPicker.asSpec()],\n      behaviours: derive$1([Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function getValue(comp) {\n            var picker = memPicker.get(comp);\n            var optRgbForm = Composing.getCurrent(picker);\n            var optHex = optRgbForm.bind(function (rgbForm) {\n              var formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(function (hex) {\n              return '#' + hex;\n            }).getOr('');\n          },\n          setValue: function setValue(comp, newValue) {\n            var pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            var m = pattern.exec(newValue);\n            var picker = memPicker.get(comp);\n            var optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(function () {\n              domGlobals.console.log('Can not find form');\n            }, function (rgbForm) {\n              Representing.setValue(rgbForm, {\n                hex: Option.from(m[1]).getOr('')\n              });\n              Form.getField(rgbForm, 'hex').each(function (hexField) {\n                emit(hexField, input());\n              });\n            });\n          }\n        }\n      }), ComposingConfigs.self()])\n    };\n  };\n\n  var global$a = tinymce.util.Tools.resolve('tinymce.Resource');\n\n  var isOldCustomEditor = function isOldCustomEditor(spec) {\n    return Object.prototype.hasOwnProperty.call(spec, 'init');\n  };\n\n  var renderCustomEditor = function renderCustomEditor(spec) {\n    var editorApi = Cell(Option.none());\n    var memReplaced = record({\n      dom: {\n        tag: spec.tag\n      }\n    });\n    var initialValue = Cell(Option.none());\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-custom-editor']\n      },\n      behaviours: derive$1([config('editor-foo-events', [runOnAttached(function (component) {\n        memReplaced.getOpt(component).each(function (ta) {\n          (isOldCustomEditor(spec) ? spec.init(ta.element().dom()) : global$a.load(spec.scriptId, spec.scriptUrl).then(function (init) {\n            return init(ta.element().dom(), spec.settings);\n          })).then(function (ea) {\n            initialValue.get().each(function (cvalue) {\n              ea.setValue(cvalue);\n            });\n            initialValue.set(Option.none());\n            editorApi.set(Option.some(ea));\n          });\n        });\n      })]), Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function getValue() {\n            return editorApi.get().fold(function () {\n              return initialValue.get().getOr('');\n            }, function (ed) {\n              return ed.getValue();\n            });\n          },\n          setValue: function setValue(component, value) {\n            editorApi.get().fold(function () {\n              initialValue.set(Option.some(value));\n            }, function (ed) {\n              return ed.setValue(value);\n            });\n          }\n        }\n      }), ComposingConfigs.self()]),\n      components: [memReplaced.asSpec()]\n    };\n  };\n\n  var processors = objOf([defaulted$1('preprocess', identity), defaulted$1('postprocess', identity)]);\n\n  var memento$1 = function memento$1(mem, rawProcessors) {\n    var ps = asRawOrDie('RepresentingConfigs.memento processors', processors, rawProcessors);\n    return Representing.config({\n      store: {\n        mode: 'manual',\n        getValue: function getValue(comp) {\n          var other = mem.get(comp);\n          var rawValue = Representing.getValue(other);\n          return ps.postprocess(rawValue);\n        },\n        setValue: function setValue(comp, rawValue) {\n          var newValue = ps.preprocess(rawValue);\n          var other = mem.get(comp);\n          Representing.setValue(other, newValue);\n        }\n      }\n    });\n  };\n\n  var withComp = function withComp(optInitialValue, getter, setter) {\n    return Representing.config(deepMerge({\n      store: {\n        mode: 'manual',\n        getValue: getter,\n        setValue: setter\n      }\n    }, optInitialValue.map(function (initialValue) {\n      return {\n        store: {\n          initialValue: initialValue\n        }\n      };\n    }).getOr({})));\n  };\n\n  var withElement = function withElement(initialValue, getter, setter) {\n    return withComp(initialValue, function (c) {\n      return getter(c.element());\n    }, function (c, v) {\n      return setter(c.element(), v);\n    });\n  };\n\n  var domValue = function domValue(optInitialValue) {\n    return withElement(optInitialValue, get$5, set$3);\n  };\n\n  var domHtml = function domHtml(optInitialValue) {\n    return withElement(optInitialValue, get$1, set);\n  };\n\n  var memory$1 = function memory$1(initialValue) {\n    return Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue: initialValue\n      }\n    });\n  };\n\n  var RepresentingConfigs = {\n    memento: memento$1,\n    withElement: withElement,\n    withComp: withComp,\n    domValue: domValue,\n    domHtml: domHtml,\n    memory: memory$1\n  };\n  var extensionsAccepted = '.jpg,.jpeg,.png,.gif';\n\n  var filterByExtension = function filterByExtension(files) {\n    var re = new RegExp('(' + extensionsAccepted.split(/\\s*,\\s*/).join('|') + ')$', 'i');\n    return filter(from$1(files), function (file) {\n      return re.test(file.name);\n    });\n  };\n\n  var renderDropZone = function renderDropZone(spec, providersBackstage) {\n    var stopper = function stopper(_, se) {\n      se.stop();\n    };\n\n    var sequence = function sequence(actions) {\n      return function (comp, se) {\n        each(actions, function (a) {\n          a(comp, se);\n        });\n      };\n    };\n\n    var onDrop = function onDrop(comp, se) {\n      if (!Disabling.isDisabled(comp)) {\n        var transferEvent = se.event().raw();\n        handleFiles(comp, transferEvent.dataTransfer.files);\n      }\n    };\n\n    var onSelect = function onSelect(component, simulatedEvent) {\n      var files = simulatedEvent.event().raw().target.files;\n      handleFiles(component, files);\n    };\n\n    var handleFiles = function handleFiles(component, files) {\n      Representing.setValue(component, filterByExtension(files));\n      emitWith(component, formChangeEvent, {\n        name: spec.name\n      });\n    };\n\n    var memInput = record({\n      dom: {\n        tag: 'input',\n        attributes: {\n          type: 'file',\n          accept: 'image/*'\n        },\n        styles: {\n          display: 'none'\n        }\n      },\n      behaviours: derive$1([config('input-file-events', [cutter(tapOrClick())])])\n    });\n\n    var renderField = function renderField(s) {\n      return {\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([RepresentingConfigs.memory([]), ComposingConfigs.self(), Disabling.config({}), Toggling.config({\n          toggleClass: 'dragenter',\n          toggleOnExecute: false\n        }), config('dropzone-events', [run('dragenter', sequence([stopper, Toggling.toggle])), run('dragleave', sequence([stopper, Toggling.toggle])), run('dragover', stopper), run('drop', sequence([stopper, onDrop])), run(change(), onSelect)])]),\n        components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dropzone'],\n            styles: {}\n          },\n          components: [{\n            dom: {\n              tag: 'p',\n              innerHtml: providersBackstage.translate('Drop an image here')\n            }\n          }, Button.sketch({\n            dom: {\n              tag: 'button',\n              innerHtml: providersBackstage.translate('Browse for an image'),\n              styles: {\n                position: 'relative'\n              },\n              classes: ['tox-button', 'tox-button--secondary']\n            },\n            components: [memInput.asSpec()],\n            action: function action(comp) {\n              var inputComp = memInput.get(comp);\n              inputComp.element().dom().click();\n            },\n            buttonBehaviours: derive$1([Tabstopping.config({})])\n          })]\n        }]\n      };\n    };\n\n    var pLabel = spec.label.map(function (label) {\n      return renderLabel(label, providersBackstage);\n    });\n    var pField = FormField.parts().field({\n      factory: {\n        sketch: renderField\n      }\n    });\n    return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n  };\n\n  var renderGrid = function renderGrid(spec, backstage) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-form__grid', 'tox-form__grid--' + spec.columns + 'col']\n      },\n      components: map(spec.items, backstage.interpreter)\n    };\n  };\n\n  var beforeObject = generate$1('alloy-fake-before-tabstop');\n  var afterObject = generate$1('alloy-fake-after-tabstop');\n\n  var craftWithClasses = function craftWithClasses(classes) {\n    return {\n      dom: {\n        tag: 'div',\n        styles: {\n          width: '1px',\n          height: '1px',\n          outline: 'none'\n        },\n        attributes: {\n          tabindex: '0'\n        },\n        classes: classes\n      },\n      behaviours: derive$1([Focusing.config({\n        ignore: true\n      }), Tabstopping.config({})])\n    };\n  };\n\n  var craft = function craft(spec) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-navobj']\n      },\n      components: [craftWithClasses([beforeObject]), spec, craftWithClasses([afterObject])],\n      behaviours: derive$1([ComposingConfigs.childAt(1)])\n    };\n  };\n\n  var triggerTab = function triggerTab(placeholder, shiftKey) {\n    emitWith(placeholder, keydown(), {\n      raw: {\n        which: 9,\n        shiftKey: shiftKey\n      }\n    });\n  };\n\n  var onFocus$1 = function onFocus$1(container, targetComp) {\n    var target = targetComp.element();\n\n    if (has$2(target, beforeObject)) {\n      triggerTab(container, true);\n    } else if (has$2(target, afterObject)) {\n      triggerTab(container, false);\n    }\n  };\n\n  var isPseudoStop = function isPseudoStop(element) {\n    return closest$4(element, ['.' + beforeObject, '.' + afterObject].join(','), constant(false));\n  };\n\n  var NavigableObject = {\n    isPseudoStop: isPseudoStop,\n    onFocus: onFocus$1,\n    craft: craft\n  };\n  var platformNeedsSandboxing = !(PlatformDetection$1.detect().browser.isIE() || PlatformDetection$1.detect().browser.isEdge());\n\n  var getDynamicSource = function getDynamicSource(isSandbox) {\n    var cachedValue = Cell('');\n    return {\n      getValue: function getValue(frameComponent) {\n        return cachedValue.get();\n      },\n      setValue: function setValue(frameComponent, html) {\n        if (!isSandbox) {\n          set$1(frameComponent.element(), 'src', 'javascript:\\'\\'');\n          var doc = frameComponent.element().dom().contentWindow.document;\n          doc.open();\n          doc.write(html);\n          doc.close();\n        } else {\n          set$1(frameComponent.element(), 'srcdoc', html);\n        }\n\n        cachedValue.set(html);\n      }\n    };\n  };\n\n  var renderIFrame = function renderIFrame(spec, providersBackstage) {\n    var isSandbox = platformNeedsSandboxing && spec.sandboxed;\n\n    var attributes = _assign({}, spec.label.map(function (title) {\n      return {\n        title: title\n      };\n    }).getOr({}), isSandbox ? {\n      sandbox: 'allow-scripts allow-same-origin'\n    } : {});\n\n    var sourcing = getDynamicSource(isSandbox);\n    var pLabel = spec.label.map(function (label) {\n      return renderLabel(label, providersBackstage);\n    });\n\n    var factory = function factory(newSpec) {\n      return NavigableObject.craft({\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes: attributes\n        },\n        behaviours: derive$1([Tabstopping.config({}), Focusing.config({}), RepresentingConfigs.withComp(Option.none(), sourcing.getValue, sourcing.setValue)])\n      });\n    };\n\n    var pField = FormField.parts().field({\n      factory: {\n        sketch: factory\n      }\n    });\n    return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n  };\n\n  function create$5(width, height) {\n    return resize(domGlobals.document.createElement('canvas'), width, height);\n  }\n\n  function clone$1(canvas) {\n    var tCanvas = create$5(canvas.width, canvas.height);\n    var ctx = get2dContext(tCanvas);\n    ctx.drawImage(canvas, 0, 0);\n    return tCanvas;\n  }\n\n  function get2dContext(canvas) {\n    return canvas.getContext('2d');\n  }\n\n  function resize(canvas, width, height) {\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n  function getWidth(image) {\n    return image.naturalWidth || image.width;\n  }\n\n  function getHeight(image) {\n    return image.naturalHeight || image.height;\n  }\n\n  var promise = function promise() {\n    var Promise = function Promise(fn) {\n      if (typeof this !== 'object') {\n        throw new TypeError('Promises must be constructed via new');\n      }\n\n      if (typeof fn !== 'function') {\n        throw new TypeError('not a function');\n      }\n\n      this._state = null;\n      this._value = null;\n      this._deferreds = [];\n      doResolve(fn, bind(resolve, this), bind(reject, this));\n    };\n\n    var asap = Promise.immediateFn || typeof window.setImmediate === 'function' && window.setImmediate || function (fn) {\n      domGlobals.setTimeout(fn, 1);\n    };\n\n    function bind(fn, thisArg) {\n      return function () {\n        return fn.apply(thisArg, arguments);\n      };\n    }\n\n    var isArray = Array.isArray || function (value) {\n      return Object.prototype.toString.call(value) === '[object Array]';\n    };\n\n    function handle(deferred) {\n      var me = this;\n\n      if (this._state === null) {\n        this._deferreds.push(deferred);\n\n        return;\n      }\n\n      asap(function () {\n        var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n\n        if (cb === null) {\n          (me._state ? deferred.resolve : deferred.reject)(me._value);\n          return;\n        }\n\n        var ret;\n\n        try {\n          ret = cb(me._value);\n        } catch (e) {\n          deferred.reject(e);\n          return;\n        }\n\n        deferred.resolve(ret);\n      });\n    }\n\n    function resolve(newValue) {\n      try {\n        if (newValue === this) {\n          throw new TypeError('A promise cannot be resolved with itself.');\n        }\n\n        if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n          var then = newValue.then;\n\n          if (typeof then === 'function') {\n            doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n            return;\n          }\n        }\n\n        this._state = true;\n        this._value = newValue;\n        finale.call(this);\n      } catch (e) {\n        reject.call(this, e);\n      }\n    }\n\n    function reject(newValue) {\n      this._state = false;\n      this._value = newValue;\n      finale.call(this);\n    }\n\n    function finale() {\n      for (var _i = 0, _a = this._deferreds; _i < _a.length; _i++) {\n        var deferred = _a[_i];\n        handle.call(this, deferred);\n      }\n\n      this._deferreds = [];\n    }\n\n    function Handler(onFulfilled, onRejected, resolve, reject) {\n      this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n      this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n      this.resolve = resolve;\n      this.reject = reject;\n    }\n\n    function doResolve(fn, onFulfilled, onRejected) {\n      var done = false;\n\n      try {\n        fn(function (value) {\n          if (done) {\n            return;\n          }\n\n          done = true;\n          onFulfilled(value);\n        }, function (reason) {\n          if (done) {\n            return;\n          }\n\n          done = true;\n          onRejected(reason);\n        });\n      } catch (ex) {\n        if (done) {\n          return;\n        }\n\n        done = true;\n        onRejected(ex);\n      }\n    }\n\n    Promise.prototype.catch = function (onRejected) {\n      return this.then(null, onRejected);\n    };\n\n    Promise.prototype.then = function (onFulfilled, onRejected) {\n      var me = this;\n      return new Promise(function (resolve, reject) {\n        handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n      });\n    };\n\n    Promise.all = function () {\n      var values = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n      }\n\n      var args = Array.prototype.slice.call(values.length === 1 && isArray(values[0]) ? values[0] : values);\n      return new Promise(function (resolve, reject) {\n        if (args.length === 0) {\n          return resolve([]);\n        }\n\n        var remaining = args.length;\n\n        function res(i, val) {\n          try {\n            if (val && (typeof val === 'object' || typeof val === 'function')) {\n              var then = val.then;\n\n              if (typeof then === 'function') {\n                then.call(val, function (val) {\n                  res(i, val);\n                }, reject);\n                return;\n              }\n            }\n\n            args[i] = val;\n\n            if (--remaining === 0) {\n              resolve(args);\n            }\n          } catch (ex) {\n            reject(ex);\n          }\n        }\n\n        for (var i = 0; i < args.length; i++) {\n          res(i, args[i]);\n        }\n      });\n    };\n\n    Promise.resolve = function (value) {\n      if (value && typeof value === 'object' && value.constructor === Promise) {\n        return value;\n      }\n\n      return new Promise(function (resolve) {\n        resolve(value);\n      });\n    };\n\n    Promise.reject = function (reason) {\n      return new Promise(function (resolve, reject) {\n        reject(reason);\n      });\n    };\n\n    Promise.race = function (values) {\n      return new Promise(function (resolve, reject) {\n        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n          var value = values_1[_i];\n          value.then(resolve, reject);\n        }\n      });\n    };\n\n    return Promise;\n  };\n\n  var Promise$1 = window.Promise ? window.Promise : promise();\n\n  function blobToImage(blob) {\n    return new Promise$1(function (resolve, reject) {\n      var blobUrl = domGlobals.URL.createObjectURL(blob);\n      var image = new domGlobals.Image();\n\n      var removeListeners = function removeListeners() {\n        image.removeEventListener('load', loaded);\n        image.removeEventListener('error', error);\n      };\n\n      function loaded() {\n        removeListeners();\n        resolve(image);\n      }\n\n      function error() {\n        removeListeners();\n        reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n      }\n\n      image.addEventListener('load', loaded);\n      image.addEventListener('error', error);\n      image.src = blobUrl;\n\n      if (image.complete) {\n        loaded();\n      }\n    });\n  }\n\n  function dataUriToBlobSync(uri) {\n    var data = uri.split(',');\n    var matches = /data:([^;]+)/.exec(data[0]);\n\n    if (!matches) {\n      return Option.none();\n    }\n\n    var mimetype = matches[1];\n    var base64 = data[1];\n    var sliceSize = 1024;\n    var byteCharacters = domGlobals.atob(base64);\n    var bytesLength = byteCharacters.length;\n    var slicesCount = Math.ceil(bytesLength / sliceSize);\n    var byteArrays = new Array(slicesCount);\n\n    for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n      var begin = sliceIndex * sliceSize;\n      var end = Math.min(begin + sliceSize, bytesLength);\n      var bytes = new Array(end - begin);\n\n      for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n        bytes[i] = byteCharacters[offset].charCodeAt(0);\n      }\n\n      byteArrays[sliceIndex] = new Uint8Array(bytes);\n    }\n\n    return Option.some(new domGlobals.Blob(byteArrays, {\n      type: mimetype\n    }));\n  }\n\n  function dataUriToBlob(uri) {\n    return new Promise$1(function (resolve, reject) {\n      dataUriToBlobSync(uri).fold(function () {\n        reject('uri is not base64: ' + uri);\n      }, resolve);\n    });\n  }\n\n  function canvasToBlob(canvas, type, quality) {\n    type = type || 'image/png';\n\n    if (domGlobals.HTMLCanvasElement.prototype.toBlob) {\n      return new Promise$1(function (resolve, reject) {\n        canvas.toBlob(function (blob) {\n          if (blob) {\n            resolve(blob);\n          } else {\n            reject();\n          }\n        }, type, quality);\n      });\n    } else {\n      return dataUriToBlob(canvas.toDataURL(type, quality));\n    }\n  }\n\n  function canvasToDataURL(canvas, type, quality) {\n    type = type || 'image/png';\n    return canvas.toDataURL(type, quality);\n  }\n\n  function blobToCanvas(blob) {\n    return blobToImage(blob).then(function (image) {\n      revokeImageUrl(image);\n      var canvas = create$5(getWidth(image), getHeight(image));\n      var context = get2dContext(canvas);\n      context.drawImage(image, 0, 0);\n      return canvas;\n    });\n  }\n\n  function blobToDataUri(blob) {\n    return new Promise$1(function (resolve) {\n      var reader = new domGlobals.FileReader();\n\n      reader.onloadend = function () {\n        resolve(reader.result);\n      };\n\n      reader.readAsDataURL(blob);\n    });\n  }\n\n  function revokeImageUrl(image) {\n    domGlobals.URL.revokeObjectURL(image.src);\n  }\n\n  function create$6(getCanvas, blob, uri) {\n    var initialType = blob.type;\n    var getType = constant(initialType);\n\n    function toBlob() {\n      return Promise$1.resolve(blob);\n    }\n\n    function toDataURL() {\n      return uri;\n    }\n\n    function toBase64() {\n      return uri.split(',')[1];\n    }\n\n    function toAdjustedBlob(type, quality) {\n      return getCanvas.then(function (canvas) {\n        return canvasToBlob(canvas, type, quality);\n      });\n    }\n\n    function toAdjustedDataURL(type, quality) {\n      return getCanvas.then(function (canvas) {\n        return canvasToDataURL(canvas, type, quality);\n      });\n    }\n\n    function toAdjustedBase64(type, quality) {\n      return toAdjustedDataURL(type, quality).then(function (dataurl) {\n        return dataurl.split(',')[1];\n      });\n    }\n\n    function toCanvas() {\n      return getCanvas.then(clone$1);\n    }\n\n    return {\n      getType: getType,\n      toBlob: toBlob,\n      toDataURL: toDataURL,\n      toBase64: toBase64,\n      toAdjustedBlob: toAdjustedBlob,\n      toAdjustedDataURL: toAdjustedDataURL,\n      toAdjustedBase64: toAdjustedBase64,\n      toCanvas: toCanvas\n    };\n  }\n\n  function fromBlob(blob) {\n    return blobToDataUri(blob).then(function (uri) {\n      return create$6(blobToCanvas(blob), blob, uri);\n    });\n  }\n\n  function fromCanvas(canvas, type) {\n    return canvasToBlob(canvas, type).then(function (blob) {\n      return create$6(Promise$1.resolve(canvas), blob, canvas.toDataURL());\n    });\n  }\n\n  var blobToImageResult = function blobToImageResult(blob) {\n    return fromBlob(blob);\n  };\n\n  function clamp(value, min, max) {\n    var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n\n    if (parsedValue > max) {\n      parsedValue = max;\n    } else if (parsedValue < min) {\n      parsedValue = min;\n    }\n\n    return parsedValue;\n  }\n\n  function identity$1() {\n    return [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];\n  }\n\n  var DELTA_INDEX = [0, 0.01, 0.02, 0.04, 0.05, 0.06, 0.07, 0.08, 0.1, 0.11, 0.12, 0.14, 0.15, 0.16, 0.17, 0.18, 0.2, 0.21, 0.22, 0.24, 0.25, 0.27, 0.28, 0.3, 0.32, 0.34, 0.36, 0.38, 0.4, 0.42, 0.44, 0.46, 0.48, 0.5, 0.53, 0.56, 0.59, 0.62, 0.65, 0.68, 0.71, 0.74, 0.77, 0.8, 0.83, 0.86, 0.89, 0.92, 0.95, 0.98, 1, 1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.42, 1.48, 1.54, 1.6, 1.66, 1.72, 1.78, 1.84, 1.9, 1.96, 2, 2.12, 2.25, 2.37, 2.5, 2.62, 2.75, 2.87, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.3, 4.7, 4.9, 5, 5.5, 6, 6.5, 6.8, 7, 7.3, 7.5, 7.8, 8, 8.4, 8.7, 9, 9.4, 9.6, 9.8, 10];\n\n  function multiply(matrix1, matrix2) {\n    var col = [];\n    var out = new Array(25);\n    var val;\n\n    for (var i = 0; i < 5; i++) {\n      for (var j = 0; j < 5; j++) {\n        col[j] = matrix2[j + i * 5];\n      }\n\n      for (var j = 0; j < 5; j++) {\n        val = 0;\n\n        for (var k = 0; k < 5; k++) {\n          val += matrix1[j + k * 5] * col[k];\n        }\n\n        out[j + i * 5] = val;\n      }\n    }\n\n    return out;\n  }\n\n  function adjustContrast(matrix, value) {\n    var x;\n    value = clamp(value, -1, 1);\n    value *= 100;\n\n    if (value < 0) {\n      x = 127 + value / 100 * 127;\n    } else {\n      x = value % 1;\n\n      if (x === 0) {\n        x = DELTA_INDEX[value];\n      } else {\n        x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n      }\n\n      x = x * 127 + 127;\n    }\n\n    return multiply(matrix, [x / 127, 0, 0, 0, 0.5 * (127 - x), 0, x / 127, 0, 0, 0.5 * (127 - x), 0, 0, x / 127, 0, 0.5 * (127 - x), 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);\n  }\n\n  function adjustBrightness(matrix, value) {\n    value = clamp(255 * value, -255, 255);\n    return multiply(matrix, [1, 0, 0, 0, value, 0, 1, 0, 0, value, 0, 0, 1, 0, value, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);\n  }\n\n  function adjustColors(matrix, adjustR, adjustG, adjustB) {\n    adjustR = clamp(adjustR, 0, 2);\n    adjustG = clamp(adjustG, 0, 2);\n    adjustB = clamp(adjustB, 0, 2);\n    return multiply(matrix, [adjustR, 0, 0, 0, 0, 0, adjustG, 0, 0, 0, 0, 0, adjustB, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);\n  }\n\n  function colorFilter(ir, matrix) {\n    return ir.toCanvas().then(function (canvas) {\n      return applyColorFilter(canvas, ir.getType(), matrix);\n    });\n  }\n\n  function applyColorFilter(canvas, type, matrix) {\n    var context = get2dContext(canvas);\n\n    function applyMatrix(pixelsData, m) {\n      var r, g, b, a;\n      var data = pixelsData.data,\n          m0 = m[0],\n          m1 = m[1],\n          m2 = m[2],\n          m3 = m[3],\n          m4 = m[4],\n          m5 = m[5],\n          m6 = m[6],\n          m7 = m[7],\n          m8 = m[8],\n          m9 = m[9],\n          m10 = m[10],\n          m11 = m[11],\n          m12 = m[12],\n          m13 = m[13],\n          m14 = m[14],\n          m15 = m[15],\n          m16 = m[16],\n          m17 = m[17],\n          m18 = m[18],\n          m19 = m[19];\n\n      for (var i = 0; i < data.length; i += 4) {\n        r = data[i];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n        data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n        data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n        data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n      }\n\n      return pixelsData;\n    }\n\n    var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n    context.putImageData(pixels, 0, 0);\n    return fromCanvas(canvas, type);\n  }\n\n  function convoluteFilter(ir, matrix) {\n    return ir.toCanvas().then(function (canvas) {\n      return applyConvoluteFilter(canvas, ir.getType(), matrix);\n    });\n  }\n\n  function applyConvoluteFilter(canvas, type, matrix) {\n    var context = get2dContext(canvas);\n\n    function applyMatrix(pIn, pOut, aMatrix) {\n      function clamp(value, min, max) {\n        if (value > max) {\n          value = max;\n        } else if (value < min) {\n          value = min;\n        }\n\n        return value;\n      }\n\n      var side = Math.round(Math.sqrt(aMatrix.length));\n      var halfSide = Math.floor(side / 2);\n      var rgba = pIn.data;\n      var drgba = pOut.data;\n      var w = pIn.width;\n      var h = pIn.height;\n\n      for (var y = 0; y < h; y++) {\n        for (var x = 0; x < w; x++) {\n          var r = 0;\n          var g = 0;\n          var b = 0;\n\n          for (var cy = 0; cy < side; cy++) {\n            for (var cx = 0; cx < side; cx++) {\n              var scx = clamp(x + cx - halfSide, 0, w - 1);\n              var scy = clamp(y + cy - halfSide, 0, h - 1);\n              var innerOffset = (scy * w + scx) * 4;\n              var wt = aMatrix[cy * side + cx];\n              r += rgba[innerOffset] * wt;\n              g += rgba[innerOffset + 1] * wt;\n              b += rgba[innerOffset + 2] * wt;\n            }\n          }\n\n          var offset = (y * w + x) * 4;\n          drgba[offset] = clamp(r, 0, 255);\n          drgba[offset + 1] = clamp(g, 0, 255);\n          drgba[offset + 2] = clamp(b, 0, 255);\n        }\n      }\n\n      return pOut;\n    }\n\n    var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n    var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n    pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n    context.putImageData(pixelsOut, 0, 0);\n    return fromCanvas(canvas, type);\n  }\n\n  function functionColorFilter(colorFn) {\n    var filterImpl = function filterImpl(canvas, type, value) {\n      var context = get2dContext(canvas);\n      var lookup = new Array(256);\n\n      function applyLookup(pixelsData, lookupData) {\n        var data = pixelsData.data;\n\n        for (var i = 0; i < data.length; i += 4) {\n          data[i] = lookupData[data[i]];\n          data[i + 1] = lookupData[data[i + 1]];\n          data[i + 2] = lookupData[data[i + 2]];\n        }\n\n        return pixelsData;\n      }\n\n      for (var i = 0; i < lookup.length; i++) {\n        lookup[i] = colorFn(i, value);\n      }\n\n      var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n\n    return function (ir, value) {\n      return ir.toCanvas().then(function (canvas) {\n        return filterImpl(canvas, ir.getType(), value);\n      });\n    };\n  }\n\n  function complexAdjustableColorFilter(matrixAdjustFn) {\n    return function (ir, adjust) {\n      return colorFilter(ir, matrixAdjustFn(identity$1(), adjust));\n    };\n  }\n\n  function basicColorFilter(matrix) {\n    return function (ir) {\n      return colorFilter(ir, matrix);\n    };\n  }\n\n  function basicConvolutionFilter(kernel) {\n    return function (ir) {\n      return convoluteFilter(ir, kernel);\n    };\n  }\n\n  var invert = basicColorFilter([-1, 0, 0, 0, 255, 0, -1, 0, 0, 255, 0, 0, -1, 0, 255, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);\n  var brightness = complexAdjustableColorFilter(adjustBrightness);\n  var contrast = complexAdjustableColorFilter(adjustContrast);\n\n  var colorize = function colorize(ir, adjustR, adjustG, adjustB) {\n    return colorFilter(ir, adjustColors(identity$1(), adjustR, adjustG, adjustB));\n  };\n\n  var sharpen = basicConvolutionFilter([0, -1, 0, -1, 5, -1, 0, -1, 0]);\n  var gamma = functionColorFilter(function (color, value) {\n    return Math.pow(color / 255, 1 - value) * 255;\n  });\n\n  function scale(image, dW, dH) {\n    var sW = getWidth(image);\n    var sH = getHeight(image);\n    var wRatio = dW / sW;\n    var hRatio = dH / sH;\n    var scaleCapped = false;\n\n    if (wRatio < 0.5 || wRatio > 2) {\n      wRatio = wRatio < 0.5 ? 0.5 : 2;\n      scaleCapped = true;\n    }\n\n    if (hRatio < 0.5 || hRatio > 2) {\n      hRatio = hRatio < 0.5 ? 0.5 : 2;\n      scaleCapped = true;\n    }\n\n    var scaled = _scale(image, wRatio, hRatio);\n\n    return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n      return scale(tCanvas, dW, dH);\n    });\n  }\n\n  function _scale(image, wRatio, hRatio) {\n    return new Promise$1(function (resolve) {\n      var sW = getWidth(image);\n      var sH = getHeight(image);\n      var dW = Math.floor(sW * wRatio);\n      var dH = Math.floor(sH * hRatio);\n      var canvas = create$5(dW, dH);\n      var context = get2dContext(canvas);\n      context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n      resolve(canvas);\n    });\n  }\n\n  function rotate(ir, angle) {\n    return ir.toCanvas().then(function (canvas) {\n      return applyRotate(canvas, ir.getType(), angle);\n    });\n  }\n\n  function applyRotate(image, type, angle) {\n    var canvas = create$5(image.width, image.height);\n    var context = get2dContext(canvas);\n    var translateX = 0;\n    var translateY = 0;\n    angle = angle < 0 ? 360 + angle : angle;\n\n    if (angle === 90 || angle === 270) {\n      resize(canvas, canvas.height, canvas.width);\n    }\n\n    if (angle === 90 || angle === 180) {\n      translateX = canvas.width;\n    }\n\n    if (angle === 270 || angle === 180) {\n      translateY = canvas.height;\n    }\n\n    context.translate(translateX, translateY);\n    context.rotate(angle * Math.PI / 180);\n    context.drawImage(image, 0, 0);\n    return fromCanvas(canvas, type);\n  }\n\n  function flip(ir, axis) {\n    return ir.toCanvas().then(function (canvas) {\n      return applyFlip(canvas, ir.getType(), axis);\n    });\n  }\n\n  function applyFlip(image, type, axis) {\n    var canvas = create$5(image.width, image.height);\n    var context = get2dContext(canvas);\n\n    if (axis === 'v') {\n      context.scale(1, -1);\n      context.drawImage(image, 0, -canvas.height);\n    } else {\n      context.scale(-1, 1);\n      context.drawImage(image, -canvas.width, 0);\n    }\n\n    return fromCanvas(canvas, type);\n  }\n\n  function crop(ir, x, y, w, h) {\n    return ir.toCanvas().then(function (canvas) {\n      return applyCrop(canvas, ir.getType(), x, y, w, h);\n    });\n  }\n\n  function applyCrop(image, type, x, y, w, h) {\n    var canvas = create$5(w, h);\n    var context = get2dContext(canvas);\n    context.drawImage(image, -x, -y);\n    return fromCanvas(canvas, type);\n  }\n\n  function resize$1(ir, w, h) {\n    return ir.toCanvas().then(function (canvas) {\n      return scale(canvas, w, h).then(function (newCanvas) {\n        return fromCanvas(newCanvas, ir.getType());\n      });\n    });\n  }\n\n  var invert$1 = function invert$1(ir) {\n    return invert(ir);\n  };\n\n  var sharpen$1 = function sharpen$1(ir) {\n    return sharpen(ir);\n  };\n\n  var gamma$1 = function gamma$1(ir, value) {\n    return gamma(ir, value);\n  };\n\n  var colorize$1 = function colorize$1(ir, adjustR, adjustG, adjustB) {\n    return colorize(ir, adjustR, adjustG, adjustB);\n  };\n\n  var brightness$1 = function brightness$1(ir, adjust) {\n    return brightness(ir, adjust);\n  };\n\n  var contrast$1 = function contrast$1(ir, adjust) {\n    return contrast(ir, adjust);\n  };\n\n  var flip$1 = function flip$1(ir, axis) {\n    return flip(ir, axis);\n  };\n\n  var crop$1 = function crop$1(ir, x, y, w, h) {\n    return crop(ir, x, y, w, h);\n  };\n\n  var resize$2 = function resize$2(ir, w, h) {\n    return resize$1(ir, w, h);\n  };\n\n  var rotate$1 = function rotate$1(ir, angle) {\n    return rotate(ir, angle);\n  };\n\n  var renderIcon$1 = function renderIcon$1(iconHtml, behaviours) {\n    return _assign({\n      dom: {\n        tag: 'span',\n        innerHtml: iconHtml,\n        classes: ['tox-icon', 'tox-tbtn__icon-wrap']\n      }\n    }, behaviours);\n  };\n\n  var renderIconFromPack = function renderIconFromPack(iconName, iconsProvider) {\n    return renderIcon$1(get$c(iconName, iconsProvider), {});\n  };\n\n  var renderReplacableIconFromPack = function renderReplacableIconFromPack(iconName, iconsProvider) {\n    return renderIcon$1(get$c(iconName, iconsProvider), {\n      behaviours: derive$1([Replacing.config({})])\n    });\n  };\n\n  var renderLabel$1 = function renderLabel$1(text, prefix, providersBackstage) {\n    return {\n      dom: {\n        tag: 'span',\n        innerHtml: providersBackstage.translate(text),\n        classes: [prefix + '__select-label']\n      },\n      behaviours: derive$1([Replacing.config({})])\n    };\n  };\n\n  var internalToolbarButtonExecute = generate$1('toolbar.button.execute');\n\n  var onToolbarButtonExecute = function onToolbarButtonExecute(info) {\n    return runOnExecute(function (comp, simulatedEvent) {\n      runWithApi(info, comp)(function (itemApi) {\n        emitWith(comp, internalToolbarButtonExecute, {\n          buttonApi: itemApi\n        });\n        info.onAction(itemApi);\n      });\n    });\n  };\n\n  var toolbarButtonEventOrder = {\n    'alloy.execute': ['disabling', 'alloy.base.behaviour', 'toggling', 'toolbar-button-events']\n  };\n  var updateMenuText = generate$1('update-menu-text');\n  var updateMenuIcon = generate$1('update-menu-icon');\n\n  var renderCommonDropdown = function renderCommonDropdown(spec, prefix, sharedBackstage) {\n    var editorOffCell = Cell(noop);\n    var optMemDisplayText = spec.text.map(function (text) {\n      return record(renderLabel$1(text, prefix, sharedBackstage.providers));\n    });\n    var optMemDisplayIcon = spec.icon.map(function (iconName) {\n      return record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons));\n    });\n\n    var onLeftOrRightInMenu = function onLeftOrRightInMenu(comp, se) {\n      var dropdown = Representing.getValue(comp);\n      Focusing.focus(dropdown);\n      emitWith(dropdown, 'keydown', {\n        raw: se.event().raw()\n      });\n      Dropdown.close(dropdown);\n      return Option.some(true);\n    };\n\n    var role = spec.role.fold(function () {\n      return {};\n    }, function (role) {\n      return {\n        role: role\n      };\n    });\n    var tooltipAttributes = spec.tooltip.fold(function () {\n      return {};\n    }, function (tooltip) {\n      var translatedTooltip = sharedBackstage.providers.translate(tooltip);\n      return {\n        'title': translatedTooltip,\n        'aria-label': translatedTooltip\n      };\n    });\n    var memDropdown = record(Dropdown.sketch(_assign({}, role, {\n      dom: {\n        tag: 'button',\n        classes: [prefix, prefix + '--select'].concat(map(spec.classes, function (c) {\n          return prefix + '--' + c;\n        })),\n        attributes: _assign({}, tooltipAttributes)\n      },\n      components: componentRenderPipeline([optMemDisplayIcon.map(function (mem) {\n        return mem.asSpec();\n      }), optMemDisplayText.map(function (mem) {\n        return mem.asSpec();\n      }), Option.some({\n        dom: {\n          tag: 'div',\n          classes: [prefix + '__select-chevron'],\n          innerHtml: get$c('chevron-down', sharedBackstage.providers.icons)\n        }\n      })]),\n      matchWidth: true,\n      useMinWidth: true,\n      dropdownBehaviours: derive$1(spec.dropdownBehaviours.concat([DisablingConfigs.button(spec.disabled), Unselecting.config({}), Replacing.config({}), config('dropdown-events', [onControlAttached(spec, editorOffCell), onControlDetached(spec, editorOffCell)]), config('menubutton-update-display-text', [run(updateMenuText, function (comp, se) {\n        optMemDisplayText.bind(function (mem) {\n          return mem.getOpt(comp);\n        }).each(function (displayText) {\n          Replacing.set(displayText, [text(sharedBackstage.providers.translate(se.event().text()))]);\n        });\n      }), run(updateMenuIcon, function (comp, se) {\n        optMemDisplayIcon.bind(function (mem) {\n          return mem.getOpt(comp);\n        }).each(function (displayIcon) {\n          Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event().icon(), sharedBackstage.providers.icons)]);\n        });\n      })])])),\n      eventOrder: deepMerge(toolbarButtonEventOrder, {\n        mousedown: ['focusing', 'alloy.base.behaviour', 'item-type-events', 'normal-dropdown-events']\n      }),\n      sandboxBehaviours: derive$1([Keying.config({\n        mode: 'special',\n        onLeft: onLeftOrRightInMenu,\n        onRight: onLeftOrRightInMenu\n      })]),\n      lazySink: sharedBackstage.getSink,\n      toggleClass: prefix + '--active',\n      parts: {\n        menu: part(false, spec.columns, spec.presets)\n      },\n      fetch: function fetch() {\n        return Future.nu(spec.fetch);\n      }\n    })));\n    return memDropdown.asSpec();\n  };\n\n  var getMenuButtonApi = function getMenuButtonApi(component) {\n    return {\n      isDisabled: function isDisabled() {\n        return Disabling.isDisabled(component);\n      },\n      setDisabled: function setDisabled(state) {\n        return Disabling.set(component, state);\n      },\n      setActive: function setActive(state) {\n        var elm = component.element();\n\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$1(elm, 'aria-pressed', true);\n        } else {\n          remove$4(elm, 'tox-tbtn--enabled');\n          remove$1(elm, 'aria-pressed');\n        }\n      },\n      isActive: function isActive() {\n        return has$2(component.element(), 'tox-tbtn--enabled');\n      }\n    };\n  };\n\n  var renderMenuButton = function renderMenuButton(spec, prefix, backstage, role) {\n    return renderCommonDropdown({\n      text: spec.text,\n      icon: spec.icon,\n      tooltip: spec.tooltip,\n      role: role,\n      fetch: function fetch(callback) {\n        spec.fetch(function (items) {\n          callback(build$2(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage));\n        });\n      },\n      onSetup: spec.onSetup,\n      getApi: getMenuButtonApi,\n      columns: 1,\n      presets: 'normal',\n      classes: [],\n      dropdownBehaviours: [Tabstopping.config({})]\n    }, prefix, backstage.shared);\n  };\n\n  var renderCommonSpec = function renderCommonSpec(spec, actionOpt, extraBehaviours, dom, components) {\n    if (extraBehaviours === void 0) {\n      extraBehaviours = [];\n    }\n\n    var action = actionOpt.fold(function () {\n      return {};\n    }, function (action) {\n      return {\n        action: action\n      };\n    });\n\n    var common = _assign({\n      buttonBehaviours: derive$1([DisablingConfigs.button(spec.disabled), Tabstopping.config({}), config('button press', [preventDefault('click'), preventDefault('mousedown')])].concat(extraBehaviours)),\n      eventOrder: {\n        click: ['button press', 'alloy.base.behaviour'],\n        mousedown: ['button press', 'alloy.base.behaviour']\n      }\n    }, action);\n\n    var domFinal = deepMerge(common, {\n      dom: dom\n    });\n    return deepMerge(domFinal, {\n      components: components\n    });\n  };\n\n  var renderIconButtonSpec = function renderIconButtonSpec(spec, action, providersBackstage, extraBehaviours) {\n    if (extraBehaviours === void 0) {\n      extraBehaviours = [];\n    }\n\n    var tooltipAttributes = spec.tooltip.map(function (tooltip) {\n      return {\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      };\n    }).getOr({});\n    var dom = {\n      tag: 'button',\n      classes: ['tox-tbtn'],\n      attributes: tooltipAttributes\n    };\n    var icon = spec.icon.map(function (iconName) {\n      return renderIconFromPack(iconName, providersBackstage.icons);\n    });\n    var components = componentRenderPipeline([icon]);\n    return renderCommonSpec(spec, action, extraBehaviours, dom, components);\n  };\n\n  var renderIconButton = function renderIconButton(spec, action, providersBackstage, extraBehaviours) {\n    if (extraBehaviours === void 0) {\n      extraBehaviours = [];\n    }\n\n    var iconButtonSpec = renderIconButtonSpec(spec, Option.some(action), providersBackstage, extraBehaviours);\n    return Button.sketch(iconButtonSpec);\n  };\n\n  var renderButtonSpec = function renderButtonSpec(spec, action, providersBackstage, extraBehaviours, extraClasses) {\n    if (extraBehaviours === void 0) {\n      extraBehaviours = [];\n    }\n\n    if (extraClasses === void 0) {\n      extraClasses = [];\n    }\n\n    var translatedText = providersBackstage.translate(spec.text);\n    var icon = spec.icon ? spec.icon.map(function (iconName) {\n      return renderIconFromPack(iconName, providersBackstage.icons);\n    }) : Option.none();\n    var components = icon.isSome() ? componentRenderPipeline([icon]) : [];\n    var innerHtml = icon.isSome() ? {} : {\n      innerHtml: translatedText\n    };\n    var classes = (!spec.primary && !spec.borderless ? ['tox-button', 'tox-button--secondary'] : ['tox-button']).concat(icon.isSome() ? ['tox-button--icon'] : [], spec.borderless ? ['tox-button--naked'] : [], extraClasses);\n\n    var dom = _assign({\n      tag: 'button',\n      classes: classes\n    }, innerHtml, {\n      attributes: {\n        title: translatedText\n      }\n    });\n\n    return renderCommonSpec(spec, action, extraBehaviours, dom, components);\n  };\n\n  var renderButton = function renderButton(spec, action, providersBackstage, extraBehaviours, extraClasses) {\n    if (extraBehaviours === void 0) {\n      extraBehaviours = [];\n    }\n\n    if (extraClasses === void 0) {\n      extraClasses = [];\n    }\n\n    var buttonSpec = renderButtonSpec(spec, Option.some(action), providersBackstage, extraBehaviours, extraClasses);\n    return Button.sketch(buttonSpec);\n  };\n\n  var getAction = function getAction(name, buttonType) {\n    return function (comp) {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name: name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        domGlobals.console.error('Unknown button type: ', buttonType);\n      }\n    };\n  };\n\n  var isMenuFooterButtonSpec = function isMenuFooterButtonSpec(spec, buttonType) {\n    return buttonType === 'menu';\n  };\n\n  var isNormalFooterButtonSpec = function isNormalFooterButtonSpec(spec, buttonType) {\n    return buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n  };\n\n  var renderFooterButton = function renderFooterButton(spec, buttonType, backstage) {\n    if (isMenuFooterButtonSpec(spec, buttonType)) {\n      return renderMenuButton(spec, 'tox-tbtn', backstage, Option.none());\n    } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n      var action = getAction(spec.name, buttonType);\n\n      var buttonSpec = _assign({}, spec, {\n        borderless: false\n      });\n\n      return renderButton(buttonSpec, action, backstage.shared.providers, []);\n    } else {\n      domGlobals.console.error('Unknown footer button type: ', buttonType);\n    }\n  };\n\n  var renderDialogButton = function renderDialogButton(spec, providersBackstage) {\n    var action = getAction(spec.name, 'custom');\n    return renderFormField(Option.none(), FormField.parts().field(_assign({\n      factory: Button\n    }, renderButtonSpec(spec, Option.some(action), providersBackstage, [RepresentingConfigs.memory(''), ComposingConfigs.self()]))));\n  };\n\n  var schema$i = constant([defaulted$1('field1Name', 'field1'), defaulted$1('field2Name', 'field2'), onStrictHandler('onLockedChange'), markers(['lockClass']), defaulted$1('locked', false), SketchBehaviours.field('coupledFieldBehaviours', [Composing, Representing])]);\n\n  var getField = function getField(comp, detail, partName) {\n    return getPart(comp, detail, partName).bind(Composing.getCurrent);\n  };\n\n  var coupledPart = function coupledPart(selfName, otherName) {\n    return required({\n      factory: FormField,\n      name: selfName,\n      overrides: function overrides(detail) {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run(input(), function (me) {\n            getField(me, detail, otherName).each(function (other) {\n              getPart(me, detail, 'lock').each(function (lock) {\n                if (Toggling.isOn(lock)) {\n                  detail.onLockedChange(me, other, lock);\n                }\n              });\n            });\n          })])])\n        };\n      }\n    });\n  };\n\n  var parts$6 = constant([coupledPart('field1', 'field2'), coupledPart('field2', 'field1'), required({\n    factory: Button,\n    schema: [strict$1('dom')],\n    name: 'lock',\n    overrides: function overrides(detail) {\n      return {\n        buttonBehaviours: derive$1([Toggling.config({\n          selected: detail.locked,\n          toggleClass: detail.markers.lockClass,\n          aria: {\n            mode: 'pressed'\n          }\n        })])\n      };\n    }\n  })]);\n\n  var factory$7 = function factory$7(detail, components, spec, externals) {\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [Composing.config({\n        find: Option.some\n      }), Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function getValue(comp) {\n            var _a;\n\n            var parts = getPartsOrDie(comp, detail, ['field1', 'field2']);\n            return _a = {}, _a[detail.field1Name] = Representing.getValue(parts.field1()), _a[detail.field2Name] = Representing.getValue(parts.field2()), _a;\n          },\n          setValue: function setValue(comp, value) {\n            var parts = getPartsOrDie(comp, detail, ['field1', 'field2']);\n\n            if (hasKey$1(value, detail.field1Name)) {\n              Representing.setValue(parts.field1(), value[detail.field1Name]);\n            }\n\n            if (hasKey$1(value, detail.field2Name)) {\n              Representing.setValue(parts.field2(), value[detail.field2Name]);\n            }\n          }\n        }\n      })]),\n      apis: {\n        getField1: function getField1(component) {\n          return getPart(component, detail, 'field1');\n        },\n        getField2: function getField2(component) {\n          return getPart(component, detail, 'field2');\n        },\n        getLock: function getLock(component) {\n          return getPart(component, detail, 'lock');\n        }\n      }\n    };\n  };\n\n  var FormCoupledInputs = composite$1({\n    name: 'FormCoupledInputs',\n    configFields: schema$i(),\n    partFields: parts$6(),\n    factory: factory$7,\n    apis: {\n      getField1: function getField1(apis, component) {\n        return apis.getField1(component);\n      },\n      getField2: function getField2(apis, component) {\n        return apis.getField2(component);\n      },\n      getLock: function getLock(apis, component) {\n        return apis.getLock(component);\n      }\n    }\n  });\n\n  var formatSize = function formatSize(size) {\n    var unitDec = {\n      '': 0,\n      'px': 0,\n      'pt': 1,\n      'mm': 1,\n      'pc': 2,\n      'ex': 2,\n      'em': 2,\n      'ch': 2,\n      'rem': 2,\n      'cm': 3,\n      'in': 4,\n      '%': 4\n    };\n\n    var maxDecimal = function maxDecimal(unit) {\n      return unit in unitDec ? unitDec[unit] : 1;\n    };\n\n    var numText = size.value.toFixed(maxDecimal(size.unit));\n\n    if (numText.indexOf('.') !== -1) {\n      numText = numText.replace(/\\.?0*$/, '');\n    }\n\n    return numText + size.unit;\n  };\n\n  var parseSize = function parseSize(sizeText) {\n    var numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n    var match = numPattern.exec(sizeText);\n\n    if (match !== null) {\n      var value = parseFloat(match[1]);\n      var unit = match[2];\n      return Result.value({\n        value: value,\n        unit: unit\n      });\n    } else {\n      return Result.error(sizeText);\n    }\n  };\n\n  var convertUnit = function convertUnit(size, unit) {\n    var inInch = {\n      '': 96,\n      'px': 96,\n      'pt': 72,\n      'cm': 2.54,\n      'pc': 12,\n      'mm': 25.4,\n      'in': 1\n    };\n\n    var supported = function supported(u) {\n      return Object.prototype.hasOwnProperty.call(inInch, u);\n    };\n\n    if (size.unit === unit) {\n      return Option.some(size.value);\n    } else if (supported(size.unit) && supported(unit)) {\n      if (inInch[size.unit] === inInch[unit]) {\n        return Option.some(size.value);\n      } else {\n        return Option.some(size.value / inInch[size.unit] * inInch[unit]);\n      }\n    } else {\n      return Option.none();\n    }\n  };\n\n  var noSizeConversion = function noSizeConversion(input) {\n    return Option.none();\n  };\n\n  var ratioSizeConversion = function ratioSizeConversion(scale, unit) {\n    return function (size) {\n      return convertUnit(size, unit).map(function (value) {\n        return {\n          value: value * scale,\n          unit: unit\n        };\n      });\n    };\n  };\n\n  var makeRatioConverter = function makeRatioConverter(currentFieldText, otherFieldText) {\n    var cValue = parseSize(currentFieldText).toOption();\n    var oValue = parseSize(otherFieldText).toOption();\n    return liftN([cValue, oValue], function (cSize, oSize) {\n      return convertUnit(cSize, oSize.unit).map(function (val) {\n        return oSize.value / val;\n      }).map(function (r) {\n        return ratioSizeConversion(r, oSize.unit);\n      }).getOr(noSizeConversion);\n    }).getOr(noSizeConversion);\n  };\n\n  var renderSizeInput = function renderSizeInput(spec, providersBackstage) {\n    var converter = noSizeConversion;\n    var ratioEvent = generate$1('ratio-event');\n    var pLock = FormCoupledInputs.parts().lock({\n      dom: {\n        tag: 'button',\n        classes: ['tox-lock', 'tox-button', 'tox-button--naked', 'tox-button--icon'],\n        attributes: {\n          title: providersBackstage.translate(spec.label.getOr('Constrain proportions'))\n        }\n      },\n      components: [{\n        dom: {\n          tag: 'span',\n          classes: ['tox-icon', 'tox-lock-icon__lock'],\n          innerHtml: get$c('lock', providersBackstage.icons)\n        }\n      }, {\n        dom: {\n          tag: 'span',\n          classes: ['tox-icon', 'tox-lock-icon__unlock'],\n          innerHtml: get$c('unlock', providersBackstage.icons)\n        }\n      }],\n      buttonBehaviours: derive$1([DisablingConfigs.button(spec.disabled), Tabstopping.config({})])\n    });\n\n    var formGroup = function formGroup(components) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: components\n      };\n    };\n\n    var getFieldPart = function getFieldPart(isField1) {\n      return FormField.parts().field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([Disabling.config({\n          disabled: spec.disabled\n        }), Tabstopping.config({}), config('size-input-events', [run(focusin(), function (component, simulatedEvent) {\n          emitWith(component, ratioEvent, {\n            isField1: isField1\n          });\n        }), run(change(), function (component, simulatedEvent) {\n          emitWith(component, formChangeEvent, {\n            name: spec.name\n          });\n        })])]),\n        selectOnFocus: false\n      });\n    };\n\n    var getLabel = function getLabel(label) {\n      return {\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      };\n    };\n\n    var widthField = FormCoupledInputs.parts().field1(formGroup([FormField.parts().label(getLabel('Width')), getFieldPart(true)]));\n    var heightField = FormCoupledInputs.parts().field2(formGroup([FormField.parts().label(getLabel('Height')), getFieldPart(false)]));\n    return FormCoupledInputs.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-form__group']\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: [widthField, heightField, formGroup([getLabel('&nbsp;'), pLock])]\n      }],\n      field1Name: 'width',\n      field2Name: 'height',\n      locked: true,\n      markers: {\n        lockClass: 'tox-locked'\n      },\n      onLockedChange: function onLockedChange(current, other, lock) {\n        parseSize(Representing.getValue(current)).each(function (size) {\n          converter(size).each(function (newSize) {\n            Representing.setValue(other, formatSize(newSize));\n          });\n        });\n      },\n      coupledFieldBehaviours: derive$1([Disabling.config({\n        disabled: spec.disabled,\n        onDisabled: function onDisabled(comp) {\n          FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n          FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n          FormCoupledInputs.getLock(comp).each(Disabling.disable);\n        },\n        onEnabled: function onEnabled(comp) {\n          FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n          FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n          FormCoupledInputs.getLock(comp).each(Disabling.enable);\n        }\n      }), config('size-input-events2', [run(ratioEvent, function (component, simulatedEvent) {\n        var isField1 = simulatedEvent.event().isField1();\n        var optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n        var optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n        var value1 = optCurrent.map(Representing.getValue).getOr('');\n        var value2 = optOther.map(Representing.getValue).getOr('');\n        converter = makeRatioConverter(value1, value2);\n      })])])\n    });\n  };\n\n  var undo = constant(generate$1('undo'));\n  var redo = constant(generate$1('redo'));\n  var zoom = constant(generate$1('zoom'));\n  var back = constant(generate$1('back'));\n  var apply = constant(generate$1('apply'));\n  var swap = constant(generate$1('swap'));\n  var transform = constant(generate$1('transform'));\n  var tempTransform = constant(generate$1('temp-transform'));\n  var transformApply = constant(generate$1('transform-apply'));\n  var internal = {\n    undo: undo,\n    redo: redo,\n    zoom: zoom,\n    back: back,\n    apply: apply,\n    swap: swap,\n    transform: transform,\n    tempTransform: tempTransform,\n    transformApply: transformApply\n  };\n  var saveState = constant('save-state');\n  var disable$1 = constant('disable');\n  var enable$1 = constant('enable');\n  var external$2 = {\n    formActionEvent: formActionEvent,\n    saveState: saveState,\n    disable: disable$1,\n    enable: enable$1\n  };\n\n  var renderEditPanel = function renderEditPanel(imagePanel, providersBackstage) {\n    var createButton = function createButton(text, action, disabled, primary) {\n      return record(renderButton({\n        name: text,\n        text: text,\n        disabled: disabled,\n        primary: primary,\n        icon: Option.none(),\n        borderless: false\n      }, action, providersBackstage));\n    };\n\n    var createIconButton = function createIconButton(icon, tooltip, action, disabled) {\n      return record(renderIconButton({\n        name: icon,\n        icon: Option.some(icon),\n        tooltip: Option.some(tooltip),\n        disabled: disabled,\n        primary: false,\n        borderless: false\n      }, action, providersBackstage));\n    };\n\n    var disableAllComponents = function disableAllComponents(comps, eventcomp) {\n      comps.map(function (mem) {\n        var component = mem.get(eventcomp);\n\n        if (component.hasConfigured(Disabling)) {\n          Disabling.disable(component);\n        }\n      });\n    };\n\n    var enableAllComponents = function enableAllComponents(comps, eventcomp) {\n      comps.map(function (mem) {\n        var component = mem.get(eventcomp);\n\n        if (component.hasConfigured(Disabling)) {\n          Disabling.enable(component);\n        }\n      });\n    };\n\n    var panelDom = {\n      tag: 'div',\n      classes: ['tox-image-tools__toolbar', 'tox-image-tools-edit-panel']\n    };\n    var none = Option.none();\n    var noop$1 = noop;\n\n    var emit$1 = function emit$1(comp, event, data) {\n      emitWith(comp, event, data);\n    };\n\n    var emitDisable = function emitDisable(component) {\n      return emit(component, external$2.disable());\n    };\n\n    var emitEnable = function emitEnable(component) {\n      return emit(component, external$2.enable());\n    };\n\n    var emitTransform = function emitTransform(comp, transform) {\n      emitDisable(comp);\n      emit$1(comp, internal.transform(), {\n        transform: transform\n      });\n      emitEnable(comp);\n    };\n\n    var emitTempTransform = function emitTempTransform(comp, transform) {\n      emitDisable(comp);\n      emit$1(comp, internal.tempTransform(), {\n        transform: transform\n      });\n      emitEnable(comp);\n    };\n\n    var getBackSwap = function getBackSwap(anyInSystem) {\n      return function () {\n        memContainer.getOpt(anyInSystem).each(function (container) {\n          Replacing.set(container, [ButtonPanel]);\n        });\n      };\n    };\n\n    var emitTransformApply = function emitTransformApply(comp, transform) {\n      emitDisable(comp);\n      emit$1(comp, internal.transformApply(), {\n        transform: transform,\n        swap: getBackSwap(comp)\n      });\n      emitEnable(comp);\n    };\n\n    var createBackButton = function createBackButton() {\n      return createButton('Back', function (button) {\n        return emit$1(button, internal.back(), {\n          swap: getBackSwap(button)\n        });\n      }, false, false);\n    };\n\n    var createSpacer = function createSpacer() {\n      return record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-spacer']\n        },\n        behaviours: derive$1([Disabling.config({})])\n      });\n    };\n\n    var createApplyButton = function createApplyButton() {\n      return createButton('Apply', function (button) {\n        return emit$1(button, internal.apply(), {\n          swap: getBackSwap(button)\n        });\n      }, true, true);\n    };\n\n    var makeCropTransform = function makeCropTransform() {\n      return function (ir) {\n        var rect = imagePanel.getRect();\n        return crop$1(ir, rect.x, rect.y, rect.w, rect.h);\n      };\n    };\n\n    var cropPanelComponents = [createBackButton(), createSpacer(), createButton('Apply', function (button) {\n      var transform = makeCropTransform();\n      emitTransformApply(button, transform);\n      imagePanel.hideCrop();\n    }, false, true)];\n    var CropPanel = Container.sketch({\n      dom: panelDom,\n      components: cropPanelComponents.map(function (mem) {\n        return mem.asSpec();\n      }),\n      containerBehaviours: derive$1([config('image-tools-crop-buttons-events', [run(external$2.disable(), function (comp, se) {\n        disableAllComponents(cropPanelComponents, comp);\n      }), run(external$2.enable(), function (comp, se) {\n        enableAllComponents(cropPanelComponents, comp);\n      })])])\n    });\n    var memSize = record(renderSizeInput({\n      name: 'size',\n      label: none,\n      constrain: true,\n      disabled: false\n    }, providersBackstage));\n\n    var makeResizeTransform = function makeResizeTransform(width, height) {\n      return function (ir) {\n        return resize$2(ir, width, height);\n      };\n    };\n\n    var resizePanelComponents = [createBackButton(), createSpacer(), memSize, createSpacer(), createButton('Apply', function (button) {\n      memSize.getOpt(button).each(function (sizeInput) {\n        var value = Representing.getValue(sizeInput);\n        var width = parseInt(value.width, 10);\n        var height = parseInt(value.height, 10);\n        var transform = makeResizeTransform(width, height);\n        emitTransformApply(button, transform);\n      });\n    }, false, true)];\n    var ResizePanel = Container.sketch({\n      dom: panelDom,\n      components: resizePanelComponents.map(function (mem) {\n        return mem.asSpec();\n      }),\n      containerBehaviours: derive$1([config('image-tools-resize-buttons-events', [run(external$2.disable(), function (comp, se) {\n        disableAllComponents(resizePanelComponents, comp);\n      }), run(external$2.enable(), function (comp, se) {\n        enableAllComponents(resizePanelComponents, comp);\n      })])])\n    });\n\n    var makeValueTransform = function makeValueTransform(transform, value) {\n      return function (ir) {\n        return transform(ir, value);\n      };\n    };\n\n    var horizontalFlip = makeValueTransform(flip$1, 'h');\n    var verticalFlip = makeValueTransform(flip$1, 'v');\n    var counterclockwiseRotate = makeValueTransform(rotate$1, -90);\n    var clockwiseRotate = makeValueTransform(rotate$1, 90);\n\n    var flipRotateOnAction = function flipRotateOnAction(comp, operation) {\n      emitTempTransform(comp, operation);\n    };\n\n    var flipRotateComponents = [createBackButton(), createSpacer(), createIconButton('flip-horizontally', 'Flip horizontally', function (button) {\n      flipRotateOnAction(button, horizontalFlip);\n    }, false), createIconButton('flip-vertically', 'Flip vertically', function (button) {\n      flipRotateOnAction(button, verticalFlip);\n    }, false), createIconButton('rotate-left', 'Rotate counterclockwise', function (button) {\n      flipRotateOnAction(button, counterclockwiseRotate);\n    }, false), createIconButton('rotate-right', 'Rotate clockwise', function (button) {\n      flipRotateOnAction(button, clockwiseRotate);\n    }, false), createSpacer(), createApplyButton()];\n    var FlipRotatePanel = Container.sketch({\n      dom: panelDom,\n      components: flipRotateComponents.map(function (mem) {\n        return mem.asSpec();\n      }),\n      containerBehaviours: derive$1([config('image-tools-fliprotate-buttons-events', [run(external$2.disable(), function (comp, se) {\n        disableAllComponents(flipRotateComponents, comp);\n      }), run(external$2.enable(), function (comp, se) {\n        enableAllComponents(flipRotateComponents, comp);\n      })])])\n    });\n\n    var makeSlider = function makeSlider(label, onChoose, min, value, max) {\n      var labelPart = Slider.parts().label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      });\n      var spectrum = Slider.parts().spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: {\n            role: 'presentation'\n          }\n        }\n      });\n      var thumb = Slider.parts().thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: {\n            role: 'presentation'\n          }\n        }\n      });\n      return record(Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: {\n            role: 'presentation'\n          }\n        },\n        model: {\n          mode: 'x',\n          minX: min,\n          maxX: max,\n          getInitialValue: constant({\n            x: constant(value)\n          })\n        },\n        components: [labelPart, spectrum, thumb],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChoose: onChoose\n      }));\n    };\n\n    var makeVariableSlider = function makeVariableSlider(label, transform, min, value, max) {\n      var onChoose = function onChoose(slider, thumb, value) {\n        var valTransform = makeValueTransform(transform, value.x() / 100);\n        emitTransform(slider, valTransform);\n      };\n\n      return makeSlider(label, onChoose, min, value, max);\n    };\n\n    var variableFilterPanelComponents = function variableFilterPanelComponents(label, transform, min, value, max) {\n      return [createBackButton(), makeVariableSlider(label, transform, min, value, max), createApplyButton()];\n    };\n\n    var createVariableFilterPanel = function createVariableFilterPanel(label, transform, min, value, max) {\n      var filterPanelComponents = variableFilterPanelComponents(label, transform, min, value, max);\n      return Container.sketch({\n        dom: panelDom,\n        components: filterPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-filter-panel-buttons-events', [run(external$2.disable(), function (comp, se) {\n          disableAllComponents(filterPanelComponents, comp);\n        }), run(external$2.enable(), function (comp, se) {\n          enableAllComponents(filterPanelComponents, comp);\n        })])])\n      });\n    };\n\n    var filterPanelComponents = [createBackButton(), createSpacer(), createApplyButton()];\n    var FilterPanel = Container.sketch({\n      dom: panelDom,\n      components: filterPanelComponents.map(function (mem) {\n        return mem.asSpec();\n      })\n    });\n    var BrightnessPanel = createVariableFilterPanel('Brightness', brightness$1, -100, 0, 100);\n    var ContrastPanel = createVariableFilterPanel('Contrast', contrast$1, -100, 0, 100);\n    var GammaPanel = createVariableFilterPanel('Gamma', gamma$1, -100, 0, 100);\n\n    var makeColorTransform = function makeColorTransform(red, green, blue) {\n      return function (ir) {\n        return colorize$1(ir, red, green, blue);\n      };\n    };\n\n    var makeColorSlider = function makeColorSlider(label) {\n      var onChoose = function onChoose(slider, thumb, value) {\n        var redOpt = memRed.getOpt(slider);\n        var blueOpt = memBlue.getOpt(slider);\n        var greenOpt = memGreen.getOpt(slider);\n        redOpt.each(function (red) {\n          blueOpt.each(function (blue) {\n            greenOpt.each(function (green) {\n              var r = Representing.getValue(red).x() / 100;\n              var g = Representing.getValue(green).x() / 100;\n              var b = Representing.getValue(blue).x() / 100;\n              var transform = makeColorTransform(r, g, b);\n              emitTransform(slider, transform);\n            });\n          });\n        });\n      };\n\n      return makeSlider(label, onChoose, 0, 100, 200);\n    };\n\n    var memRed = makeColorSlider('R');\n    var memGreen = makeColorSlider('G');\n    var memBlue = makeColorSlider('B');\n    var colorizePanelComponents = [createBackButton(), memRed, memGreen, memBlue, createApplyButton()];\n    var ColorizePanel = Container.sketch({\n      dom: panelDom,\n      components: colorizePanelComponents.map(function (mem) {\n        return mem.asSpec();\n      })\n    });\n\n    var getTransformPanelEvent = function getTransformPanelEvent(panel, transform, update) {\n      return function (button) {\n        var swap = function swap() {\n          memContainer.getOpt(button).each(function (container) {\n            Replacing.set(container, [panel]);\n            update(container);\n          });\n        };\n\n        emit$1(button, internal.swap(), {\n          transform: transform,\n          swap: swap\n        });\n      };\n    };\n\n    var cropPanelUpdate = function cropPanelUpdate(_anyInSystem) {\n      imagePanel.showCrop();\n    };\n\n    var resizePanelUpdate = function resizePanelUpdate(anyInSystem) {\n      memSize.getOpt(anyInSystem).each(function (sizeInput) {\n        var measurements = imagePanel.getMeasurements();\n        var width = measurements.width;\n        var height = measurements.height;\n        Representing.setValue(sizeInput, {\n          width: width,\n          height: height\n        });\n      });\n    };\n\n    var sharpenTransform = Option.some(sharpen$1);\n    var invertTransform = Option.some(invert$1);\n    var buttonPanelComponents = [createIconButton('crop', 'Crop', getTransformPanelEvent(CropPanel, none, cropPanelUpdate), false), createIconButton('resize', 'Resize', getTransformPanelEvent(ResizePanel, none, resizePanelUpdate), false), createIconButton('orientation', 'Orientation', getTransformPanelEvent(FlipRotatePanel, none, noop$1), false), createIconButton('brightness', 'Brightness', getTransformPanelEvent(BrightnessPanel, none, noop$1), false), createIconButton('sharpen', 'Sharpen', getTransformPanelEvent(FilterPanel, sharpenTransform, noop$1), false), createIconButton('contrast', 'Contrast', getTransformPanelEvent(ContrastPanel, none, noop$1), false), createIconButton('color-levels', 'Color levels', getTransformPanelEvent(ColorizePanel, none, noop$1), false), createIconButton('gamma', 'Gamma', getTransformPanelEvent(GammaPanel, none, noop$1), false), createIconButton('invert', 'Invert', getTransformPanelEvent(FilterPanel, invertTransform, noop$1), false)];\n    var ButtonPanel = Container.sketch({\n      dom: panelDom,\n      components: buttonPanelComponents.map(function (mem) {\n        return mem.asSpec();\n      })\n    });\n    var container = Container.sketch({\n      dom: {\n        tag: 'div'\n      },\n      components: [ButtonPanel],\n      containerBehaviours: derive$1([Replacing.config({})])\n    });\n    var memContainer = record(container);\n\n    var getApplyButton = function getApplyButton(anyInSystem) {\n      return memContainer.getOpt(anyInSystem).map(function (container) {\n        var panel = container.components()[0];\n        return panel.components()[panel.components().length - 1];\n      });\n    };\n\n    return {\n      memContainer: memContainer,\n      getApplyButton: getApplyButton\n    };\n  };\n\n  var global$b = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n  var global$c = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n  var global$d = tinymce.util.Tools.resolve('tinymce.util.Observable');\n  var global$e = tinymce.util.Tools.resolve('tinymce.util.Tools');\n  var global$f = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n  function getDocumentSize(doc) {\n    var documentElement, body, scrollWidth, clientWidth;\n    var offsetWidth, scrollHeight, clientHeight, offsetHeight;\n    var max = Math.max;\n    documentElement = doc.documentElement;\n    body = doc.body;\n    scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n    clientWidth = max(documentElement.clientWidth, body.clientWidth);\n    offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n    scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n    clientHeight = max(documentElement.clientHeight, body.clientHeight);\n    offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n    return {\n      width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n      height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n    };\n  }\n\n  function updateWithTouchData(e) {\n    var keys, i;\n\n    if (e.changedTouches) {\n      keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n\n      for (i = 0; i < keys.length; i++) {\n        e[keys[i]] = e.changedTouches[0][keys[i]];\n      }\n    }\n  }\n\n  function DragHelper(id, settings) {\n    var $eventOverlay;\n    var doc = settings.document || domGlobals.document;\n    var downButton;\n\n    var start, _stop, drag, startX, startY;\n\n    settings = settings || {};\n    var handleElement = doc.getElementById(settings.handle || id);\n\n    start = function start(e) {\n      var docSize = getDocumentSize(doc);\n      var handleElm, cursor;\n      updateWithTouchData(e);\n      e.preventDefault();\n      downButton = e.button;\n      handleElm = handleElement;\n      startX = e.screenX;\n      startY = e.screenY;\n\n      if (domGlobals.window.getComputedStyle) {\n        cursor = domGlobals.window.getComputedStyle(handleElm, null).getPropertyValue('cursor');\n      } else {\n        cursor = handleElm.runtimeStyle.cursor;\n      }\n\n      $eventOverlay = global$b('<div></div>').css({\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: docSize.width,\n        height: docSize.height,\n        zIndex: 2147483647,\n        opacity: 0.0001,\n        cursor: cursor\n      }).appendTo(doc.body);\n      global$b(doc).on('mousemove touchmove', drag).on('mouseup touchend', _stop);\n      settings.start(e);\n    };\n\n    drag = function drag(e) {\n      updateWithTouchData(e);\n\n      if (e.button !== downButton) {\n        return _stop(e);\n      }\n\n      e.deltaX = e.screenX - startX;\n      e.deltaY = e.screenY - startY;\n      e.preventDefault();\n      settings.drag(e);\n    };\n\n    _stop = function stop(e) {\n      updateWithTouchData(e);\n      global$b(doc).off('mousemove touchmove', drag).off('mouseup touchend', _stop);\n      $eventOverlay.remove();\n\n      if (settings.stop) {\n        settings.stop(e);\n      }\n    };\n\n    this.destroy = function () {\n      global$b(handleElement).off();\n    };\n\n    global$b(handleElement).on('mousedown touchstart', start);\n  }\n\n  var count = 0;\n\n  function CropRect(currentRect, viewPortRect, clampRect, containerElm, action) {\n    var instance;\n    var handles;\n    var dragHelpers;\n    var blockers;\n    var prefix = 'tox-';\n    var id = prefix + 'crid-' + count++;\n    handles = [{\n      name: 'move',\n      xMul: 0,\n      yMul: 0,\n      deltaX: 1,\n      deltaY: 1,\n      deltaW: 0,\n      deltaH: 0,\n      label: 'Crop Mask'\n    }, {\n      name: 'nw',\n      xMul: 0,\n      yMul: 0,\n      deltaX: 1,\n      deltaY: 1,\n      deltaW: -1,\n      deltaH: -1,\n      label: 'Top Left Crop Handle'\n    }, {\n      name: 'ne',\n      xMul: 1,\n      yMul: 0,\n      deltaX: 0,\n      deltaY: 1,\n      deltaW: 1,\n      deltaH: -1,\n      label: 'Top Right Crop Handle'\n    }, {\n      name: 'sw',\n      xMul: 0,\n      yMul: 1,\n      deltaX: 1,\n      deltaY: 0,\n      deltaW: -1,\n      deltaH: 1,\n      label: 'Bottom Left Crop Handle'\n    }, {\n      name: 'se',\n      xMul: 1,\n      yMul: 1,\n      deltaX: 0,\n      deltaY: 0,\n      deltaW: 1,\n      deltaH: 1,\n      label: 'Bottom Right Crop Handle'\n    }];\n    blockers = ['top', 'right', 'bottom', 'left'];\n\n    function getAbsoluteRect(outerRect, relativeRect) {\n      return {\n        x: relativeRect.x + outerRect.x,\n        y: relativeRect.y + outerRect.y,\n        w: relativeRect.w,\n        h: relativeRect.h\n      };\n    }\n\n    function getRelativeRect(outerRect, innerRect) {\n      return {\n        x: innerRect.x - outerRect.x,\n        y: innerRect.y - outerRect.y,\n        w: innerRect.w,\n        h: innerRect.h\n      };\n    }\n\n    function getInnerRect() {\n      return getRelativeRect(clampRect, currentRect);\n    }\n\n    function moveRect(handle, startRect, deltaX, deltaY) {\n      var x, y, w, h, rect;\n      x = startRect.x;\n      y = startRect.y;\n      w = startRect.w;\n      h = startRect.h;\n      x += deltaX * handle.deltaX;\n      y += deltaY * handle.deltaY;\n      w += deltaX * handle.deltaW;\n      h += deltaY * handle.deltaH;\n\n      if (w < 20) {\n        w = 20;\n      }\n\n      if (h < 20) {\n        h = 20;\n      }\n\n      rect = currentRect = global$c.clamp({\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      }, clampRect, handle.name === 'move');\n      rect = getRelativeRect(clampRect, rect);\n      instance.fire('updateRect', {\n        rect: rect\n      });\n      setInnerRect(rect);\n    }\n\n    function render() {\n      function createDragHelper(handle) {\n        var startRect;\n        return new DragHelper(id, {\n          document: containerElm.ownerDocument,\n          handle: id + '-' + handle.name,\n          start: function start() {\n            startRect = currentRect;\n          },\n          drag: function drag(e) {\n            moveRect(handle, startRect, e.deltaX, e.deltaY);\n          }\n        });\n      }\n\n      global$b('<div id=\"' + id + '\" class=\"' + prefix + 'croprect-container\"' + ' role=\"grid\" aria-dropeffect=\"execute\">').appendTo(containerElm);\n      global$e.each(blockers, function (blocker) {\n        global$b('#' + id, containerElm).append('<div id=\"' + id + '-' + blocker + '\"class=\"' + prefix + 'croprect-block\" style=\"display: none\" data-mce-bogus=\"all\">');\n      });\n      global$e.each(handles, function (handle) {\n        global$b('#' + id, containerElm).append('<div id=\"' + id + '-' + handle.name + '\" class=\"' + prefix + 'croprect-handle ' + prefix + 'croprect-handle-' + handle.name + '\"' + 'style=\"display: none\" data-mce-bogus=\"all\" role=\"gridcell\" tabindex=\"-1\"' + ' aria-label=\"' + handle.label + '\" aria-grabbed=\"false\" title=\"' + handle.label + '\">');\n      });\n      dragHelpers = global$e.map(handles, createDragHelper);\n      repaint(currentRect);\n      global$b(containerElm).on('focusin focusout', function (e) {\n        global$b(e.target).attr('aria-grabbed', e.type === 'focus' ? 'true' : 'false');\n      });\n      global$b(containerElm).on('keydown', function (e) {\n        var activeHandle;\n        global$e.each(handles, function (handle) {\n          if (e.target.id === id + '-' + handle.name) {\n            activeHandle = handle;\n            return false;\n          }\n        });\n\n        function moveAndBlock(evt, handle, startRect, deltaX, deltaY) {\n          evt.stopPropagation();\n          evt.preventDefault();\n          moveRect(activeHandle, startRect, deltaX, deltaY);\n        }\n\n        switch (e.keyCode) {\n          case global$f.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n\n          case global$f.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n\n          case global$f.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n\n          case global$f.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n\n          case global$f.ENTER:\n          case global$f.SPACEBAR:\n            e.preventDefault();\n            action();\n            break;\n        }\n      });\n    }\n\n    function toggleVisibility(state) {\n      var selectors;\n      selectors = global$e.map(handles, function (handle) {\n        return '#' + id + '-' + handle.name;\n      }).concat(global$e.map(blockers, function (blocker) {\n        return '#' + id + '-' + blocker;\n      })).join(',');\n\n      if (state) {\n        global$b(selectors, containerElm).show();\n      } else {\n        global$b(selectors, containerElm).hide();\n      }\n    }\n\n    function repaint(rect) {\n      function updateElementRect(name, rect) {\n        if (rect.h < 0) {\n          rect.h = 0;\n        }\n\n        if (rect.w < 0) {\n          rect.w = 0;\n        }\n\n        global$b('#' + id + '-' + name, containerElm).css({\n          left: rect.x,\n          top: rect.y,\n          width: rect.w,\n          height: rect.h\n        });\n      }\n\n      global$e.each(handles, function (handle) {\n        global$b('#' + id + '-' + handle.name, containerElm).css({\n          left: rect.w * handle.xMul + rect.x,\n          top: rect.h * handle.yMul + rect.y\n        });\n      });\n      updateElementRect('top', {\n        x: viewPortRect.x,\n        y: viewPortRect.y,\n        w: viewPortRect.w,\n        h: rect.y - viewPortRect.y\n      });\n      updateElementRect('right', {\n        x: rect.x + rect.w,\n        y: rect.y,\n        w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n        h: rect.h\n      });\n      updateElementRect('bottom', {\n        x: viewPortRect.x,\n        y: rect.y + rect.h,\n        w: viewPortRect.w,\n        h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n      });\n      updateElementRect('left', {\n        x: viewPortRect.x,\n        y: rect.y,\n        w: rect.x - viewPortRect.x,\n        h: rect.h\n      });\n      updateElementRect('move', rect);\n    }\n\n    function setRect(rect) {\n      currentRect = rect;\n      repaint(currentRect);\n    }\n\n    function setViewPortRect(rect) {\n      viewPortRect = rect;\n      repaint(currentRect);\n    }\n\n    function setInnerRect(rect) {\n      setRect(getAbsoluteRect(clampRect, rect));\n    }\n\n    function setClampRect(rect) {\n      clampRect = rect;\n      repaint(currentRect);\n    }\n\n    function destroy() {\n      global$e.each(dragHelpers, function (helper) {\n        helper.destroy();\n      });\n      dragHelpers = [];\n    }\n\n    render();\n    instance = global$e.extend({\n      toggleVisibility: toggleVisibility,\n      setClampRect: setClampRect,\n      setRect: setRect,\n      getInnerRect: getInnerRect,\n      setInnerRect: setInnerRect,\n      setViewPortRect: setViewPortRect,\n      destroy: destroy\n    }, global$d);\n    return instance;\n  }\n\n  var loadImage = function loadImage(image) {\n    return new global$4(function (resolve) {\n      var loaded = function loaded() {\n        image.removeEventListener('load', loaded);\n        resolve(image);\n      };\n\n      if (image.complete) {\n        resolve(image);\n      } else {\n        image.addEventListener('load', loaded);\n      }\n    });\n  };\n\n  var renderImagePanel = function renderImagePanel(initialUrl) {\n    var memBg = record({\n      dom: {\n        tag: 'div',\n        classes: ['tox-image-tools__image-bg'],\n        attributes: {\n          role: 'presentation'\n        }\n      }\n    });\n    var zoomState = Cell(1);\n    var cropRect = Cell(Option.none());\n    var rectState = Cell({\n      x: 0,\n      y: 0,\n      w: 1,\n      h: 1\n    });\n    var viewRectState = Cell({\n      x: 0,\n      y: 0,\n      w: 1,\n      h: 1\n    });\n\n    var repaintImg = function repaintImg(anyInSystem, img) {\n      memContainer.getOpt(anyInSystem).each(function (panel) {\n        var zoom = zoomState.get();\n        var panelW = get$7(panel.element());\n        var panelH = get$6(panel.element());\n        var width = img.dom().naturalWidth * zoom;\n        var height = img.dom().naturalHeight * zoom;\n        var left = Math.max(0, panelW / 2 - width / 2);\n        var top = Math.max(0, panelH / 2 - height / 2);\n        var css = {\n          left: left.toString() + 'px',\n          top: top.toString() + 'px',\n          width: width.toString() + 'px',\n          height: height.toString() + 'px',\n          position: 'absolute'\n        };\n        setAll$1(img, css);\n        memBg.getOpt(panel).each(function (bg) {\n          setAll$1(bg.element(), css);\n        });\n        cropRect.get().each(function (cRect) {\n          var rect = rectState.get();\n          cRect.setRect({\n            x: rect.x * zoom + left,\n            y: rect.y * zoom + top,\n            w: rect.w * zoom,\n            h: rect.h * zoom\n          });\n          cRect.setClampRect({\n            x: left,\n            y: top,\n            w: width,\n            h: height\n          });\n          cRect.setViewPortRect({\n            x: 0,\n            y: 0,\n            w: panelW,\n            h: panelH\n          });\n        });\n      });\n    };\n\n    var zoomFit = function zoomFit(anyInSystem, img) {\n      memContainer.getOpt(anyInSystem).each(function (panel) {\n        var panelW = get$7(panel.element());\n        var panelH = get$6(panel.element());\n        var width = img.dom().naturalWidth;\n        var height = img.dom().naturalHeight;\n        var zoom = Math.min(panelW / width, panelH / height);\n\n        if (zoom >= 1) {\n          zoomState.set(1);\n        } else {\n          zoomState.set(zoom);\n        }\n      });\n    };\n\n    var updateSrc = function updateSrc(anyInSystem, url) {\n      var img = Element.fromTag('img');\n      set$1(img, 'src', url);\n      return loadImage(img.dom()).then(function () {\n        return memContainer.getOpt(anyInSystem).map(function (panel) {\n          var aImg = external({\n            element: img\n          });\n          Replacing.replaceAt(panel, 1, Option.some(aImg));\n          var lastViewRect = viewRectState.get();\n          var viewRect = {\n            x: 0,\n            y: 0,\n            w: img.dom().naturalWidth,\n            h: img.dom().naturalHeight\n          };\n          viewRectState.set(viewRect);\n          var rect = global$c.inflate(viewRect, -20, -20);\n          rectState.set(rect);\n\n          if (lastViewRect.w !== viewRect.w || lastViewRect.h !== viewRect.h) {\n            zoomFit(panel, img);\n          }\n\n          repaintImg(panel, img);\n          return img;\n        });\n      });\n    };\n\n    var zoom = function zoom(anyInSystem, direction) {\n      var currentZoom = zoomState.get();\n      var newZoom = direction > 0 ? Math.min(2, currentZoom + 0.1) : Math.max(0.1, currentZoom - 0.1);\n      zoomState.set(newZoom);\n      memContainer.getOpt(anyInSystem).each(function (panel) {\n        var img = panel.components()[1].element();\n        repaintImg(panel, img);\n      });\n    };\n\n    var showCrop = function showCrop() {\n      cropRect.get().each(function (cRect) {\n        cRect.toggleVisibility(true);\n      });\n    };\n\n    var hideCrop = function hideCrop() {\n      cropRect.get().each(function (cRect) {\n        cRect.toggleVisibility(false);\n      });\n    };\n\n    var getRect = function getRect() {\n      return rectState.get();\n    };\n\n    var container = Container.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-image-tools__image']\n      },\n      components: [memBg.asSpec(), {\n        dom: {\n          tag: 'img',\n          attributes: {\n            src: initialUrl\n          }\n        }\n      }, {\n        dom: {\n          tag: 'div'\n        },\n        behaviours: derive$1([config('image-panel-crop-events', [runOnAttached(function (comp) {\n          memContainer.getOpt(comp).each(function (container) {\n            var el = container.element().dom();\n            var cRect = CropRect({\n              x: 10,\n              y: 10,\n              w: 100,\n              h: 100\n            }, {\n              x: 0,\n              y: 0,\n              w: 200,\n              h: 200\n            }, {\n              x: 0,\n              y: 0,\n              w: 200,\n              h: 200\n            }, el, function () {});\n            cRect.toggleVisibility(false);\n            cRect.on('updateRect', function (e) {\n              var rect = e.rect;\n              var zoom = zoomState.get();\n              var newRect = {\n                x: Math.round(rect.x / zoom),\n                y: Math.round(rect.y / zoom),\n                w: Math.round(rect.w / zoom),\n                h: Math.round(rect.h / zoom)\n              };\n              rectState.set(newRect);\n            });\n            cropRect.set(Option.some(cRect));\n          });\n        })])])\n      }],\n      containerBehaviours: derive$1([Replacing.config({}), config('image-panel-events', [runOnAttached(function (comp) {\n        updateSrc(comp, initialUrl);\n      })])])\n    });\n    var memContainer = record(container);\n\n    var getMeasurements = function getMeasurements() {\n      var viewRect = viewRectState.get();\n      return {\n        width: viewRect.w,\n        height: viewRect.h\n      };\n    };\n\n    return {\n      memContainer: memContainer,\n      updateSrc: updateSrc,\n      zoom: zoom,\n      showCrop: showCrop,\n      hideCrop: hideCrop,\n      getRect: getRect,\n      getMeasurements: getMeasurements\n    };\n  };\n\n  var createButton = function createButton(innerHtml, icon, disabled, action, providersBackstage) {\n    return renderIconButton({\n      name: innerHtml,\n      icon: Option.some(icon),\n      disabled: disabled,\n      tooltip: Option.some(innerHtml),\n      primary: false,\n      borderless: false\n    }, action, providersBackstage);\n  };\n\n  var setButtonEnabled = function setButtonEnabled(button, enabled) {\n    if (enabled) {\n      Disabling.enable(button);\n    } else {\n      Disabling.disable(button);\n    }\n  };\n\n  var renderSideBar = function renderSideBar(providersBackstage) {\n    var updateButtonUndoStates = function updateButtonUndoStates(anyInSystem, undoEnabled, redoEnabled) {\n      memUndo.getOpt(anyInSystem).each(function (undo) {\n        setButtonEnabled(undo, undoEnabled);\n      });\n      memRedo.getOpt(anyInSystem).each(function (redo) {\n        setButtonEnabled(redo, redoEnabled);\n      });\n    };\n\n    var memUndo = record(createButton('Undo', 'undo', true, function (button) {\n      emitWith(button, internal.undo(), {\n        direction: 1\n      });\n    }, providersBackstage));\n    var memRedo = record(createButton('Redo', 'redo', true, function (button) {\n      emitWith(button, internal.redo(), {\n        direction: 1\n      });\n    }, providersBackstage));\n    var container = Container.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-image-tools__toolbar', 'tox-image-tools__sidebar']\n      },\n      components: [memUndo.asSpec(), memRedo.asSpec(), createButton('Zoom in', 'zoom-in', false, function (button) {\n        emitWith(button, internal.zoom(), {\n          direction: 1\n        });\n      }, providersBackstage), createButton('Zoom out', 'zoom-out', false, function (button) {\n        emitWith(button, internal.zoom(), {\n          direction: -1\n        });\n      }, providersBackstage)]\n    });\n    return {\n      container: container,\n      updateButtonUndoStates: updateButtonUndoStates\n    };\n  };\n\n  function UndoStack() {\n    var data = [];\n    var index = -1;\n\n    function add(state) {\n      var removed;\n      removed = data.splice(++index);\n      data.push(state);\n      return {\n        state: state,\n        removed: removed\n      };\n    }\n\n    function undo() {\n      if (canUndo()) {\n        return data[--index];\n      }\n    }\n\n    function redo() {\n      if (canRedo()) {\n        return data[++index];\n      }\n    }\n\n    function canUndo() {\n      return index > 0;\n    }\n\n    function canRedo() {\n      return index !== -1 && index < data.length - 1;\n    }\n\n    return {\n      data: data,\n      add: add,\n      undo: undo,\n      redo: redo,\n      canUndo: canUndo,\n      canRedo: canRedo\n    };\n  }\n\n  var makeState = function makeState(initialState) {\n    var blobState = Cell(initialState);\n    var tempState = Cell(Option.none());\n    var undoStack = UndoStack();\n    undoStack.add(initialState);\n\n    var getBlobState = function getBlobState() {\n      return blobState.get();\n    };\n\n    var setBlobState = function setBlobState(state) {\n      blobState.set(state);\n    };\n\n    var getTempState = function getTempState() {\n      return tempState.get().fold(function () {\n        return blobState.get();\n      }, function (temp) {\n        return temp;\n      });\n    };\n\n    var updateTempState = function updateTempState(blob) {\n      var newTempState = createState(blob);\n      destroyTempState();\n      tempState.set(Option.some(newTempState));\n      return newTempState.url;\n    };\n\n    var createState = function createState(blob) {\n      return {\n        blob: blob,\n        url: domGlobals.URL.createObjectURL(blob)\n      };\n    };\n\n    var destroyState = function destroyState(state) {\n      domGlobals.URL.revokeObjectURL(state.url);\n    };\n\n    var destroyStates = function destroyStates(states) {\n      global$e.each(states, destroyState);\n    };\n\n    var destroyTempState = function destroyTempState() {\n      tempState.get().each(destroyState);\n      tempState.set(Option.none());\n    };\n\n    var addBlobState = function addBlobState(blob) {\n      var newState = createState(blob);\n      setBlobState(newState);\n      var removed = undoStack.add(newState).removed;\n      destroyStates(removed);\n      return newState.url;\n    };\n\n    var addTempState = function addTempState(blob) {\n      var newState = createState(blob);\n      tempState.set(Option.some(newState));\n      return newState.url;\n    };\n\n    var applyTempState = function applyTempState(postApply) {\n      return tempState.get().fold(function () {}, function (temp) {\n        addBlobState(temp.blob);\n        postApply();\n      });\n    };\n\n    var undo = function undo() {\n      var currentState = undoStack.undo();\n      setBlobState(currentState);\n      return currentState.url;\n    };\n\n    var redo = function redo() {\n      var currentState = undoStack.redo();\n      setBlobState(currentState);\n      return currentState.url;\n    };\n\n    var getHistoryStates = function getHistoryStates() {\n      var undoEnabled = undoStack.canUndo();\n      var redoEnabled = undoStack.canRedo();\n      return {\n        undoEnabled: undoEnabled,\n        redoEnabled: redoEnabled\n      };\n    };\n\n    return {\n      getBlobState: getBlobState,\n      setBlobState: setBlobState,\n      addBlobState: addBlobState,\n      getTempState: getTempState,\n      updateTempState: updateTempState,\n      addTempState: addTempState,\n      applyTempState: applyTempState,\n      destroyTempState: destroyTempState,\n      undo: undo,\n      redo: redo,\n      getHistoryStates: getHistoryStates\n    };\n  };\n\n  var renderImageTools = function renderImageTools(detail, providersBackstage) {\n    var state = makeState(detail.currentState);\n\n    var zoom = function zoom(anyInSystem, simulatedEvent) {\n      var direction = simulatedEvent.event().direction();\n      imagePanel.zoom(anyInSystem, direction);\n    };\n\n    var updateButtonUndoStates = function updateButtonUndoStates(anyInSystem) {\n      var historyStates = state.getHistoryStates();\n      sideBar.updateButtonUndoStates(anyInSystem, historyStates.undoEnabled, historyStates.redoEnabled);\n      emitWith(anyInSystem, external$2.formActionEvent, {\n        name: external$2.saveState(),\n        value: historyStates.undoEnabled\n      });\n    };\n\n    var disableUndoRedo = function disableUndoRedo(anyInSystem) {\n      sideBar.updateButtonUndoStates(anyInSystem, false, false);\n    };\n\n    var undo = function undo(anyInSystem, _simulatedEvent) {\n      var url = state.undo();\n      updateSrc(anyInSystem, url).then(function (oImg) {\n        unblock(anyInSystem);\n        updateButtonUndoStates(anyInSystem);\n      });\n    };\n\n    var redo = function redo(anyInSystem, _simulatedEvent) {\n      var url = state.redo();\n      updateSrc(anyInSystem, url).then(function (oImg) {\n        unblock(anyInSystem);\n        updateButtonUndoStates(anyInSystem);\n      });\n    };\n\n    var imageResultToBlob = function imageResultToBlob(ir) {\n      return ir.toBlob();\n    };\n\n    var block = function block(anyInSystem) {\n      emitWith(anyInSystem, external$2.formActionEvent, {\n        name: external$2.disable(),\n        value: {}\n      });\n    };\n\n    var unblock = function unblock(anyInSystem) {\n      editPanel.getApplyButton(anyInSystem).each(function (applyButton) {\n        Disabling.enable(applyButton);\n      });\n      emitWith(anyInSystem, external$2.formActionEvent, {\n        name: external$2.enable(),\n        value: {}\n      });\n    };\n\n    var updateSrc = function updateSrc(anyInSystem, src) {\n      block(anyInSystem);\n      return imagePanel.updateSrc(anyInSystem, src);\n    };\n\n    var blobManipulate = function blobManipulate(anyInSystem, blob, filter, action, swap) {\n      block(anyInSystem);\n      return blobToImageResult(blob).then(filter).then(imageResultToBlob).then(action).then(function (url) {\n        return updateSrc(anyInSystem, url).then(function (oImg) {\n          updateButtonUndoStates(anyInSystem);\n          swap();\n          unblock(anyInSystem);\n          return oImg;\n        });\n      }).catch(function (err) {\n        domGlobals.console.log(err);\n        unblock(anyInSystem);\n        return err;\n      });\n    };\n\n    var manipulate = function manipulate(anyInSystem, filter, swap) {\n      var blob = state.getBlobState().blob;\n\n      var action = function action(blob) {\n        return state.updateTempState(blob);\n      };\n\n      blobManipulate(anyInSystem, blob, filter, action, swap);\n    };\n\n    var tempManipulate = function tempManipulate(anyInSystem, filter) {\n      var blob = state.getTempState().blob;\n\n      var action = function action(blob) {\n        return state.addTempState(blob);\n      };\n\n      blobManipulate(anyInSystem, blob, filter, action, noop);\n    };\n\n    var manipulateApply = function manipulateApply(anyInSystem, filter, swap) {\n      var blob = state.getBlobState().blob;\n\n      var action = function action(blob) {\n        var url = state.addBlobState(blob);\n        destroyTempState(anyInSystem);\n        return url;\n      };\n\n      blobManipulate(anyInSystem, blob, filter, action, swap);\n    };\n\n    var apply = function apply(anyInSystem, simulatedEvent) {\n      var postApply = function postApply() {\n        destroyTempState(anyInSystem);\n        var swap = simulatedEvent.event().swap();\n        swap();\n      };\n\n      state.applyTempState(postApply);\n    };\n\n    var destroyTempState = function destroyTempState(anyInSystem) {\n      var currentUrl = state.getBlobState().url;\n      state.destroyTempState();\n      updateButtonUndoStates(anyInSystem);\n      return currentUrl;\n    };\n\n    var cancel = function cancel(anyInSystem) {\n      var currentUrl = destroyTempState(anyInSystem);\n      updateSrc(anyInSystem, currentUrl).then(function (oImg) {\n        unblock(anyInSystem);\n      });\n    };\n\n    var back = function back(anyInSystem, simulatedEvent) {\n      cancel(anyInSystem);\n      var swap = simulatedEvent.event().swap();\n      swap();\n      imagePanel.hideCrop();\n    };\n\n    var transform = function transform(anyInSystem, simulatedEvent) {\n      return manipulate(anyInSystem, simulatedEvent.event().transform(), noop);\n    };\n\n    var tempTransform = function tempTransform(anyInSystem, simulatedEvent) {\n      return tempManipulate(anyInSystem, simulatedEvent.event().transform());\n    };\n\n    var transformApply = function transformApply(anyInSystem, simulatedEvent) {\n      return manipulateApply(anyInSystem, simulatedEvent.event().transform(), simulatedEvent.event().swap());\n    };\n\n    var imagePanel = renderImagePanel(detail.currentState.url);\n    var sideBar = renderSideBar(providersBackstage);\n    var editPanel = renderEditPanel(imagePanel, providersBackstage);\n\n    var swap = function swap(anyInSystem, simulatedEvent) {\n      disableUndoRedo(anyInSystem);\n      var transform = simulatedEvent.event().transform();\n      var swap = simulatedEvent.event().swap();\n      transform.fold(function () {\n        swap();\n      }, function (transform) {\n        manipulate(anyInSystem, transform, swap);\n      });\n    };\n\n    return {\n      dom: {\n        tag: 'div',\n        attributes: {\n          role: 'presentation'\n        }\n      },\n      components: [editPanel.memContainer.asSpec(), imagePanel.memContainer.asSpec(), sideBar.container],\n      behaviours: derive$1([Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function getValue() {\n            return state.getBlobState();\n          }\n        }\n      }), config('image-tools-events', [run(internal.undo(), undo), run(internal.redo(), redo), run(internal.zoom(), zoom), run(internal.back(), back), run(internal.apply(), apply), run(internal.transform(), transform), run(internal.tempTransform(), tempTransform), run(internal.transformApply(), transformApply), run(internal.swap(), swap)]), ComposingConfigs.self()])\n    };\n  };\n\n  var factory$8 = function factory$8(detail, spec) {\n    var options = map(detail.options, function (option) {\n      return {\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      };\n    });\n    var initialValues = detail.data.map(function (v) {\n      return wrap$1('initialValue', v);\n    }).getOr({});\n    return {\n      uid: detail.uid,\n      dom: {\n        tag: 'select',\n        classes: detail.selectClasses,\n        attributes: detail.selectAttributes\n      },\n      components: options,\n      behaviours: augment(detail.selectBehaviours, [Focusing.config({}), Representing.config({\n        store: _assign({\n          mode: 'manual',\n          getValue: function getValue(select) {\n            return get$5(select.element());\n          },\n          setValue: function setValue(select, newValue) {\n            var found = find(detail.options, function (opt) {\n              return opt.value === newValue;\n            });\n\n            if (found.isSome()) {\n              set$3(select.element(), newValue);\n            }\n          }\n        }, initialValues)\n      })])\n    };\n  };\n\n  var HtmlSelect = single$2({\n    name: 'HtmlSelect',\n    configFields: [strict$1('options'), field$1('selectBehaviours', [Focusing, Representing]), defaulted$1('selectClasses', []), defaulted$1('selectAttributes', {}), option('data')],\n    factory: factory$8\n  });\n\n  var renderSelectBox = function renderSelectBox(spec, providersBackstage) {\n    var translatedOptions = map(spec.items, function (item) {\n      return {\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      };\n    });\n    var pLabel = spec.label.map(function (label) {\n      return renderLabel(label, providersBackstage);\n    });\n    var pField = FormField.parts().field({\n      dom: {},\n      selectAttributes: {\n        size: spec.size\n      },\n      options: translatedOptions,\n      factory: HtmlSelect,\n      selectBehaviours: derive$1([Disabling.config({\n        disabled: spec.disabled\n      }), Tabstopping.config({}), config('selectbox-change', [run(change(), function (component, _) {\n        emitWith(component, formChangeEvent, {\n          name: spec.name\n        });\n      })])])\n    });\n    var chevron = spec.size > 1 ? Option.none() : Option.some({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js'],\n        innerHtml: get$c('chevron-down', providersBackstage.icons)\n      }\n    });\n    var selectWrap = {\n      dom: {\n        tag: 'div',\n        classes: ['tox-selectfield']\n      },\n      components: flatten([[pField], chevron.toArray()])\n    };\n    return FormField.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-form__group']\n      },\n      components: flatten([pLabel.toArray(), [selectWrap]]),\n      fieldBehaviours: derive$1([Disabling.config({\n        disabled: spec.disabled,\n        onDisabled: function onDisabled(comp) {\n          FormField.getField(comp).each(Disabling.disable);\n        },\n        onEnabled: function onEnabled(comp) {\n          FormField.getField(comp).each(Disabling.enable);\n        }\n      })])\n    });\n  };\n\n  var renderTextField = function renderTextField(spec, providersBackstage) {\n    var pLabel = spec.label.map(function (label) {\n      return renderLabel(label, providersBackstage);\n    });\n    var baseInputBehaviours = [Disabling.config({\n      disabled: spec.disabled\n    }), Keying.config({\n      mode: 'execution',\n      useEnter: spec.multiline !== true,\n      useControlEnter: spec.multiline === true,\n      execute: function execute(comp) {\n        emit(comp, formSubmitEvent);\n        return Option.some(true);\n      }\n    }), config('textfield-change', [run(input(), function (component, _) {\n      emitWith(component, formChangeEvent, {\n        name: spec.name\n      });\n    }), run(postPaste(), function (component, _) {\n      emitWith(component, formChangeEvent, {\n        name: spec.name\n      });\n    })]), Tabstopping.config({})];\n    var validatingBehaviours = spec.validation.map(function (vl) {\n      return Invalidating.config({\n        getRoot: function getRoot(input) {\n          return parent(input.element());\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: function validate(input) {\n            var v = Representing.getValue(input);\n            var result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      });\n    }).toArray();\n    var pField = FormField.parts().field({\n      tag: spec.multiline === true ? 'textarea' : 'input',\n      inputAttributes: spec.placeholder.fold(function () {}, function (placeholder) {\n        return {\n          placeholder: providersBackstage.translate(placeholder)\n        };\n      }),\n      inputClasses: [spec.classname],\n      inputBehaviours: derive$1(flatten([baseInputBehaviours, validatingBehaviours])),\n      selectOnFocus: false,\n      factory: Input\n    });\n    var extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n    var extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n    var extraBehaviours = [Disabling.config({\n      disabled: spec.disabled,\n      onDisabled: function onDisabled(comp) {\n        FormField.getField(comp).each(Disabling.disable);\n      },\n      onEnabled: function onEnabled(comp) {\n        FormField.getField(comp).each(Disabling.enable);\n      }\n    })];\n    return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n  };\n\n  var renderInput = function renderInput(spec, providersBackstage) {\n    return renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: spec.disabled,\n      classname: 'tox-textfield',\n      validation: Option.none(),\n      maximized: spec.maximized\n    }, providersBackstage);\n  };\n\n  var renderTextarea = function renderTextarea(spec, providersBackstage) {\n    return renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: spec.disabled,\n      classname: 'tox-textarea',\n      validation: Option.none(),\n      maximized: spec.maximized\n    }, providersBackstage);\n  };\n\n  var wrap$2 = function wrap$2(delegate) {\n    var toCached = function toCached() {\n      return wrap$2(delegate.toCached());\n    };\n\n    var bindFuture = function bindFuture(f) {\n      return wrap$2(delegate.bind(function (resA) {\n        return resA.fold(function (err) {\n          return Future.pure(Result.error(err));\n        }, function (a) {\n          return f(a);\n        });\n      }));\n    };\n\n    var bindResult = function bindResult(f) {\n      return wrap$2(delegate.map(function (resA) {\n        return resA.bind(f);\n      }));\n    };\n\n    var mapResult = function mapResult(f) {\n      return wrap$2(delegate.map(function (resA) {\n        return resA.map(f);\n      }));\n    };\n\n    var mapError = function mapError(f) {\n      return wrap$2(delegate.map(function (resA) {\n        return resA.mapError(f);\n      }));\n    };\n\n    var foldResult = function foldResult(whenError, whenValue) {\n      return delegate.map(function (res) {\n        return res.fold(whenError, whenValue);\n      });\n    };\n\n    var withTimeout = function withTimeout(timeout, errorThunk) {\n      return wrap$2(Future.nu(function (callback) {\n        var timedOut = false;\n        var timer = domGlobals.setTimeout(function () {\n          timedOut = true;\n          callback(Result.error(errorThunk()));\n        }, timeout);\n        delegate.get(function (result) {\n          if (!timedOut) {\n            domGlobals.clearTimeout(timer);\n            callback(result);\n          }\n        });\n      }));\n    };\n\n    return _assign({}, delegate, {\n      toCached: toCached,\n      bindFuture: bindFuture,\n      bindResult: bindResult,\n      mapResult: mapResult,\n      mapError: mapError,\n      foldResult: foldResult,\n      withTimeout: withTimeout\n    });\n  };\n\n  var nu$c = function nu$c(worker) {\n    return wrap$2(Future.nu(worker));\n  };\n\n  var value$2 = function value$2(value) {\n    return wrap$2(Future.pure(Result.value(value)));\n  };\n\n  var error$1 = function error$1(error) {\n    return wrap$2(Future.pure(Result.error(error)));\n  };\n\n  var fromResult$1 = function fromResult$1(result) {\n    return wrap$2(Future.pure(result));\n  };\n\n  var fromFuture = function fromFuture(future) {\n    return wrap$2(future.map(Result.value));\n  };\n\n  var fromPromise = function fromPromise(promise) {\n    return nu$c(function (completer) {\n      promise.then(function (value) {\n        completer(Result.value(value));\n      }, function (error) {\n        completer(Result.error(error));\n      });\n    });\n  };\n\n  var FutureResult = {\n    nu: nu$c,\n    wrap: wrap$2,\n    pure: value$2,\n    value: value$2,\n    error: error$1,\n    fromResult: fromResult$1,\n    fromFuture: fromFuture,\n    fromPromise: fromPromise\n  };\n  var separator$2 = {\n    type: 'separator'\n  };\n\n  var toMenuItem = function toMenuItem(target) {\n    return {\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: {\n        attach: target.attach\n      },\n      onAction: function onAction() {}\n    };\n  };\n\n  var staticMenuItem = function staticMenuItem(title, url) {\n    return {\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: {\n        attach: undefined\n      },\n      onAction: function onAction() {}\n    };\n  };\n\n  var toMenuItems = function toMenuItems(targets) {\n    return map(targets, toMenuItem);\n  };\n\n  var filterLinkTargets = function filterLinkTargets(type, targets) {\n    return filter(targets, function (target) {\n      return target.type === type;\n    });\n  };\n\n  var filteredTargets = function filteredTargets(type, targets) {\n    return toMenuItems(filterLinkTargets(type, targets));\n  };\n\n  var headerTargets = function headerTargets(linkInfo) {\n    return filteredTargets('header', linkInfo.targets);\n  };\n\n  var anchorTargets = function anchorTargets(linkInfo) {\n    return filteredTargets('anchor', linkInfo.targets);\n  };\n\n  var anchorTargetTop = function anchorTargetTop(linkInfo) {\n    return Option.from(linkInfo.anchorTop).map(function (url) {\n      return staticMenuItem('<top>', url);\n    }).toArray();\n  };\n\n  var anchorTargetBottom = function anchorTargetBottom(linkInfo) {\n    return Option.from(linkInfo.anchorBottom).map(function (url) {\n      return staticMenuItem('<bottom>', url);\n    }).toArray();\n  };\n\n  var historyTargets = function historyTargets(history) {\n    return map(history, function (url) {\n      return staticMenuItem(url, url);\n    });\n  };\n\n  var joinMenuLists = function joinMenuLists(items) {\n    return foldl(items, function (a, b) {\n      var bothEmpty = a.length === 0 || b.length === 0;\n      return bothEmpty ? a.concat(b) : a.concat(separator$2, b);\n    }, []);\n  };\n\n  var filterByQuery = function filterByQuery(term, menuItems) {\n    var lowerCaseTerm = term.toLowerCase();\n    return filter(menuItems, function (item) {\n      var text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n      return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n    });\n  };\n\n  var getItems = function getItems(fileType, input, urlBackstage) {\n    var urlInputValue = Representing.getValue(input);\n    var term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n    var info = urlBackstage.getLinkInformation();\n    return info.fold(function () {\n      return [];\n    }, function (linkInfo) {\n      var history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n      return fileType === 'file' ? joinMenuLists([history, filterByQuery(term, headerTargets(linkInfo)), filterByQuery(term, flatten([anchorTargetTop(linkInfo), anchorTargets(linkInfo), anchorTargetBottom(linkInfo)]))]) : history;\n    });\n  };\n\n  var errorId = generate$1('aria-invalid');\n\n  var renderUrlInput = function renderUrlInput(spec, backstage, urlBackstage) {\n    var _a;\n\n    var providersBackstage = backstage.shared.providers;\n\n    var updateHistory = function updateHistory(component) {\n      var urlEntry = Representing.getValue(component);\n      urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n    };\n\n    var pField = FormField.parts().field({\n      factory: Typeahead,\n      dismissOnBlur: true,\n      inputClasses: ['tox-textfield'],\n      sandboxClasses: ['tox-dialog__popups'],\n      inputAttributes: {\n        'aria-errormessage': errorId\n      },\n      minChars: 0,\n      responseTime: 0,\n      fetch: function fetch(input) {\n        var items = getItems(spec.filetype, input, urlBackstage);\n        var tdata = build$2(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage);\n        return Future.pure(tdata);\n      },\n      getHotspot: function getHotspot(comp) {\n        return memUrlBox.getOpt(comp);\n      },\n      onSetValue: function onSetValue(comp, newValue) {\n        if (comp.hasConfigured(Invalidating)) {\n          Invalidating.run(comp).get(noop);\n        }\n      },\n      typeaheadBehaviours: derive$1(flatten([urlBackstage.getValidationHandler().map(function (handler) {\n        return Invalidating.config({\n          getRoot: function getRoot(comp) {\n            return parent(comp.element());\n          },\n          invalidClass: 'tox-control-wrap--status-invalid',\n          notify: {\n            onInvalid: function onInvalid(comp, err) {\n              memInvalidIcon.getOpt(comp).each(function (invalidComp) {\n                set$1(invalidComp.element(), 'title', providersBackstage.translate(err));\n              });\n            }\n          },\n          validator: {\n            validate: function validate(input) {\n              var urlEntry = Representing.getValue(input);\n              return FutureResult.nu(function (completer) {\n                handler({\n                  type: spec.filetype,\n                  url: urlEntry.value\n                }, function (validation) {\n                  completer((validation.status === 'invalid' ? Result.error : Result.value)(validation.message));\n                });\n              });\n            },\n            validateOnLoad: false\n          }\n        });\n      }).toArray(), [Disabling.config({\n        disabled: spec.disabled\n      }), Tabstopping.config({}), config('urlinput-events', flatten([spec.filetype === 'file' ? [run(input(), function (comp) {\n        emitWith(comp, formChangeEvent, {\n          name: spec.name\n        });\n      })] : [], [run(change(), function (comp) {\n        emitWith(comp, formChangeEvent, {\n          name: spec.name\n        });\n        updateHistory(comp);\n      }), run(postPaste(), function (comp) {\n        emitWith(comp, formChangeEvent, {\n          name: spec.name\n        });\n        updateHistory(comp);\n      })]]))]])),\n      eventOrder: (_a = {}, _a[input()] = ['streaming', 'urlinput-events', 'invalidating'], _a),\n      model: {\n        getDisplayText: function getDisplayText(itemData) {\n          return itemData.value;\n        },\n        selectsOver: false,\n        populateFromBrowse: false\n      },\n      markers: {\n        openClass: 'dog'\n      },\n      lazySink: backstage.shared.getSink,\n      parts: {\n        menu: part(false, 1, 'normal')\n      },\n      onExecute: function onExecute(_menu, component, _entry) {\n        emitWith(component, formSubmitEvent, {});\n      },\n      onItemExecute: function onItemExecute(typeahead, _sandbox, _item, _value) {\n        updateHistory(typeahead);\n        emitWith(typeahead, formChangeEvent, {\n          name: spec.name\n        });\n      }\n    });\n    var pLabel = spec.label.map(function (label) {\n      return renderLabel(label, providersBackstage);\n    });\n\n    var makeIcon = function makeIcon(name, errId, icon, label) {\n      if (icon === void 0) {\n        icon = name;\n      }\n\n      if (label === void 0) {\n        label = name;\n      }\n\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-icon', 'tox-control-wrap__status-icon-' + name],\n          innerHtml: get$c(icon, providersBackstage.icons),\n          attributes: _assign({\n            'title': providersBackstage.translate(label),\n            'aria-live': 'polite'\n          }, errId.fold(function () {\n            return {};\n          }, function (id) {\n            return {\n              id: id\n            };\n          }))\n        }\n      };\n    };\n\n    var memInvalidIcon = record(makeIcon('invalid', Option.some(errorId), 'warning'));\n    var memStatus = record({\n      dom: {\n        tag: 'div',\n        classes: ['tox-control-wrap__status-icon-wrap']\n      },\n      components: [memInvalidIcon.asSpec()]\n    });\n    var optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n    var browseUrlEvent = generate$1('browser.url.event');\n    var memUrlBox = record({\n      dom: {\n        tag: 'div',\n        classes: ['tox-control-wrap']\n      },\n      components: [pField, memStatus.asSpec()],\n      behaviours: derive$1([Disabling.config({\n        disabled: spec.disabled\n      })])\n    });\n    var memUrlPickerButton = record(renderButton({\n      name: spec.name,\n      icon: Option.some('browse'),\n      text: spec.label.getOr(''),\n      disabled: spec.disabled,\n      primary: false,\n      borderless: true\n    }, function (component) {\n      return emit(component, browseUrlEvent);\n    }, providersBackstage, [], ['tox-browse-url']));\n\n    var controlHWrapper = function controlHWrapper() {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([[memUrlBox.asSpec()], optUrlPicker.map(function () {\n          return memUrlPickerButton.asSpec();\n        }).toArray()])\n      };\n    };\n\n    var openUrlPicker = function openUrlPicker(comp) {\n      Composing.getCurrent(comp).each(function (field) {\n        var urlData = Representing.getValue(field);\n        optUrlPicker.each(function (picker) {\n          picker(urlData).get(function (chosenData) {\n            Representing.setValue(field, chosenData);\n            emitWith(comp, formChangeEvent, {\n              name: spec.name\n            });\n          });\n        });\n      });\n    };\n\n    return FormField.sketch({\n      dom: renderFormFieldDom(),\n      components: pLabel.toArray().concat([controlHWrapper()]),\n      fieldBehaviours: derive$1([Disabling.config({\n        disabled: spec.disabled,\n        onDisabled: function onDisabled(comp) {\n          FormField.getField(comp).each(Disabling.disable);\n          memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n        },\n        onEnabled: function onEnabled(comp) {\n          FormField.getField(comp).each(Disabling.enable);\n          memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n        }\n      }), config('url-input-events', [run(browseUrlEvent, openUrlPicker)])])\n    });\n  };\n\n  var renderCheckbox = function renderCheckbox(spec, providerBackstage) {\n    var repBehaviour = Representing.config({\n      store: {\n        mode: 'manual',\n        getValue: function getValue(comp) {\n          var el = comp.element().dom();\n          return el.checked;\n        },\n        setValue: function setValue(comp, value) {\n          var el = comp.element().dom();\n          el.checked = value;\n        }\n      }\n    });\n\n    var toggleCheckboxHandler = function toggleCheckboxHandler(comp) {\n      comp.element().dom().click();\n      return Option.some(true);\n    };\n\n    var pField = FormField.parts().field({\n      factory: {\n        sketch: identity\n      },\n      dom: {\n        tag: 'input',\n        classes: ['tox-checkbox__input'],\n        attributes: {\n          type: 'checkbox'\n        }\n      },\n      behaviours: derive$1([ComposingConfigs.self(), Disabling.config({\n        disabled: spec.disabled\n      }), Tabstopping.config({}), Focusing.config({}), repBehaviour, Keying.config({\n        mode: 'special',\n        onEnter: toggleCheckboxHandler,\n        onSpace: toggleCheckboxHandler,\n        stopSpaceKeyup: true\n      }), config('checkbox-events', [run(change(), function (component, _) {\n        emitWith(component, formChangeEvent, {\n          name: spec.name\n        });\n      })])])\n    });\n    var pLabel = FormField.parts().label({\n      dom: {\n        tag: 'span',\n        classes: ['tox-checkbox__label'],\n        innerHtml: providerBackstage.translate(spec.label)\n      },\n      behaviours: derive$1([Unselecting.config({})])\n    });\n\n    var makeIcon = function makeIcon(className) {\n      var iconName = className === 'checked' ? 'selected' : 'unselected';\n      return {\n        dom: {\n          tag: 'span',\n          classes: ['tox-icon', 'tox-checkbox-icon__' + className],\n          innerHtml: get$c(iconName, providerBackstage.icons)\n        }\n      };\n    };\n\n    var memIcons = record({\n      dom: {\n        tag: 'div',\n        classes: ['tox-checkbox__icons']\n      },\n      components: [makeIcon('checked'), makeIcon('unchecked')]\n    });\n    return FormField.sketch({\n      dom: {\n        tag: 'label',\n        classes: ['tox-checkbox']\n      },\n      components: [pField, memIcons.asSpec(), pLabel],\n      fieldBehaviours: derive$1([Disabling.config({\n        disabled: spec.disabled,\n        disableClass: 'tox-checkbox--disabled',\n        onDisabled: function onDisabled(comp) {\n          FormField.getField(comp).each(Disabling.disable);\n        },\n        onEnabled: function onEnabled(comp) {\n          FormField.getField(comp).each(Disabling.enable);\n        }\n      })])\n    });\n  };\n\n  var renderHtmlPanel = function renderHtmlPanel(spec) {\n    if (spec.presets === 'presentation') {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group'],\n          innerHtml: spec.html\n        }\n      });\n    } else {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group'],\n          innerHtml: spec.html,\n          attributes: {\n            role: 'document'\n          }\n        },\n        containerBehaviours: derive$1([Tabstopping.config({}), Focusing.config({})])\n      });\n    }\n  };\n\n  var renderListbox = function renderListbox(spec, providersBackstage) {\n    var pLabel = renderLabel(spec.label, providersBackstage);\n    var pField = FormField.parts().field({\n      factory: HtmlSelect,\n      dom: {\n        classes: ['mce-select-field']\n      },\n      selectBehaviours: derive$1([Tabstopping.config({})]),\n      options: spec.values,\n      data: spec.initialValue.getOr(undefined)\n    });\n    return renderFormField(Option.some(pLabel), pField);\n  };\n\n  var renderLabel$2 = function renderLabel$2(spec, backstageShared) {\n    var label = {\n      dom: {\n        tag: 'label',\n        innerHtml: backstageShared.providers.translate(spec.label),\n        classes: ['tox-label']\n      }\n    };\n    var comps = map(spec.items, backstageShared.interpreter);\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-form__group']\n      },\n      components: [label].concat(comps),\n      behaviours: derive$1([ComposingConfigs.self(), Replacing.config({}), RepresentingConfigs.domHtml(Option.none()), Keying.config({\n        mode: 'acyclic'\n      })])\n    };\n  };\n\n  var renderCollection = function renderCollection(spec, providersBackstage) {\n    var pLabel = spec.label.map(function (label) {\n      return renderLabel(label, providersBackstage);\n    });\n\n    var runOnItem = function runOnItem(f) {\n      return function (comp, se) {\n        closest$3(se.event().target(), '[data-collection-item-value]').each(function (target) {\n          f(comp, target, get$2(target, 'data-collection-item-value'));\n        });\n      };\n    };\n\n    var escapeAttribute = function escapeAttribute(ch) {\n      if (ch === '\"') {\n        return '&quot;';\n      }\n\n      return ch;\n    };\n\n    var setContents = function setContents(comp, items) {\n      var htmlLines = map(items, function (item) {\n        var itemText = global$5.translate(item.text);\n        var textContent = spec.columns === 1 ? '<div class=\"tox-collection__item-label\">' + itemText + '</div>' : '';\n        var iconContent = '<div class=\"tox-collection__item-icon\">' + item.icon + '</div>';\n        var mapItemName = {\n          '_': ' ',\n          ' - ': ' ',\n          '-': ' '\n        };\n        var ariaLabel = itemText.replace(/\\_| \\- |\\-/g, function (match) {\n          return mapItemName[match];\n        });\n        return '<div class=\"tox-collection__item\" tabindex=\"-1\" data-collection-item-value=\"' + escapeAttribute(item.value) + '\" title=\"' + ariaLabel + '\" aria-label=\"' + ariaLabel + '\">' + iconContent + textContent + '</div>';\n      });\n      var chunks = spec.columns > 1 && spec.columns !== 'auto' ? chunk(htmlLines, spec.columns) : [htmlLines];\n      var html = map(chunks, function (ch) {\n        return '<div class=\"tox-collection__group\">' + ch.join('') + '</div>';\n      });\n      set(comp.element(), html.join(''));\n    };\n\n    var collectionEvents = [run(mouseover(), runOnItem(function (comp, tgt) {\n      focus$1(tgt);\n    })), run(tapOrClick(), runOnItem(function (comp, tgt, itemValue) {\n      emitWith(comp, formActionEvent, {\n        name: spec.name,\n        value: itemValue\n      });\n    })), run(focusin(), runOnItem(function (comp, tgt, itemValue) {\n      descendant$1(comp.element(), '.' + activeClass).each(function (currentActive) {\n        remove$4(currentActive, activeClass);\n      });\n      add$2(tgt, activeClass);\n    })), run(focusout(), runOnItem(function (comp, tgt, itemValue) {\n      descendant$1(comp.element(), '.' + activeClass).each(function (currentActive) {\n        remove$4(currentActive, activeClass);\n      });\n    })), runOnExecute(runOnItem(function (comp, tgt, itemValue) {\n      emitWith(comp, formActionEvent, {\n        name: spec.name,\n        value: itemValue\n      });\n    }))];\n    var pField = FormField.parts().field({\n      dom: {\n        tag: 'div',\n        classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n      },\n      components: [],\n      factory: {\n        sketch: identity\n      },\n      behaviours: derive$1([Replacing.config({}), Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: []\n        },\n        onSetValue: function onSetValue(comp, items) {\n          setContents(comp, items);\n\n          if (spec.columns === 'auto') {\n            detectSize(comp, 5, 'tox-collection__item').each(function (_a) {\n              var numRows = _a.numRows,\n                  numColumns = _a.numColumns;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          }\n\n          emit(comp, formResizeEvent);\n        }\n      }), Tabstopping.config({}), Keying.config(deriveCollectionMovement(spec.columns, 'normal')), config('collection-events', collectionEvents)])\n    });\n    var extraClasses = ['tox-form__group--collection'];\n    return renderFormFieldWith(pLabel, pField, extraClasses, []);\n  };\n\n  var renderTable = function renderTable(spec, providersBackstage) {\n    var renderTh = function renderTh(text) {\n      return {\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      };\n    };\n\n    var renderHeader = function renderHeader(header) {\n      return {\n        dom: {\n          tag: 'thead'\n        },\n        components: [{\n          dom: {\n            tag: 'tr'\n          },\n          components: map(header, renderTh)\n        }]\n      };\n    };\n\n    var renderTd = function renderTd(text) {\n      return {\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      };\n    };\n\n    var renderTr = function renderTr(row) {\n      return {\n        dom: {\n          tag: 'tr'\n        },\n        components: map(row, renderTd)\n      };\n    };\n\n    var renderRows = function renderRows(rows) {\n      return {\n        dom: {\n          tag: 'tbody'\n        },\n        components: map(rows, renderTr)\n      };\n    };\n\n    return {\n      dom: {\n        tag: 'table',\n        classes: ['tox-dialog__table']\n      },\n      components: [renderHeader(spec.header), renderRows(spec.cells)],\n      behaviours: derive$1([Tabstopping.config({}), Focusing.config({})])\n    };\n  };\n\n  var renderPanel = function renderPanel(spec, backstage) {\n    return {\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map(spec.items, backstage.shared.interpreter)\n    };\n  };\n\n  var make$6 = function make$6(render) {\n    return function (parts, spec, backstage) {\n      return readOptFrom$1(spec, 'name').fold(function () {\n        return render(spec, backstage);\n      }, function (fieldName) {\n        return parts.field(fieldName, render(spec, backstage));\n      });\n    };\n  };\n\n  var makeIframe = function makeIframe(render) {\n    return function (parts, spec, backstage) {\n      var iframeSpec = deepMerge(spec, {\n        source: 'dynamic'\n      });\n      return make$6(render)(parts, iframeSpec, backstage);\n    };\n  };\n\n  var factories = {\n    bar: make$6(function (spec, backstage) {\n      return renderBar(spec, backstage.shared);\n    }),\n    collection: make$6(function (spec, backstage) {\n      return renderCollection(spec, backstage.shared.providers);\n    }),\n    alloy: make$6(identity),\n    alertbanner: make$6(function (spec, backstage) {\n      return renderAlertBanner(spec, backstage.shared.providers);\n    }),\n    input: make$6(function (spec, backstage) {\n      return renderInput(spec, backstage.shared.providers);\n    }),\n    textarea: make$6(function (spec, backstage) {\n      return renderTextarea(spec, backstage.shared.providers);\n    }),\n    listbox: make$6(function (spec, backstage) {\n      return renderListbox(spec, backstage.shared.providers);\n    }),\n    label: make$6(function (spec, backstage) {\n      return renderLabel$2(spec, backstage.shared);\n    }),\n    iframe: makeIframe(function (spec, backstage) {\n      return renderIFrame(spec, backstage.shared.providers);\n    }),\n    autocomplete: make$6(function (spec, backstage) {\n      return renderAutocomplete(spec, backstage);\n    }),\n    button: make$6(function (spec, backstage) {\n      return renderDialogButton(spec, backstage.shared.providers);\n    }),\n    checkbox: make$6(function (spec, backstage) {\n      return renderCheckbox(spec, backstage.shared.providers);\n    }),\n    colorinput: make$6(function (spec, backstage) {\n      return renderColorInput(spec, backstage.shared, backstage.colorinput);\n    }),\n    colorpicker: make$6(renderColorPicker),\n    dropzone: make$6(function (spec, backstage) {\n      return renderDropZone(spec, backstage.shared.providers);\n    }),\n    grid: make$6(function (spec, backstage) {\n      return renderGrid(spec, backstage.shared);\n    }),\n    selectbox: make$6(function (spec, backstage) {\n      return renderSelectBox(spec, backstage.shared.providers);\n    }),\n    sizeinput: make$6(function (spec, backstage) {\n      return renderSizeInput(spec, backstage.shared.providers);\n    }),\n    urlinput: make$6(function (spec, backstage) {\n      return renderUrlInput(spec, backstage, backstage.urlinput);\n    }),\n    customeditor: make$6(renderCustomEditor),\n    htmlpanel: make$6(renderHtmlPanel),\n    imagetools: make$6(function (spec, backstage) {\n      return renderImageTools(spec, backstage.shared.providers);\n    }),\n    table: make$6(function (spec, backstage) {\n      return renderTable(spec, backstage.shared.providers);\n    }),\n    panel: make$6(function (spec, backstage) {\n      return renderPanel(spec, backstage);\n    })\n  };\n  var noFormParts = {\n    field: function field(_name, spec) {\n      return spec;\n    }\n  };\n\n  var interpretInForm = function interpretInForm(parts, spec, oldBackstage) {\n    var newBackstage = deepMerge(oldBackstage, {\n      shared: {\n        interpreter: function interpreter(childSpec) {\n          return interpretParts(parts, childSpec, newBackstage);\n        }\n      }\n    });\n    return interpretParts(parts, spec, newBackstage);\n  };\n\n  var interpretParts = function interpretParts(parts, spec, backstage) {\n    return readOptFrom$1(factories, spec.type).fold(function () {\n      domGlobals.console.error('Unknown factory type \"' + spec.type + '\", defaulting to container: ', spec);\n      return spec;\n    }, function (factory) {\n      return factory(parts, spec, backstage);\n    });\n  };\n\n  var interpretWithoutForm = function interpretWithoutForm(spec, backstage) {\n    var parts = noFormParts;\n    return interpretParts(parts, spec, backstage);\n  };\n\n  var westEdgeX$1 = function westEdgeX$1(anchor) {\n    return anchor.x();\n  };\n\n  var middleX$1 = function middleX$1(anchor, element) {\n    return anchor.x() + anchor.width() / 2 - element.width() / 2;\n  };\n\n  var eastEdgeX$1 = function eastEdgeX$1(anchor, element) {\n    return anchor.x() + anchor.width() - element.width();\n  };\n\n  var northY$2 = function northY$2(anchor) {\n    return anchor.y();\n  };\n\n  var southY$2 = function southY$2(anchor, element) {\n    return anchor.y() + anchor.height() - element.height();\n  };\n\n  var southeast$3 = function southeast$3(anchor, element, bubbles) {\n    return nu$8(westEdgeX$1(anchor), southY$2(anchor, element), bubbles.innerSoutheast(), southeast(), 'layout-se');\n  };\n\n  var southwest$3 = function southwest$3(anchor, element, bubbles) {\n    return nu$8(eastEdgeX$1(anchor, element), southY$2(anchor, element), bubbles.innerSouthwest(), southwest(), 'layout-sw');\n  };\n\n  var northeast$3 = function northeast$3(anchor, element, bubbles) {\n    return nu$8(westEdgeX$1(anchor), northY$2(anchor), bubbles.innerNortheast(), northeast(), 'layout-ne');\n  };\n\n  var northwest$3 = function northwest$3(anchor, element, bubbles) {\n    return nu$8(eastEdgeX$1(anchor, element), northY$2(anchor), bubbles.innerNorthwest(), northwest(), 'layout-nw');\n  };\n\n  var north$3 = function north$3(anchor, element, bubbles) {\n    return nu$8(middleX$1(anchor, element), northY$2(anchor), bubbles.innerNorth(), north(), 'layout-n');\n  };\n\n  var south$3 = function south$3(anchor, element, bubbles) {\n    return nu$8(middleX$1(anchor, element), southY$2(anchor, element), bubbles.innerSouth(), south(), 'layout-s');\n  };\n\n  var bubbleAlignments = {\n    valignCentre: [],\n    alignCentre: [],\n    alignLeft: [],\n    alignRight: [],\n    right: [],\n    left: [],\n    bottom: [],\n    top: []\n  };\n\n  var getToolbarAnchor = function getToolbarAnchor(bodyElement, lazyAnchorbar, useFixedToolbarContainer) {\n    var fixedToolbarAnchor = function fixedToolbarAnchor() {\n      return {\n        anchor: 'node',\n        root: bodyElement(),\n        node: Option.from(bodyElement()),\n        bubble: nu$7(-12, -12, bubbleAlignments),\n        layouts: {\n          onRtl: function onRtl() {\n            return [northeast$3];\n          },\n          onLtr: function onLtr() {\n            return [northwest$3];\n          }\n        }\n      };\n    };\n\n    var standardAnchor = function standardAnchor() {\n      return {\n        anchor: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$7(-12, 12, bubbleAlignments),\n        layouts: {\n          onRtl: function onRtl() {\n            return [southeast$1];\n          },\n          onLtr: function onLtr() {\n            return [southwest$1];\n          }\n        }\n      };\n    };\n\n    return useFixedToolbarContainer ? fixedToolbarAnchor : standardAnchor;\n  };\n\n  var getBannerAnchor = function getBannerAnchor(bodyElement, lazyAnchorbar, useFixedToolbarContainer) {\n    var fixedToolbarAnchor = function fixedToolbarAnchor() {\n      return {\n        anchor: 'node',\n        root: bodyElement(),\n        node: Option.from(bodyElement()),\n        layouts: {\n          onRtl: function onRtl() {\n            return [north$3];\n          },\n          onLtr: function onLtr() {\n            return [north$3];\n          }\n        }\n      };\n    };\n\n    var standardAnchor = function standardAnchor() {\n      return {\n        anchor: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: function onRtl() {\n            return [south$1];\n          },\n          onLtr: function onLtr() {\n            return [south$1];\n          }\n        }\n      };\n    };\n\n    return useFixedToolbarContainer ? fixedToolbarAnchor : standardAnchor;\n  };\n\n  var getToolbarOverflowAnchor = function getToolbarOverflowAnchor(lazyMoreButton) {\n    return function () {\n      return {\n        anchor: 'hotspot',\n        hotspot: lazyMoreButton(),\n        layouts: {\n          onRtl: function onRtl() {\n            return [southeast$1];\n          },\n          onLtr: function onLtr() {\n            return [southwest$1];\n          }\n        }\n      };\n    };\n  };\n\n  var getCursorAnchor = function getCursorAnchor(editor, bodyElement) {\n    return function () {\n      return {\n        anchor: 'selection',\n        root: bodyElement(),\n        getSelection: function getSelection() {\n          var rng = editor.selection.getRng();\n          return Option.some(Selection.range(Element.fromDom(rng.startContainer), rng.startOffset, Element.fromDom(rng.endContainer), rng.endOffset));\n        }\n      };\n    };\n  };\n\n  var getNodeAnchor = function getNodeAnchor(bodyElement) {\n    return function (element) {\n      return {\n        anchor: 'node',\n        root: bodyElement(),\n        node: element\n      };\n    };\n  };\n\n  var getAnchors = function getAnchors(editor, lazyAnchorbar, lazyMoreButton) {\n    var useFixedToolbarContainer = useFixedContainer(editor);\n\n    var bodyElement = function bodyElement() {\n      return Element.fromDom(editor.getBody());\n    };\n\n    return {\n      toolbar: getToolbarAnchor(bodyElement, lazyAnchorbar, useFixedToolbarContainer),\n      toolbarOverflow: getToolbarOverflowAnchor(lazyMoreButton),\n      banner: getBannerAnchor(bodyElement, lazyAnchorbar, lazyMoreButton),\n      cursor: getCursorAnchor(editor, bodyElement),\n      node: getNodeAnchor(bodyElement)\n    };\n  };\n\n  var Anchors = {\n    getAnchors: getAnchors\n  };\n\n  var colorPicker = function colorPicker(editor) {\n    return function (callback, value) {\n      var dialog = ColorSwatch.colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n  };\n\n  var hasCustomColors$1 = function hasCustomColors$1(editor) {\n    return function () {\n      return Settings.hasCustomColors(editor);\n    };\n  };\n\n  var getColors$1 = function getColors$1(editor) {\n    return function () {\n      return Settings.getColors(editor);\n    };\n  };\n\n  var getColorCols$2 = function getColorCols$2(editor) {\n    return function () {\n      return ColorSwatch.getColorCols(editor);\n    };\n  };\n\n  var ColorInputBackstage = function ColorInputBackstage(editor) {\n    return {\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors$1(editor),\n      getColors: getColors$1(editor),\n      getColorCols: getColorCols$2(editor)\n    };\n  };\n\n  var defaultStyleFormats = [{\n    title: 'Headings',\n    items: [{\n      title: 'Heading 1',\n      format: 'h1'\n    }, {\n      title: 'Heading 2',\n      format: 'h2'\n    }, {\n      title: 'Heading 3',\n      format: 'h3'\n    }, {\n      title: 'Heading 4',\n      format: 'h4'\n    }, {\n      title: 'Heading 5',\n      format: 'h5'\n    }, {\n      title: 'Heading 6',\n      format: 'h6'\n    }]\n  }, {\n    title: 'Inline',\n    items: [{\n      title: 'Bold',\n      icon: 'bold',\n      format: 'bold'\n    }, {\n      title: 'Italic',\n      icon: 'italic',\n      format: 'italic'\n    }, {\n      title: 'Underline',\n      icon: 'underline',\n      format: 'underline'\n    }, {\n      title: 'Strikethrough',\n      icon: 'strike-through',\n      format: 'strikethrough'\n    }, {\n      title: 'Superscript',\n      icon: 'superscript',\n      format: 'superscript'\n    }, {\n      title: 'Subscript',\n      icon: 'subscript',\n      format: 'subscript'\n    }, {\n      title: 'Code',\n      icon: 'code',\n      format: 'code'\n    }]\n  }, {\n    title: 'Blocks',\n    items: [{\n      title: 'Paragraph',\n      format: 'p'\n    }, {\n      title: 'Blockquote',\n      format: 'blockquote'\n    }, {\n      title: 'Div',\n      format: 'div'\n    }, {\n      title: 'Pre',\n      format: 'pre'\n    }]\n  }, {\n    title: 'Align',\n    items: [{\n      title: 'Left',\n      icon: 'align-left',\n      format: 'alignleft'\n    }, {\n      title: 'Center',\n      icon: 'align-center',\n      format: 'aligncenter'\n    }, {\n      title: 'Right',\n      icon: 'align-right',\n      format: 'alignright'\n    }, {\n      title: 'Justify',\n      icon: 'align-justify',\n      format: 'alignjustify'\n    }]\n  }];\n\n  var isNestedFormat = function isNestedFormat(format) {\n    return has(format, 'items');\n  };\n\n  var isBlockFormat = function isBlockFormat(format) {\n    return has(format, 'block');\n  };\n\n  var isInlineFormat = function isInlineFormat(format) {\n    return has(format, 'inline');\n  };\n\n  var isSelectorFormat = function isSelectorFormat(format) {\n    return has(format, 'selector');\n  };\n\n  var mapFormats = function mapFormats(userFormats) {\n    return foldl(userFormats, function (acc, fmt) {\n      if (isNestedFormat(fmt)) {\n        var result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n            title: fmt.title,\n            items: result.formats\n          }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        var formatName = 'custom-' + fmt.title.toLowerCase();\n        return {\n          customFormats: acc.customFormats.concat([{\n            name: formatName,\n            format: fmt\n          }]),\n          formats: acc.formats.concat([{\n            title: fmt.title,\n            format: formatName,\n            icon: fmt.icon\n          }])\n        };\n      } else {\n        return _assign({}, acc, {\n          formats: acc.formats.concat(fmt)\n        });\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n  };\n\n  var registerCustomFormats = function registerCustomFormats(editor, userFormats) {\n    var result = mapFormats(userFormats);\n\n    var registerFormats = function registerFormats(customFormats) {\n      each(customFormats, function (fmt) {\n        if (!editor.formatter.has(fmt.name)) {\n          editor.formatter.register(fmt.name, fmt.format);\n        }\n      });\n    };\n\n    if (editor.formatter) {\n      registerFormats(result.customFormats);\n    } else {\n      editor.on('init', function () {\n        registerFormats(result.customFormats);\n      });\n    }\n\n    return result.formats;\n  };\n\n  var getStyleFormats = function getStyleFormats(editor) {\n    return getUserStyleFormats(editor).map(function (userFormats) {\n      var registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return isMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n  };\n\n  var processBasic = function processBasic(item, isSelectedFor, getPreviewFor) {\n    var formatterSpec = {\n      type: 'formatter',\n      isSelected: isSelectedFor(item.format),\n      getStylePreview: getPreviewFor(item.format)\n    };\n    return deepMerge(item, formatterSpec);\n  };\n\n  var register$3 = function register$3(editor, formats, isSelectedFor, getPreviewFor) {\n    var enrichSupported = function enrichSupported(item) {\n      return processBasic(item, isSelectedFor, getPreviewFor);\n    };\n\n    var enrichMenu = function enrichMenu(item) {\n      var submenuSpec = {\n        type: 'submenu',\n        isSelected: constant(false),\n        getStylePreview: function getStylePreview() {\n          return Option.none();\n        }\n      };\n      return deepMerge(item, submenuSpec);\n    };\n\n    var enrichCustom = function enrichCustom(item) {\n      var formatName = generate$1(item.title);\n      var customSpec = {\n        type: 'formatter',\n        format: formatName,\n        isSelected: isSelectedFor(formatName),\n        getStylePreview: getPreviewFor(formatName)\n      };\n      var newItem = deepMerge(item, customSpec);\n      editor.formatter.register(formatName, newItem);\n      return newItem;\n    };\n\n    var doEnrich = function doEnrich(items) {\n      return map(items, function (item) {\n        var keys$1 = keys(item);\n\n        if (hasKey$1(item, 'items')) {\n          var newItems_1 = doEnrich(item.items);\n          return deepMerge(enrichMenu(item), {\n            getStyleItems: function getStyleItems() {\n              return newItems_1;\n            }\n          });\n        } else if (hasKey$1(item, 'format')) {\n          return enrichSupported(item);\n        } else if (keys$1.length === 1 && contains(keys$1, 'title')) {\n          return deepMerge(item, {\n            type: 'separator'\n          });\n        } else {\n          return enrichCustom(item);\n        }\n      });\n    };\n\n    return doEnrich(formats);\n  };\n\n  var init$7 = function init$7(editor) {\n    var isSelectedFor = function isSelectedFor(format) {\n      return function () {\n        return editor.formatter.match(format);\n      };\n    };\n\n    var getPreviewFor = function getPreviewFor(format) {\n      return function () {\n        var fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Option.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styleAttr: editor.formatter.getCssText(format)\n        }) : Option.none();\n      };\n    };\n\n    var flatten = function flatten(fmt) {\n      var subs = fmt.items;\n      return subs !== undefined && subs.length > 0 ? bind(subs, flatten) : [fmt.format];\n    };\n\n    var settingsFormats = Cell([]);\n    var settingsFlattenedFormats = Cell([]);\n    var eventsFormats = Cell([]);\n    var eventsFlattenedFormats = Cell([]);\n    var replaceSettings = Cell(false);\n    editor.on('init', function () {\n      var formats = getStyleFormats(editor);\n      var enriched = register$3(editor, formats, isSelectedFor, getPreviewFor);\n      settingsFormats.set(enriched);\n      settingsFlattenedFormats.set(bind(enriched, flatten));\n    });\n    editor.on('addStyleModifications', function (e) {\n      var modifications = register$3(editor, e.items, isSelectedFor, getPreviewFor);\n      eventsFormats.set(modifications);\n      replaceSettings.set(e.replace);\n      eventsFlattenedFormats.set(bind(modifications, flatten));\n    });\n\n    var getData = function getData() {\n      var fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n      var fromEvents = eventsFormats.get();\n      return fromSettings.concat(fromEvents);\n    };\n\n    var getFlattenedKeys = function getFlattenedKeys() {\n      var fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n      var fromEvents = eventsFlattenedFormats.get();\n      return fromSettings.concat(fromEvents);\n    };\n\n    return {\n      getData: getData,\n      getFlattenedKeys: getFlattenedKeys\n    };\n  };\n\n  var trim$1 = global$e.trim;\n\n  var hasContentEditableState = function hasContentEditableState(value) {\n    return function (node) {\n      if (node && node.nodeType === 1) {\n        if (node.contentEditable === value) {\n          return true;\n        }\n\n        if (node.getAttribute('data-mce-contenteditable') === value) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  };\n\n  var isContentEditableTrue = hasContentEditableState('true');\n  var isContentEditableFalse = hasContentEditableState('false');\n\n  var create$7 = function create$7(type, title, url, level, attach) {\n    return {\n      type: type,\n      title: title,\n      url: url,\n      level: level,\n      attach: attach\n    };\n  };\n\n  var isChildOfContentEditableTrue = function isChildOfContentEditableTrue(node) {\n    while (node = node.parentNode) {\n      var value = node.contentEditable;\n\n      if (value && value !== 'inherit') {\n        return isContentEditableTrue(node);\n      }\n    }\n\n    return false;\n  };\n\n  var select = function select(selector, root) {\n    return map(descendants(Element.fromDom(root), selector), function (element) {\n      return element.dom();\n    });\n  };\n\n  var getElementText = function getElementText(elm) {\n    return elm.innerText || elm.textContent;\n  };\n\n  var getOrGenerateId = function getOrGenerateId(elm) {\n    return elm.id ? elm.id : generate$1('h');\n  };\n\n  var isAnchor = function isAnchor(elm) {\n    return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n  };\n\n  var isValidAnchor = function isValidAnchor(elm) {\n    return isAnchor(elm) && isEditable(elm);\n  };\n\n  var isHeader = function isHeader(elm) {\n    return elm && /^(H[1-6])$/.test(elm.nodeName);\n  };\n\n  var isEditable = function isEditable(elm) {\n    return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n  };\n\n  var isValidHeader = function isValidHeader(elm) {\n    return isHeader(elm) && isEditable(elm);\n  };\n\n  var getLevel = function getLevel(elm) {\n    return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n  };\n\n  var headerTarget = function headerTarget(elm) {\n    var headerId = getOrGenerateId(elm);\n\n    var attach = function attach() {\n      elm.id = headerId;\n    };\n\n    return create$7('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n  };\n\n  var anchorTarget = function anchorTarget(elm) {\n    var anchorId = elm.id || elm.name;\n    var anchorText = getElementText(elm);\n    return create$7('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n  };\n\n  var getHeaderTargets = function getHeaderTargets(elms) {\n    return map(filter(elms, isValidHeader), headerTarget);\n  };\n\n  var getAnchorTargets = function getAnchorTargets(elms) {\n    return map(filter(elms, isValidAnchor), anchorTarget);\n  };\n\n  var getTargetElements = function getTargetElements(elm) {\n    var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n    return elms;\n  };\n\n  var hasTitle = function hasTitle(target) {\n    return trim$1(target.title).length > 0;\n  };\n\n  var find$5 = function find$5(elm) {\n    var elms = getTargetElements(elm);\n    return filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n  };\n\n  var LinkTargets = {\n    find: find$5\n  };\n  var STORAGE_KEY = 'tinymce-url-history';\n  var HISTORY_LENGTH = 5;\n\n  var isHttpUrl = function isHttpUrl(url) {\n    return isString(url) && /^https?/.test(url);\n  };\n\n  var isArrayOfUrl = function isArrayOfUrl(a) {\n    return isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n  };\n\n  var isRecordOfUrlArray = function isRecordOfUrlArray(r) {\n    return isObject(r) && find$1(r, function (value) {\n      return !isArrayOfUrl(value);\n    }).isNone();\n  };\n\n  var getAllHistory = function getAllHistory() {\n    var unparsedHistory = domGlobals.localStorage.getItem(STORAGE_KEY);\n\n    if (unparsedHistory === null) {\n      return {};\n    }\n\n    var history;\n\n    try {\n      history = JSON.parse(unparsedHistory);\n    } catch (e) {\n      if (e instanceof SyntaxError) {\n        domGlobals.console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n        return {};\n      }\n\n      throw e;\n    }\n\n    if (!isRecordOfUrlArray(history)) {\n      domGlobals.console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n      return {};\n    }\n\n    return history;\n  };\n\n  var setAllHistory = function setAllHistory(history) {\n    if (!isRecordOfUrlArray(history)) {\n      throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n    }\n\n    domGlobals.localStorage.setItem(STORAGE_KEY, JSON.stringify(history));\n  };\n\n  var getHistory = function getHistory(fileType) {\n    var history = getAllHistory();\n    return Object.prototype.hasOwnProperty.call(history, fileType) ? history[fileType] : [];\n  };\n\n  var addToHistory = function addToHistory(url, fileType) {\n    if (!isHttpUrl(url)) {\n      return;\n    }\n\n    var history = getAllHistory();\n    var items = Object.prototype.hasOwnProperty.call(history, fileType) ? history[fileType] : [];\n    var itemsWithoutUrl = filter(items, function (item) {\n      return item !== url;\n    });\n    history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n    setAllHistory(history);\n  };\n\n  var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n\n  var isTruthy = function isTruthy(value) {\n    return !!value;\n  };\n\n  var makeMap = function makeMap(value) {\n    return map$1(global$e.makeMap(value, /[, ]/), isTruthy);\n  };\n\n  var getOpt = function getOpt(obj, key) {\n    return hasOwnProperty$2.call(obj, key) ? Option.some(obj[key]) : Option.none();\n  };\n\n  var getTextSetting = function getTextSetting(settings, name, defaultValue) {\n    var value = getOpt(settings, name).getOr(defaultValue);\n    return isString(value) ? Option.some(value) : Option.none();\n  };\n\n  var getPicker = function getPicker(settings) {\n    return Option.some(settings.file_picker_callback).filter(isFunction);\n  };\n\n  var getPickerTypes = function getPickerTypes(settings) {\n    var optFileTypes = Option.some(settings.file_picker_types).filter(isTruthy);\n    var optLegacyTypes = Option.some(settings.file_browser_callback_types).filter(isTruthy);\n    var optTypes = optFileTypes.or(optLegacyTypes).map(makeMap);\n    return getPicker(settings).fold(function () {\n      return false;\n    }, function (_picker) {\n      return optTypes.fold(function () {\n        return true;\n      }, function (types) {\n        return keys(types).length > 0 ? types : false;\n      });\n    });\n  };\n\n  var getPickerSetting = function getPickerSetting(settings, filetype) {\n    var pickerTypes = getPickerTypes(settings);\n\n    if (isBoolean(pickerTypes)) {\n      return pickerTypes ? getPicker(settings) : Option.none();\n    } else {\n      return pickerTypes[filetype] ? getPicker(settings) : Option.none();\n    }\n  };\n\n  var _getUrlPicker = function getUrlPicker(editor, filetype) {\n    return getPickerSetting(editor.settings, filetype).map(function (picker) {\n      return function (entry) {\n        return Future.nu(function (completer) {\n          var handler = function handler(value, meta) {\n            if (!isString(value)) {\n              throw new Error('Expected value to be string');\n            }\n\n            if (meta !== undefined && !isObject(meta)) {\n              throw new Error('Expected meta to be a object');\n            }\n\n            var r = {\n              value: value,\n              meta: meta\n            };\n            completer(r);\n          };\n\n          var meta = global$e.extend({\n            filetype: filetype\n          }, Option.from(entry.meta).getOr({}));\n          picker.call(editor, handler, entry.value, meta);\n        });\n      };\n    });\n  };\n\n  var _getLinkInformation = function getLinkInformation(editor) {\n    if (editor.settings.typeahead_urls === false) {\n      return Option.none();\n    }\n\n    return Option.some({\n      targets: LinkTargets.find(editor.getBody()),\n      anchorTop: getTextSetting(editor.settings, 'anchor_top', '#top').getOrUndefined(),\n      anchorBottom: getTextSetting(editor.settings, 'anchor_bottom', '#bottom').getOrUndefined()\n    });\n  };\n\n  var _getValidationHandler = function getValidationHandler(editor) {\n    var optValidator = Option.from(editor.settings.file_picker_validator_handler).filter(isFunction);\n    return optValidator.orThunk(function () {\n      return Option.from(editor.settings.filepicker_validator_handler).filter(isFunction);\n    });\n  };\n\n  var UrlInputBackstage = function UrlInputBackstage(editor) {\n    return {\n      getHistory: getHistory,\n      addToHistory: addToHistory,\n      getLinkInformation: function getLinkInformation() {\n        return _getLinkInformation(editor);\n      },\n      getValidationHandler: function getValidationHandler() {\n        return _getValidationHandler(editor);\n      },\n      getUrlPicker: function getUrlPicker(filetype) {\n        return _getUrlPicker(editor, filetype);\n      }\n    };\n  };\n\n  var isDraggableModal$1 = function isDraggableModal$1(editor) {\n    return function () {\n      return isDraggableModal(editor);\n    };\n  };\n\n  var DialogBackstage = function DialogBackstage(editor) {\n    return {\n      isDraggableModal: isDraggableModal$1(editor)\n    };\n  };\n\n  var init$8 = function init$8(sink, editor, lazyAnchorbar, lazyMoreButton) {\n    var backstage = {\n      shared: {\n        providers: {\n          icons: function icons() {\n            return editor.ui.registry.getAll().icons;\n          },\n          menuItems: function menuItems() {\n            return editor.ui.registry.getAll().menuItems;\n          },\n          translate: global$5.translate\n        },\n        interpreter: function interpreter(s) {\n          return interpretWithoutForm(s, backstage);\n        },\n        anchors: Anchors.getAnchors(editor, lazyAnchorbar, lazyMoreButton),\n        getSink: function getSink() {\n          return Result.value(sink);\n        }\n      },\n      urlinput: UrlInputBackstage(editor),\n      styleselect: init$7(editor),\n      colorinput: ColorInputBackstage(editor),\n      dialog: DialogBackstage(editor)\n    };\n    return backstage;\n  };\n\n  var showContextToolbarEvent = 'contexttoolbar-show';\n  var schema$j = constant([strict$1('dom'), defaulted$1('shell', true), field$1('toolbarBehaviours', [Replacing])]);\n\n  var enhanceGroups = function enhanceGroups(detail) {\n    return {\n      behaviours: derive$1([Replacing.config({})])\n    };\n  };\n\n  var parts$7 = constant([optional({\n    name: 'groups',\n    overrides: enhanceGroups\n  })]);\n\n  var factory$9 = function factory$9(detail, components, spec, _externals) {\n    var setGroups = function setGroups(toolbar, groups) {\n      getGroupContainer(toolbar).fold(function () {\n        domGlobals.console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n      }, function (container) {\n        Replacing.set(container, groups);\n      });\n    };\n\n    var getGroupContainer = function getGroupContainer(component) {\n      return detail.shell ? Option.some(component) : getPart(component, detail, 'groups');\n    };\n\n    var extra = detail.shell ? {\n      behaviours: [Replacing.config({})],\n      components: []\n    } : {\n      behaviours: [],\n      components: components\n    };\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: extra.components,\n      behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n      apis: {\n        setGroups: setGroups\n      },\n      domModification: {\n        attributes: {\n          role: 'group'\n        }\n      }\n    };\n  };\n\n  var Toolbar = composite$1({\n    name: 'Toolbar',\n    configFields: schema$j(),\n    partFields: parts$7(),\n    factory: factory$9,\n    apis: {\n      setGroups: function setGroups(apis, toolbar, groups) {\n        apis.setGroups(toolbar, groups);\n      }\n    }\n  });\n\n  var generate$6 = function generate$6(xs, f) {\n    var init = {\n      len: 0,\n      list: []\n    };\n    var r = foldl(xs, function (b, a) {\n      var value = f(a, b.len);\n      return value.fold(constant(b), function (v) {\n        return {\n          len: v.finish(),\n          list: b.list.concat([v])\n        };\n      });\n    }, init);\n    return r.list;\n  };\n\n  var output$1 = Immutable('within', 'extra', 'withinWidth');\n\n  var apportion = function apportion(units, total, len) {\n    var parray = generate$6(units, function (unit, current) {\n      var width = len(unit);\n      return Option.some({\n        element: constant(unit),\n        start: constant(current),\n        finish: constant(current + width),\n        width: constant(width)\n      });\n    });\n    var within = filter(parray, function (unit) {\n      return unit.finish() <= total;\n    });\n    var withinWidth = foldr(within, function (acc, el) {\n      return acc + el.width();\n    }, 0);\n    var extra = parray.slice(within.length);\n    return {\n      within: constant(within),\n      extra: constant(extra),\n      withinWidth: constant(withinWidth)\n    };\n  };\n\n  var toUnit = function toUnit(parray) {\n    return map(parray, function (unit) {\n      return unit.element();\n    });\n  };\n\n  var fitLast = function fitLast(within, extra, withinWidth) {\n    var fits = toUnit(within.concat(extra));\n    return output$1(fits, [], withinWidth);\n  };\n\n  var overflow = function overflow(within, extra, overflower, withinWidth) {\n    var fits = toUnit(within).concat([overflower]);\n    return output$1(fits, toUnit(extra), withinWidth);\n  };\n\n  var fitAll = function fitAll(within, extra, withinWidth) {\n    return output$1(toUnit(within), [], withinWidth);\n  };\n\n  var tryFit = function tryFit(total, units, len) {\n    var divide = apportion(units, total, len);\n    return divide.extra().length === 0 ? Option.some(divide) : Option.none();\n  };\n\n  var partition$3 = function partition$3(total, units, len, overflower) {\n    var divide = tryFit(total, units, len).getOrThunk(function () {\n      return apportion(units, total - len(overflower), len);\n    });\n    var within = divide.within();\n    var extra = divide.extra();\n    var withinWidth = divide.withinWidth();\n\n    if (extra.length === 1 && extra[0].width() <= len(overflower)) {\n      return fitLast(within, extra, withinWidth);\n    } else if (extra.length >= 1) {\n      return overflow(within, extra, overflower, withinWidth);\n    } else {\n      return fitAll(within, extra, withinWidth);\n    }\n  };\n\n  var setStoredGroups = function setStoredGroups(toolbar, storedGroups) {\n    var bGroups = map(storedGroups, function (g) {\n      return premade$1(g);\n    });\n    Toolbar.setGroups(toolbar, bGroups);\n  };\n\n  var findFocusedComp = function findFocusedComp(overflow, overflowButton) {\n    return overflow.bind(function (overf) {\n      return search$1(overf.element()).bind(function (focusedElm) {\n        return overf.getSystem().getByDom(focusedElm).toOption();\n      });\n    }).orThunk(function () {\n      return overflowButton.filter(Focusing.isFocused);\n    });\n  };\n\n  var refresh = function refresh(toolbar, detail, overflow, isOpen) {\n    var primary = getPartOrDie(toolbar, detail, 'primary');\n    var overflowButton = getPart(toolbar, detail, 'overflow-button');\n    var overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n    set$2(primary.element(), 'visibility', 'hidden');\n    var focusedComp = findFocusedComp(overflow, overflowButton);\n    overflow.each(function (overf) {\n      Toolbar.setGroups(overf, []);\n    });\n    var groups = detail.builtGroups.get();\n    setStoredGroups(primary, groups.concat([overflowGroup]));\n    var total = get$7(primary.element());\n    var overflows = partition$3(total, groups, function (comp) {\n      return get$7(comp.element());\n    }, overflowGroup);\n\n    if (overflows.extra().length === 0) {\n      Replacing.remove(primary, overflowGroup);\n      overflow.each(function (overf) {\n        Toolbar.setGroups(overf, []);\n      });\n    } else {\n      setStoredGroups(primary, overflows.within());\n      overflow.each(function (overf) {\n        setStoredGroups(overf, overflows.extra());\n      });\n    }\n\n    remove$6(primary.element(), 'visibility');\n    reflow(primary.element());\n    overflow.each(function (overf) {\n      overflowButton.each(function (button) {\n        return Toggling.set(button, isOpen(overf));\n      });\n      focusedComp.each(Focusing.focus);\n    });\n  };\n\n  var schema$k = constant([strict$1('items'), markers(['itemSelector']), field$1('tgroupBehaviours', [Keying])]);\n  var parts$8 = constant([group({\n    name: 'items',\n    unit: 'item'\n  })]);\n\n  var factory$a = function factory$a(detail, components, spec, _externals) {\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n        mode: 'flow',\n        selector: detail.markers.itemSelector\n      })]),\n      domModification: {\n        attributes: {\n          role: 'toolbar'\n        }\n      }\n    };\n  };\n\n  var ToolbarGroup = composite$1({\n    name: 'ToolbarGroup',\n    configFields: schema$k(),\n    partFields: parts$8(),\n    factory: factory$a\n  });\n  var schema$l = constant([field$1('splitToolbarBehaviours', []), state$1('builtGroups', function () {\n    return Cell([]);\n  })]);\n\n  var spec = function spec(detail, components, _spec2, externals, extras) {\n    var toolbarToggleEvent = 'alloy.toolbar.toggle';\n\n    var doSetGroups = function doSetGroups(toolbar, groups) {\n      var built = map(groups, toolbar.getSystem().build);\n      detail.builtGroups.set(built);\n    };\n\n    var setGroups = function setGroups(toolbar, groups) {\n      doSetGroups(toolbar, groups);\n      extras.refresh(toolbar, detail);\n    };\n\n    var _getMoreButton = function getMoreButton(toolbar) {\n      return getPart(toolbar, detail, 'overflow-button');\n    };\n\n    var _getOverflow = function getOverflow(toolbar) {\n      return extras.getOverflow(toolbar);\n    };\n\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n        others: _assign({}, extras.coupling, {\n          overflowGroup: function overflowGroup(toolbar) {\n            return ToolbarGroup.sketch(_assign({}, externals['overflow-group'](), {\n              items: [Button.sketch(_assign({}, externals['overflow-button'](), {\n                action: function action(_button) {\n                  emit(toolbar, toolbarToggleEvent);\n                }\n              }))]\n            }));\n          }\n        })\n      }), config('toolbar-toggle-events', [run(toolbarToggleEvent, function (toolbar) {\n        extras.toggleToolbar(toolbar, detail, externals);\n      })])]),\n      apis: {\n        setGroups: setGroups,\n        refresh: function refresh(toolbar) {\n          extras.refresh(toolbar, detail);\n        },\n        getMoreButton: function getMoreButton(toolbar) {\n          return _getMoreButton(toolbar);\n        },\n        getOverflow: function getOverflow(toolbar) {\n          return _getOverflow(toolbar);\n        },\n        toggle: function toggle(toolbar) {\n          extras.toggleToolbar(toolbar, detail, externals);\n        }\n      },\n      domModification: {\n        attributes: {\n          role: 'group'\n        }\n      }\n    };\n  };\n\n  var schema$m = constant([markers(['overflowToggledClass']), strict$1('getAnchor'), strict$1('lazySink')].concat(schema$l()));\n  var parts$9 = constant([required({\n    factory: Toolbar,\n    schema: schema$j(),\n    name: 'primary'\n  }), external$1({\n    factory: Toolbar,\n    schema: schema$j(),\n    name: 'overflow',\n    overrides: function overrides(detail) {\n      return {\n        toolbarBehaviours: derive$1([Keying.config({\n          mode: 'cyclic',\n          onEscape: function onEscape(comp) {\n            getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n            return Option.none();\n          }\n        })])\n      };\n    }\n  }), external$1({\n    name: 'overflow-button',\n    overrides: function overrides(detail) {\n      return {\n        dom: {\n          attributes: {\n            'aria-haspopup': 'true'\n          }\n        },\n        buttonBehaviours: derive$1([Toggling.config({\n          toggleClass: detail.markers.overflowToggledClass,\n          aria: {\n            mode: 'expanded'\n          },\n          toggleOnExecute: false\n        })])\n      };\n    }\n  }), external$1({\n    name: 'overflow-group'\n  })]);\n\n  var toggleToolbar = function toggleToolbar(toolbar, detail, externals) {\n    var sandbox = Coupling.getCoupled(toolbar, 'sandbox');\n\n    if (Sandboxing.isOpen(sandbox)) {\n      Sandboxing.close(sandbox);\n    } else {\n      Sandboxing.open(sandbox, externals.overflow());\n    }\n  };\n\n  var isOpen$1 = function isOpen$1(over) {\n    return over.getSystem().isConnected();\n  };\n\n  var refresh$1 = function refresh$1(toolbar, detail) {\n    var overflow = Sandboxing.getState(Coupling.getCoupled(toolbar, 'sandbox'));\n    refresh(toolbar, detail, overflow, isOpen$1);\n    overflow.each(function (overf) {\n      var sink = detail.lazySink(toolbar).getOrDie();\n      var anchor = detail.getAnchor(toolbar);\n      Positioning.position(sink, anchor, overf);\n    });\n  };\n\n  var makeSandbox$1 = function makeSandbox$1(toolbar, detail) {\n    var ariaOwner = manager();\n\n    var onOpen = function onOpen(sandbox, overf) {\n      refresh$1(toolbar, detail);\n      getPart(toolbar, detail, 'overflow-button').each(function (button) {\n        Toggling.on(button);\n        ariaOwner.link(button.element());\n      });\n      Keying.focusIn(overf);\n    };\n\n    var onClose = function onClose() {\n      getPart(toolbar, detail, 'overflow-button').each(function (button) {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaOwner.unlink(button.element());\n      });\n    };\n\n    return {\n      dom: {\n        tag: 'div',\n        attributes: {\n          id: ariaOwner.id()\n        }\n      },\n      behaviours: derive$1([Keying.config({\n        mode: 'special',\n        onEscape: function onEscape(comp) {\n          Sandboxing.close(comp);\n          return Option.some(true);\n        }\n      }), Sandboxing.config({\n        onOpen: onOpen,\n        onClose: onClose,\n        isPartOf: function isPartOf(container, data, queryElem) {\n          return _isPartOf(data, queryElem) || _isPartOf(toolbar, queryElem);\n        },\n        getAttachPoint: function getAttachPoint() {\n          return detail.lazySink(toolbar).getOrDie();\n        }\n      })])\n    };\n  };\n\n  var factory$b = function factory$b(detail, components, spec$1, externals) {\n    return spec(detail, components, spec$1, externals, {\n      refresh: refresh$1,\n      toggleToolbar: toggleToolbar,\n      getOverflow: function getOverflow(toolbar) {\n        return Sandboxing.getState(Coupling.getCoupled(toolbar, 'sandbox'));\n      },\n      coupling: {\n        sandbox: function sandbox(toolbar) {\n          return makeSandbox$1(toolbar, detail);\n        }\n      }\n    });\n  };\n\n  var SplitFloatingToolbar = composite$1({\n    name: 'SplitFloatingToolbar',\n    configFields: schema$m(),\n    partFields: parts$9(),\n    factory: factory$b,\n    apis: {\n      setGroups: function setGroups(apis, toolbar, groups) {\n        apis.setGroups(toolbar, groups);\n      },\n      refresh: function refresh(apis, toolbar) {\n        apis.refresh(toolbar);\n      },\n      getMoreButton: function getMoreButton(apis, toolbar) {\n        return apis.getMoreButton(toolbar);\n      },\n      getOverflow: function getOverflow(apis, toolbar) {\n        return apis.getOverflow(toolbar);\n      },\n      toggle: function toggle(apis, toolbar) {\n        apis.toggle(toolbar);\n      }\n    }\n  });\n\n  var getAnimationRoot = function getAnimationRoot(component, slideConfig) {\n    return slideConfig.getAnimationRoot.fold(function () {\n      return component.element();\n    }, function (get) {\n      return get(component);\n    });\n  };\n\n  var getDimensionProperty = function getDimensionProperty(slideConfig) {\n    return slideConfig.dimension.property;\n  };\n\n  var getDimension = function getDimension(slideConfig, elem) {\n    return slideConfig.dimension.getDimension(elem);\n  };\n\n  var disableTransitions = function disableTransitions(component, slideConfig) {\n    var root = getAnimationRoot(component, slideConfig);\n    remove$5(root, [slideConfig.shrinkingClass, slideConfig.growingClass]);\n  };\n\n  var setShrunk = function setShrunk(component, slideConfig) {\n    remove$4(component.element(), slideConfig.openClass);\n    add$2(component.element(), slideConfig.closedClass);\n    set$2(component.element(), getDimensionProperty(slideConfig), '0px');\n    reflow(component.element());\n  };\n\n  var setGrown = function setGrown(component, slideConfig) {\n    remove$4(component.element(), slideConfig.closedClass);\n    add$2(component.element(), slideConfig.openClass);\n    remove$6(component.element(), getDimensionProperty(slideConfig));\n  };\n\n  var doImmediateShrink = function doImmediateShrink(component, slideConfig, slideState, _calculatedSize) {\n    slideState.setCollapsed();\n    set$2(component.element(), getDimensionProperty(slideConfig), getDimension(slideConfig, component.element()));\n    reflow(component.element());\n    disableTransitions(component, slideConfig);\n    setShrunk(component, slideConfig);\n    slideConfig.onStartShrink(component);\n    slideConfig.onShrunk(component);\n  };\n\n  var doStartShrink = function doStartShrink(component, slideConfig, slideState, calculatedSize) {\n    var size = calculatedSize.getOrThunk(function () {\n      return getDimension(slideConfig, component.element());\n    });\n    slideState.setCollapsed();\n    set$2(component.element(), getDimensionProperty(slideConfig), size);\n    reflow(component.element());\n    var root = getAnimationRoot(component, slideConfig);\n    remove$4(root, slideConfig.growingClass);\n    add$2(root, slideConfig.shrinkingClass);\n    setShrunk(component, slideConfig);\n    slideConfig.onStartShrink(component);\n  };\n\n  var doStartSmartShrink = function doStartSmartShrink(component, slideConfig, slideState) {\n    var size = getDimension(slideConfig, component.element());\n    var shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n    shrinker(component, slideConfig, slideState, Option.some(size));\n  };\n\n  var doStartGrow = function doStartGrow(component, slideConfig, slideState) {\n    var root = getAnimationRoot(component, slideConfig);\n    var wasShrinking = has$2(root, slideConfig.shrinkingClass);\n    var beforeSize = getDimension(slideConfig, component.element());\n    setGrown(component, slideConfig);\n    var fullSize = getDimension(slideConfig, component.element());\n\n    var startPartialGrow = function startPartialGrow() {\n      set$2(component.element(), getDimensionProperty(slideConfig), beforeSize);\n      reflow(component.element());\n    };\n\n    var startCompleteGrow = function startCompleteGrow() {\n      setShrunk(component, slideConfig);\n    };\n\n    var setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n    setStartSize();\n    remove$4(root, slideConfig.shrinkingClass);\n    add$2(root, slideConfig.growingClass);\n    setGrown(component, slideConfig);\n    set$2(component.element(), getDimensionProperty(slideConfig), fullSize);\n    slideState.setExpanded();\n    slideConfig.onStartGrow(component);\n  };\n\n  var refresh$2 = function refresh$2(component, slideConfig, slideState) {\n    if (slideState.isExpanded()) {\n      remove$6(component.element(), getDimensionProperty(slideConfig));\n      var fullSize = getDimension(slideConfig, component.element());\n      set$2(component.element(), getDimensionProperty(slideConfig), fullSize);\n    }\n  };\n\n  var grow = function grow(component, slideConfig, slideState) {\n    if (!slideState.isExpanded()) {\n      doStartGrow(component, slideConfig, slideState);\n    }\n  };\n\n  var shrink = function shrink(component, slideConfig, slideState) {\n    if (slideState.isExpanded()) {\n      doStartSmartShrink(component, slideConfig, slideState);\n    }\n  };\n\n  var immediateShrink = function immediateShrink(component, slideConfig, slideState) {\n    if (slideState.isExpanded()) {\n      doImmediateShrink(component, slideConfig, slideState);\n    }\n  };\n\n  var hasGrown = function hasGrown(component, slideConfig, slideState) {\n    return slideState.isExpanded();\n  };\n\n  var hasShrunk = function hasShrunk(component, slideConfig, slideState) {\n    return slideState.isCollapsed();\n  };\n\n  var isGrowing = function isGrowing(component, slideConfig, slideState) {\n    var root = getAnimationRoot(component, slideConfig);\n    return has$2(root, slideConfig.growingClass) === true;\n  };\n\n  var isShrinking = function isShrinking(component, slideConfig, slideState) {\n    var root = getAnimationRoot(component, slideConfig);\n    return has$2(root, slideConfig.shrinkingClass) === true;\n  };\n\n  var isTransitioning = function isTransitioning(component, slideConfig, slideState) {\n    return isGrowing(component, slideConfig) === true || isShrinking(component, slideConfig) === true;\n  };\n\n  var toggleGrow = function toggleGrow(component, slideConfig, slideState) {\n    var f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n    f(component, slideConfig, slideState);\n  };\n\n  var SlidingApis =\n  /*#__PURE__*/\n  Object.freeze({\n    refresh: refresh$2,\n    grow: grow,\n    shrink: shrink,\n    immediateShrink: immediateShrink,\n    hasGrown: hasGrown,\n    hasShrunk: hasShrunk,\n    isGrowing: isGrowing,\n    isShrinking: isShrinking,\n    isTransitioning: isTransitioning,\n    toggleGrow: toggleGrow,\n    disableTransitions: disableTransitions\n  });\n\n  var exhibit$6 = function exhibit$6(base, slideConfig) {\n    var expanded = slideConfig.expanded;\n    return expanded ? nu$6({\n      classes: [slideConfig.openClass],\n      styles: {}\n    }) : nu$6({\n      classes: [slideConfig.closedClass],\n      styles: wrap$1(slideConfig.dimension.property, '0px')\n    });\n  };\n\n  var events$d = function events$d(slideConfig, slideState) {\n    return derive([runOnSource(transitionend(), function (component, simulatedEvent) {\n      var raw = simulatedEvent.event().raw();\n\n      if (raw.propertyName === slideConfig.dimension.property) {\n        disableTransitions(component, slideConfig);\n\n        if (slideState.isExpanded()) {\n          remove$6(component.element(), slideConfig.dimension.property);\n        }\n\n        var notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n        notify(component);\n      }\n    })]);\n  };\n\n  var ActiveSliding =\n  /*#__PURE__*/\n  Object.freeze({\n    exhibit: exhibit$6,\n    events: events$d\n  });\n  var SlidingSchema = [strict$1('closedClass'), strict$1('openClass'), strict$1('shrinkingClass'), strict$1('growingClass'), option('getAnimationRoot'), onHandler('onShrunk'), onHandler('onStartShrink'), onHandler('onGrown'), onHandler('onStartGrow'), defaulted$1('expanded', false), strictOf('dimension', choose$1('property', {\n    width: [output('property', 'width'), output('getDimension', function (elem) {\n      return get$7(elem) + 'px';\n    })],\n    height: [output('property', 'height'), output('getDimension', function (elem) {\n      return get$6(elem) + 'px';\n    })]\n  }))];\n\n  var init$9 = function init$9(spec) {\n    var state = Cell(spec.expanded);\n\n    var readState = function readState() {\n      return 'expanded: ' + state.get();\n    };\n\n    return nu$5({\n      isExpanded: function isExpanded() {\n        return state.get() === true;\n      },\n      isCollapsed: function isCollapsed() {\n        return state.get() === false;\n      },\n      setCollapsed: curry(state.set, false),\n      setExpanded: curry(state.set, true),\n      readState: readState\n    });\n  };\n\n  var SlidingState =\n  /*#__PURE__*/\n  Object.freeze({\n    init: init$9\n  });\n  var Sliding = create$1({\n    fields: SlidingSchema,\n    name: 'sliding',\n    active: ActiveSliding,\n    apis: SlidingApis,\n    state: SlidingState\n  });\n  var schema$n = constant([markers(['closedClass', 'openClass', 'shrinkingClass', 'growingClass', 'overflowToggledClass'])].concat(schema$l()));\n  var parts$a = constant([required({\n    factory: Toolbar,\n    schema: schema$j(),\n    name: 'primary'\n  }), required({\n    factory: Toolbar,\n    schema: schema$j(),\n    name: 'overflow',\n    overrides: function overrides(detail) {\n      return {\n        toolbarBehaviours: derive$1([Sliding.config({\n          dimension: {\n            property: 'height'\n          },\n          closedClass: detail.markers.closedClass,\n          openClass: detail.markers.openClass,\n          shrinkingClass: detail.markers.shrinkingClass,\n          growingClass: detail.markers.growingClass,\n          onShrunk: function onShrunk(comp) {\n            getPart(comp, detail, 'overflow-button').each(function (button) {\n              Toggling.off(button);\n              Focusing.focus(button);\n            });\n          },\n          onGrown: function onGrown(comp) {\n            Keying.focusIn(comp);\n          },\n          onStartGrow: function onStartGrow(comp) {\n            getPart(comp, detail, 'overflow-button').each(Toggling.on);\n          }\n        }), Keying.config({\n          mode: 'acyclic',\n          onEscape: function onEscape(comp) {\n            getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n            return Option.some(true);\n          }\n        })])\n      };\n    }\n  }), external$1({\n    name: 'overflow-button',\n    overrides: function overrides(detail) {\n      return {\n        buttonBehaviours: derive$1([Toggling.config({\n          toggleClass: detail.markers.overflowToggledClass,\n          aria: {\n            mode: 'pressed'\n          },\n          toggleOnExecute: false\n        })])\n      };\n    }\n  }), external$1({\n    name: 'overflow-group'\n  })]);\n\n  var toggleToolbar$1 = function toggleToolbar$1(toolbar, detail) {\n    getPart(toolbar, detail, 'overflow').each(function (overf) {\n      refresh$3(toolbar, detail);\n      Sliding.toggleGrow(overf);\n    });\n  };\n\n  var isOpen$2 = function isOpen$2(overf) {\n    return Sliding.hasGrown(overf);\n  };\n\n  var refresh$3 = function refresh$3(toolbar, detail) {\n    var overflow = getPart(toolbar, detail, 'overflow');\n    refresh(toolbar, detail, overflow, isOpen$2);\n    overflow.each(Sliding.refresh);\n  };\n\n  var factory$c = function factory$c(detail, components, spec$1, externals) {\n    return spec(detail, components, spec$1, externals, {\n      refresh: refresh$3,\n      toggleToolbar: toggleToolbar$1,\n      getOverflow: function getOverflow(toolbar) {\n        return getPart(toolbar, detail, 'overflow');\n      },\n      coupling: {}\n    });\n  };\n\n  var SplitSlidingToolbar = composite$1({\n    name: 'SplitSlidingToolbar',\n    configFields: schema$n(),\n    partFields: parts$a(),\n    factory: factory$c,\n    apis: {\n      setGroups: function setGroups(apis, toolbar, groups) {\n        apis.setGroups(toolbar, groups);\n      },\n      refresh: function refresh(apis, toolbar) {\n        apis.refresh(toolbar);\n      },\n      getMoreButton: function getMoreButton(apis, toolbar) {\n        return apis.getMoreButton(toolbar);\n      },\n      getOverflow: function getOverflow(apis, toolbar) {\n        return apis.getOverflow(toolbar);\n      },\n      toggle: function toggle(apis, toolbar) {\n        apis.toggle(toolbar);\n      }\n    }\n  });\n  var ReadOnlyChannel = 'silver.readonly';\n  var ReadOnlyDataSchema = objOf([strictBoolean('readonly')]);\n\n  var setDisabledAll = function setDisabledAll(element, state) {\n    all('*', element.element()).forEach(function (elm) {\n      element.getSystem().getByDom(elm).each(function (comp) {\n        if (comp.hasConfigured(Disabling)) {\n          Disabling.set(comp, state);\n        }\n      });\n    });\n  };\n\n  var broadcastReadonly = function broadcastReadonly(uiComponents, readonly) {\n    var outerContainer = uiComponents.outerContainer;\n    var target = outerContainer.element();\n\n    if (readonly) {\n      uiComponents.mothership.broadcastOn([dismissPopups()], {\n        target: target\n      });\n      uiComponents.uiMothership.broadcastOn([dismissPopups()], {\n        target: target\n      });\n    }\n\n    uiComponents.mothership.broadcastOn([ReadOnlyChannel], {\n      readonly: readonly\n    });\n    uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], {\n      readonly: readonly\n    });\n  };\n\n  var toggleToReadOnly = function toggleToReadOnly(uiComponents, readonly) {\n    var outerContainer = uiComponents.outerContainer;\n    broadcastReadonly(uiComponents, readonly);\n    all('*', outerContainer.element()).forEach(function (elm) {\n      outerContainer.getSystem().getByDom(elm).each(function (comp) {\n        if (comp.hasConfigured(Disabling)) {\n          Disabling.set(comp, readonly);\n        }\n      });\n    });\n  };\n\n  var setupReadonlyModeSwitch = function setupReadonlyModeSwitch(editor, uiComponents) {\n    editor.on('init', function () {\n      if (editor.readonly) {\n        toggleToReadOnly(uiComponents, true);\n      }\n    });\n    editor.on('SwitchMode', function () {\n      return toggleToReadOnly(uiComponents, editor.readonly);\n    });\n\n    if (isReadOnly(editor)) {\n      editor.setMode('readonly');\n    }\n  };\n\n  var createReadonlyReceivingForOverflow = function createReadonlyReceivingForOverflow(getOverflow) {\n    var _a;\n\n    return Receiving.config({\n      channels: (_a = {}, _a[ReadOnlyChannel] = {\n        schema: ReadOnlyDataSchema,\n        onReceive: function onReceive(comp, data) {\n          getOverflow(comp).each(function (toolbar) {\n            setDisabledAll(toolbar, data.readonly);\n          });\n        }\n      }, _a)\n    });\n  };\n\n  var renderToolbarGroupCommon = function renderToolbarGroupCommon(toolbarGroup) {\n    var attributes = toolbarGroup.title.fold(function () {\n      return {};\n    }, function (title) {\n      return {\n        attributes: {\n          title: title\n        }\n      };\n    });\n    return {\n      dom: _assign({\n        tag: 'div',\n        classes: ['tox-toolbar__group']\n      }, attributes),\n      components: [ToolbarGroup.parts().items({})],\n      items: toolbarGroup.items,\n      markers: {\n        itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])'\n      },\n      tgroupBehaviours: derive$1([Tabstopping.config({}), Focusing.config({})])\n    };\n  };\n\n  var renderToolbarGroup = function renderToolbarGroup(toolbarGroup) {\n    return ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n  };\n\n  var getToolbarbehaviours = function getToolbarbehaviours(toolbarSpec, modeName, getOverflow) {\n    var onAttached = runOnAttached(function (component) {\n      var groups = map(toolbarSpec.initGroups, renderToolbarGroup);\n      Toolbar.setGroups(component, groups);\n    });\n    return derive$1([Keying.config({\n      mode: modeName,\n      onEscape: toolbarSpec.onEscape,\n      selector: '.tox-toolbar__group'\n    }), config('toolbar-events', [onAttached]), createReadonlyReceivingForOverflow(getOverflow)]);\n  };\n\n  var renderMoreToolbarCommon = function renderMoreToolbarCommon(toolbarSpec, getOverflow) {\n    var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n    return {\n      uid: toolbarSpec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-toolbar-overlord']\n      },\n      parts: {\n        'overflow-group': renderToolbarGroupCommon({\n          title: Option.none(),\n          items: []\n        }),\n        'overflow-button': renderIconButtonSpec({\n          name: 'more',\n          icon: Option.some('more-drawer'),\n          disabled: false,\n          tooltip: Option.some('More...'),\n          primary: false,\n          borderless: false\n        }, Option.none(), toolbarSpec.backstage.shared.providers)\n      },\n      splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName, getOverflow)\n    };\n  };\n\n  var renderFloatingMoreToolbar = function renderFloatingMoreToolbar(toolbarSpec) {\n    var baseSpec = renderMoreToolbarCommon(toolbarSpec, SplitFloatingToolbar.getOverflow);\n    var primary = SplitFloatingToolbar.parts().primary({\n      dom: {\n        tag: 'div',\n        classes: ['tox-toolbar__primary']\n      }\n    });\n    return SplitFloatingToolbar.sketch(_assign({}, baseSpec, {\n      lazySink: toolbarSpec.getSink,\n      getAnchor: function getAnchor() {\n        return toolbarSpec.backstage.shared.anchors.toolbarOverflow();\n      },\n      parts: _assign({}, baseSpec.parts, {\n        overflow: {\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar__overflow']\n          }\n        }\n      }),\n      components: [primary],\n      markers: {\n        overflowToggledClass: 'tox-tbtn--enabled'\n      }\n    }));\n  };\n\n  var renderSlidingMoreToolbar = function renderSlidingMoreToolbar(toolbarSpec) {\n    var primary = SplitSlidingToolbar.parts().primary({\n      dom: {\n        tag: 'div',\n        classes: ['tox-toolbar__primary']\n      }\n    });\n    var overflow = SplitSlidingToolbar.parts().overflow({\n      dom: {\n        tag: 'div',\n        classes: ['tox-toolbar__overflow']\n      }\n    });\n    var baseSpec = renderMoreToolbarCommon(toolbarSpec, SplitSlidingToolbar.getOverflow);\n    return SplitSlidingToolbar.sketch(_assign({}, baseSpec, {\n      components: [primary, overflow],\n      markers: {\n        openClass: 'tox-toolbar__overflow--open',\n        closedClass: 'tox-toolbar__overflow--closed',\n        growingClass: 'tox-toolbar__overflow--growing',\n        shrinkingClass: 'tox-toolbar__overflow--shrinking',\n        overflowToggledClass: 'tox-tbtn--enabled'\n      }\n    }));\n  };\n\n  var renderToolbar = function renderToolbar(toolbarSpec) {\n    var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n    return Toolbar.sketch({\n      uid: toolbarSpec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-toolbar']\n      },\n      components: [Toolbar.parts().groups({})],\n      toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName, constant(Option.none()))\n    });\n  };\n\n  var baseToolbarButtonFields = [defaultedBoolean('disabled', false), optionString('tooltip'), optionString('icon'), optionString('text'), defaultedFunction('onSetup', function () {\n    return noop;\n  })];\n  var toolbarButtonSchema = objOf([strictString('type'), strictFunction('onAction')].concat(baseToolbarButtonFields));\n\n  var createToolbarButton = function createToolbarButton(spec) {\n    return asRaw('toolbarbutton', toolbarButtonSchema, spec);\n  };\n\n  var baseMenuButtonFields = [optionString('text'), optionString('tooltip'), optionString('icon'), strictFunction('fetch'), defaultedFunction('onSetup', function () {\n    return noop;\n  })];\n  var MenuButtonSchema = objOf([strictString('type')].concat(baseMenuButtonFields));\n\n  var createMenuButton = function createMenuButton(spec) {\n    return asRaw('menubutton', MenuButtonSchema, spec);\n  };\n\n  var splitButtonSchema = objOf([strictString('type'), optionString('tooltip'), optionString('icon'), optionString('text'), optionFunction('select'), strictFunction('fetch'), defaultedFunction('onSetup', function () {\n    return noop;\n  }), defaultedStringEnum('presets', 'normal', ['normal', 'color', 'listpreview']), defaulted$1('columns', 1), strictFunction('onAction'), strictFunction('onItemAction')]);\n\n  var createSplitButton = function createSplitButton(spec) {\n    return asRaw('SplitButton', splitButtonSchema, spec);\n  };\n\n  var baseToolbarToggleButtonFields = [defaultedBoolean('active', false)].concat(baseToolbarButtonFields);\n  var toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([strictString('type'), strictFunction('onAction')]));\n\n  var createToggleButton = function createToggleButton(spec) {\n    return asRaw('ToggleButton', toggleButtonSchema, spec);\n  };\n\n  var contextBarFields = [defaultedFunction('predicate', function () {\n    return false;\n  }), defaultedStringEnum('scope', 'node', ['node', 'editor']), defaultedStringEnum('position', 'selection', ['node', 'selection', 'line'])];\n  var contextButtonFields = baseToolbarButtonFields.concat([defaulted$1('type', 'contextformbutton'), defaulted$1('primary', false), strictFunction('onAction'), state$1('original', identity)]);\n  var contextToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted$1('type', 'contextformbutton'), defaulted$1('primary', false), strictFunction('onAction'), state$1('original', identity)]);\n  var launchButtonFields = baseToolbarButtonFields.concat([defaulted$1('type', 'contextformbutton')]);\n  var launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted$1('type', 'contextformtogglebutton')]);\n  var toggleOrNormal = choose$1('type', {\n    contextformbutton: contextButtonFields,\n    contextformtogglebutton: contextToggleButtonFields\n  });\n  var contextFormSchema = objOf([defaulted$1('type', 'contextform'), defaultedFunction('initValue', function () {\n    return '';\n  }), optionString('label'), strictArrayOf('commands', toggleOrNormal), optionOf('launch', choose$1('type', {\n    contextformbutton: launchButtonFields,\n    contextformtogglebutton: launchToggleButtonFields\n  }))].concat(contextBarFields));\n  var contextToolbarSchema = objOf([defaulted$1('type', 'contexttoolbar'), strictString('items')].concat(contextBarFields));\n\n  var createContextToolbar = function createContextToolbar(spec) {\n    return asRaw('ContextToolbar', contextToolbarSchema, spec);\n  };\n\n  var createContextForm = function createContextForm(spec) {\n    return asRaw('ContextForm', contextFormSchema, spec);\n  };\n\n  var getState$2 = function getState$2(component, replaceConfig, reflectState) {\n    return reflectState;\n  };\n\n  var ReflectingApis =\n  /*#__PURE__*/\n  Object.freeze({\n    getState: getState$2\n  });\n\n  var events$e = function events$e(reflectingConfig, reflectingState) {\n    var update = function update(component, data) {\n      reflectingConfig.updateState.each(function (updateState) {\n        var newState = updateState(component, data);\n        reflectingState.set(newState);\n      });\n      reflectingConfig.renderComponents.each(function (renderComponents) {\n        var newComponents = renderComponents(data, reflectingState.get());\n        detachChildren(component);\n        each(newComponents, function (c) {\n          attach(component, component.getSystem().build(c));\n        });\n      });\n    };\n\n    return derive([run(receive(), function (component, message) {\n      var channel = reflectingConfig.channel;\n\n      if (contains(message.channels(), channel)) {\n        update(component, message.data());\n      }\n    }), runOnAttached(function (comp, se) {\n      reflectingConfig.initialData.each(function (rawData) {\n        update(comp, rawData);\n      });\n    })]);\n  };\n\n  var ActiveReflecting =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$e\n  });\n\n  var init$a = function init$a(spec) {\n    var cell = Cell(Option.none());\n\n    var set = function set(optS) {\n      return cell.set(optS);\n    };\n\n    var clear = function clear() {\n      return cell.set(Option.none());\n    };\n\n    var get = function get() {\n      return cell.get();\n    };\n\n    var readState = function readState() {\n      return cell.get().fold(function () {\n        return 'none';\n      }, function (x) {\n        return x;\n      });\n    };\n\n    return {\n      readState: readState,\n      get: get,\n      set: set,\n      clear: clear\n    };\n  };\n\n  var ReflectingState =\n  /*#__PURE__*/\n  Object.freeze({\n    init: init$a\n  });\n  var ReflectingSchema = [strict$1('channel'), option('renderComponents'), option('updateState'), option('initialData')];\n  var Reflecting = create$1({\n    fields: ReflectingSchema,\n    name: 'reflecting',\n    active: ActiveReflecting,\n    apis: ReflectingApis,\n    state: ReflectingState\n  });\n  var schema$o = constant([strict$1('toggleClass'), strict$1('fetch'), onStrictHandler('onExecute'), defaulted$1('getHotspot', Option.some), defaulted$1('getAnchorOverrides', constant({})), defaulted$1('layouts', Option.none()), onStrictHandler('onItemExecute'), option('lazySink'), strict$1('dom'), onHandler('onOpen'), field$1('splitDropdownBehaviours', [Coupling, Keying, Focusing]), defaulted$1('matchWidth', false), defaulted$1('useMinWidth', false), defaulted$1('eventOrder', {}), option('role')].concat(sandboxFields()));\n  var arrowPart = required({\n    factory: Button,\n    schema: [strict$1('dom')],\n    name: 'arrow',\n    defaults: function defaults(detail) {\n      return {\n        buttonBehaviours: derive$1([Focusing.revoke()])\n      };\n    },\n    overrides: function overrides(detail) {\n      return {\n        dom: {\n          tag: 'span',\n          attributes: {\n            role: 'presentation'\n          }\n        },\n        action: function action(arrow) {\n          arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n        },\n        buttonBehaviours: derive$1([Toggling.config({\n          toggleOnExecute: false,\n          toggleClass: detail.toggleClass\n        })])\n      };\n    }\n  });\n  var buttonPart = required({\n    factory: Button,\n    schema: [strict$1('dom')],\n    name: 'button',\n    defaults: function defaults(detail) {\n      return {\n        buttonBehaviours: derive$1([Focusing.revoke()])\n      };\n    },\n    overrides: function overrides(detail) {\n      return {\n        dom: {\n          tag: 'span',\n          attributes: {\n            role: 'presentation'\n          }\n        },\n        action: function action(btn) {\n          btn.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n            detail.onExecute(splitDropdown, btn);\n          });\n        }\n      };\n    }\n  });\n  var parts$b = constant([arrowPart, buttonPart, optional({\n    factory: {\n      sketch: function sketch(spec) {\n        return {\n          uid: spec.uid,\n          dom: {\n            tag: 'span',\n            styles: {\n              display: 'none'\n            },\n            attributes: {\n              'aria-hidden': 'true'\n            },\n            innerHtml: spec.text\n          }\n        };\n      }\n    },\n    schema: [strict$1('text')],\n    name: 'aria-descriptor'\n  }), external$1({\n    schema: [tieredMenuMarkers()],\n    name: 'menu',\n    defaults: function defaults(detail) {\n      return {\n        onExecute: function onExecute(tmenu, item) {\n          tmenu.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n            detail.onItemExecute(splitDropdown, tmenu, item);\n          });\n        }\n      };\n    }\n  }), partType()]);\n\n  var factory$d = function factory$d(detail, components, spec, externals) {\n    var switchToMenu = function switchToMenu(sandbox) {\n      Composing.getCurrent(sandbox).each(function (current) {\n        Highlighting.highlightFirst(current);\n        Keying.focusIn(current);\n      });\n    };\n\n    var action = function action(component) {\n      var onOpenSync = switchToMenu;\n      togglePopup(detail, function (x) {\n        return x;\n      }, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n    };\n\n    var openMenu = function openMenu(comp) {\n      action(comp);\n      return Option.some(true);\n    };\n\n    var executeOnButton = function executeOnButton(comp) {\n      var button = getPartOrDie(comp, detail, 'button');\n      emitExecute(button);\n      return Option.some(true);\n    };\n\n    var buttonEvents = merge(derive([runOnAttached(function (component, simulatedEvent) {\n      var ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n      ariaDescriptor.each(function (descriptor) {\n        var descriptorId = generate$1('aria');\n        set$1(descriptor.element(), 'id', descriptorId);\n        set$1(component.element(), 'aria-describedby', descriptorId);\n      });\n    })]), events$7(Option.some(action)));\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      eventOrder: _assign({}, detail.eventOrder, {\n        'alloy.execute': ['disabling', 'toggling', 'alloy.base.behaviour']\n      }),\n      events: buttonEvents,\n      behaviours: augment(detail.splitDropdownBehaviours, [Coupling.config({\n        others: {\n          sandbox: function sandbox(hotspot) {\n            var arrow = getPartOrDie(hotspot, detail, 'arrow');\n            var extras = {\n              onOpen: function onOpen() {\n                Toggling.on(arrow);\n                Toggling.on(hotspot);\n              },\n              onClose: function onClose() {\n                Toggling.off(arrow);\n                Toggling.off(hotspot);\n              }\n            };\n            return makeSandbox(detail, hotspot, extras);\n          }\n        }\n      }), Keying.config({\n        mode: 'special',\n        onSpace: executeOnButton,\n        onEnter: executeOnButton,\n        onDown: openMenu\n      }), Focusing.config({}), Toggling.config({\n        toggleOnExecute: false,\n        aria: {\n          mode: 'expanded'\n        }\n      })]),\n      domModification: {\n        attributes: {\n          'role': detail.role.getOr('button'),\n          'aria-haspopup': true\n        }\n      }\n    };\n  };\n\n  var SplitDropdown = composite$1({\n    name: 'SplitDropdown',\n    configFields: schema$o(),\n    partFields: parts$b(),\n    factory: factory$d\n  });\n\n  var getButtonApi = function getButtonApi(component) {\n    return {\n      isDisabled: function isDisabled() {\n        return Disabling.isDisabled(component);\n      },\n      setDisabled: function setDisabled(state) {\n        return Disabling.set(component, state);\n      }\n    };\n  };\n\n  var getToggleApi = function getToggleApi(component) {\n    return {\n      setActive: function setActive(state) {\n        Toggling.set(component, state);\n      },\n      isActive: function isActive() {\n        return Toggling.isOn(component);\n      },\n      isDisabled: function isDisabled() {\n        return Disabling.isDisabled(component);\n      },\n      setDisabled: function setDisabled(state) {\n        return Disabling.set(component, state);\n      }\n    };\n  };\n\n  var getTooltipAttributes = function getTooltipAttributes(tooltip, providersBackstage) {\n    return tooltip.map(function (tooltip) {\n      return {\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      };\n    }).getOr({});\n  };\n\n  var focusButtonEvent = generate$1('focus-button');\n  var rtlIcon$1 = ['checklist', 'ordered-list'];\n  var rtlTransform$1 = ['indent', 'outdent', 'table-insert-column-after', 'table-insert-column-before', 'unordered-list'];\n\n  var renderCommonStructure = function renderCommonStructure(icon, text, tooltip, receiver, behaviours, providersBackstage) {\n    var _a;\n\n    var getIconName = function getIconName(iconName) {\n      return global$5.isRtl() && contains(rtlIcon$1, iconName) ? iconName + '-rtl' : iconName;\n    };\n\n    var needsRtlClass = global$5.isRtl() && icon.exists(function (name) {\n      return contains(rtlTransform$1, name);\n    });\n    return {\n      dom: {\n        tag: 'button',\n        classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []).concat(needsRtlClass ? ['tox-tbtn__icon-rtl'] : []),\n        attributes: getTooltipAttributes(tooltip, providersBackstage)\n      },\n      components: componentRenderPipeline([icon.map(function (iconName) {\n        return renderIconFromPack(getIconName(iconName), providersBackstage.icons);\n      }), text.map(function (text) {\n        return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n      })]),\n      eventOrder: (_a = {}, _a[mousedown()] = ['focusing', 'alloy.base.behaviour', 'common-button-display-events'], _a),\n      buttonBehaviours: derive$1([config('common-button-display-events', [run(mousedown(), function (button, se) {\n        se.event().prevent();\n        emit(button, focusButtonEvent);\n      })])].concat(receiver.map(function (r) {\n        return Reflecting.config({\n          channel: r,\n          initialData: {\n            icon: icon,\n            text: text\n          },\n          renderComponents: function renderComponents(data, _state) {\n            return componentRenderPipeline([data.icon.map(function (iconName) {\n              return renderIconFromPack(getIconName(iconName), providersBackstage.icons);\n            }), data.text.map(function (text) {\n              return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n            })]);\n          }\n        });\n      }).toArray()).concat(behaviours.getOr([])))\n    };\n  };\n\n  var renderCommonToolbarButton = function renderCommonToolbarButton(spec, specialisation, providersBackstage) {\n    var editorOffCell = Cell(noop);\n    var structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Option.none(), Option.none(), providersBackstage);\n    return Button.sketch({\n      dom: structure.dom,\n      components: structure.components,\n      eventOrder: toolbarButtonEventOrder,\n      buttonBehaviours: derive$1([config('toolbar-button-events', [onToolbarButtonExecute({\n        onAction: spec.onAction,\n        getApi: specialisation.getApi\n      }), onControlAttached(specialisation, editorOffCell), onControlDetached(specialisation, editorOffCell)]), DisablingConfigs.toolbarButton(spec.disabled)].concat(specialisation.toolbarButtonBehaviours))\n    });\n  };\n\n  var renderToolbarButton = function renderToolbarButton(spec, providersBackstage) {\n    return renderToolbarButtonWith(spec, providersBackstage, []);\n  };\n\n  var renderToolbarButtonWith = function renderToolbarButtonWith(spec, providersBackstage, bonusEvents) {\n    return renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n  };\n\n  var renderToolbarToggleButton = function renderToolbarToggleButton(spec, providersBackstage) {\n    return renderToolbarToggleButtonWith(spec, providersBackstage, []);\n  };\n\n  var renderToolbarToggleButtonWith = function renderToolbarToggleButtonWith(spec, providersBackstage, bonusEvents) {\n    return deepMerge(renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [Replacing.config({}), Toggling.config({\n        toggleClass: 'tox-tbtn--enabled',\n        aria: {\n          mode: 'pressed'\n        },\n        toggleOnExecute: false\n      })].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage));\n  };\n\n  var fetchChoices = function fetchChoices(getApi, spec, providersBackstage) {\n    return function (comp) {\n      return Future.nu(function (callback) {\n        return spec.fetch(callback);\n      }).map(function (items) {\n        return Option.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$1('menu-value'), items, function (value) {\n          spec.onItemAction(getApi(comp), value);\n        }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(function () {\n          return false;\n        }), providersBackstage), {\n          movement: deriveMenuMovement(spec.columns, spec.presets),\n          menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached(function (comp, se) {\n            detectSize(comp, 4, classForPreset(spec.presets)).each(function (_a) {\n              var numRows = _a.numRows,\n                  numColumns = _a.numColumns;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n        })));\n      });\n    };\n  };\n\n  var renderSplitButton = function renderSplitButton(spec, sharedBackstage) {\n    var _a;\n\n    var displayChannel = generate$1('channel-update-split-dropdown-display');\n\n    var getApi = function getApi(comp) {\n      return {\n        isDisabled: function isDisabled() {\n          return Disabling.isDisabled(comp);\n        },\n        setDisabled: function setDisabled(state) {\n          return Disabling.set(comp, state);\n        },\n        setIconFill: function setIconFill(id, value) {\n          descendant$1(comp.element(), 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n            set$1(underlinePath, 'fill', value);\n          });\n        },\n        setIconStroke: function setIconStroke(id, value) {\n          descendant$1(comp.element(), 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n            set$1(underlinePath, 'stroke', value);\n          });\n        },\n        setActive: function setActive(state) {\n          set$1(comp.element(), 'aria-pressed', state);\n          descendant$1(comp.element(), 'span').each(function (button) {\n            comp.getSystem().getByDom(button).each(function (buttonComp) {\n              return Toggling.set(buttonComp, state);\n            });\n          });\n        },\n        isActive: function isActive() {\n          return descendant$1(comp.element(), 'span').exists(function (button) {\n            return comp.getSystem().getByDom(button).exists(Toggling.isOn);\n          });\n        }\n      };\n    };\n\n    var editorOffCell = Cell(noop);\n    var specialisation = {\n      getApi: getApi,\n      onSetup: spec.onSetup\n    };\n    return SplitDropdown.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-split-button'],\n        attributes: merge({\n          'aria-pressed': false\n        }, getTooltipAttributes(spec.tooltip, sharedBackstage.providers))\n      },\n      onExecute: function onExecute(button) {\n        spec.onAction(getApi(button));\n      },\n      onItemExecute: function onItemExecute(a, b, c) {},\n      splitDropdownBehaviours: derive$1([DisablingConfigs.splitButton(false), config('split-dropdown-events', [run(focusButtonEvent, Focusing.focus), onControlAttached(specialisation, editorOffCell), onControlDetached(specialisation, editorOffCell)])]),\n      eventOrder: (_a = {}, _a[attachedToDom()] = ['alloy.base.behaviour', 'split-dropdown-events'], _a),\n      toggleClass: 'tox-tbtn--enabled',\n      lazySink: sharedBackstage.getSink,\n      fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n      parts: {\n        menu: part(false, spec.columns, spec.presets)\n      },\n      components: [SplitDropdown.parts().button(renderCommonStructure(spec.icon, spec.text, Option.none(), Option.some(displayChannel), Option.some([Toggling.config({\n        toggleClass: 'tox-tbtn--enabled',\n        toggleOnExecute: false\n      })]), sharedBackstage.providers)), SplitDropdown.parts().arrow({\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn', 'tox-split-button__chevron'],\n          innerHtml: get$c('chevron-down', sharedBackstage.providers.icons)\n        }\n      }), SplitDropdown.parts()['aria-descriptor']({\n        text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter')\n      })]\n    });\n  };\n\n  var getFormApi = function getFormApi(input) {\n    return {\n      hide: function hide() {\n        return emit(input, sandboxClose());\n      },\n      getValue: function getValue() {\n        return Representing.getValue(input);\n      }\n    };\n  };\n\n  var runOnExecute$1 = function runOnExecute$1(memInput, original) {\n    return run(internalToolbarButtonExecute, function (comp, se) {\n      var input = memInput.get(comp);\n      var formApi = getFormApi(input);\n      original.onAction(formApi, se.event().buttonApi());\n    });\n  };\n\n  var renderContextButton = function renderContextButton(memInput, button, extras) {\n    var _a = button.original,\n        primary = _a.primary,\n        rest = __rest(_a, ['primary']);\n\n    var bridged = getOrDie(createToolbarButton(_assign({}, rest, {\n      type: 'button',\n      onAction: function onAction() {}\n    })));\n    return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute$1(memInput, button)]);\n  };\n\n  var renderContextToggleButton = function renderContextToggleButton(memInput, button, extras) {\n    var _a = button.original,\n        primary = _a.primary,\n        rest = __rest(_a, ['primary']);\n\n    var bridged = getOrDie(createToggleButton(_assign({}, rest, {\n      type: 'togglebutton',\n      onAction: function onAction() {}\n    })));\n    return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute$1(memInput, button)]);\n  };\n\n  var generateOne$1 = function generateOne$1(memInput, button, providersBackstage) {\n    var extras = {\n      backstage: {\n        shared: {\n          providers: providersBackstage\n        }\n      }\n    };\n\n    if (button.type === 'contextformtogglebutton') {\n      return renderContextToggleButton(memInput, button, extras);\n    } else {\n      return renderContextButton(memInput, button, extras);\n    }\n  };\n\n  var generate$7 = function generate$7(memInput, buttons, providersBackstage) {\n    var mementos = map(buttons, function (button) {\n      return record(generateOne$1(memInput, button, providersBackstage));\n    });\n\n    var asSpecs = function asSpecs() {\n      return map(mementos, function (mem) {\n        return mem.asSpec();\n      });\n    };\n\n    var findPrimary = function findPrimary(compInSystem) {\n      return findMap(buttons, function (button, i) {\n        if (button.primary) {\n          return Option.from(mementos[i]).bind(function (mem) {\n            return mem.getOpt(compInSystem);\n          }).filter(not(Disabling.isDisabled));\n        } else {\n          return Option.none();\n        }\n      });\n    };\n\n    return {\n      asSpecs: asSpecs,\n      findPrimary: findPrimary\n    };\n  };\n\n  var renderContextForm = function renderContextForm(ctx, backstage) {\n    var inputAttributes = ctx.label.fold(function () {\n      return {};\n    }, function (label) {\n      return {\n        'aria-label': label\n      };\n    });\n    var memInput = record(Input.sketch({\n      inputClasses: ['tox-toolbar-textfield', 'tox-toolbar-nav-js'],\n      data: ctx.initValue(),\n      inputAttributes: inputAttributes,\n      selectOnFocus: true,\n      inputBehaviours: derive$1([Keying.config({\n        mode: 'special',\n        onEnter: function onEnter(input) {\n          return commands.findPrimary(input).map(function (primary) {\n            emitExecute(primary);\n            return true;\n          });\n        },\n        onLeft: function onLeft(comp, se) {\n          se.cut();\n          return Option.none();\n        },\n        onRight: function onRight(comp, se) {\n          se.cut();\n          return Option.none();\n        }\n      })])\n    }));\n    var commands = generate$7(memInput, ctx.commands, backstage.shared.providers);\n    return renderToolbar({\n      uid: generate$1('context-toolbar'),\n      initGroups: [{\n        title: Option.none(),\n        items: [memInput.asSpec()]\n      }, {\n        title: Option.none(),\n        items: commands.asSpecs()\n      }],\n      onEscape: Option.none,\n      cyclicKeying: true,\n      backstage: backstage,\n      getSink: function getSink() {\n        return Result.error('');\n      }\n    });\n  };\n\n  var ContextForm = {\n    renderContextForm: renderContextForm\n  };\n  var forwardSlideEvent = generate$1('forward-slide');\n  var backSlideEvent = generate$1('backward-slide');\n  var changeSlideEvent = generate$1('change-slide-event');\n  var resizingClass = 'tox-pop--resizing';\n\n  var renderContextToolbar = function renderContextToolbar(spec) {\n    var stack = Cell([]);\n    return InlineView.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-pop']\n      },\n      fireDismissalEventInstead: {\n        event: 'doNotDismissYet'\n      },\n      onShow: function onShow(comp) {\n        stack.set([]);\n        InlineView.getContent(comp).each(function (c) {\n          remove$6(c.element(), 'visibility');\n        });\n        remove$4(comp.element(), resizingClass);\n        remove$6(comp.element(), 'width');\n      },\n      inlineBehaviours: derive$1([config('context-toolbar-events', [runOnSource(transitionend(), function (comp, se) {\n        InlineView.getContent(comp).each(function (c) {});\n        remove$4(comp.element(), resizingClass);\n        remove$6(comp.element(), 'width');\n      }), run(changeSlideEvent, function (comp, se) {\n        remove$6(comp.element(), 'width');\n        var currentWidth = get$7(comp.element());\n        InlineView.setContent(comp, se.event().contents());\n        add$2(comp.element(), resizingClass);\n        var newWidth = get$7(comp.element());\n        set$2(comp.element(), 'width', currentWidth + 'px');\n        InlineView.getContent(comp).each(function (newContents) {\n          se.event().focus().bind(function (f) {\n            focus$1(f);\n            return search$1(comp.element());\n          }).orThunk(function () {\n            Keying.focusIn(newContents);\n            return active();\n          });\n        });\n        global$2.setTimeout(function () {\n          set$2(comp.element(), 'width', newWidth + 'px');\n        }, 0);\n      }), run(forwardSlideEvent, function (comp, se) {\n        InlineView.getContent(comp).each(function (oldContents) {\n          stack.set(stack.get().concat([{\n            bar: oldContents,\n            focus: active()\n          }]));\n        });\n        emitWith(comp, changeSlideEvent, {\n          contents: se.event().forwardContents(),\n          focus: Option.none()\n        });\n      }), run(backSlideEvent, function (comp, se) {\n        last(stack.get()).each(function (last) {\n          stack.set(stack.get().slice(0, stack.get().length - 1));\n          emitWith(comp, changeSlideEvent, {\n            contents: premade$1(last.bar),\n            focus: last.focus\n          });\n        });\n      })]), Keying.config({\n        mode: 'special',\n        onEscape: function onEscape(comp) {\n          return last(stack.get()).fold(function () {\n            return spec.onEscape();\n          }, function (_) {\n            emit(comp, backSlideEvent);\n            return Option.some(true);\n          });\n        }\n      })]),\n      lazySink: function lazySink() {\n        return Result.value(spec.sink);\n      }\n    });\n  };\n\n  var getHorizontalBounds = function getHorizontalBounds(editor, scroll, contentAreaBox) {\n    var x = Math.max(scroll.left(), contentAreaBox.x());\n    var contentBoxWidth = contentAreaBox.right() - x;\n    var maxViewportWidth = domGlobals.window.innerWidth - (x - scroll.left());\n    var width = Math.min(contentBoxWidth, maxViewportWidth);\n    return {\n      x: x,\n      width: width\n    };\n  };\n\n  var getIframeBounds = function getIframeBounds(editor, scroll, contentAreaBox) {\n    var _a = getHorizontalBounds(editor, scroll, contentAreaBox),\n        x = _a.x,\n        width = _a.width;\n\n    var containerBox = box(Element.fromDom(editor.getContainer()));\n    var y = Math.max(scroll.top(), contentAreaBox.y());\n    var contentBoxHeight = containerBox.bottom() - y;\n    var maxViewportHeight = domGlobals.window.innerHeight - (y - scroll.top());\n    var height = Math.min(contentBoxHeight, maxViewportHeight);\n    return bounds(x, y, width, height);\n  };\n\n  var getInlineBounds = function getInlineBounds(editor, scroll, contentAreaBox) {\n    var _a = getHorizontalBounds(editor, scroll, contentAreaBox),\n        x = _a.x,\n        width = _a.width;\n\n    var containerBox = box(Element.fromDom(editor.getContainer()));\n    var windowHeight = domGlobals.window.innerHeight;\n    var scrollTop = scroll.top();\n\n    if (containerBox.y() >= contentAreaBox.bottom()) {\n      var bottom = Math.min(windowHeight + scrollTop, containerBox.y());\n      var height = bottom - scrollTop;\n      return bounds(x, scrollTop, width, height);\n    } else {\n      var y = Math.max(scrollTop, containerBox.bottom());\n      var height = windowHeight - (y - scrollTop);\n      return bounds(x, y, width, height);\n    }\n  };\n\n  var getDistractionFreeBounds = function getDistractionFreeBounds(editor, scroll, contentAreaBox) {\n    var _a = getHorizontalBounds(editor, scroll, contentAreaBox),\n        x = _a.x,\n        width = _a.width;\n\n    return bounds(x, scroll.top(), width, domGlobals.window.innerHeight);\n  };\n\n  var ancestor$2 = function ancestor$2(scope, transform, isRoot) {\n    var element = scope.dom();\n    var stop = isFunction(isRoot) ? isRoot : constant(false);\n\n    while (element.parentNode) {\n      element = element.parentNode;\n      var el = Element.fromDom(element);\n      var transformed = transform(el);\n\n      if (transformed.isSome()) {\n        return transformed;\n      } else if (stop(el)) {\n        break;\n      }\n    }\n\n    return Option.none();\n  };\n\n  var matchTargetWith = function matchTargetWith(elem, toolbars) {\n    return findMap(toolbars, function (toolbarApi) {\n      return toolbarApi.predicate(elem.dom()) ? Option.some({\n        toolbarApi: toolbarApi,\n        elem: elem\n      }) : Option.none();\n    });\n  };\n\n  var lookup$1 = function lookup$1(scopes, editor) {\n    var isRoot = function isRoot(elem) {\n      return elem.dom() === editor.getBody();\n    };\n\n    var startNode = Element.fromDom(editor.selection.getNode());\n    return matchTargetWith(startNode, scopes.inNodeScope).orThunk(function () {\n      return matchTargetWith(startNode, scopes.inEditorScope).orThunk(function () {\n        return ancestor$2(startNode, function (elem) {\n          return matchTargetWith(elem, scopes.inNodeScope);\n        }, isRoot);\n      });\n    });\n  };\n\n  var ToolbarLookup = {\n    lookup: lookup$1\n  };\n\n  var categorise = function categorise(contextToolbars, navigate) {\n    var forms = {};\n    var inNodeScope = [];\n    var inEditorScope = [];\n    var formNavigators = {};\n    var lookupTable = {};\n\n    var registerForm = function registerForm(key, toolbarApi) {\n      var contextForm = getOrDie(createContextForm(toolbarApi));\n      forms[key] = contextForm;\n      contextForm.launch.map(function (launch) {\n        formNavigators['form:' + key + ''] = _assign({}, toolbarApi.launch, {\n          type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n          onAction: function onAction() {\n            navigate(contextForm);\n          }\n        });\n      });\n\n      if (contextForm.scope === 'editor') {\n        inEditorScope.push(contextForm);\n      } else {\n        inNodeScope.push(contextForm);\n      }\n\n      lookupTable[key] = contextForm;\n    };\n\n    var registerToolbar = function registerToolbar(key, toolbarApi) {\n      createContextToolbar(toolbarApi).each(function (contextToolbar) {\n        if (toolbarApi.scope === 'editor') {\n          inEditorScope.push(contextToolbar);\n        } else {\n          inNodeScope.push(contextToolbar);\n        }\n\n        lookupTable[key] = contextToolbar;\n      });\n    };\n\n    var keys$1 = keys(contextToolbars);\n    each(keys$1, function (key) {\n      var toolbarApi = contextToolbars[key];\n\n      if (toolbarApi.type === 'contextform') {\n        registerForm(key, toolbarApi);\n      } else if (toolbarApi.type === 'contexttoolbar') {\n        registerToolbar(key, toolbarApi);\n      }\n    });\n    return {\n      forms: forms,\n      inNodeScope: inNodeScope,\n      inEditorScope: inEditorScope,\n      lookupTable: lookupTable,\n      formNavigators: formNavigators\n    };\n  };\n\n  var ToolbarScopes = {\n    categorise: categorise\n  };\n\n  var onSetupFormatToggle = function onSetupFormatToggle(editor, name) {\n    return function (api) {\n      var unbindCell = Cell(Option.none());\n\n      var init = function init() {\n        api.setActive(editor.formatter.match(name));\n        var unbind = editor.formatter.formatChanged(name, api.setActive).unbind;\n        unbindCell.set(Option.some(unbind));\n      };\n\n      editor.initialized ? init() : editor.on('init', init);\n      return function () {\n        return unbindCell.get().each(function (unbind) {\n          return unbind();\n        });\n      };\n    };\n  };\n\n  var onActionToggleFormat = function onActionToggleFormat(editor) {\n    return function (rawItem) {\n      return function () {\n        editor.undoManager.transact(function () {\n          editor.focus();\n          editor.execCommand('mceToggleFormat', false, rawItem.format);\n        });\n      };\n    };\n  };\n\n  var generateSelectItems = function generateSelectItems(editor, backstage, spec) {\n    var generateItem = function generateItem(rawItem, response, disabled, value) {\n      var translatedText = backstage.shared.providers.translate(rawItem.title);\n\n      if (rawItem.type === 'separator') {\n        return Option.some({\n          type: 'separator',\n          text: translatedText\n        });\n      } else if (rawItem.type === 'submenu') {\n        var items = bind(rawItem.getStyleItems(), function (si) {\n          return validate(si, response, value);\n        });\n\n        if (response === 0 && items.length <= 0) {\n          return Option.none();\n        } else {\n          return Option.some({\n            type: 'nestedmenuitem',\n            text: translatedText,\n            disabled: items.length <= 0,\n            getSubmenuItems: function getSubmenuItems() {\n              return bind(rawItem.getStyleItems(), function (si) {\n                return validate(si, response, value);\n              });\n            }\n          });\n        }\n      } else {\n        return Option.some(_assign({\n          type: 'togglemenuitem',\n          text: translatedText,\n          active: rawItem.isSelected(value),\n          disabled: disabled,\n          onAction: spec.onAction(rawItem)\n        }, rawItem.getStylePreview().fold(function () {\n          return {};\n        }, function (preview) {\n          return {\n            meta: {\n              style: preview\n            }\n          };\n        })));\n      }\n    };\n\n    var validate = function validate(item, response, value) {\n      var invalid = item.type === 'formatter' && spec.isInvalid(item);\n\n      if (response === 0) {\n        return invalid ? [] : generateItem(item, response, false, value).toArray();\n      } else {\n        return generateItem(item, response, invalid, value).toArray();\n      }\n    };\n\n    var validateItems = function validateItems(preItems) {\n      var value = spec.getCurrentValue();\n      var response = spec.shouldHide ? 0 : 1;\n      return bind(preItems, function (item) {\n        return validate(item, response, value);\n      });\n    };\n\n    var getFetch = function getFetch(backstage, getStyleItems) {\n      return function (callback) {\n        var preItems = getStyleItems();\n        var items = validateItems(preItems);\n        var menu = build$2(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage);\n        callback(menu);\n      };\n    };\n\n    return {\n      validateItems: validateItems,\n      getFetch: getFetch\n    };\n  };\n\n  var createMenuItems = function createMenuItems(editor, backstage, dataset, spec) {\n    var getStyleItems = dataset.type === 'basic' ? function () {\n      return map(dataset.data, function (d) {\n        return processBasic(d, spec.isSelectedFor, spec.getPreviewFor);\n      });\n    } : dataset.getData;\n    return {\n      items: generateSelectItems(editor, backstage, spec),\n      getStyleItems: getStyleItems\n    };\n  };\n\n  var createSelectButton = function createSelectButton(editor, backstage, dataset, spec) {\n    var _a = createMenuItems(editor, backstage, dataset, spec),\n        items = _a.items,\n        getStyleItems = _a.getStyleItems;\n\n    var getApi = function getApi(comp) {\n      return {\n        getComponent: function getComponent() {\n          return comp;\n        }\n      };\n    };\n\n    var onSetup = function onSetup(api) {\n      spec.setInitialValue.each(function (f) {\n        return f(api.getComponent());\n      });\n      return spec.nodeChangeHandler.map(function (f) {\n        var handler = f(api.getComponent());\n        editor.on('NodeChange', handler);\n        return function () {\n          editor.off('NodeChange', handler);\n        };\n      }).getOr(noop);\n    };\n\n    return renderCommonDropdown({\n      text: spec.icon.isSome() ? Option.none() : Option.some(''),\n      icon: spec.icon,\n      tooltip: Option.from(spec.tooltip),\n      role: Option.none(),\n      fetch: items.getFetch(backstage, getStyleItems),\n      onSetup: onSetup,\n      getApi: getApi,\n      columns: 1,\n      presets: 'normal',\n      classes: spec.icon.isSome() ? [] : ['bespoke'],\n      dropdownBehaviours: []\n    }, 'tox-tbtn', backstage.shared);\n  };\n\n  var process = function process(rawFormats) {\n    return map(rawFormats, function (item) {\n      var title = item,\n          format = item;\n      var values = item.split('=');\n\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n\n      return {\n        title: title,\n        format: format\n      };\n    });\n  };\n\n  var buildBasicStaticDataset = function buildBasicStaticDataset(data) {\n    return {\n      type: 'basic',\n      data: data\n    };\n  };\n\n  var Delimiter;\n\n  (function (Delimiter) {\n    Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n    Delimiter[Delimiter['Space'] = 1] = 'Space';\n  })(Delimiter || (Delimiter = {}));\n\n  var split = function split(rawFormats, delimiter) {\n    if (delimiter === Delimiter.SemiColon) {\n      return rawFormats.replace(/;$/, '').split(';');\n    } else {\n      return rawFormats.split(' ');\n    }\n  };\n\n  var buildBasicSettingsDataset = function buildBasicSettingsDataset(editor, settingName, defaults, delimiter) {\n    var rawFormats = readOptFrom$1(editor.settings, settingName).getOr(defaults);\n    var data = process(split(rawFormats, delimiter));\n    return {\n      type: 'basic',\n      data: data\n    };\n  };\n\n  var alignMenuItems = [{\n    title: 'Left',\n    icon: 'align-left',\n    format: 'alignleft'\n  }, {\n    title: 'Center',\n    icon: 'align-center',\n    format: 'aligncenter'\n  }, {\n    title: 'Right',\n    icon: 'align-right',\n    format: 'alignright'\n  }, {\n    title: 'Justify',\n    icon: 'align-justify',\n    format: 'alignjustify'\n  }];\n\n  var getSpec = function getSpec(editor) {\n    var getMatchingValue = function getMatchingValue() {\n      return find(alignMenuItems, function (item) {\n        return editor.formatter.match(item.format);\n      });\n    };\n\n    var isSelectedFor = function isSelectedFor(format) {\n      return function () {\n        return editor.formatter.match(format);\n      };\n    };\n\n    var getPreviewFor = function getPreviewFor(format) {\n      return function () {\n        return Option.none();\n      };\n    };\n\n    var updateSelectMenuIcon = function updateSelectMenuIcon(comp) {\n      var match = getMatchingValue();\n      var alignment = match.fold(function () {\n        return 'left';\n      }, function (item) {\n        return item.title.toLowerCase();\n      });\n      emitWith(comp, updateMenuIcon, {\n        icon: 'align-' + alignment\n      });\n    };\n\n    var nodeChangeHandler = Option.some(function (comp) {\n      return function () {\n        return updateSelectMenuIcon(comp);\n      };\n    });\n    var setInitialValue = Option.some(function (comp) {\n      return updateSelectMenuIcon(comp);\n    });\n    var dataset = buildBasicStaticDataset(alignMenuItems);\n    return {\n      tooltip: 'Align',\n      icon: Option.some('align-left'),\n      isSelectedFor: isSelectedFor,\n      getCurrentValue: constant(Option.none()),\n      getPreviewFor: getPreviewFor,\n      onAction: onActionToggleFormat(editor),\n      setInitialValue: setInitialValue,\n      nodeChangeHandler: nodeChangeHandler,\n      dataset: dataset,\n      shouldHide: false,\n      isInvalid: function isInvalid(item) {\n        return !editor.formatter.canApply(item.format);\n      }\n    };\n  };\n\n  var createAlignSelect = function createAlignSelect(editor, backstage) {\n    var spec = getSpec(editor);\n    return createSelectButton(editor, backstage, spec.dataset, spec);\n  };\n\n  var alignSelectMenu = function alignSelectMenu(editor, backstage) {\n    var spec = getSpec(editor);\n    var menuItems = createMenuItems(editor, backstage, spec.dataset, spec);\n    editor.ui.registry.addNestedMenuItem('align', {\n      text: backstage.shared.providers.translate('Align'),\n      getSubmenuItems: function getSubmenuItems() {\n        return menuItems.items.validateItems(menuItems.getStyleItems());\n      }\n    });\n  };\n\n  var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n  var systemStackFonts = ['-apple-system', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'sans-serif'];\n\n  var splitFonts = function splitFonts(fontFamily) {\n    var fonts = fontFamily.split(/\\s*,\\s*/);\n    return map(fonts, function (font) {\n      return font.replace(/^['\"]+|['\"]+$/g, '');\n    });\n  };\n\n  var isSystemFontStack = function isSystemFontStack(fontFamily) {\n    var matchesSystemStack = function matchesSystemStack() {\n      var fonts = splitFonts(fontFamily.toLowerCase());\n      return forall(systemStackFonts, function (font) {\n        return fonts.indexOf(font.toLowerCase()) > -1;\n      });\n    };\n\n    return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n  };\n\n  var getSpec$1 = function getSpec$1(editor) {\n    var getMatchingValue = function getMatchingValue() {\n      var getFirstFont = function getFirstFont(fontFamily) {\n        return fontFamily ? splitFonts(fontFamily)[0] : '';\n      };\n\n      var fontFamily = editor.queryCommandValue('FontName');\n      var items = dataset.data;\n      var font = fontFamily ? fontFamily.toLowerCase() : '';\n      var matchOpt = find(items, function (item) {\n        var format = item.format;\n        return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n      }).orThunk(function () {\n        if (isSystemFontStack(font)) {\n          return Option.from({\n            title: 'System Font',\n            format: font\n          });\n        } else {\n          return Option.none();\n        }\n      });\n      return {\n        matchOpt: matchOpt,\n        font: fontFamily\n      };\n    };\n\n    var isSelectedFor = function isSelectedFor(item) {\n      return function (valueOpt) {\n        return valueOpt.exists(function (value) {\n          return value.format === item;\n        });\n      };\n    };\n\n    var getCurrentValue = function getCurrentValue() {\n      var matchOpt = getMatchingValue().matchOpt;\n      return matchOpt;\n    };\n\n    var getPreviewFor = function getPreviewFor(item) {\n      return function () {\n        return Option.some({\n          tag: 'div',\n          styleAttr: item.indexOf('dings') === -1 ? 'font-family:' + item : ''\n        });\n      };\n    };\n\n    var onAction = function onAction(rawItem) {\n      return function () {\n        editor.undoManager.transact(function () {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n    };\n\n    var updateSelectMenuText = function updateSelectMenuText(comp) {\n      var _a = getMatchingValue(),\n          matchOpt = _a.matchOpt,\n          font = _a.font;\n\n      var text = matchOpt.fold(function () {\n        return font;\n      }, function (item) {\n        return item.title;\n      });\n      emitWith(comp, updateMenuText, {\n        text: text\n      });\n    };\n\n    var nodeChangeHandler = Option.some(function (comp) {\n      return function () {\n        return updateSelectMenuText(comp);\n      };\n    });\n    var setInitialValue = Option.some(function (comp) {\n      return updateSelectMenuText(comp);\n    });\n    var dataset = buildBasicSettingsDataset(editor, 'font_formats', defaultFontsFormats, Delimiter.SemiColon);\n    return {\n      tooltip: 'Fonts',\n      icon: Option.none(),\n      isSelectedFor: isSelectedFor,\n      getCurrentValue: getCurrentValue,\n      getPreviewFor: getPreviewFor,\n      onAction: onAction,\n      setInitialValue: setInitialValue,\n      nodeChangeHandler: nodeChangeHandler,\n      dataset: dataset,\n      shouldHide: false,\n      isInvalid: function isInvalid() {\n        return false;\n      }\n    };\n  };\n\n  var createFontSelect = function createFontSelect(editor, backstage) {\n    var spec = getSpec$1(editor);\n    return createSelectButton(editor, backstage, spec.dataset, spec);\n  };\n\n  var fontSelectMenu = function fontSelectMenu(editor, backstage) {\n    var spec = getSpec$1(editor);\n    var menuItems = createMenuItems(editor, backstage, spec.dataset, spec);\n    editor.ui.registry.addNestedMenuItem('fontformats', {\n      text: backstage.shared.providers.translate('Fonts'),\n      getSubmenuItems: function getSubmenuItems() {\n        return menuItems.items.validateItems(menuItems.getStyleItems());\n      }\n    });\n  };\n\n  var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n  var legacyFontSizes = {\n    '8pt': '1',\n    '10pt': '2',\n    '12pt': '3',\n    '14pt': '4',\n    '18pt': '5',\n    '24pt': '6',\n    '36pt': '7'\n  };\n\n  var round$1 = function round$1(number, precision) {\n    var factor = Math.pow(10, precision);\n    return Math.round(number * factor) / factor;\n  };\n\n  var toPt = function toPt(fontSize, precision) {\n    if (/[0-9.]+px$/.test(fontSize)) {\n      return round$1(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n    }\n\n    return fontSize;\n  };\n\n  var toLegacy = function toLegacy(fontSize) {\n    return get(legacyFontSizes, fontSize).getOr('');\n  };\n\n  var getSpec$2 = function getSpec$2(editor) {\n    var getMatchingValue = function getMatchingValue() {\n      var matchOpt = Option.none();\n      var items = dataset.data;\n      var px = editor.queryCommandValue('FontSize');\n\n      if (px) {\n        var _loop_1 = function _loop_1(precision) {\n          var pt = toPt(px, precision);\n          var legacy = toLegacy(pt);\n          matchOpt = find(items, function (item) {\n            return item.format === px || item.format === pt || item.format === legacy;\n          });\n        };\n\n        for (var precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n          _loop_1(precision);\n        }\n      }\n\n      return {\n        matchOpt: matchOpt,\n        px: px\n      };\n    };\n\n    var isSelectedFor = function isSelectedFor(item) {\n      return function (valueOpt) {\n        return valueOpt.exists(function (value) {\n          return value.format === item;\n        });\n      };\n    };\n\n    var getCurrentValue = function getCurrentValue() {\n      var matchOpt = getMatchingValue().matchOpt;\n      return matchOpt;\n    };\n\n    var getPreviewFor = function getPreviewFor() {\n      return constant(Option.none());\n    };\n\n    var onAction = function onAction(rawItem) {\n      return function () {\n        editor.undoManager.transact(function () {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n    };\n\n    var updateSelectMenuText = function updateSelectMenuText(comp) {\n      var _a = getMatchingValue(),\n          matchOpt = _a.matchOpt,\n          px = _a.px;\n\n      var text = matchOpt.fold(function () {\n        return px;\n      }, function (match) {\n        return match.title;\n      });\n      emitWith(comp, updateMenuText, {\n        text: text\n      });\n    };\n\n    var nodeChangeHandler = Option.some(function (comp) {\n      return function () {\n        return updateSelectMenuText(comp);\n      };\n    });\n    var setInitialValue = Option.some(function (comp) {\n      return updateSelectMenuText(comp);\n    });\n    var dataset = buildBasicSettingsDataset(editor, 'fontsize_formats', defaultFontsizeFormats, Delimiter.Space);\n    return {\n      tooltip: 'Font sizes',\n      icon: Option.none(),\n      isSelectedFor: isSelectedFor,\n      getPreviewFor: getPreviewFor,\n      getCurrentValue: getCurrentValue,\n      onAction: onAction,\n      setInitialValue: setInitialValue,\n      nodeChangeHandler: nodeChangeHandler,\n      dataset: dataset,\n      shouldHide: false,\n      isInvalid: function isInvalid() {\n        return false;\n      }\n    };\n  };\n\n  var createFontsizeSelect = function createFontsizeSelect(editor, backstage) {\n    var spec = getSpec$2(editor);\n    return createSelectButton(editor, backstage, spec.dataset, spec);\n  };\n\n  var fontsizeSelectMenu = function fontsizeSelectMenu(editor, backstage) {\n    var spec = getSpec$2(editor);\n    var menuItems = createMenuItems(editor, backstage, spec.dataset, spec);\n    editor.ui.registry.addNestedMenuItem('fontsizes', {\n      text: 'Font sizes',\n      getSubmenuItems: function getSubmenuItems() {\n        return menuItems.items.validateItems(menuItems.getStyleItems());\n      }\n    });\n  };\n\n  var findNearest = function findNearest(editor, getStyles, parents) {\n    var styles = getStyles();\n    return findMap(parents, function (parent) {\n      return find(styles, function (fmt) {\n        return editor.formatter.matchNode(parent, fmt.format);\n      });\n    }).orThunk(function () {\n      if (editor.formatter.match('p')) {\n        return Option.some({\n          title: 'Paragraph',\n          format: 'p'\n        });\n      }\n\n      return Option.none();\n    });\n  };\n\n  var getCurrentSelectionParents = function getCurrentSelectionParents(editor) {\n    var currentNode = editor.selection.getStart(true) || editor.getBody();\n    return editor.dom.getParents(currentNode, function () {\n      return true;\n    }, editor.getBody());\n  };\n\n  var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n\n  var getSpec$3 = function getSpec$3(editor) {\n    var getMatchingValue = function getMatchingValue(nodeChangeEvent) {\n      return findNearest(editor, function () {\n        return dataset.data;\n      }, nodeChangeEvent);\n    };\n\n    var isSelectedFor = function isSelectedFor(format) {\n      return function () {\n        return editor.formatter.match(format);\n      };\n    };\n\n    var getPreviewFor = function getPreviewFor(format) {\n      return function () {\n        var fmt = editor.formatter.get(format);\n        return Option.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styleAttr: editor.formatter.getCssText(format)\n        });\n      };\n    };\n\n    var updateSelectMenuText = function updateSelectMenuText(parents, comp) {\n      var detectedFormat = getMatchingValue(parents);\n      var text = detectedFormat.fold(function () {\n        return 'Paragraph';\n      }, function (fmt) {\n        return fmt.title;\n      });\n      emitWith(comp, updateMenuText, {\n        text: text\n      });\n    };\n\n    var nodeChangeHandler = Option.some(function (comp) {\n      return function (e) {\n        return updateSelectMenuText(e.parents, comp);\n      };\n    });\n    var setInitialValue = Option.some(function (comp) {\n      var parents = getCurrentSelectionParents(editor);\n      updateSelectMenuText(parents, comp);\n    });\n    var dataset = buildBasicSettingsDataset(editor, 'block_formats', defaultBlocks, Delimiter.SemiColon);\n    return {\n      tooltip: 'Blocks',\n      icon: Option.none(),\n      isSelectedFor: isSelectedFor,\n      getCurrentValue: constant(Option.none()),\n      getPreviewFor: getPreviewFor,\n      onAction: onActionToggleFormat(editor),\n      setInitialValue: setInitialValue,\n      nodeChangeHandler: nodeChangeHandler,\n      dataset: dataset,\n      shouldHide: false,\n      isInvalid: function isInvalid(item) {\n        return !editor.formatter.canApply(item.format);\n      }\n    };\n  };\n\n  var createFormatSelect = function createFormatSelect(editor, backstage) {\n    var spec = getSpec$3(editor);\n    return createSelectButton(editor, backstage, spec.dataset, spec);\n  };\n\n  var formatSelectMenu = function formatSelectMenu(editor, backstage) {\n    var spec = getSpec$3(editor);\n    var menuItems = createMenuItems(editor, backstage, spec.dataset, spec);\n    editor.ui.registry.addNestedMenuItem('blockformats', {\n      text: 'Blocks',\n      getSubmenuItems: function getSubmenuItems() {\n        return menuItems.items.validateItems(menuItems.getStyleItems());\n      }\n    });\n  };\n\n  var getSpec$4 = function getSpec$4(editor) {\n    var isSelectedFor = function isSelectedFor(format) {\n      return function () {\n        return editor.formatter.match(format);\n      };\n    };\n\n    var getPreviewFor = function getPreviewFor(format) {\n      return function () {\n        var fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Option.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styleAttr: editor.formatter.getCssText(format)\n        }) : Option.none();\n      };\n    };\n\n    var updateSelectMenuText = function updateSelectMenuText(parents, comp) {\n      var getFormatItems = function getFormatItems(fmt) {\n        var subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind(subs, getFormatItems) : [{\n          title: fmt.title,\n          format: fmt.format\n        }];\n      };\n\n      var flattenedItems = bind(getStyleFormats(editor), getFormatItems);\n      var detectedFormat = findNearest(editor, function () {\n        return flattenedItems;\n      }, parents);\n      var text = detectedFormat.fold(function () {\n        return 'Paragraph';\n      }, function (fmt) {\n        return fmt.title;\n      });\n      emitWith(comp, updateMenuText, {\n        text: text\n      });\n    };\n\n    var nodeChangeHandler = Option.some(function (comp) {\n      return function (e) {\n        return updateSelectMenuText(e.parents, comp);\n      };\n    });\n    var setInitialValue = Option.some(function (comp) {\n      var parents = getCurrentSelectionParents(editor);\n      updateSelectMenuText(parents, comp);\n    });\n    return {\n      tooltip: 'Formats',\n      icon: Option.none(),\n      isSelectedFor: isSelectedFor,\n      getCurrentValue: constant(Option.none()),\n      getPreviewFor: getPreviewFor,\n      onAction: onActionToggleFormat(editor),\n      setInitialValue: setInitialValue,\n      nodeChangeHandler: nodeChangeHandler,\n      shouldHide: editor.getParam('style_formats_autohide', false, 'boolean'),\n      isInvalid: function isInvalid(item) {\n        return !editor.formatter.canApply(item.format);\n      }\n    };\n  };\n\n  var createStyleSelect = function createStyleSelect(editor, backstage) {\n    var data = backstage.styleselect;\n    return createSelectButton(editor, backstage, data, getSpec$4(editor));\n  };\n\n  var styleSelectMenu = function styleSelectMenu(editor, backstage) {\n    var data = backstage.styleselect;\n    var menuItems = createMenuItems(editor, backstage, data, getSpec$4(editor));\n    editor.ui.registry.addNestedMenuItem('formats', {\n      text: 'Formats',\n      getSubmenuItems: function getSubmenuItems() {\n        return menuItems.items.validateItems(menuItems.getStyleItems());\n      }\n    });\n  };\n\n  var defaultToolbar = [{\n    name: 'history',\n    items: ['undo', 'redo']\n  }, {\n    name: 'styles',\n    items: ['styleselect']\n  }, {\n    name: 'formatting',\n    items: ['bold', 'italic']\n  }, {\n    name: 'alignment',\n    items: ['alignleft', 'aligncenter', 'alignright', 'alignjustify']\n  }, {\n    name: 'indentation',\n    items: ['outdent', 'indent']\n  }, {\n    name: 'permanent pen',\n    items: ['permanentpen']\n  }, {\n    name: 'comments',\n    items: ['addcomment']\n  }];\n\n  var renderFromBridge = function renderFromBridge(bridgeBuilder, render) {\n    return function (spec, extras) {\n      var internal = bridgeBuilder(spec).mapError(function (errInfo) {\n        return formatError(errInfo);\n      }).getOrDie();\n      return render(internal, extras);\n    };\n  };\n\n  var types = {\n    button: renderFromBridge(createToolbarButton, function (s, extras) {\n      return renderToolbarButton(s, extras.backstage.shared.providers);\n    }),\n    togglebutton: renderFromBridge(createToggleButton, function (s, extras) {\n      return renderToolbarToggleButton(s, extras.backstage.shared.providers);\n    }),\n    menubutton: renderFromBridge(createMenuButton, function (s, extras) {\n      return renderMenuButton(s, 'tox-tbtn', extras.backstage, Option.none());\n    }),\n    splitbutton: renderFromBridge(createSplitButton, function (s, extras) {\n      return renderSplitButton(s, extras.backstage.shared);\n    }),\n    styleSelectButton: function styleSelectButton(editor, extras) {\n      return createStyleSelect(editor, extras.backstage);\n    },\n    fontsizeSelectButton: function fontsizeSelectButton(editor, extras) {\n      return createFontsizeSelect(editor, extras.backstage);\n    },\n    fontSelectButton: function fontSelectButton(editor, extras) {\n      return createFontSelect(editor, extras.backstage);\n    },\n    formatButton: function formatButton(editor, extras) {\n      return createFormatSelect(editor, extras.backstage);\n    },\n    alignMenuButton: function alignMenuButton(editor, extras) {\n      return createAlignSelect(editor, extras.backstage);\n    }\n  };\n\n  var extractFrom = function extractFrom(spec, extras) {\n    return get(types, spec.type).fold(function () {\n      domGlobals.console.error('skipping button defined by', spec);\n      return Option.none();\n    }, function (render) {\n      return Option.some(render(spec, extras));\n    });\n  };\n\n  var bespokeButtons = {\n    styleselect: types.styleSelectButton,\n    fontsizeselect: types.fontsizeSelectButton,\n    fontselect: types.fontSelectButton,\n    formatselect: types.formatButton,\n    align: types.alignMenuButton\n  };\n\n  var removeUnusedDefaults = function removeUnusedDefaults(buttons) {\n    var filteredItemGroups = map(defaultToolbar, function (group) {\n      var items = filter(group.items, function (subItem) {\n        return has(buttons, subItem) || has(bespokeButtons, subItem);\n      });\n      return {\n        name: group.name,\n        items: items\n      };\n    });\n    return filter(filteredItemGroups, function (group) {\n      return group.items.length > 0;\n    });\n  };\n\n  var convertStringToolbar = function convertStringToolbar(strToolbar) {\n    var groupsStrings = strToolbar.split('|');\n    return map(groupsStrings, function (g) {\n      return {\n        items: g.trim().split(' ')\n      };\n    });\n  };\n\n  var isToolbarGroupSettingArray = function isToolbarGroupSettingArray(toolbar) {\n    return isArrayOf(toolbar, function (t) {\n      return has(t, 'name') && has(t, 'items');\n    });\n  };\n\n  var createToolbar = function createToolbar(toolbarConfig) {\n    var toolbar = toolbarConfig.toolbar;\n    var buttons = toolbarConfig.buttons;\n\n    if (toolbar === false) {\n      return [];\n    } else if (toolbar === undefined || toolbar === true) {\n      return removeUnusedDefaults(buttons);\n    } else if (isString(toolbar)) {\n      return convertStringToolbar(toolbar);\n    } else if (isToolbarGroupSettingArray(toolbar)) {\n      return toolbar;\n    } else {\n      domGlobals.console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n      return [];\n    }\n  };\n\n  var lookupButton = function lookupButton(editor, buttons, toolbarItem, extras, prefixes) {\n    return get(buttons, toolbarItem.toLowerCase()).orThunk(function () {\n      return prefixes.bind(function (ps) {\n        return findMap(ps, function (prefix) {\n          return get(buttons, prefix + toolbarItem.toLowerCase());\n        });\n      });\n    }).fold(function () {\n      return get(bespokeButtons, toolbarItem.toLowerCase()).map(function (r) {\n        return r(editor, extras);\n      }).orThunk(function () {\n        return Option.none();\n      });\n    }, function (spec) {\n      return extractFrom(spec, extras);\n    });\n  };\n\n  var identifyButtons = function identifyButtons(editor, toolbarConfig, extras, prefixes) {\n    var toolbarGroups = createToolbar(toolbarConfig);\n    var groups = map(toolbarGroups, function (group) {\n      var items = bind(group.items, function (toolbarItem) {\n        return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, extras, prefixes).toArray();\n      });\n      return {\n        title: Option.from(editor.translate(group.name)),\n        items: items\n      };\n    });\n    return filter(groups, function (group) {\n      return group.items.length > 0;\n    });\n  };\n\n  var register$4 = function register$4(editor, registryContextToolbars, sink, extras) {\n    var contextbar = build$1(renderContextToolbar({\n      sink: sink,\n      onEscape: function onEscape() {\n        editor.focus();\n        return Option.some(true);\n      }\n    }));\n    var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n\n    var getBounds = function getBounds() {\n      var scroll = get$8();\n      var contentAreaBox = box(Element.fromDom(editor.getContentAreaContainer()));\n\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return Option.some(getDistractionFreeBounds(editor, scroll, contentAreaBox));\n      } else if (editor.inline) {\n        return Option.some(getInlineBounds(editor, scroll, contentAreaBox));\n      } else {\n        return Option.some(getIframeBounds(editor, scroll, contentAreaBox));\n      }\n    };\n\n    var getViewportTop = function getViewportTop() {\n      var isToolbarDocked = get$4(Element.fromDom(editor.getContainer()), 'position') === 'fixed';\n      return editor.inline && toolbarOrMenubarEnabled && isToolbarDocked ? editor.getContainer().getBoundingClientRect().bottom : 0;\n    };\n\n    var shouldContextToolbarHide = function shouldContextToolbarHide() {\n      var nodeBounds = lastElement.get().map(function (ele) {\n        return ele.getBoundingClientRect();\n      }).getOr(editor.selection.getRng().getBoundingClientRect());\n      var viewportHeight = defaultView(Element.fromDom(editor.getBody())).dom().innerHeight;\n      var aboveViewport = nodeBounds.bottom < getViewportTop();\n      var belowViewport = nodeBounds.top > viewportHeight;\n      return aboveViewport || belowViewport;\n    };\n\n    var hideOrRepositionIfNecessary = function hideOrRepositionIfNecessary() {\n      lastAnchor.get().each(function (anchor) {\n        var contextBarEle = contextbar.element();\n        remove$6(contextBarEle, 'display');\n\n        if (shouldContextToolbarHide()) {\n          set$2(contextBarEle, 'display', 'none');\n        } else {\n          Positioning.positionWithinBounds(sink, anchor, contextbar, getBounds());\n        }\n      });\n    };\n\n    editor.on('init', function () {\n      editor.on('ScrollWindow', hideOrRepositionIfNecessary);\n\n      if (!editor.inline) {\n        var scroller = defaultView(Element.fromDom(editor.getBody()));\n        var onScroll_1 = bind$3(scroller, 'scroll', hideOrRepositionIfNecessary);\n        editor.on('remove', function () {\n          onScroll_1.unbind();\n        });\n      }\n    });\n    var lastAnchor = Cell(Option.none());\n    var lastElement = Cell(Option.none());\n    var timer = Cell(null);\n\n    var wrapInPopDialog = function wrapInPopDialog(toolbarSpec) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([Keying.config({\n          mode: 'acyclic'\n        }), config('pop-dialog-wrap-events', [runOnAttached(function (comp) {\n          editor.shortcuts.add('ctrl+F9', 'focus statusbar', function () {\n            return Keying.focusIn(comp);\n          });\n        }), runOnDetached(function (comp) {\n          editor.shortcuts.remove('ctrl+F9');\n        })])])\n      };\n    };\n\n    var getScopes = cached(function () {\n      return ToolbarScopes.categorise(registryContextToolbars, function (toolbarApi) {\n        var alloySpec = buildToolbar(toolbarApi);\n        emitWith(contextbar, forwardSlideEvent, {\n          forwardContents: wrapInPopDialog(alloySpec)\n        });\n      });\n    });\n\n    var buildToolbar = function buildToolbar(ctx) {\n      var buttons = editor.ui.registry.getAll().buttons;\n      var scopes = getScopes();\n      return ctx.type === 'contexttoolbar' ? function () {\n        var allButtons = merge(buttons, scopes.formNavigators);\n        var initGroups = identifyButtons(editor, {\n          buttons: allButtons,\n          toolbar: ctx.items\n        }, extras, Option.some(['form:']));\n        return renderToolbar({\n          uid: generate$1('context-toolbar'),\n          initGroups: initGroups,\n          onEscape: Option.none,\n          cyclicKeying: true,\n          backstage: extras.backstage,\n          getSink: function getSink() {\n            return Result.error('');\n          }\n        });\n      }() : function () {\n        return ContextForm.renderContextForm(ctx, extras.backstage);\n      }();\n    };\n\n    editor.on(showContextToolbarEvent, function (e) {\n      var scopes = getScopes();\n      readOptFrom$1(scopes.lookupTable, e.toolbarKey).each(function (ctx) {\n        launchContext(ctx, e.target === editor ? Option.none() : Option.some(e));\n        InlineView.getContent(contextbar).each(Keying.focusIn);\n      });\n    });\n    var bubbleSize = 12;\n    var bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var anchorOverrides = {\n      maxHeightFunction: expandable()\n    };\n    var lineAnchorSpec = {\n      bubble: nu$7(bubbleSize, 0, bubbleAlignments),\n      layouts: {\n        onLtr: function onLtr() {\n          return [east$1];\n        },\n        onRtl: function onRtl() {\n          return [west$1];\n        }\n      },\n      overrides: anchorOverrides\n    };\n    var anchorSpec = {\n      bubble: nu$7(0, bubbleSize, bubbleAlignments),\n      layouts: {\n        onLtr: function onLtr() {\n          return [north$1, south$1, northeast$1, southeast$1, northwest$1, southwest$1, north$3, south$3, northeast$3, southeast$3, northwest$3, southwest$3];\n        },\n        onRtl: function onRtl() {\n          return [north$1, south$1, northwest$1, southwest$1, northeast$1, southeast$1, north$3, south$3, northwest$3, southwest$3, northeast$3, southeast$3];\n        }\n      },\n      overrides: anchorOverrides\n    };\n\n    var getAnchor = function getAnchor(position, element) {\n      var anchorage = position === 'node' ? extras.backstage.shared.anchors.node(element) : extras.backstage.shared.anchors.cursor();\n      var anchor = deepMerge(anchorage, position === 'line' ? lineAnchorSpec : anchorSpec);\n      return anchor;\n    };\n\n    var launchContext = function launchContext(toolbarApi, elem) {\n      clearTimer();\n      var toolbarSpec = buildToolbar(toolbarApi);\n      var sElem = elem.map(Element.fromDom);\n      var anchor = getAnchor(toolbarApi.position, sElem);\n      lastAnchor.set(Option.some(anchor));\n      lastElement.set(elem);\n      var contextBarEle = contextbar.element();\n      remove$6(contextBarEle, 'display');\n      InlineView.showWithinBounds(contextbar, anchor, wrapInPopDialog(toolbarSpec), getBounds());\n\n      if (shouldContextToolbarHide()) {\n        set$2(contextBarEle, 'display', 'none');\n      }\n    };\n\n    var launchContextToolbar = function launchContextToolbar() {\n      var scopes = getScopes();\n      ToolbarLookup.lookup(scopes, editor).fold(function () {\n        lastAnchor.set(Option.none());\n        InlineView.hide(contextbar);\n      }, function (info) {\n        launchContext(info.toolbarApi, Option.some(info.elem.dom()));\n      });\n    };\n\n    var clearTimer = function clearTimer() {\n      var current = timer.get();\n\n      if (current !== null) {\n        global$2.clearTimeout(current);\n        timer.set(null);\n      }\n    };\n\n    var resetTimer = function resetTimer(t) {\n      clearTimer();\n      timer.set(t);\n    };\n\n    editor.on('init', function () {\n      editor.on('click keyup SetContent ObjectResized ResizeEditor', function (e) {\n        resetTimer(global$2.setEditorTimeout(editor, launchContextToolbar, 0));\n      });\n      editor.on('focusout', function (e) {\n        global$2.setEditorTimeout(editor, function () {\n          if (search$1(sink.element()).isNone() && search$1(contextbar.element()).isNone()) {\n            lastAnchor.set(Option.none());\n            InlineView.hide(contextbar);\n          }\n        }, 0);\n      });\n      editor.on('SwitchMode', function () {\n        if (editor.readonly) {\n          lastAnchor.set(Option.none());\n          InlineView.hide(contextbar);\n        }\n      });\n      editor.on('NodeChange', function (e) {\n        search$1(contextbar.element()).fold(function () {\n          resetTimer(global$2.setEditorTimeout(editor, launchContextToolbar, 0));\n        }, function (_) {});\n      });\n    });\n  };\n\n  var ContextToolbar = {\n    register: register$4\n  };\n\n  var setup$3 = function setup$3(editor, mothership, uiMothership) {\n    var onMousedown = bind$3(Element.fromDom(domGlobals.document), 'mousedown', function (evt) {\n      each([mothership, uiMothership], function (ship) {\n        ship.broadcastOn([dismissPopups()], {\n          target: evt.target()\n        });\n      });\n    });\n    var onTouchstart = bind$3(Element.fromDom(domGlobals.document), 'touchstart', function (evt) {\n      each([mothership, uiMothership], function (ship) {\n        ship.broadcastOn([dismissPopups()], {\n          target: evt.target()\n        });\n      });\n    });\n    var onMouseup = bind$3(Element.fromDom(domGlobals.document), 'mouseup', function (evt) {\n      if (evt.raw().button === 0) {\n        each([mothership, uiMothership], function (ship) {\n          ship.broadcastOn([mouseReleased()], {\n            target: evt.target()\n          });\n        });\n      }\n    });\n\n    var onContentMousedown = function onContentMousedown(raw) {\n      each([mothership, uiMothership], function (ship) {\n        ship.broadcastOn([dismissPopups()], {\n          target: Element.fromDom(raw.target)\n        });\n      });\n    };\n\n    editor.on('mousedown', onContentMousedown);\n    editor.on('touchstart', onContentMousedown);\n\n    var onContentMouseup = function onContentMouseup(raw) {\n      if (raw.button === 0) {\n        each([mothership, uiMothership], function (ship) {\n          ship.broadcastOn([mouseReleased()], {\n            target: Element.fromDom(raw.target)\n          });\n        });\n      }\n    };\n\n    editor.on('mouseup', onContentMouseup);\n\n    var onWindowScroll = function onWindowScroll(evt) {\n      each([mothership, uiMothership], function (ship) {\n        ship.broadcastEvent(windowScroll(), evt);\n      });\n    };\n\n    editor.on('ScrollWindow', onWindowScroll);\n\n    var onWindowResize = function onWindowResize(evt) {\n      each([mothership, uiMothership], function (ship) {\n        ship.broadcastEvent(windowResize(), evt);\n      });\n    };\n\n    editor.on('ResizeWindow', onWindowResize);\n    editor.on('remove', function () {\n      editor.off('mousedown', onContentMousedown);\n      editor.off('touchstart', onContentMousedown);\n      editor.off('mouseup', onContentMouseup);\n      editor.off('ResizeWindow', onWindowResize);\n      editor.off('ScrollWindow', onWindowScroll);\n      onMousedown.unbind();\n      onTouchstart.unbind();\n      onMouseup.unbind();\n    });\n    editor.on('detach', function () {\n      detachSystem(mothership);\n      detachSystem(uiMothership);\n      mothership.destroy();\n      uiMothership.destroy();\n    });\n  };\n\n  var Events$1 = {\n    setup: setup$3\n  };\n  var schema$p = constant([defaulted$1('shell', false), strict$1('makeItem'), defaulted$1('setupItem', noop), SketchBehaviours.field('listBehaviours', [Replacing])]);\n\n  var customListDetail = function customListDetail(detail) {\n    return {\n      behaviours: derive$1([Replacing.config({})])\n    };\n  };\n\n  var itemsPart = optional({\n    name: 'items',\n    overrides: customListDetail\n  });\n  var parts$c = constant([itemsPart]);\n  var name$2 = constant('CustomList');\n\n  var factory$e = function factory$e(detail, components, spec, external) {\n    var setItems = function setItems(list, items) {\n      getListContainer(list).fold(function () {\n        domGlobals.console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n        throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n      }, function (container) {\n        var itemComps = Replacing.contents(container);\n        var numListsRequired = items.length;\n        var numListsToAdd = numListsRequired - itemComps.length;\n        var itemsToAdd = numListsToAdd > 0 ? range(numListsToAdd, function () {\n          return detail.makeItem();\n        }) : [];\n        var itemsToRemove = itemComps.slice(numListsRequired);\n        each(itemsToRemove, function (item) {\n          return Replacing.remove(container, item);\n        });\n        each(itemsToAdd, function (item) {\n          return Replacing.append(container, item);\n        });\n        var builtLists = Replacing.contents(container);\n        each(builtLists, function (item, i) {\n          detail.setupItem(list, item, items[i], i);\n        });\n      });\n    };\n\n    var extra = detail.shell ? {\n      behaviours: [Replacing.config({})],\n      components: []\n    } : {\n      behaviours: [],\n      components: components\n    };\n\n    var getListContainer = function getListContainer(component) {\n      return detail.shell ? Option.some(component) : getPart(component, detail, 'items');\n    };\n\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: extra.components,\n      behaviours: augment(detail.listBehaviours, extra.behaviours),\n      apis: {\n        setItems: setItems\n      }\n    };\n  };\n\n  var CustomList = composite$1({\n    name: name$2(),\n    configFields: schema$p(),\n    partFields: parts$c(),\n    factory: factory$e,\n    apis: {\n      setItems: function setItems(apis, list, items) {\n        apis.setItems(list, items);\n      }\n    }\n  });\n  var parts$d = AlloyParts;\n  var partType$1 = PartType;\n\n  var factory$f = function factory$f(detail, spec) {\n    var setMenus = function setMenus(comp, menus) {\n      var newMenus = map(menus, function (m) {\n        var buttonSpec = {\n          type: 'menubutton',\n          text: m.text,\n          fetch: function fetch(callback) {\n            callback(m.getItems());\n          }\n        };\n        var internal = createMenuButton(buttonSpec).mapError(function (errInfo) {\n          return formatError(errInfo);\n        }).getOrDie();\n        return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Option.some('menuitem'));\n      });\n      Replacing.set(comp, newMenus);\n    };\n\n    var apis = {\n      focus: Keying.focusIn,\n      setMenus: setMenus\n    };\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: [],\n      behaviours: derive$1([Replacing.config({}), config('menubar-events', [runOnAttached(function (component) {\n        detail.onSetup(component);\n      }), run(mouseover(), function (comp, se) {\n        descendant$1(comp.element(), '.' + 'tox-mbtn--active').each(function (activeButton) {\n          closest$3(se.event().target(), '.' + 'tox-mbtn').each(function (hoveredButton) {\n            if (!eq(activeButton, hoveredButton)) {\n              comp.getSystem().getByDom(activeButton).each(function (activeComp) {\n                comp.getSystem().getByDom(hoveredButton).each(function (hoveredComp) {\n                  Dropdown.expand(hoveredComp);\n                  Dropdown.close(activeComp);\n                  Focusing.focus(hoveredComp);\n                });\n              });\n            }\n          });\n        });\n      }), run(focusShifted(), function (comp, se) {\n        se.event().prevFocus().bind(function (prev) {\n          return comp.getSystem().getByDom(prev).toOption();\n        }).each(function (prev) {\n          se.event().newFocus().bind(function (nu) {\n            return comp.getSystem().getByDom(nu).toOption();\n          }).each(function (nu) {\n            if (Dropdown.isOpen(prev)) {\n              Dropdown.expand(nu);\n              Dropdown.close(prev);\n            }\n          });\n        });\n      })]), Keying.config({\n        mode: 'flow',\n        selector: '.' + 'tox-mbtn',\n        onEscape: function onEscape(comp) {\n          detail.onEscape(comp);\n          return Option.some(true);\n        }\n      }), Tabstopping.config({})]),\n      apis: apis,\n      domModification: {\n        attributes: {\n          role: 'menubar'\n        }\n      }\n    };\n  };\n\n  var SilverMenubar = single$2({\n    factory: factory$f,\n    name: 'silver.Menubar',\n    configFields: [strict$1('dom'), strict$1('uid'), strict$1('onEscape'), strict$1('backstage'), defaulted$1('onSetup', noop)],\n    apis: {\n      focus: function focus(apis, comp) {\n        apis.focus(comp);\n      },\n      setMenus: function setMenus(apis, comp, menus) {\n        apis.setMenus(comp, menus);\n      }\n    }\n  });\n  var owner$4 = 'container';\n  var schema$q = [field$1('slotBehaviours', [])];\n\n  var getPartName$1 = function getPartName$1(name) {\n    return '<alloy.field.' + name + '>';\n  };\n\n  var sketch$2 = function sketch$2(sSpec) {\n    var parts = function () {\n      var _record2 = [];\n\n      var slot = function slot(name, config) {\n        _record2.push(name);\n\n        return generateOne(owner$4, getPartName$1(name), config);\n      };\n\n      return {\n        slot: slot,\n        record: function record() {\n          return _record2;\n        }\n      };\n    }();\n\n    var spec = sSpec(parts);\n    var partNames = parts.record();\n    var fieldParts = map(partNames, function (n) {\n      return required({\n        name: n,\n        pname: getPartName$1(n)\n      });\n    });\n    return composite(owner$4, schema$q, fieldParts, make$7, spec);\n  };\n\n  var make$7 = function make$7(detail, components, spec) {\n    var getSlotNames = function getSlotNames(_) {\n      return getAllPartNames(detail);\n    };\n\n    var getSlot = function getSlot(container, key) {\n      return getPart(container, detail, key);\n    };\n\n    var onSlot = function onSlot(f, def) {\n      if (def === void 0) {\n        def = undefined;\n      }\n\n      return function (container, key) {\n        return getPart(container, detail, key).map(function (slot) {\n          return f(slot, key);\n        }).getOr(def);\n      };\n    };\n\n    var onSlots = function onSlots(f) {\n      return function (container, keys) {\n        each(keys, function (key) {\n          return f(container, key);\n        });\n      };\n    };\n\n    var doShowing = function doShowing(comp, key) {\n      return get$2(comp.element(), 'aria-hidden') !== 'true';\n    };\n\n    var doShow = function doShow(comp, key) {\n      if (!doShowing(comp)) {\n        var element = comp.element();\n        remove$6(element, 'display');\n        remove$1(element, 'aria-hidden');\n        emitWith(comp, slotVisibility(), {\n          name: key,\n          visible: true\n        });\n      }\n    };\n\n    var doHide = function doHide(comp, key) {\n      if (doShowing(comp)) {\n        var element = comp.element();\n        set$2(element, 'display', 'none');\n        set$1(element, 'aria-hidden', 'true');\n        emitWith(comp, slotVisibility(), {\n          name: key,\n          visible: false\n        });\n      }\n    };\n\n    var isShowing = onSlot(doShowing, false);\n    var hideSlot = onSlot(doHide);\n    var hideSlots = onSlots(hideSlot);\n\n    var hideAllSlots = function hideAllSlots(container) {\n      return hideSlots(container, getSlotNames());\n    };\n\n    var showSlot = onSlot(doShow);\n    var apis = {\n      getSlotNames: getSlotNames,\n      getSlot: getSlot,\n      isShowing: isShowing,\n      hideSlot: hideSlot,\n      hideAllSlots: hideAllSlots,\n      showSlot: showSlot\n    };\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: get$b(detail.slotBehaviours),\n      apis: apis\n    };\n  };\n\n  var slotApis = map$1({\n    getSlotNames: function getSlotNames(apis, c) {\n      return apis.getSlotNames(c);\n    },\n    getSlot: function getSlot(apis, c, key) {\n      return apis.getSlot(c, key);\n    },\n    isShowing: function isShowing(apis, c, key) {\n      return apis.isShowing(c, key);\n    },\n    hideSlot: function hideSlot(apis, c, key) {\n      return apis.hideSlot(c, key);\n    },\n    hideAllSlots: function hideAllSlots(apis, c) {\n      return apis.hideAllSlots(c);\n    },\n    showSlot: function showSlot(apis, c, key) {\n      return apis.showSlot(c, key);\n    }\n  }, makeApi);\n\n  var SlotContainer = _assign({}, slotApis, {\n    sketch: sketch$2\n  });\n\n  var sidebarSchema = objOf([optionString('icon'), optionString('tooltip'), defaultedFunction('onShow', noop), defaultedFunction('onHide', noop), defaultedFunction('onSetup', function () {\n    return noop;\n  })]);\n\n  var createSidebar = function createSidebar(spec) {\n    return asRaw('sidebar', sidebarSchema, spec);\n  };\n\n  var setup$4 = function setup$4(editor) {\n    var sidebars = editor.ui.registry.getAll().sidebars;\n    each(keys(sidebars), function (name) {\n      var spec = sidebars[name];\n\n      var isActive = function isActive() {\n        return Option.from(editor.queryCommandValue('ToggleSidebar')).is(name);\n      };\n\n      editor.ui.registry.addToggleButton(name, {\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        onAction: function onAction(buttonApi) {\n          editor.execCommand('ToggleSidebar', false, name);\n          buttonApi.setActive(isActive());\n        },\n        onSetup: function onSetup(buttonApi) {\n          var handleToggle = function handleToggle() {\n            return buttonApi.setActive(isActive());\n          };\n\n          editor.on('ToggleSidebar', handleToggle);\n          return function () {\n            editor.off('ToggleSidebar', handleToggle);\n          };\n        }\n      });\n    });\n  };\n\n  var getApi = function getApi(comp) {\n    return {\n      element: function element() {\n        return comp.element().dom();\n      }\n    };\n  };\n\n  var makePanels = function makePanels(parts, panelConfigs) {\n    var specs = map(keys(panelConfigs), function (name) {\n      var spec = panelConfigs[name];\n      var bridged = getOrDie(createSidebar(spec));\n      return {\n        name: name,\n        getApi: getApi,\n        onSetup: bridged.onSetup,\n        onShow: bridged.onShow,\n        onHide: bridged.onHide\n      };\n    });\n    return map(specs, function (spec) {\n      var editorOffCell = Cell(noop);\n      return parts.slot(spec.name, {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar__pane']\n        },\n        behaviours: SimpleBehaviours.unnamedEvents([onControlAttached(spec, editorOffCell), onControlDetached(spec, editorOffCell), run(slotVisibility(), function (sidepanel, se) {\n          var data = se.event();\n          var optSidePanelSpec = find(specs, function (config) {\n            return config.name === data.name();\n          });\n          optSidePanelSpec.each(function (sidePanelSpec) {\n            var handler = data.visible() ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n            handler(sidePanelSpec.getApi(sidepanel));\n          });\n        })])\n      });\n    });\n  };\n\n  var makeSidebar = function makeSidebar(panelConfigs) {\n    return SlotContainer.sketch(function (parts) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar__pane-container']\n        },\n        components: makePanels(parts, panelConfigs),\n        slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(function (slotContainer) {\n          return SlotContainer.hideAllSlots(slotContainer);\n        })])\n      };\n    });\n  };\n\n  var _setSidebar = function setSidebar(sidebar, panelConfigs) {\n    var optSlider = Composing.getCurrent(sidebar);\n    optSlider.each(function (slider) {\n      return Replacing.set(slider, [makeSidebar(panelConfigs)]);\n    });\n  };\n\n  var _toggleSidebar = function toggleSidebar(sidebar, name) {\n    var optSlider = Composing.getCurrent(sidebar);\n    optSlider.each(function (slider) {\n      var optSlotContainer = Composing.getCurrent(slider);\n      optSlotContainer.each(function (slotContainer) {\n        if (Sliding.hasGrown(slider)) {\n          if (SlotContainer.isShowing(slotContainer, name)) {\n            Sliding.shrink(slider);\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n          }\n        } else {\n          SlotContainer.hideAllSlots(slotContainer);\n          SlotContainer.showSlot(slotContainer, name);\n          Sliding.grow(slider);\n        }\n      });\n    });\n  };\n\n  var _whichSidebar = function whichSidebar(sidebar) {\n    var optSlider = Composing.getCurrent(sidebar);\n    return optSlider.bind(function (slider) {\n      var sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n\n      if (sidebarOpen) {\n        var optSlotContainer = Composing.getCurrent(slider);\n        return optSlotContainer.bind(function (slotContainer) {\n          return find(SlotContainer.getSlotNames(slotContainer), function (name) {\n            return SlotContainer.isShowing(slotContainer, name);\n          });\n        });\n      } else {\n        return Option.none();\n      }\n    });\n  };\n\n  var fixSize = generate$1('FixSizeEvent');\n  var autoSize = generate$1('AutoSizeEvent');\n\n  var renderSidebar = function renderSidebar(spec) {\n    return {\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: {\n          role: 'complementary'\n        }\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar__slider']\n        },\n        components: [],\n        behaviours: derive$1([Tabstopping.config({}), Focusing.config({}), Sliding.config({\n          dimension: {\n            property: 'width'\n          },\n          closedClass: 'tox-sidebar--sliding-closed',\n          openClass: 'tox-sidebar--sliding-open',\n          shrinkingClass: 'tox-sidebar--sliding-shrinking',\n          growingClass: 'tox-sidebar--sliding-growing',\n          onShrunk: function onShrunk(slider) {\n            var optSlotContainer = Composing.getCurrent(slider);\n            optSlotContainer.each(SlotContainer.hideAllSlots);\n            emit(slider, autoSize);\n          },\n          onGrown: function onGrown(slider) {\n            emit(slider, autoSize);\n          },\n          onStartGrow: function onStartGrow(slider) {\n            emitWith(slider, fixSize, {\n              width: getRaw(slider.element(), 'width').getOr('')\n            });\n          },\n          onStartShrink: function onStartShrink(slider) {\n            emitWith(slider, fixSize, {\n              width: get$7(slider.element()) + 'px'\n            });\n          }\n        }), Replacing.config({}), Composing.config({\n          find: function find(comp) {\n            var children = Replacing.contents(comp);\n            return head(children);\n          }\n        })])\n      }],\n      behaviours: derive$1([ComposingConfigs.childAt(0), config('sidebar-sliding-events', [run(fixSize, function (comp, se) {\n        set$2(comp.element(), 'width', se.event().width());\n      }), run(autoSize, function (comp, se) {\n        remove$6(comp.element(), 'width');\n      })])])\n    };\n  };\n\n  var renderSpinner = function renderSpinner(providerBackstage) {\n    return {\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...')\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{\n        dom: fromHtml$2('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')\n      }],\n      behaviours: derive$1([Keying.config({\n        mode: 'special',\n        onTab: function onTab() {\n          return Option.some(true);\n        },\n        onShiftTab: function onShiftTab() {\n          return Option.some(true);\n        }\n      }), Focusing.config({})])\n    };\n  };\n\n  var toggleThrobber = function toggleThrobber(comp, state, providerBackstage) {\n    var element = comp.element();\n\n    if (state === true) {\n      Replacing.set(comp, [renderSpinner(providerBackstage)]);\n      remove$6(element, 'display');\n      remove$1(element, 'aria-hidden');\n    } else {\n      Replacing.set(comp, []);\n      set$2(element, 'display', 'none');\n      set$1(element, 'aria-hidden', 'true');\n    }\n  };\n\n  var renderThrobber = function renderThrobber(spec) {\n    return {\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-hidden': 'true'\n        },\n        classes: ['tox-throbber'],\n        styles: {\n          display: 'none'\n        }\n      },\n      behaviours: derive$1([Replacing.config({})]),\n      components: []\n    };\n  };\n\n  var setup$5 = function setup$5(editor, lazyThrobber, sharedBackstage) {\n    var throbberState = Cell(false);\n    var timer = Cell(Option.none());\n\n    var toggle = function toggle(state) {\n      if (state !== throbberState.get()) {\n        toggleThrobber(lazyThrobber(), state, sharedBackstage.providers);\n        throbberState.set(state);\n      }\n    };\n\n    editor.on('ProgressState', function (e) {\n      timer.get().each(global$2.clearTimeout);\n\n      if (isNumber(e.time)) {\n        var timerId = global$2.setEditorTimeout(editor, function () {\n          return toggle(e.state);\n        }, e.time);\n        timer.set(Option.some(timerId));\n      } else {\n        toggle(e.state);\n        timer.set(Option.none());\n      }\n    });\n  };\n\n  var factory$g = function factory$g(detail, components, spec) {\n    var apis = {\n      getSocket: function getSocket(comp) {\n        return parts$d.getPart(comp, detail, 'socket');\n      },\n      setSidebar: function setSidebar(comp, panelConfigs) {\n        parts$d.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n          return _setSidebar(sidebar, panelConfigs);\n        });\n      },\n      toggleSidebar: function toggleSidebar(comp, name) {\n        parts$d.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n          return _toggleSidebar(sidebar, name);\n        });\n      },\n      whichSidebar: function whichSidebar(comp) {\n        return parts$d.getPart(comp, detail, 'sidebar').bind(_whichSidebar).getOrNull();\n      },\n      getToolbar: function getToolbar(comp) {\n        return parts$d.getPart(comp, detail, 'toolbar');\n      },\n      setToolbar: function setToolbar(comp, groups) {\n        parts$d.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n          toolbar.getApis().setGroups(toolbar, groups);\n        });\n      },\n      setToolbars: function setToolbars(comp, toolbars) {\n        parts$d.getPart(comp, detail, 'multiple-toolbar').each(function (mToolbar) {\n          CustomList.setItems(mToolbar, toolbars);\n        });\n      },\n      refreshToolbar: function refreshToolbar(comp) {\n        var toolbar = parts$d.getPart(comp, detail, 'toolbar');\n        toolbar.each(function (toolbar) {\n          return toolbar.getApis().refresh(toolbar);\n        });\n      },\n      getMoreButton: function getMoreButton(comp) {\n        var toolbar = parts$d.getPart(comp, detail, 'toolbar');\n        return toolbar.bind(function (toolbar) {\n          return toolbar.getApis().getMoreButton(toolbar);\n        });\n      },\n      getThrobber: function getThrobber(comp) {\n        return parts$d.getPart(comp, detail, 'throbber');\n      },\n      focusToolbar: function focusToolbar(comp) {\n        var optToolbar = parts$d.getPart(comp, detail, 'toolbar').orThunk(function () {\n          return parts$d.getPart(comp, detail, 'multiple-toolbar');\n        });\n        optToolbar.each(function (toolbar) {\n          Keying.focusIn(toolbar);\n        });\n      },\n      setMenubar: function setMenubar(comp, menus) {\n        parts$d.getPart(comp, detail, 'menubar').each(function (menubar) {\n          SilverMenubar.setMenus(menubar, menus);\n        });\n      },\n      focusMenubar: function focusMenubar(comp) {\n        parts$d.getPart(comp, detail, 'menubar').each(function (menubar) {\n          SilverMenubar.focus(menubar);\n        });\n      }\n    };\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      apis: apis,\n      behaviours: detail.behaviours\n    };\n  };\n\n  var partMenubar = partType$1.optional({\n    factory: SilverMenubar,\n    name: 'menubar',\n    schema: [strict$1('backstage')]\n  });\n\n  var toolbarFactory = function toolbarFactory(spec) {\n    if (spec.split === ToolbarDrawer.sliding) {\n      return renderSlidingMoreToolbar;\n    } else if (spec.split === ToolbarDrawer.floating) {\n      return renderFloatingMoreToolbar;\n    } else {\n      return renderToolbar;\n    }\n  };\n\n  var partMultipleToolbar = partType$1.optional({\n    factory: {\n      sketch: function sketch(spec) {\n        return CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            selector: '.tox-toolbar'\n          })]),\n          makeItem: function makeItem() {\n            return renderToolbar({\n              uid: generate$1('multiple-toolbar-item'),\n              backstage: spec.backstage,\n              cyclicKeying: false,\n              getSink: spec.getSink,\n              initGroups: [],\n              onEscape: function onEscape() {\n                return Option.none();\n              }\n            });\n          },\n          setupItem: function setupItem(mToolbar, tc, data, index) {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        });\n      }\n    },\n    name: 'multiple-toolbar',\n    schema: [strict$1('dom'), strict$1('onEscape')]\n  });\n  var partToolbar = partType$1.optional({\n    factory: {\n      sketch: function sketch(spec) {\n        var renderer = toolbarFactory(spec);\n        var toolbarSpec = {\n          uid: spec.uid,\n          onEscape: function onEscape() {\n            spec.onEscape();\n            return Option.some(true);\n          },\n          cyclicKeying: false,\n          initGroups: [],\n          getSink: spec.getSink,\n          backstage: spec.backstage,\n          moreDrawerData: {\n            lazyToolbar: spec.lazyToolbar,\n            lazyMoreButton: spec.lazyMoreButton\n          }\n        };\n        return renderer(toolbarSpec);\n      }\n    },\n    name: 'toolbar',\n    schema: [strict$1('dom'), strict$1('onEscape'), strict$1('getSink')]\n  });\n  var partSocket = partType$1.optional({\n    name: 'socket',\n    schema: [strict$1('dom')]\n  });\n  var partSidebar = partType$1.optional({\n    factory: {\n      sketch: renderSidebar\n    },\n    name: 'sidebar',\n    schema: [strict$1('dom')]\n  });\n  var partThrobber = partType$1.optional({\n    factory: {\n      sketch: renderThrobber\n    },\n    name: 'throbber',\n    schema: [strict$1('dom')]\n  });\n  var OuterContainer = composite$1({\n    name: 'OuterContainer',\n    factory: factory$g,\n    configFields: [strict$1('dom'), strict$1('behaviours')],\n    partFields: [partMenubar, partToolbar, partMultipleToolbar, partSocket, partSidebar, partThrobber],\n    apis: {\n      getSocket: function getSocket(apis, comp) {\n        return apis.getSocket(comp);\n      },\n      setSidebar: function setSidebar(apis, comp, panelConfigs) {\n        apis.setSidebar(comp, panelConfigs);\n      },\n      toggleSidebar: function toggleSidebar(apis, comp, name) {\n        apis.toggleSidebar(comp, name);\n      },\n      whichSidebar: function whichSidebar(apis, comp) {\n        return apis.whichSidebar(comp);\n      },\n      getToolbar: function getToolbar(apis, comp) {\n        return apis.getToolbar(comp);\n      },\n      setToolbar: function setToolbar(apis, comp, grps) {\n        var groups = map(grps, function (grp) {\n          return renderToolbarGroup(grp);\n        });\n        apis.setToolbar(comp, groups);\n      },\n      setToolbars: function setToolbars(apis, comp, ts) {\n        var renderedToolbars = map(ts, function (g) {\n          return map(g, renderToolbarGroup);\n        });\n        apis.setToolbars(comp, renderedToolbars);\n      },\n      getMoreButton: function getMoreButton(apis, comp) {\n        return apis.getMoreButton(comp);\n      },\n      refreshToolbar: function refreshToolbar(apis, comp) {\n        return apis.refreshToolbar(comp);\n      },\n      getThrobber: function getThrobber(apis, comp) {\n        return apis.getThrobber(comp);\n      },\n      setMenubar: function setMenubar(apis, comp, menus) {\n        apis.setMenubar(comp, menus);\n      },\n      focusMenubar: function focusMenubar(apis, comp) {\n        apis.focusMenubar(comp);\n      },\n      focusToolbar: function focusToolbar(apis, comp) {\n        apis.focusToolbar(comp);\n      }\n    }\n  });\n  var defaultMenubar = 'file edit view insert format tools table help';\n  var defaultMenus = {\n    file: {\n      title: 'File',\n      items: 'newdocument restoredraft | preview | print | deleteallconversations'\n    },\n    edit: {\n      title: 'Edit',\n      items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n    },\n    view: {\n      title: 'View',\n      items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n    },\n    insert: {\n      title: 'Insert',\n      items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime'\n    },\n    format: {\n      title: 'Format',\n      items: 'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat'\n    },\n    tools: {\n      title: 'Tools',\n      items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n    },\n    table: {\n      title: 'Table',\n      items: 'inserttable tableprops deletetable row column cell'\n    },\n    help: {\n      title: 'Help',\n      items: 'help'\n    }\n  };\n\n  var make$8 = function make$8(menu, registry, editor) {\n    var removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n    return {\n      text: menu.title,\n      getItems: function getItems() {\n        return bind(menu.items, function (i) {\n          var itemName = i.toLowerCase();\n\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, function (removedMenuItem) {\n            return removedMenuItem === itemName;\n          })) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{\n              type: 'separator'\n            }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        });\n      }\n    };\n  };\n\n  var parseItemsString = function parseItemsString(items) {\n    if (typeof items === 'string') {\n      return items.split(' ');\n    }\n\n    return items;\n  };\n\n  var identifyMenus = function identifyMenus(editor, registry) {\n    var rawMenuData = merge(defaultMenus, registry.menus);\n    var userDefinedMenus = keys(registry.menus).length > 0;\n    var menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n    var validMenus = filter(menubar, function (menuName) {\n      return userDefinedMenus ? registry.menus.hasOwnProperty(menuName) && registry.menus[menuName].hasOwnProperty('items') || defaultMenus.hasOwnProperty(menuName) : defaultMenus.hasOwnProperty(menuName);\n    });\n    var menus = map(validMenus, function (menuName) {\n      var menuData = rawMenuData[menuName];\n      return make$8({\n        title: menuData.title,\n        items: parseItemsString(menuData.items)\n      }, registry, editor);\n    });\n    return filter(menus, function (menu) {\n      var isNotSeparator = function isNotSeparator(item) {\n        return item.type !== 'separator';\n      };\n\n      return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n    });\n  };\n\n  var fireSkinLoaded$1 = function fireSkinLoaded$1(editor) {\n    var done = function done() {\n      editor._skinLoaded = true;\n      Events.fireSkinLoaded(editor);\n    };\n\n    return function () {\n      if (editor.initialized) {\n        done();\n      } else {\n        editor.on('init', done);\n      }\n    };\n  };\n\n  var SkinLoaded = {\n    fireSkinLoaded: fireSkinLoaded$1\n  };\n\n  var loadSkin = function loadSkin(isInline, editor) {\n    var skinUrl = getSkinUrl(editor);\n    var skinUiCss;\n\n    if (skinUrl) {\n      skinUiCss = skinUrl + '/skin.min.css';\n      editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n    }\n\n    if (isSkinDisabled(editor) === false && skinUiCss) {\n      global$7.DOM.styleSheetLoader.load(skinUiCss, SkinLoaded.fireSkinLoaded(editor));\n    } else {\n      SkinLoaded.fireSkinLoaded(editor)();\n    }\n  };\n\n  var iframe = curry(loadSkin, false);\n  var inline = curry(loadSkin, true);\n\n  var setToolbar = function setToolbar(editor, uiComponents, rawUiConfig, backstage) {\n    var comp = uiComponents.outerContainer;\n    var toolbarConfig = rawUiConfig.toolbar;\n    var toolbarButtonsConfig = rawUiConfig.buttons;\n\n    if (isArrayOf(toolbarConfig, isString)) {\n      var toolbars = toolbarConfig.map(function (t) {\n        var config = {\n          toolbar: t,\n          buttons: toolbarButtonsConfig\n        };\n        return identifyButtons(editor, config, {\n          backstage: backstage\n        }, Option.none());\n      });\n      OuterContainer.setToolbars(comp, toolbars);\n    } else {\n      OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, {\n        backstage: backstage\n      }, Option.none()));\n    }\n  };\n\n  var DOM = global$7.DOM;\n  var detection = PlatformDetection$1.detect();\n  var isTouch$4 = detection.deviceType.isTouch();\n\n  var setupEvents = function setupEvents(editor) {\n    var contentWindow = editor.getWin();\n    var initialDocEle = editor.getDoc().documentElement;\n    var lastWindowDimensions = Cell(Position(contentWindow.innerWidth, contentWindow.innerHeight));\n    var lastDocumentDimensions = Cell(Position(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n\n    var resize = function resize() {\n      var docEle = editor.getDoc().documentElement;\n      var outer = lastWindowDimensions.get();\n      var inner = lastDocumentDimensions.get();\n\n      if (outer.left() !== contentWindow.innerWidth || outer.top() !== contentWindow.innerHeight) {\n        lastWindowDimensions.set(Position(contentWindow.innerWidth, contentWindow.innerHeight));\n        Events.fireResizeContent(editor);\n      } else if (inner.left() !== docEle.offsetWidth || inner.top() !== docEle.offsetHeight) {\n        lastDocumentDimensions.set(Position(docEle.offsetWidth, docEle.offsetHeight));\n        Events.fireResizeContent(editor);\n      }\n    };\n\n    DOM.bind(contentWindow, 'resize', resize);\n    var elementLoad = capture$1(Element.fromDom(editor.getBody()), 'load', resize);\n    editor.on('remove', function () {\n      elementLoad.unbind();\n      DOM.unbind(contentWindow, 'resize', resize);\n    });\n  };\n\n  var render = function render(editor, uiComponents, rawUiConfig, backstage, args) {\n    var lastToolbarWidth = Cell(0);\n    iframe(editor);\n    attachSystemAfter(Element.fromDom(args.targetNode), uiComponents.mothership);\n    attachSystem(body(), uiComponents.uiMothership);\n    editor.on('init', function () {\n      setToolbar(editor, uiComponents, rawUiConfig, backstage);\n      lastToolbarWidth.set(editor.getWin().innerWidth);\n      OuterContainer.setMenubar(uiComponents.outerContainer, identifyMenus(editor, rawUiConfig));\n      OuterContainer.setSidebar(uiComponents.outerContainer, rawUiConfig.sidebar);\n      setupEvents(editor);\n    });\n    var socket = OuterContainer.getSocket(uiComponents.outerContainer).getOrDie('Could not find expected socket element');\n\n    if (isTouch$4 === true) {\n      setAll$1(socket.element(), {\n        'overflow': 'scroll',\n        '-webkit-overflow-scrolling': 'touch'\n      });\n    }\n\n    setupReadonlyModeSwitch(editor, uiComponents);\n    editor.addCommand('ToggleSidebar', function (ui, value) {\n      OuterContainer.toggleSidebar(uiComponents.outerContainer, value);\n      editor.fire('ToggleSidebar');\n    });\n    editor.addQueryValueHandler('ToggleSidebar', function () {\n      return OuterContainer.whichSidebar(uiComponents.outerContainer);\n    });\n    var drawer = getToolbarDrawer(editor);\n\n    var refreshDrawer = function refreshDrawer() {\n      OuterContainer.refreshToolbar(uiComponents.outerContainer);\n    };\n\n    if (drawer === ToolbarDrawer.sliding || drawer === ToolbarDrawer.floating) {\n      editor.on('ResizeContent', function () {\n        var width = editor.getWin().innerWidth;\n\n        if (width !== lastToolbarWidth.get()) {\n          refreshDrawer();\n        }\n\n        lastToolbarWidth.set(width);\n      });\n    }\n\n    return {\n      iframeContainer: socket.element().dom(),\n      editorContainer: uiComponents.outerContainer.element().dom()\n    };\n  };\n\n  var Iframe = {\n    render: render,\n    getBehaviours: function getBehaviours(_) {\n      return [];\n    }\n  };\n\n  var getOrigin = function getOrigin(element, scroll) {\n    return offsetParent(element).orThunk(function () {\n      var marker = Element.fromTag('span');\n      before(element, marker);\n      var offsetParent$1 = offsetParent(marker);\n      remove(marker);\n      return offsetParent$1;\n    }).map(function (offsetP) {\n      var loc = absolute(offsetP);\n      return loc.translate(-scroll.left(), -scroll.top());\n    }).getOrThunk(function () {\n      return Position(0, 0);\n    });\n  };\n\n  var adt$c = Adt.generate([{\n    offset: ['x', 'y']\n  }, {\n    absolute: ['x', 'y']\n  }, {\n    fixed: ['x', 'y']\n  }]);\n\n  var subtract = function subtract(change) {\n    return function (point) {\n      return point.translate(-change.left(), -change.top());\n    };\n  };\n\n  var add$4 = function add$4(change) {\n    return function (point) {\n      return point.translate(change.left(), change.top());\n    };\n  };\n\n  var transform$1 = function transform$1(changes) {\n    return function (x, y) {\n      return foldl(changes, function (rest, f) {\n        return f(rest);\n      }, Position(x, y));\n    };\n  };\n\n  var asFixed = function asFixed(coord, scroll, origin) {\n    return coord.fold(transform$1([add$4(origin), subtract(scroll)]), transform$1([subtract(scroll)]), transform$1([]));\n  };\n\n  var asAbsolute = function asAbsolute(coord, scroll, origin) {\n    return coord.fold(transform$1([add$4(origin)]), transform$1([]), transform$1([add$4(scroll)]));\n  };\n\n  var asOffset = function asOffset(coord, scroll, origin) {\n    return coord.fold(transform$1([]), transform$1([subtract(origin)]), transform$1([add$4(scroll), subtract(origin)]));\n  };\n\n  var withinRange = function withinRange(coord1, coord2, xRange, yRange, scroll, origin) {\n    var a1 = asAbsolute(coord1, scroll, origin);\n    var a2 = asAbsolute(coord2, scroll, origin);\n    return Math.abs(a1.left() - a2.left()) <= xRange && Math.abs(a1.top() - a2.top()) <= yRange;\n  };\n\n  var toStyles = function toStyles(coord, scroll, origin) {\n    return coord.fold(function (x, y) {\n      return {\n        position: 'absolute',\n        left: x + 'px',\n        top: y + 'px'\n      };\n    }, function (x, y) {\n      return {\n        position: 'absolute',\n        left: x - origin.left() + 'px',\n        top: y - origin.top() + 'px'\n      };\n    }, function (x, y) {\n      return {\n        position: 'fixed',\n        left: x + 'px',\n        top: y + 'px'\n      };\n    });\n  };\n\n  var translate$1 = function translate$1(coord, deltaX, deltaY) {\n    return coord.fold(function (x, y) {\n      return adt$c.offset(x + deltaX, y + deltaY);\n    }, function (x, y) {\n      return adt$c.absolute(x + deltaX, y + deltaY);\n    }, function (x, y) {\n      return adt$c.fixed(x + deltaX, y + deltaY);\n    });\n  };\n\n  var absorb = function absorb(partialCoord, originalCoord, scroll, origin) {\n    var absorbOne = function absorbOne(stencil, nu) {\n      return function (optX, optY) {\n        var original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left()), optY.getOr(original.top()));\n      };\n    };\n\n    return partialCoord.fold(absorbOne(asOffset, adt$c.offset), absorbOne(asAbsolute, adt$c.absolute), absorbOne(asFixed, adt$c.fixed));\n  };\n\n  var offset = adt$c.offset;\n  var absolute$2 = adt$c.absolute;\n  var fixed$1 = adt$c.fixed;\n\n  var appear = function appear(component, contextualInfo) {\n    add$2(component.element(), contextualInfo.transitionClass);\n    remove$4(component.element(), contextualInfo.fadeOutClass);\n    add$2(component.element(), contextualInfo.fadeInClass);\n  };\n\n  var disappear = function disappear(component, contextualInfo) {\n    add$2(component.element(), contextualInfo.transitionClass);\n    remove$4(component.element(), contextualInfo.fadeInClass);\n    add$2(component.element(), contextualInfo.fadeOutClass);\n  };\n\n  var isPartiallyVisible = function isPartiallyVisible(box, viewport) {\n    return box.y() < viewport.bottom() && box.bottom() > viewport.y();\n  };\n\n  var isCompletelyVisible = function isCompletelyVisible(box, viewport) {\n    return box.y() >= viewport.y() && box.bottom() <= viewport.bottom();\n  };\n\n  var getAttr = function getAttr(elem, attr) {\n    return has$1(elem, attr) ? Option.some(parseInt(get$2(elem, attr), 10)) : Option.none();\n  };\n\n  var getPrior = function getPrior(component, dockInfo) {\n    var elem = component.element();\n    return getAttr(elem, dockInfo.leftAttr).bind(function (left) {\n      return getAttr(elem, dockInfo.topAttr).map(function (top) {\n        var w = get$7(component.element());\n        var h = get$6(component.element());\n        return bounds(left, top, w, h);\n      });\n    });\n  };\n\n  var setPrior = function setPrior(component, dockInfo, absLeft, absTop) {\n    var elem = component.element();\n    set$1(elem, dockInfo.leftAttr, absLeft);\n    set$1(elem, dockInfo.topAttr, absTop);\n  };\n\n  var clearPrior = function clearPrior(component, dockInfo) {\n    var elem = component.element();\n    remove$1(elem, dockInfo.leftAttr);\n    remove$1(elem, dockInfo.topAttr);\n  };\n\n  var morphToAbsolute = function morphToAbsolute(component, dockInfo, viewport) {\n    return getPrior(component, dockInfo).bind(function (box) {\n      if (isCompletelyVisible(box, viewport)) {\n        clearPrior(component, dockInfo);\n        return Option.some(absolute$2(box.x(), box.y()));\n      } else {\n        return Option.none();\n      }\n    });\n  };\n\n  var morphToFixed = function morphToFixed(component, dockInfo, viewport, scroll, origin) {\n    var loc = absolute(component.element());\n    var box = bounds(loc.left(), loc.top(), get$7(component.element()), get$6(component.element()));\n\n    if (!isCompletelyVisible(box, viewport)) {\n      setPrior(component, dockInfo, loc.left(), loc.top());\n      var coord = absolute$2(loc.left(), loc.top());\n      var asFixed$1 = asFixed(coord, scroll, origin);\n      var viewportPt = absolute$2(viewport.x(), viewport.y());\n      var fixedViewport = asFixed(viewportPt, scroll, origin);\n      var fixedY = box.y() <= viewport.y() ? fixedViewport.top() : fixedViewport.top() + viewport.height() - box.height();\n      return Option.some(fixed$1(asFixed$1.left(), fixedY));\n    } else {\n      return Option.none();\n    }\n  };\n\n  var getMorph = function getMorph(component, dockInfo, viewport, scroll, origin) {\n    var isDocked = getRaw(component.element(), 'position').is('fixed');\n    return isDocked ? morphToAbsolute(component, dockInfo, viewport) : morphToFixed(component, dockInfo, viewport, scroll, origin);\n  };\n\n  var refresh$4 = function refresh$4(component, config, state) {\n    var viewport = config.lazyViewport(component);\n    config.contextual.each(function (contextInfo) {\n      contextInfo.lazyContext(component).each(function (elem) {\n        var box$1 = box(elem);\n        var isVisible = isPartiallyVisible(box$1, viewport);\n        var method = isVisible ? appear : disappear;\n        method(component, contextInfo);\n      });\n    });\n    var doc = owner(component.element());\n    var scroll = get$8(doc);\n    var origin = getOrigin(component.element(), scroll);\n    getMorph(component, config, viewport, scroll, origin).each(function (morph) {\n      var styles = toStyles(morph, scroll, origin);\n      setAll$1(component.element(), styles);\n    });\n  };\n\n  var DockingApis =\n  /*#__PURE__*/\n  Object.freeze({\n    refresh: refresh$4\n  });\n\n  var events$f = function events$f(dockInfo, dockState) {\n    return derive([run(transitionend(), function (component, simulatedEvent) {\n      dockInfo.contextual.each(function (contextInfo) {\n        if (eq(component.element(), simulatedEvent.event().target())) {\n          remove$4(component.element(), contextInfo.transitionClass);\n          simulatedEvent.stop();\n        }\n      });\n    }), run(windowScroll(), function (component, _) {\n      refresh$4(component, dockInfo);\n    })]);\n  };\n\n  var ActiveDocking =\n  /*#__PURE__*/\n  Object.freeze({\n    events: events$f\n  });\n\n  var defaultLazyViewport = function defaultLazyViewport(_component) {\n    var scroll = get$8();\n    return bounds(scroll.left(), scroll.top(), domGlobals.window.innerWidth, domGlobals.window.innerHeight);\n  };\n\n  var DockingSchema = [optionObjOf('contextual', [strict$1('fadeInClass'), strict$1('fadeOutClass'), strict$1('transitionClass'), strict$1('lazyContext')]), defaulted$1('lazyViewport', defaultLazyViewport), strict$1('leftAttr'), strict$1('topAttr')];\n  var Docking = create$1({\n    fields: DockingSchema,\n    name: 'docking',\n    active: ActiveDocking,\n    apis: DockingApis\n  });\n\n  var render$1 = function render$1(editor, uiComponents, rawUiConfig, backstage, args) {\n    var floatContainer;\n    var DOM = global$7.DOM;\n    var useFixedToolbarContainer = useFixedContainer(editor);\n    var splitSetting = getToolbarDrawer(editor);\n    var split = splitSetting === ToolbarDrawer.sliding || splitSetting === ToolbarDrawer.floating;\n    inline(editor);\n\n    var calcPosition = function calcPosition(offset) {\n      if (offset === void 0) {\n        offset = 0;\n      }\n\n      var location = absolute(Element.fromDom(editor.getBody()));\n      return {\n        top: Math.round(location.top() - get$6(floatContainer.element())) + offset,\n        left: Math.round(location.left())\n      };\n    };\n\n    var setChromePosition = function setChromePosition(toolbar) {\n      var isDocked = getRaw(floatContainer.element(), 'position').is('fixed');\n      var offset = split ? toolbar.fold(function () {\n        return 0;\n      }, function (tbar) {\n        return tbar.components().length > 1 ? get$6(tbar.components()[1].element()) : 0;\n      }) : 0;\n      var position = calcPosition(offset);\n\n      if (isDocked) {\n        setAll(floatContainer.element(), tupleMap(position, function (value, key) {\n          return {\n            k: 'data-dock-' + key,\n            v: value\n          };\n        }));\n      } else {\n        setAll$1(floatContainer.element(), map$1(position, function (value) {\n          return value + 'px';\n        }));\n      }\n\n      Docking.refresh(floatContainer);\n    };\n\n    var updateChromeUi = function updateChromeUi() {\n      var toolbar = OuterContainer.getToolbar(uiComponents.outerContainer);\n\n      if (split) {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      }\n\n      if (!useFixedToolbarContainer) {\n        setChromePosition(toolbar);\n      }\n    };\n\n    var show = function show() {\n      set$2(uiComponents.outerContainer.element(), 'display', 'flex');\n      DOM.addClass(editor.getBody(), 'mce-edit-focus');\n      remove$6(uiComponents.uiMothership.element(), 'display');\n      updateChromeUi();\n    };\n\n    var hide = function hide() {\n      if (uiComponents.outerContainer) {\n        set$2(uiComponents.outerContainer.element(), 'display', 'none');\n        DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n      }\n\n      set$2(uiComponents.uiMothership.element(), 'display', 'none');\n    };\n\n    var render = function render() {\n      if (floatContainer) {\n        show();\n        return;\n      }\n\n      floatContainer = uiComponents.outerContainer;\n      var uiContainer = getUiContainer(editor);\n      attachSystem(uiContainer, uiComponents.mothership);\n      attachSystem(uiContainer, uiComponents.uiMothership);\n      setToolbar(editor, uiComponents, rawUiConfig, backstage);\n      OuterContainer.setMenubar(uiComponents.outerContainer, identifyMenus(editor, rawUiConfig));\n\n      if (!useFixedToolbarContainer) {\n        set$2(floatContainer.element(), 'position', 'absolute');\n      }\n\n      updateChromeUi();\n      show();\n      editor.on('NodeChange ResizeWindow', updateChromeUi);\n      editor.on('activate', show);\n      editor.on('deactivate', hide);\n      editor.nodeChanged();\n    };\n\n    editor.on('focus', render);\n    editor.on('blur hide', hide);\n    editor.on('init', function () {\n      if (editor.hasFocus()) {\n        render();\n      }\n    });\n    setupReadonlyModeSwitch(editor, uiComponents);\n    return {\n      editorContainer: uiComponents.outerContainer.element().dom()\n    };\n  };\n\n  var getBehaviours$2 = function getBehaviours$2(editor) {\n    return useFixedContainer(editor) ? [] : [Docking.config({\n      leftAttr: 'data-dock-left',\n      topAttr: 'data-dock-top',\n      contextual: {\n        lazyContext: function lazyContext(_) {\n          return Option.from(editor).map(function (ed) {\n            return Element.fromDom(ed.getBody());\n          });\n        },\n        fadeInClass: 'tox-toolbar-dock-fadein',\n        fadeOutClass: 'tox-toolbar-dock-fadeout',\n        transitionClass: 'tox-toolbar-dock-transition'\n      }\n    }), Focusing.config({})];\n  };\n\n  var Inline = {\n    render: render$1,\n    getBehaviours: getBehaviours$2\n  };\n\n  var register$5 = function register$5(editor) {\n    var alignToolbarButtons = [{\n      name: 'alignleft',\n      text: 'Align left',\n      cmd: 'JustifyLeft',\n      icon: 'align-left'\n    }, {\n      name: 'aligncenter',\n      text: 'Align center',\n      cmd: 'JustifyCenter',\n      icon: 'align-center'\n    }, {\n      name: 'alignright',\n      text: 'Align right',\n      cmd: 'JustifyRight',\n      icon: 'align-right'\n    }, {\n      name: 'alignjustify',\n      text: 'Justify',\n      cmd: 'JustifyFull',\n      icon: 'align-justify'\n    }];\n    global$e.each(alignToolbarButtons, function (item) {\n      editor.ui.registry.addToggleButton(item.name, {\n        tooltip: item.text,\n        onAction: function onAction() {\n          return editor.execCommand(item.cmd);\n        },\n        icon: item.icon,\n        onSetup: onSetupFormatToggle(editor, item.name)\n      });\n    });\n    var alignNoneToolbarButton = {\n      name: 'alignnone',\n      text: 'No alignment',\n      cmd: 'JustifyNone',\n      icon: 'align-none'\n    };\n    editor.ui.registry.addButton(alignNoneToolbarButton.name, {\n      tooltip: alignNoneToolbarButton.text,\n      onAction: function onAction() {\n        return editor.execCommand(alignNoneToolbarButton.cmd);\n      },\n      icon: alignNoneToolbarButton.icon\n    });\n  };\n\n  var AlignmentButtons = {\n    register: register$5\n  };\n\n  var toggleFormat = function toggleFormat(editor, fmt) {\n    return function () {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n  };\n\n  var registerFormatButtons = function registerFormatButtons(editor) {\n    global$e.each([{\n      name: 'bold',\n      text: 'Bold',\n      icon: 'bold'\n    }, {\n      name: 'italic',\n      text: 'Italic',\n      icon: 'italic'\n    }, {\n      name: 'underline',\n      text: 'Underline',\n      icon: 'underline'\n    }, {\n      name: 'strikethrough',\n      text: 'Strikethrough',\n      icon: 'strike-through'\n    }, {\n      name: 'subscript',\n      text: 'Subscript',\n      icon: 'subscript'\n    }, {\n      name: 'superscript',\n      text: 'Superscript',\n      icon: 'superscript'\n    }], function (btn, idx) {\n      editor.ui.registry.addToggleButton(btn.name, {\n        tooltip: btn.text,\n        icon: btn.icon,\n        onSetup: onSetupFormatToggle(editor, btn.name),\n        onAction: toggleFormat(editor, btn.name)\n      });\n    });\n\n    for (var i = 1; i <= 6; i++) {\n      var name = 'h' + i;\n      editor.ui.registry.addToggleButton(name, {\n        text: name.toUpperCase(),\n        tooltip: 'Heading ' + i,\n        onSetup: onSetupFormatToggle(editor, name),\n        onAction: toggleFormat(editor, name)\n      });\n    }\n  };\n\n  var registerCommandButtons = function registerCommandButtons(editor) {\n    global$e.each([{\n      name: 'cut',\n      text: 'Cut',\n      action: 'Cut',\n      icon: 'cut'\n    }, {\n      name: 'copy',\n      text: 'Copy',\n      action: 'Copy',\n      icon: 'copy'\n    }, {\n      name: 'paste',\n      text: 'Paste',\n      action: 'Paste',\n      icon: 'paste'\n    }, {\n      name: 'help',\n      text: 'Help',\n      action: 'mceHelp',\n      icon: 'help'\n    }, {\n      name: 'selectall',\n      text: 'Select all',\n      action: 'SelectAll',\n      icon: 'select-all'\n    }, {\n      name: 'newdocument',\n      text: 'New document',\n      action: 'mceNewDocument',\n      icon: 'new-document'\n    }, {\n      name: 'removeformat',\n      text: 'Clear formatting',\n      action: 'RemoveFormat',\n      icon: 'remove-formatting'\n    }, {\n      name: 'remove',\n      text: 'Remove',\n      action: 'Delete',\n      icon: 'remove'\n    }], function (btn) {\n      editor.ui.registry.addButton(btn.name, {\n        tooltip: btn.text,\n        icon: btn.icon,\n        onAction: function onAction() {\n          return editor.execCommand(btn.action);\n        }\n      });\n    });\n  };\n\n  var registerCommandToggleButtons = function registerCommandToggleButtons(editor) {\n    global$e.each([{\n      name: 'blockquote',\n      text: 'Blockquote',\n      action: 'mceBlockQuote',\n      icon: 'quote'\n    }], function (btn) {\n      editor.ui.registry.addToggleButton(btn.name, {\n        tooltip: btn.text,\n        icon: btn.icon,\n        onAction: function onAction() {\n          return editor.execCommand(btn.action);\n        },\n        onSetup: onSetupFormatToggle(editor, btn.name)\n      });\n    });\n  };\n\n  var registerButtons = function registerButtons(editor) {\n    registerFormatButtons(editor);\n    registerCommandButtons(editor);\n    registerCommandToggleButtons(editor);\n  };\n\n  var registerMenuItems = function registerMenuItems(editor) {\n    global$e.each([{\n      name: 'bold',\n      text: 'Bold',\n      action: 'Bold',\n      icon: 'bold',\n      shortcut: 'Meta+B'\n    }, {\n      name: 'italic',\n      text: 'Italic',\n      action: 'Italic',\n      icon: 'italic',\n      shortcut: 'Meta+I'\n    }, {\n      name: 'underline',\n      text: 'Underline',\n      action: 'Underline',\n      icon: 'underline',\n      shortcut: 'Meta+U'\n    }, {\n      name: 'strikethrough',\n      text: 'Strikethrough',\n      action: 'Strikethrough',\n      icon: 'strike-through',\n      shortcut: ''\n    }, {\n      name: 'subscript',\n      text: 'Subscript',\n      action: 'Subscript',\n      icon: 'subscript',\n      shortcut: ''\n    }, {\n      name: 'superscript',\n      text: 'Superscript',\n      action: 'Superscript',\n      icon: 'superscript',\n      shortcut: ''\n    }, {\n      name: 'removeformat',\n      text: 'Clear formatting',\n      action: 'RemoveFormat',\n      icon: 'remove-formatting',\n      shortcut: ''\n    }, {\n      name: 'newdocument',\n      text: 'New document',\n      action: 'mceNewDocument',\n      icon: 'new-document',\n      shortcut: ''\n    }, {\n      name: 'cut',\n      text: 'Cut',\n      action: 'Cut',\n      icon: 'cut',\n      shortcut: 'Meta+X'\n    }, {\n      name: 'copy',\n      text: 'Copy',\n      action: 'Copy',\n      icon: 'copy',\n      shortcut: 'Meta+C'\n    }, {\n      name: 'paste',\n      text: 'Paste',\n      action: 'Paste',\n      icon: 'paste',\n      shortcut: 'Meta+V'\n    }, {\n      name: 'selectall',\n      text: 'Select all',\n      action: 'SelectAll',\n      icon: 'select-all',\n      shortcut: 'Meta+A'\n    }], function (btn) {\n      editor.ui.registry.addMenuItem(btn.name, {\n        text: btn.text,\n        icon: btn.icon,\n        shortcut: btn.shortcut,\n        onAction: function onAction() {\n          return editor.execCommand(btn.action);\n        }\n      });\n    });\n    editor.ui.registry.addMenuItem('codeformat', {\n      text: 'Code',\n      icon: 'sourcecode',\n      onAction: toggleFormat(editor, 'code')\n    });\n  };\n\n  var register$6 = function register$6(editor) {\n    registerButtons(editor);\n    registerMenuItems(editor);\n  };\n\n  var SimpleControls = {\n    register: register$6\n  };\n\n  var toggleUndoRedoState = function toggleUndoRedoState(api, editor, type) {\n    var checkState = function checkState() {\n      return editor.undoManager ? editor.undoManager[type]() : false;\n    };\n\n    var onUndoStateChange = function onUndoStateChange() {\n      api.setDisabled(editor.readonly || !checkState());\n    };\n\n    api.setDisabled(!checkState());\n    editor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', onUndoStateChange);\n    return function () {\n      return editor.off('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', onUndoStateChange);\n    };\n  };\n\n  var registerMenuItems$1 = function registerMenuItems$1(editor) {\n    editor.ui.registry.addMenuItem('undo', {\n      text: 'Undo',\n      icon: 'undo',\n      shortcut: 'Meta+Z',\n      onSetup: function onSetup(api) {\n        return toggleUndoRedoState(api, editor, 'hasUndo');\n      },\n      onAction: function onAction() {\n        return editor.execCommand('undo');\n      }\n    });\n    editor.ui.registry.addMenuItem('redo', {\n      text: 'Redo',\n      icon: 'redo',\n      shortcut: 'Meta+Y',\n      onSetup: function onSetup(api) {\n        return toggleUndoRedoState(api, editor, 'hasRedo');\n      },\n      onAction: function onAction() {\n        return editor.execCommand('redo');\n      }\n    });\n  };\n\n  var registerButtons$1 = function registerButtons$1(editor) {\n    editor.ui.registry.addButton('undo', {\n      tooltip: 'Undo',\n      icon: 'undo',\n      onSetup: function onSetup(api) {\n        return toggleUndoRedoState(api, editor, 'hasUndo');\n      },\n      onAction: function onAction() {\n        return editor.execCommand('undo');\n      }\n    });\n    editor.ui.registry.addButton('redo', {\n      tooltip: 'Redo',\n      icon: 'redo',\n      onSetup: function onSetup(api) {\n        return toggleUndoRedoState(api, editor, 'hasRedo');\n      },\n      onAction: function onAction() {\n        return editor.execCommand('redo');\n      }\n    });\n  };\n\n  var register$7 = function register$7(editor) {\n    registerMenuItems$1(editor);\n    registerButtons$1(editor);\n  };\n\n  var UndoRedo = {\n    register: register$7\n  };\n\n  var toggleVisualAidState = function toggleVisualAidState(api, editor) {\n    api.setActive(editor.hasVisual);\n\n    var onVisualAid = function onVisualAid(e) {\n      api.setActive(e.hasVisual);\n    };\n\n    editor.on('VisualAid', onVisualAid);\n    return function () {\n      return editor.off('VisualAid', onVisualAid);\n    };\n  };\n\n  var registerMenuItems$2 = function registerMenuItems$2(editor) {\n    editor.ui.registry.addToggleMenuItem('visualaid', {\n      text: 'Visual aids',\n      onSetup: function onSetup(api) {\n        return toggleVisualAidState(api, editor);\n      },\n      onAction: function onAction() {\n        editor.execCommand('mceToggleVisualAid');\n      }\n    });\n  };\n\n  var registerToolbarButton = function registerToolbarButton(editor) {\n    editor.ui.registry.addButton('visualaid', {\n      tooltip: 'Visual aids',\n      text: 'Visual aids',\n      onAction: function onAction() {\n        return editor.execCommand('mceToggleVisualAid');\n      }\n    });\n  };\n\n  var register$8 = function register$8(editor) {\n    registerToolbarButton(editor);\n    registerMenuItems$2(editor);\n  };\n\n  var VisualAid = {\n    register: register$8\n  };\n\n  var toggleOutdentState = function toggleOutdentState(api, editor) {\n    api.setDisabled(!editor.queryCommandState('outdent'));\n\n    var onNodeChange = function onNodeChange() {\n      api.setDisabled(!editor.queryCommandState('outdent'));\n    };\n\n    editor.on('NodeChange', onNodeChange);\n    return function () {\n      return editor.off('NodeChange', onNodeChange);\n    };\n  };\n\n  var registerButtons$2 = function registerButtons$2(editor) {\n    editor.ui.registry.addButton('outdent', {\n      tooltip: 'Decrease indent',\n      icon: 'outdent',\n      onSetup: function onSetup(api) {\n        return toggleOutdentState(api, editor);\n      },\n      onAction: function onAction() {\n        return editor.execCommand('outdent');\n      }\n    });\n    editor.ui.registry.addButton('indent', {\n      tooltip: 'Increase indent',\n      icon: 'indent',\n      onAction: function onAction() {\n        return editor.execCommand('indent');\n      }\n    });\n  };\n\n  var register$9 = function register$9(editor) {\n    registerButtons$2(editor);\n  };\n\n  var IndentOutdent = {\n    register: register$9\n  };\n\n  var register$a = function register$a(editor, backstage) {\n    alignSelectMenu(editor, backstage);\n    fontSelectMenu(editor, backstage);\n    styleSelectMenu(editor, backstage);\n    formatSelectMenu(editor, backstage);\n    fontsizeSelectMenu(editor, backstage);\n  };\n\n  var ComplexControls = {\n    register: register$a\n  };\n\n  var setup$6 = function setup$6(editor, backstage) {\n    AlignmentButtons.register(editor);\n    SimpleControls.register(editor);\n    ComplexControls.register(editor, backstage);\n    UndoRedo.register(editor);\n    ColorSwatch.register(editor);\n    VisualAid.register(editor);\n    IndentOutdent.register(editor);\n  };\n\n  var FormatControls = {\n    setup: setup$6\n  };\n\n  var nu$d = function nu$d(x, y) {\n    return {\n      anchor: 'makeshift',\n      x: x,\n      y: y\n    };\n  };\n\n  var transpose$1 = function transpose$1(pos, dx, dy) {\n    return nu$d(pos.x + dx, pos.y + dy);\n  };\n\n  var fromPageXY = function fromPageXY(e) {\n    return nu$d(e.pageX, e.pageY);\n  };\n\n  var fromClientXY = function fromClientXY(e) {\n    return nu$d(e.clientX, e.clientY);\n  };\n\n  var transposeContentAreaContainer = function transposeContentAreaContainer(element, pos) {\n    var containerPos = global$7.DOM.getPos(element);\n    return transpose$1(pos, containerPos.x, containerPos.y);\n  };\n\n  var getPointAnchor = function getPointAnchor(editor, e) {\n    if (e.type === 'contextmenu') {\n      if (editor.inline) {\n        return fromPageXY(e);\n      } else {\n        return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n      }\n    } else {\n      return getSelectionAnchor(editor);\n    }\n  };\n\n  var getSelectionAnchor = function getSelectionAnchor(editor) {\n    return {\n      anchor: 'selection',\n      root: Element.fromDom(editor.selection.getNode())\n    };\n  };\n\n  var getNodeAnchor$1 = function getNodeAnchor$1(editor) {\n    return {\n      anchor: 'node',\n      node: Option.some(Element.fromDom(editor.selection.getNode())),\n      root: Element.fromDom(editor.getBody())\n    };\n  };\n\n  var patchPipeConfig = function patchPipeConfig(config) {\n    return typeof config === 'string' ? config.split(/[ ,]/) : config;\n  };\n\n  var shouldNeverUseNative = function shouldNeverUseNative(editor) {\n    return editor.settings.contextmenu_never_use_native || false;\n  };\n\n  var getMenuItems = function getMenuItems(editor, name, defaultItems) {\n    var contextMenus = editor.ui.registry.getAll().contextMenus;\n    return get(editor.settings, name).map(patchPipeConfig).getOrThunk(function () {\n      return filter(patchPipeConfig(defaultItems), function (item) {\n        return has(contextMenus, item);\n      });\n    });\n  };\n\n  var isContextMenuDisabled = function isContextMenuDisabled(editor) {\n    return editor.getParam('contextmenu') === false;\n  };\n\n  var getContextMenu = function getContextMenu(editor) {\n    return getMenuItems(editor, 'contextmenu', 'link linkchecker image imagetools table spellchecker configurepermanentpen');\n  };\n\n  var Settings$1 = {\n    shouldNeverUseNative: shouldNeverUseNative,\n    getContextMenu: getContextMenu,\n    isContextMenuDisabled: isContextMenuDisabled\n  };\n\n  var isSeparator$1 = function isSeparator$1(item) {\n    return isString(item) ? item === '|' : item.type === 'separator';\n  };\n\n  var separator$3 = {\n    type: 'separator'\n  };\n\n  var makeContextItem = function makeContextItem(item) {\n    if (isString(item)) {\n      return item;\n    } else {\n      switch (item.type) {\n        case 'separator':\n          return separator$3;\n\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            text: item.text,\n            icon: item.icon,\n            getSubmenuItems: function getSubmenuItems() {\n              var items = item.getSubmenuItems();\n\n              if (isString(items)) {\n                return items;\n              } else {\n                return map(items, makeContextItem);\n              }\n            }\n          };\n\n        default:\n          return {\n            type: 'menuitem',\n            text: item.text,\n            icon: item.icon,\n            onAction: noarg(item.onAction)\n          };\n      }\n    }\n  };\n\n  var addContextMenuGroup = function addContextMenuGroup(xs, groupItems) {\n    if (groupItems.length === 0) {\n      return xs;\n    }\n\n    var lastMenuItem = last(xs).filter(function (item) {\n      return !isSeparator$1(item);\n    });\n    var before = lastMenuItem.fold(function () {\n      return [];\n    }, function (_) {\n      return [separator$3];\n    });\n    return xs.concat(before).concat(groupItems).concat([separator$3]);\n  };\n\n  var generateContextMenu = function generateContextMenu(contextMenus, menuConfig, selectedElement) {\n    var items = foldl(menuConfig, function (acc, name) {\n      if (has(contextMenus, name)) {\n        var items_1 = contextMenus[name].update(selectedElement);\n\n        if (isString(items_1)) {\n          return addContextMenuGroup(acc, items_1.split(' '));\n        } else if (items_1.length > 0) {\n          var allItems = map(items_1, makeContextItem);\n          return addContextMenuGroup(acc, allItems);\n        } else {\n          return acc;\n        }\n      } else {\n        return acc.concat([name]);\n      }\n    }, []);\n\n    if (items.length > 0 && isSeparator$1(items[items.length - 1])) {\n      items.pop();\n    }\n\n    return items;\n  };\n\n  var isNativeOverrideKeyEvent = function isNativeOverrideKeyEvent(editor, e) {\n    return e.ctrlKey && !Settings$1.shouldNeverUseNative(editor);\n  };\n\n  var setup$7 = function setup$7(editor, lazySink, backstage) {\n    var contextmenu = build$1(InlineView.sketch({\n      dom: {\n        tag: 'div'\n      },\n      lazySink: lazySink,\n      onEscape: function onEscape() {\n        return editor.focus();\n      },\n      fireDismissalEventInstead: {},\n      inlineBehaviours: derive$1([config('dismissContextMenu', [run(dismissRequested(), function (comp, se) {\n        Sandboxing.close(comp);\n        editor.focus();\n      })])])\n    }));\n    editor.on('init', function () {\n      editor.on('contextmenu', function (e) {\n        if (Settings$1.shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n\n        if (isNativeOverrideKeyEvent(editor, e) || Settings$1.isContextMenuDisabled(editor)) {\n          return;\n        }\n\n        var isTriggeredByKeyboardEvent = e.button !== 2 || e.target === editor.getBody();\n        var anchorSpec = isTriggeredByKeyboardEvent ? getNodeAnchor$1(editor) : getPointAnchor(editor, e);\n        var registry = editor.ui.registry.getAll();\n        var menuConfig = Settings$1.getContextMenu(editor);\n        var selectedElement = isTriggeredByKeyboardEvent ? editor.selection.getStart(true) : e.target;\n        var items = generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        build$2(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage).map(function (menuData) {\n          e.preventDefault();\n          InlineView.showMenuAt(contextmenu, anchorSpec, {\n            menu: {\n              markers: markers$1('normal')\n            },\n            data: menuData\n          });\n        });\n      });\n    });\n  };\n\n  var parseToInt = function parseToInt(val) {\n    var re = /^[0-9\\.]+(|px)$/i;\n\n    if (re.test('' + val)) {\n      return Option.some(parseInt(val, 10));\n    }\n\n    return Option.none();\n  };\n\n  var numToPx = function numToPx(val) {\n    return isNumber(val) ? val + 'px' : val;\n  };\n\n  var Utils = {\n    parseToInt: parseToInt,\n    numToPx: numToPx\n  };\n  var initialAttribute = 'data-initial-z-index';\n\n  var resetZIndex = function resetZIndex(blocker) {\n    parent(blocker.element()).filter(isElement).each(function (root) {\n      var initZIndex = get$2(root, initialAttribute);\n\n      if (has$1(root, initialAttribute)) {\n        set$2(root, 'z-index', initZIndex);\n      } else {\n        remove$6(root, 'z-index');\n      }\n\n      remove$1(root, initialAttribute);\n    });\n  };\n\n  var changeZIndex = function changeZIndex(blocker) {\n    parent(blocker.element()).filter(isElement).each(function (root) {\n      getRaw(root, 'z-index').each(function (zindex) {\n        set$1(root, initialAttribute, zindex);\n      });\n      set$2(root, 'z-index', get$4(blocker.element(), 'z-index'));\n    });\n  };\n\n  var instigate = function instigate(anyComponent, blocker) {\n    anyComponent.getSystem().addToGui(blocker);\n    changeZIndex(blocker);\n  };\n\n  var discard = function discard(blocker) {\n    resetZIndex(blocker);\n    blocker.getSystem().removeFromGui(blocker);\n  };\n\n  var get$d = function get$d(component, snapsInfo) {\n    var element = component.element();\n    var x = parseInt(get$2(element, snapsInfo.leftAttr), 10);\n    var y = parseInt(get$2(element, snapsInfo.topAttr), 10);\n    return isNaN(x) || isNaN(y) ? Option.none() : Option.some(Position(x, y));\n  };\n\n  var set$8 = function set$8(component, snapsInfo, pt) {\n    var element = component.element();\n    set$1(element, snapsInfo.leftAttr, pt.left() + 'px');\n    set$1(element, snapsInfo.topAttr, pt.top() + 'px');\n  };\n\n  var clear = function clear(component, snapsInfo) {\n    var element = component.element();\n    remove$1(element, snapsInfo.leftAttr);\n    remove$1(element, snapsInfo.topAttr);\n  };\n\n  var getCoords = function getCoords(component, snapInfo, coord, delta) {\n    return get$d(component, snapInfo).fold(function () {\n      return coord;\n    }, function (fixed) {\n      return fixed$1(fixed.left() + delta.left(), fixed.top() + delta.top());\n    });\n  };\n\n  var moveOrSnap = function moveOrSnap(component, snapInfo, coord, delta, scroll, origin) {\n    var newCoord = getCoords(component, snapInfo, coord, delta);\n    var snap = findSnap(component, snapInfo, newCoord, scroll, origin);\n    var fixedCoord = asFixed(newCoord, scroll, origin);\n    set$8(component, snapInfo, fixedCoord);\n    return snap.fold(function () {\n      return {\n        coord: fixed$1(fixedCoord.left(), fixedCoord.top()),\n        extra: Option.none()\n      };\n    }, function (spanned) {\n      return {\n        coord: spanned.output(),\n        extra: spanned.extra()\n      };\n    });\n  };\n\n  var stopDrag = function stopDrag(component, snapInfo) {\n    clear(component, snapInfo);\n  };\n\n  var findSnap = function findSnap(component, snapInfo, newCoord, scroll, origin) {\n    var snaps = snapInfo.getSnapPoints(component);\n    return findMap(snaps, function (snap) {\n      var sensor = snap.sensor();\n      var inRange = withinRange(newCoord, sensor, snap.range().left(), snap.range().top(), scroll, origin);\n      return inRange ? Option.some({\n        output: constant(absorb(snap.output(), newCoord, scroll, origin)),\n        extra: snap.extra\n      }) : Option.none();\n    });\n  };\n\n  var getCurrentCoord = function getCurrentCoord(target) {\n    return getRaw(target, 'left').bind(function (left) {\n      return getRaw(target, 'top').bind(function (top) {\n        return getRaw(target, 'position').map(function (position) {\n          var nu = position === 'fixed' ? fixed$1 : offset;\n          return nu(parseInt(left, 10), parseInt(top, 10));\n        });\n      });\n    }).getOrThunk(function () {\n      var location = absolute(target);\n      return absolute$2(location.left(), location.top());\n    });\n  };\n\n  var clampCoords = function clampCoords(component, coords, scroll, origin, startData) {\n    var bounds = startData.bounds;\n    var absoluteCoord = asAbsolute(coords, scroll, origin);\n    var newX = cap(absoluteCoord.left(), bounds.x(), bounds.width() - startData.width);\n    var newY = cap(absoluteCoord.top(), bounds.y(), bounds.height() - startData.height);\n    var newCoords = absolute$2(newX, newY);\n    return coords.fold(function () {\n      var offset$1 = asOffset(newCoords, scroll, origin);\n      return offset(offset$1.left(), offset$1.top());\n    }, function () {\n      return newCoords;\n    }, function () {\n      var fixed = asFixed(newCoords, scroll, origin);\n      return fixed$1(fixed.left(), fixed.top());\n    });\n  };\n\n  var calcNewCoord = function calcNewCoord(component, optSnaps, currentCoord, scroll, origin, delta, startData) {\n    var newCoord = optSnaps.fold(function () {\n      var translated = translate$1(currentCoord, delta.left(), delta.top());\n      var fixedCoord = asFixed(translated, scroll, origin);\n      return fixed$1(fixedCoord.left(), fixedCoord.top());\n    }, function (snapInfo) {\n      var snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n      snapping.extra.each(function (extra) {\n        snapInfo.onSensor(component, extra);\n      });\n      return snapping.coord;\n    });\n    return clampCoords(component, newCoord, scroll, origin, startData);\n  };\n\n  var dragBy = function dragBy(component, dragConfig, startData, delta) {\n    var target = dragConfig.getTarget(component.element());\n\n    if (dragConfig.repositionTarget) {\n      var doc = owner(component.element());\n      var scroll = get$8(doc);\n      var origin = getOrigin(target, scroll);\n      var currentCoord = getCurrentCoord(target);\n      var newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n      var styles = toStyles(newCoord, scroll, origin);\n      setAll$1(target, styles);\n    }\n\n    dragConfig.onDrag(component, target, delta);\n  };\n\n  var calcStartData = function calcStartData(dragConfig, comp) {\n    return {\n      bounds: dragConfig.getBounds(),\n      height: getOuter$1(comp.element()),\n      width: getOuter$2(comp.element())\n    };\n  };\n\n  var defaultLazyViewport$1 = function defaultLazyViewport$1() {\n    var scroll = get$8();\n    return {\n      x: scroll.left,\n      y: scroll.top,\n      width: constant(domGlobals.window.innerWidth),\n      height: constant(domGlobals.window.innerHeight),\n      bottom: constant(scroll.top() + domGlobals.window.innerHeight),\n      right: constant(scroll.left() + domGlobals.window.innerWidth)\n    };\n  };\n\n  var SnapSchema = optionObjOf('snaps', [strict$1('getSnapPoints'), onHandler('onSensor'), strict$1('leftAttr'), strict$1('topAttr'), defaulted$1('lazyViewport', defaultLazyViewport$1)]);\n\n  var init$b = function init$b(dragApi) {\n    return derive([run(mousedown(), dragApi.forceDrop), run(mouseup(), dragApi.drop), run(mousemove(), function (comp, simulatedEvent) {\n      dragApi.move(simulatedEvent.event());\n    }), run(mouseout(), dragApi.delayDrop)]);\n  };\n\n  var getData$1 = function getData$1(event) {\n    return Option.from(Position(event.x(), event.y()));\n  };\n\n  var getDelta$1 = function getDelta$1(old, nu) {\n    return Position(nu.left() - old.left(), nu.top() - old.top());\n  };\n\n  var MouseData =\n  /*#__PURE__*/\n  Object.freeze({\n    getData: getData$1,\n    getDelta: getDelta$1\n  });\n\n  var handlers = function handlers(dragConfig, dragState) {\n    var updateStartState = function updateStartState(comp) {\n      dragState.setStartData(calcStartData(dragConfig, comp));\n    };\n\n    return derive([run(windowScroll(), updateStartState), run(mousedown(), function (component, simulatedEvent) {\n      var raw = simulatedEvent.event().raw();\n\n      if (raw.button !== 0) {\n        return;\n      }\n\n      simulatedEvent.stop();\n      var dragApi = {\n        drop: function drop() {\n          stop();\n        },\n        delayDrop: function delayDrop() {\n          _delayDrop.schedule();\n        },\n        forceDrop: function forceDrop() {\n          stop();\n        },\n        move: function move(event) {\n          _delayDrop.cancel();\n\n          var delta = dragState.update(MouseData, event);\n          var dragStartData = dragState.getStartData().getOrThunk(function () {\n            return calcStartData(dragConfig, component);\n          });\n          delta.each(function (dlt) {\n            dragBy(component, dragConfig, dragStartData, dlt);\n          });\n        }\n      };\n      var blocker = component.getSystem().build(Container.sketch({\n        dom: {\n          styles: {\n            'left': '0px',\n            'top': '0px',\n            'width': '100%',\n            'height': '100%',\n            'position': 'fixed',\n            'z-index': '1000000000000000'\n          },\n          classes: [dragConfig.blockerClass]\n        },\n        events: init$b(dragApi)\n      }));\n\n      var stop = function stop() {\n        discard(blocker);\n        dragConfig.snaps.each(function (snapInfo) {\n          stopDrag(component, snapInfo);\n        });\n        var target = dragConfig.getTarget(component.element());\n        dragState.reset();\n        dragConfig.onDrop(component, target);\n      };\n\n      var _delayDrop = DelayedFunction(stop, 200);\n\n      var start = function start() {\n        updateStartState(component);\n        instigate(component, blocker);\n      };\n\n      start();\n    })]);\n  };\n\n  var schema$r = [defaulted$1('useFixed', false), strict$1('blockerClass'), defaulted$1('getTarget', identity), defaulted$1('onDrag', noop), defaulted$1('repositionTarget', true), onHandler('onDrop'), defaultedFunction('getBounds', win), SnapSchema, output('dragger', {\n    handlers: handlers\n  })];\n\n  var getDataFrom = function getDataFrom(touches) {\n    var touch = touches[0];\n    return Option.some(Position(touch.clientX, touch.clientY));\n  };\n\n  var getData$2 = function getData$2(event) {\n    var raw = event.raw();\n    var touches = raw.touches;\n    return touches.length === 1 ? getDataFrom(touches) : Option.none();\n  };\n\n  var getDelta$2 = function getDelta$2(old, nu) {\n    return Position(nu.left() - old.left(), nu.top() - old.top());\n  };\n\n  var TouchData =\n  /*#__PURE__*/\n  Object.freeze({\n    getData: getData$2,\n    getDelta: getDelta$2\n  });\n\n  var handlers$1 = function handlers$1(dragConfig, dragState) {\n    var updateStartState = function updateStartState(comp) {\n      dragState.setStartData(calcStartData(dragConfig, comp));\n    };\n\n    return derive([run(windowScroll(), updateStartState), run(touchstart(), function (component, simulatedEvent) {\n      updateStartState(component);\n      simulatedEvent.stop();\n    }), run(touchmove(), function (component, simulatedEvent) {\n      simulatedEvent.stop();\n      var delta = dragState.update(TouchData, simulatedEvent.event());\n      var dragStartData = dragState.getStartData().getOrThunk(function () {\n        return calcStartData(dragConfig, component);\n      });\n      delta.each(function (dlt) {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    }), run(touchend(), function (component, simulatedEvent) {\n      dragConfig.snaps.each(function (snapInfo) {\n        stopDrag(component, snapInfo);\n      });\n      var target = dragConfig.getTarget(component.element());\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    })]);\n  };\n\n  var schema$s = [defaulted$1('useFixed', false), defaulted$1('getTarget', identity), defaulted$1('onDrag', noop), defaulted$1('repositionTarget', true), defaulted$1('onDrop', noop), defaultedFunction('getBounds', win), SnapSchema, output('dragger', {\n    handlers: handlers$1\n  })];\n  var mouse = schema$r;\n  var touch = schema$s;\n  var DraggingBranches =\n  /*#__PURE__*/\n  Object.freeze({\n    mouse: mouse,\n    touch: touch\n  });\n\n  var init$c = function init$c() {\n    var previous = Option.none();\n    var startData = Option.none();\n\n    var reset = function reset() {\n      previous = Option.none();\n      startData = Option.none();\n    };\n\n    var calculateDelta = function calculateDelta(mode, nu) {\n      var result = previous.map(function (old) {\n        return mode.getDelta(old, nu);\n      });\n      previous = Option.some(nu);\n      return result;\n    };\n\n    var update = function update(mode, dragEvent) {\n      return mode.getData(dragEvent).bind(function (nuData) {\n        return calculateDelta(mode, nuData);\n      });\n    };\n\n    var setStartData = function setStartData(data) {\n      startData = Option.some(data);\n    };\n\n    var getStartData = function getStartData() {\n      return startData;\n    };\n\n    var readState = constant({});\n    return nu$5({\n      readState: readState,\n      reset: reset,\n      update: update,\n      getStartData: getStartData,\n      setStartData: setStartData\n    });\n  };\n\n  var DragState =\n  /*#__PURE__*/\n  Object.freeze({\n    init: init$c\n  });\n  var Dragging = createModes$1({\n    branchKey: 'mode',\n    branches: DraggingBranches,\n    name: 'dragging',\n    active: {\n      events: function events(dragConfig, dragState) {\n        var dragger = dragConfig.dragger;\n        return dragger.handlers(dragConfig, dragState);\n      }\n    },\n    extra: {\n      snap: MixedBag(['sensor', 'range', 'output'], ['extra'])\n    },\n    state: DragState\n  });\n  var ResizeTypes;\n\n  (function (ResizeTypes) {\n    ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n    ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n    ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n  })(ResizeTypes || (ResizeTypes = {}));\n\n  var calcCappedSize = function calcCappedSize(originalSize, delta, minSize, maxSize) {\n    var newSize = originalSize + delta;\n    var minOverride = minSize.filter(function (min) {\n      return newSize < min;\n    });\n    var maxOverride = maxSize.filter(function (max) {\n      return newSize > max;\n    });\n    return minOverride.or(maxOverride).getOr(newSize);\n  };\n\n  var getDimensions = function getDimensions(editor, deltas, resizeType, originalHeight, originalWidth) {\n    var dimensions = {};\n    dimensions.height = calcCappedSize(originalHeight, deltas.top(), getMinHeightSetting(editor), getMaxHeightSetting(editor));\n\n    if (resizeType === ResizeTypes.Both) {\n      dimensions.width = calcCappedSize(originalWidth, deltas.left(), getMinWidthSetting(editor), getMaxWidthSetting(editor));\n    }\n\n    return dimensions;\n  };\n\n  var resize$3 = function resize$3(editor, deltas, resizeType) {\n    var container = Element.fromDom(editor.getContainer());\n    var dimensions = getDimensions(editor, deltas, resizeType, get$6(container), get$7(container));\n    each$1(dimensions, function (val, dim) {\n      return set$2(container, dim, Utils.numToPx(val));\n    });\n    Events.fireResizeEditor(editor);\n  };\n\n  var isHidden$1 = function isHidden$1(elm) {\n    if (elm.nodeType === 1) {\n      if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n        return true;\n      }\n\n      if (elm.getAttribute('data-mce-type') === 'bookmark') {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var renderElementPath = function renderElementPath(editor, settings) {\n    if (!settings.delimiter) {\n      settings.delimiter = '\\xBB';\n    }\n\n    var getDataPath = function getDataPath(data) {\n      var parts = data || [];\n      var newPathElements = map(parts, function (part, index) {\n        return Button.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__path-item'],\n            attributes: {\n              'role': 'button',\n              'data-index': index,\n              'tab-index': -1,\n              'aria-level': index + 1\n            },\n            innerHtml: part.name\n          },\n          action: function action(btn) {\n            editor.focus();\n            editor.selection.select(part.element);\n            editor.nodeChanged();\n          }\n        });\n      });\n      var divider = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: {\n            'aria-hidden': true\n          },\n          innerHtml: ' ' + settings.delimiter + ' '\n        }\n      };\n      return foldl(newPathElements.slice(1), function (acc, element) {\n        var newAcc = acc;\n        newAcc.push(divider);\n        newAcc.push(element);\n        return newAcc;\n      }, [newPathElements[0]]);\n    };\n\n    var updatePath = function updatePath(parents) {\n      var newPath = [];\n      var i = parents.length;\n\n      while (i-- > 0) {\n        var parent = parents[i];\n\n        if (parent.nodeType === 1 && !isHidden$1(parent)) {\n          var args = editor.fire('ResolveName', {\n            name: parent.nodeName.toLowerCase(),\n            target: parent\n          });\n\n          if (!args.isDefaultPrevented()) {\n            newPath.push({\n              name: args.name,\n              element: parent\n            });\n          }\n\n          if (args.isPropagationStopped()) {\n            break;\n          }\n        }\n      }\n\n      return newPath;\n    };\n\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-statusbar__path'],\n        attributes: {\n          role: 'navigation'\n        }\n      },\n      behaviours: derive$1([Keying.config({\n        mode: 'flow',\n        selector: 'div[role=button]'\n      }), Tabstopping.config({}), Replacing.config({}), config('elementPathEvents', [runOnAttached(function (comp, e) {\n        editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', function () {\n          return Keying.focusIn(comp);\n        });\n        editor.on('NodeChange', function (e) {\n          var newPath = updatePath(e.parents);\n\n          if (newPath.length > 0) {\n            Replacing.set(comp, getDataPath(newPath));\n          }\n        });\n      })])]),\n      components: []\n    };\n  };\n\n  var ElementPath = {\n    renderElementPath: renderElementPath\n  };\n\n  var renderWordCount = function renderWordCount(editor, providersBackstage) {\n    var _a;\n\n    var replaceCountText = function replaceCountText(comp, count, mode) {\n      return Replacing.set(comp, [text(providersBackstage.translate(['{0} ' + mode, count[mode]]))]);\n    };\n\n    return Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: ['tox-statusbar__wordcount']\n      },\n      components: [],\n      buttonBehaviours: derive$1([Tabstopping.config({}), Replacing.config({}), Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: {\n            mode: 'words',\n            count: {\n              words: 0,\n              characters: 0\n            }\n          }\n        }\n      }), config('wordcount-events', [run(tapOrClick(), function (comp) {\n        var currentVal = Representing.getValue(comp);\n        var newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n        Representing.setValue(comp, {\n          mode: newMode,\n          count: currentVal.count\n        });\n        replaceCountText(comp, currentVal.count, newMode);\n      }), runOnAttached(function (comp) {\n        editor.on('wordCountUpdate', function (e) {\n          var mode = Representing.getValue(comp).mode;\n          Representing.setValue(comp, {\n            mode: mode,\n            count: e.wordCount\n          });\n          replaceCountText(comp, e.wordCount, mode);\n        });\n      })])]),\n      eventOrder: (_a = {}, _a[tapOrClick()] = ['wordcount-events', 'alloy.base.behaviour'], _a)\n    });\n  };\n\n  var renderStatusbar = function renderStatusbar(editor, providersBackstage) {\n    var renderResizeHandlerIcon = function renderResizeHandlerIcon(resizeType) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__resize-handle'],\n          attributes: {\n            title: providersBackstage.translate('Resize')\n          },\n          innerHtml: get$c('resize-handle', providersBackstage.icons)\n        },\n        behaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          repositionTarget: false,\n          onDrag: function onDrag(comp, target, delta) {\n            resize$3(editor, delta, resizeType);\n          },\n          blockerClass: 'tox-blocker'\n        })])\n      };\n    };\n\n    var renderBranding = function renderBranding() {\n      var label = global$5.translate(['Powered by {0}', 'Tiny']);\n      var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\" aria-label=\"' + label + '\">' + label + '</a>';\n      return {\n        dom: {\n          tag: 'span',\n          classes: ['tox-statusbar__branding'],\n          innerHtml: linkHtml\n        }\n      };\n    };\n\n    var getResizeType = function getResizeType(editor) {\n      var fallback = !contains$1(editor.settings.plugins, 'autoresize');\n      var resize = editor.getParam('resize', fallback);\n\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n\n    var getTextComponents = function getTextComponents() {\n      var components = [];\n\n      if (editor.getParam('elementpath', true, 'boolean')) {\n        components.push(ElementPath.renderElementPath(editor, {}));\n      }\n\n      if (contains$1(editor.settings.plugins, 'wordcount')) {\n        components.push(renderWordCount(editor, providersBackstage));\n      }\n\n      if (editor.getParam('branding', true, 'boolean')) {\n        components.push(renderBranding());\n      }\n\n      if (components.length > 0) {\n        return [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__text-container']\n          },\n          components: components\n        }];\n      }\n\n      return [];\n    };\n\n    var getComponents = function getComponents() {\n      var components = getTextComponents();\n      var resizeType = getResizeType(editor);\n\n      if (resizeType !== ResizeTypes.None) {\n        components.push(renderResizeHandlerIcon(resizeType));\n      }\n\n      return components;\n    };\n\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-statusbar']\n      },\n      components: getComponents()\n    };\n  };\n\n  var setup$8 = function setup$8(editor) {\n    var isInline = editor.getParam('inline', false, 'boolean');\n    var mode = isInline ? Inline : Iframe;\n    var lazyOuterContainer = Option.none();\n    var platform = PlatformDetection$1.detect();\n    var isIE = platform.browser.isIE();\n    var platformClasses = isIE ? ['tox-platform-ie'] : [];\n    var dirAttributes = global$5.isRtl() ? {\n      attributes: {\n        dir: 'rtl'\n      }\n    } : {};\n    var sink = build$1({\n      dom: _assign({\n        tag: 'div',\n        classes: ['tox', 'tox-silver-sink', 'tox-tinymce-aux'].concat(platformClasses)\n      }, dirAttributes),\n      behaviours: derive$1([Positioning.config({\n        useFixed: false\n      })])\n    });\n    var memAnchorBar = record({\n      dom: {\n        tag: 'div',\n        classes: ['tox-anchorbar']\n      }\n    });\n\n    var lazyAnchorBar = function lazyAnchorBar() {\n      return lazyOuterContainer.bind(function (container) {\n        return memAnchorBar.getOpt(container);\n      }).getOrDie('Could not find a anchor bar element');\n    };\n\n    var lazyMoreButton = function lazyMoreButton() {\n      return lazyOuterContainer.bind(function (container) {\n        return OuterContainer.getMoreButton(container);\n      }).getOrDie('Could not find more button element');\n    };\n\n    var lazyToolbar = function lazyToolbar() {\n      return lazyOuterContainer.bind(function (container) {\n        return OuterContainer.getToolbar(container);\n      }).getOrDie('Could not find more toolbar element');\n    };\n\n    var lazyThrobber = function lazyThrobber() {\n      return lazyOuterContainer.bind(function (container) {\n        return OuterContainer.getThrobber(container);\n      }).getOrDie('Could not find throbber element');\n    };\n\n    var backstage = init$8(sink, editor, lazyAnchorBar, lazyMoreButton);\n\n    var lazySink = function lazySink() {\n      return Result.value(sink);\n    };\n\n    var partMenubar = OuterContainer.parts().menubar({\n      dom: {\n        tag: 'div',\n        classes: ['tox-menubar']\n      },\n      backstage: backstage,\n      onEscape: function onEscape() {\n        editor.focus();\n      }\n    });\n\n    var toolbarDrawer = function toolbarDrawer(editor) {\n      return getToolbarDrawer(editor);\n    };\n\n    var partToolbar = OuterContainer.parts().toolbar({\n      dom: {\n        tag: 'div',\n        classes: ['tox-toolbar']\n      },\n      getSink: lazySink,\n      backstage: backstage,\n      onEscape: function onEscape() {\n        editor.focus();\n      },\n      split: toolbarDrawer(editor),\n      lazyToolbar: lazyToolbar,\n      lazyMoreButton: lazyMoreButton\n    });\n    var partMultipleToolbar = OuterContainer.parts()['multiple-toolbar']({\n      dom: {\n        tag: 'div',\n        classes: ['tox-toolbar-overlord']\n      },\n      onEscape: function onEscape() {}\n    });\n    var partSocket = OuterContainer.parts().socket({\n      dom: {\n        tag: 'div',\n        classes: ['tox-edit-area']\n      }\n    });\n    var partSidebar = OuterContainer.parts().sidebar({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar']\n      }\n    });\n    var partThrobber = OuterContainer.parts().throbber({\n      dom: {\n        tag: 'div',\n        classes: ['tox-throbber']\n      },\n      backstage: backstage\n    });\n    var statusbar = editor.getParam('statusbar', true, 'boolean') && !isInline ? Option.some(renderStatusbar(editor, backstage.shared.providers)) : Option.none();\n    var socketSidebarContainer = {\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar-wrap']\n      },\n      components: [partSocket, partSidebar]\n    };\n    var hasMultipleToolbar = isMultipleToolbars(editor);\n    var hasToolbar = isToolbarEnabled(editor);\n    var hasMenubar = isMenubarEnabled(editor);\n    var hasToolbarDrawer = toolbarDrawer(editor) !== ToolbarDrawer.default;\n\n    var getPartToolbar = function getPartToolbar() {\n      if (hasMultipleToolbar) {\n        if (hasToolbarDrawer) {\n          domGlobals.console.warn('Toolbar drawer cannot be applied when multiple toolbars are active');\n        }\n\n        return [partMultipleToolbar];\n      } else if (hasToolbar) {\n        return [partToolbar];\n      } else {\n        return [];\n      }\n    };\n\n    var editorComponents = flatten([hasMenubar ? [partMenubar] : [], getPartToolbar(), useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()], isInline ? [] : [socketSidebarContainer]]);\n    var editorContainer = {\n      dom: {\n        tag: 'div',\n        classes: ['tox-editor-container']\n      },\n      components: editorComponents\n    };\n    var containerComponents = flatten([[editorContainer], isInline ? [] : statusbar.toArray(), [partThrobber]]);\n    var isHidden = isInline && !hasMenubar && !hasToolbar && !hasMultipleToolbar;\n\n    var attributes = _assign({\n      role: 'application'\n    }, global$5.isRtl() ? {\n      dir: 'rtl'\n    } : {}, isHidden ? {\n      'aria-hidden': 'true'\n    } : {});\n\n    var outerContainer = build$1(OuterContainer.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox', 'tox-tinymce'].concat(isInline ? ['tox-tinymce-inline'] : []).concat(platformClasses),\n        styles: _assign({\n          visibility: 'hidden'\n        }, isHidden ? {\n          opacity: '0',\n          border: '0'\n        } : {}),\n        attributes: attributes\n      },\n      components: containerComponents,\n      behaviours: derive$1(mode.getBehaviours(editor).concat([Keying.config({\n        mode: 'cyclic',\n        selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a'\n      })]))\n    }));\n    lazyOuterContainer = Option.some(outerContainer);\n    editor.shortcuts.add('alt+F9', 'focus menubar', function () {\n      OuterContainer.focusMenubar(outerContainer);\n    });\n    editor.shortcuts.add('alt+F10', 'focus toolbar', function () {\n      OuterContainer.focusToolbar(outerContainer);\n    });\n    var mothership = takeover(outerContainer);\n    var uiMothership = takeover(sink);\n    Events$1.setup(editor, mothership, uiMothership);\n\n    var getUi = function getUi() {\n      var channels = {\n        broadcastAll: uiMothership.broadcast,\n        broadcastOn: uiMothership.broadcastOn,\n        register: function register() {}\n      };\n      return {\n        channels: channels\n      };\n    };\n\n    var setEditorSize = function setEditorSize(elm) {\n      var DOM = global$7.DOM;\n      var baseWidth = editor.getParam('width', DOM.getStyle(elm, 'width'));\n      var baseHeight = getHeightSetting(editor);\n      var minWidth = getMinWidthSetting(editor);\n      var minHeight = getMinHeightSetting(editor);\n      var parsedWidth = Utils.parseToInt(baseWidth).bind(function (w) {\n        return Utils.numToPx(minWidth.map(function (mw) {\n          return Math.max(w, mw);\n        }));\n      }).getOr(Utils.numToPx(baseWidth));\n      var parsedHeight = Utils.parseToInt(baseHeight).bind(function (h) {\n        return minHeight.map(function (mh) {\n          return Math.max(h, mh);\n        });\n      }).getOr(baseHeight);\n      var stringWidth = Utils.numToPx(parsedWidth);\n\n      if (isValidValue('div', 'width', stringWidth)) {\n        set$2(outerContainer.element(), 'width', stringWidth);\n      }\n\n      if (!editor.inline) {\n        var stringHeight = Utils.numToPx(parsedHeight);\n\n        if (isValidValue('div', 'height', stringHeight)) {\n          set$2(outerContainer.element(), 'height', stringHeight);\n        } else {\n          set$2(outerContainer.element(), 'height', '200px');\n        }\n      }\n\n      return parsedHeight;\n    };\n\n    var renderUI = function renderUI() {\n      FormatControls.setup(editor, backstage);\n      setup$7(editor, lazySink, backstage);\n      setup$4(editor);\n      setup$5(editor, lazyThrobber, backstage.shared);\n\n      var _a = editor.ui.registry.getAll(),\n          buttons = _a.buttons,\n          menuItems = _a.menuItems,\n          contextToolbars = _a.contextToolbars,\n          sidebars = _a.sidebars;\n\n      var toolbarOpt = getMultipleToolbarsSetting(editor);\n      var rawUiConfig = {\n        menuItems: menuItems,\n        menus: !editor.settings.menu ? {} : map$1(editor.settings.menu, function (menu) {\n          return merge(menu, {\n            items: menu.items\n          });\n        }),\n        menubar: editor.settings.menubar,\n        toolbar: toolbarOpt.getOrThunk(function () {\n          return editor.getParam('toolbar', true);\n        }),\n        buttons: buttons,\n        sidebar: sidebars\n      };\n      ContextToolbar.register(editor, contextToolbars, sink, {\n        backstage: backstage\n      });\n      var elm = editor.getElement();\n      var height = setEditorSize(elm);\n      var uiComponents = {\n        mothership: mothership,\n        uiMothership: uiMothership,\n        outerContainer: outerContainer\n      };\n      var args = {\n        targetNode: elm,\n        height: height\n      };\n      return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n    };\n\n    return {\n      mothership: mothership,\n      uiMothership: uiMothership,\n      backstage: backstage,\n      renderUI: renderUI,\n      getUi: getUi\n    };\n  };\n\n  var Render = {\n    setup: setup$8\n  };\n\n  var describedBy = function describedBy(describedElement, describeElement) {\n    var describeId = Option.from(get$2(describedElement, 'id')).fold(function () {\n      var id = generate$1('dialog-describe');\n      set$1(describeElement, 'id', id);\n      return id;\n    }, identity);\n    set$1(describedElement, 'aria-describedby', describeId);\n  };\n\n  var AriaLabel = {\n    labelledBy: function labelledBy(labelledElement, labelElement) {\n      var labelId = Option.from(get$2(labelledElement, 'id')).fold(function () {\n        var id = generate$1('dialog-label');\n        set$1(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$1(labelledElement, 'aria-labelledby', labelId);\n    }\n  };\n  var schema$t = constant([strict$1('lazySink'), option('dragBlockClass'), defaultedFunction('getBounds', win), defaulted$1('useTabstopAt', constant(true)), defaulted$1('eventOrder', {}), field$1('modalBehaviours', [Keying]), onKeyboardHandler('onExecute'), onStrictKeyboardHandler('onEscape')]);\n  var basic = {\n    sketch: identity\n  };\n  var parts$e = constant([optional({\n    name: 'draghandle',\n    overrides: function overrides(detail, spec) {\n      return {\n        behaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          getTarget: function getTarget(handle) {\n            return ancestor$1(handle, '[role=\"dialog\"]').getOr(handle);\n          },\n          blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n          getBounds: detail.getDragBounds\n        })])\n      };\n    }\n  }), required({\n    schema: [strict$1('dom')],\n    name: 'title'\n  }), required({\n    factory: basic,\n    schema: [strict$1('dom')],\n    name: 'close'\n  }), required({\n    factory: basic,\n    schema: [strict$1('dom')],\n    name: 'body'\n  }), optional({\n    factory: basic,\n    schema: [strict$1('dom')],\n    name: 'footer'\n  }), external$1({\n    factory: {\n      sketch: function sketch(spec, detail) {\n        return _assign({}, spec, {\n          dom: detail.dom,\n          components: detail.components\n        });\n      }\n    },\n    schema: [defaulted$1('dom', {\n      tag: 'div',\n      styles: {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        right: '0px',\n        bottom: '0px'\n      }\n    }), defaulted$1('components', [])],\n    name: 'blocker'\n  })]);\n\n  var factory$h = function factory$h(detail, components, spec, externals) {\n    var dialogBusyEvent = generate$1('alloy.dialog.busy');\n    var dialogIdleEvent = generate$1('alloy.dialog.idle');\n    var busyBehaviours = derive$1([Keying.config({\n      mode: 'special',\n      onTab: function onTab() {\n        return Option.some(true);\n      },\n      onShiftTab: function onShiftTab() {\n        return Option.some(true);\n      }\n    }), Focusing.config({})]);\n\n    var showDialog = function showDialog(dialog) {\n      var sink = detail.lazySink(dialog).getOrDie();\n      var busyComp = Cell(Option.none());\n      var externalBlocker = externals.blocker();\n      var blocker = sink.getSystem().build(_assign({}, externalBlocker, {\n        components: externalBlocker.components.concat([premade$1(dialog)]),\n        behaviours: derive$1([config('dialog-blocker-events', [run(dialogIdleEvent, function (blocker, se) {\n          if (has$1(dialog.element(), 'aria-busy')) {\n            remove$1(dialog.element(), 'aria-busy');\n            busyComp.get().each(function (bc) {\n              return Replacing.remove(dialog, bc);\n            });\n          }\n        }), run(dialogBusyEvent, function (blocker, se) {\n          set$1(dialog.element(), 'aria-busy', 'true');\n          var getBusySpec = se.event().getBusySpec();\n          busyComp.get().each(function (bc) {\n            Replacing.remove(dialog, bc);\n          });\n          var busySpec = getBusySpec(dialog, busyBehaviours);\n          var busy = blocker.getSystem().build(busySpec);\n          busyComp.set(Option.some(busy));\n          Replacing.append(dialog, premade$1(busy));\n\n          if (busy.hasConfigured(Keying)) {\n            Keying.focusIn(busy);\n          }\n        })])])\n      }));\n      attach(sink, blocker);\n      Keying.focusIn(dialog);\n    };\n\n    var hideDialog = function hideDialog(dialog) {\n      parent(dialog.element()).each(function (blockerDom) {\n        dialog.getSystem().getByDom(blockerDom).each(function (blocker) {\n          detach(blocker);\n        });\n      });\n    };\n\n    var getDialogBody = function getDialogBody(dialog) {\n      return getPartOrDie(dialog, detail, 'body');\n    };\n\n    var getDialogFooter = function getDialogFooter(dialog) {\n      return getPartOrDie(dialog, detail, 'footer');\n    };\n\n    var setBusy = function setBusy(dialog, getBusySpec) {\n      emitWith(dialog, dialogBusyEvent, {\n        getBusySpec: getBusySpec\n      });\n    };\n\n    var setIdle = function setIdle(dialog) {\n      emit(dialog, dialogIdleEvent);\n    };\n\n    var modalEventsId = generate$1('modal-events');\n\n    var eventOrder = _assign({}, detail.eventOrder, {\n      'alloy.system.attached': [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n    });\n\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      apis: {\n        show: showDialog,\n        hide: hideDialog,\n        getBody: getDialogBody,\n        getFooter: getDialogFooter,\n        setIdle: setIdle,\n        setBusy: setBusy\n      },\n      eventOrder: eventOrder,\n      domModification: {\n        attributes: {\n          'role': 'dialog',\n          'aria-modal': 'true'\n        }\n      },\n      behaviours: augment(detail.modalBehaviours, [Replacing.config({}), Keying.config({\n        mode: 'cyclic',\n        onEnter: detail.onExecute,\n        onEscape: detail.onEscape,\n        useTabstopAt: detail.useTabstopAt\n      }), config(modalEventsId, [runOnAttached(function (c) {\n        AriaLabel.labelledBy(c.element(), getPartOrDie(c, detail, 'title').element());\n        describedBy(c.element(), getPartOrDie(c, detail, 'body').element());\n      })])])\n    };\n  };\n\n  var ModalDialog = composite$1({\n    name: 'ModalDialog',\n    configFields: schema$t(),\n    partFields: parts$e(),\n    factory: factory$h,\n    apis: {\n      show: function show(apis, dialog) {\n        apis.show(dialog);\n      },\n      hide: function hide(apis, dialog) {\n        apis.hide(dialog);\n      },\n      getBody: function getBody(apis, dialog) {\n        return apis.getBody(dialog);\n      },\n      getFooter: function getFooter(apis, dialog) {\n        return apis.getFooter(dialog);\n      },\n      setBusy: function setBusy(apis, dialog, getBusySpec) {\n        apis.setBusy(dialog, getBusySpec);\n      },\n      setIdle: function setIdle(apis, dialog) {\n        apis.setIdle(dialog);\n      }\n    }\n  });\n  var alertBannerFields = [strictString('type'), strictString('text'), strictStringEnum('level', ['info', 'warn', 'error', 'success']), strictString('icon'), defaulted$1('url', '')];\n  var alertBannerSchema = objOf(alertBannerFields);\n\n  var createBarFields = function createBarFields(itemsField) {\n    return [strictString('type'), itemsField];\n  };\n\n  var buttonFields = [strictString('type'), strictString('text'), defaultedBoolean('disabled', false), defaultedBoolean('primary', false), field('name', 'name', defaultedThunk(function () {\n    return generate$1('button-name');\n  }), string), optionString('icon'), defaultedBoolean('borderless', false)];\n  var buttonSchema = objOf(buttonFields);\n  var checkboxFields = [strictString('type'), strictString('name'), strictString('label'), defaultedBoolean('disabled', false)];\n  var checkboxSchema = objOf(checkboxFields);\n  var checkboxDataProcessor = _boolean;\n  var formComponentFields = [strictString('type'), strictString('name')];\n  var formComponentWithLabelFields = formComponentFields.concat([optionString('label')]);\n  var colorInputFields = formComponentWithLabelFields;\n  var colorInputSchema = objOf(colorInputFields);\n  var colorInputDataProcessor = string;\n  var colorPickerFields = formComponentWithLabelFields;\n  var colorPickerSchema = objOf(colorPickerFields);\n  var colorPickerDataProcessor = string;\n  var dropZoneFields = formComponentWithLabelFields;\n  var dropZoneSchema = objOf(dropZoneFields);\n  var dropZoneDataProcessor = arrOfVal();\n\n  var createGridFields = function createGridFields(itemsField) {\n    return [strictString('type'), strictNumber('columns'), itemsField];\n  };\n\n  var iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n  var iframeSchema = objOf(iframeFields);\n  var iframeDataProcessor = string;\n  var inputFields = formComponentWithLabelFields.concat([optionString('placeholder'), defaultedBoolean('maximized', false), defaultedBoolean('disabled', false)]);\n  var inputSchema = objOf(inputFields);\n  var inputDataProcessor = string;\n  var selectBoxFields = formComponentWithLabelFields.concat([strictArrayOfObj('items', [strictString('text'), strictString('value')]), defaultedNumber('size', 1), defaultedBoolean('disabled', false)]);\n  var selectBoxSchema = objOf(selectBoxFields);\n  var selectBoxDataProcessor = string;\n  var sizeInputFields = formComponentWithLabelFields.concat([defaultedBoolean('constrain', true), defaultedBoolean('disabled', false)]);\n  var sizeInputSchema = objOf(sizeInputFields);\n  var sizeInputDataProcessor = objOf([strictString('width'), strictString('height')]);\n  var textAreaFields = formComponentWithLabelFields.concat([optionString('placeholder'), defaultedBoolean('maximized', false), defaultedBoolean('disabled', false)]);\n  var textAreaSchema = objOf(textAreaFields);\n  var textAreaDataProcessor = string;\n  var urlInputFields = formComponentWithLabelFields.concat([defaultedStringEnum('filetype', 'file', ['image', 'media', 'file']), defaulted$1('disabled', false)]);\n  var urlInputSchema = objOf(urlInputFields);\n  var urlInputDataProcessor = objOf([strictString('value'), defaulted$1('meta', {})]);\n  var customEditorFields = formComponentFields.concat([defaultedString('tag', 'textarea'), strictString('scriptId'), strictString('scriptUrl'), defaultedPostMsg('settings', undefined)]);\n  var customEditorFieldsOld = formComponentFields.concat([defaultedString('tag', 'textarea'), strictFunction('init')]);\n  var customEditorSchema = valueOf(function (v) {\n    return asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(function () {\n      return asRaw('customeditor.new', objOfOnly(customEditorFields), v);\n    });\n  });\n  var customEditorDataProcessor = string;\n  var htmlPanelFields = [strictString('type'), strictString('html'), defaultedStringEnum('presets', 'presentation', ['presentation', 'document'])];\n  var htmlPanelSchema = objOf(htmlPanelFields);\n  var imageToolsFields = formComponentWithLabelFields.concat([strictOf('currentState', objOf([strict$1('blob'), strictString('url')]))]);\n  var imageToolsSchema = objOf(imageToolsFields);\n  var collectionFields = formComponentWithLabelFields.concat([defaulted$1('columns', 'auto')]);\n  var collectionSchema = objOf(collectionFields);\n  var collectionDataProcessor = arrOfObj$1([strictString('value'), strictString('text'), strictString('icon')]);\n\n  var createLabelFields = function createLabelFields(itemsField) {\n    return [strictString('type'), strictString('label'), itemsField];\n  };\n\n  var tableFields = [strictString('type'), strictArrayOf('header', string), strictArrayOf('cells', arrOf(string))];\n  var tableSchema = objOf(tableFields);\n\n  var createItemsField = function createItemsField(name) {\n    return field('items', 'items', strict(), arrOf(valueOf(function (v) {\n      return asRaw('Checking item of ' + name, itemSchema$2, v).fold(function (sErr) {\n        return Result.error(formatError(sErr));\n      }, function (passValue) {\n        return Result.value(passValue);\n      });\n    })));\n  };\n\n  var itemSchema$2 = valueThunkOf(function () {\n    return chooseProcessor('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagetools: imageToolsSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      panel: panelSchema\n    });\n  });\n  var panelFields = [strictString('type'), defaulted$1('classes', []), strictArrayOf('items', itemSchema$2)];\n  var panelSchema = objOf(panelFields);\n  var tabFields = [field('name', 'name', defaultedThunk(function () {\n    return generate$1('tab-name');\n  }), string), strictString('title'), strictArrayOf('items', itemSchema$2)];\n  var tabPanelFields = [strictString('type'), strictArrayOfObj('tabs', tabFields)];\n  var tabPanelSchema = objOf(tabPanelFields);\n  var baseButtonFields = [field('name', 'name', defaultedThunk(function () {\n    return generate$1('button-name');\n  }), string), optionString('icon'), defaultedStringEnum('align', 'end', ['start', 'end']), defaultedBoolean('primary', false), defaultedBoolean('disabled', false)];\n  var dialogButtonFields = baseButtonFields.concat([strictString('text')]);\n  var normalButtonFields = [strictStringEnum('type', ['submit', 'cancel', 'custom'])].concat(dialogButtonFields);\n  var menuButtonFields = [strictStringEnum('type', ['menu'])].concat(baseButtonFields, baseMenuButtonFields);\n  var dialogButtonSchema = choose$1('type', {\n    submit: normalButtonFields,\n    cancel: normalButtonFields,\n    custom: normalButtonFields,\n    menu: menuButtonFields\n  });\n  var dialogSchema = objOf([strictString('title'), strictOf('body', chooseProcessor('type', {\n    panel: panelSchema,\n    tabpanel: tabPanelSchema\n  })), defaultedString('size', 'normal'), strictArrayOf('buttons', dialogButtonSchema), defaulted$1('initialData', {}), defaultedFunction('onAction', noop), defaultedFunction('onChange', noop), defaultedFunction('onSubmit', noop), defaultedFunction('onClose', noop), defaultedFunction('onCancel', noop), defaulted$1('onTabChange', noop)]);\n\n  var createDialog = function createDialog(spec) {\n    return asRaw('dialog', dialogSchema, spec);\n  };\n\n  var getAllObjects = function getAllObjects(obj) {\n    if (isObject(obj)) {\n      return [obj].concat(bind(values(obj), getAllObjects));\n    } else if (isArray(obj)) {\n      return bind(obj, getAllObjects);\n    } else {\n      return [];\n    }\n  };\n\n  var isNamedItem = function isNamedItem(obj) {\n    return isString(obj.type) && isString(obj.name);\n  };\n\n  var dataProcessors = {\n    checkbox: checkboxDataProcessor,\n    colorinput: colorInputDataProcessor,\n    colorpicker: colorPickerDataProcessor,\n    dropzone: dropZoneDataProcessor,\n    input: inputDataProcessor,\n    iframe: iframeDataProcessor,\n    sizeinput: sizeInputDataProcessor,\n    selectbox: selectBoxDataProcessor,\n    size: sizeInputDataProcessor,\n    textarea: textAreaDataProcessor,\n    urlinput: urlInputDataProcessor,\n    customeditor: customEditorDataProcessor,\n    collection: collectionDataProcessor\n  };\n\n  var getDataProcessor = function getDataProcessor(item) {\n    return Option.from(dataProcessors[item.type]);\n  };\n\n  var getNamedItems = function getNamedItems(structure) {\n    return filter(getAllObjects(structure), isNamedItem);\n  };\n\n  var createDataValidator = function createDataValidator(structure) {\n    var fields = bind(getNamedItems(structure), function (item) {\n      return getDataProcessor(item).fold(function () {\n        return [];\n      }, function (schema) {\n        return [strictOf(item.name, schema)];\n      });\n    });\n    return objOf(fields);\n  };\n\n  var urlDialogButtonSchema = objOf([strictStringEnum('type', ['cancel', 'custom'])].concat(dialogButtonFields));\n  var urlDialogSchema = objOf([strictString('title'), strictString('url'), optionNumber('height'), optionNumber('width'), optionArrayOf('buttons', urlDialogButtonSchema), defaultedFunction('onAction', noop), defaultedFunction('onCancel', noop), defaultedFunction('onClose', noop), defaultedFunction('onMessage', noop)]);\n\n  var createUrlDialog = function createUrlDialog(spec) {\n    return asRaw('dialog', urlDialogSchema, spec);\n  };\n\n  var extract$1 = function extract$1(structure) {\n    var internalDialog = getOrDie(createDialog(structure));\n    var dataValidator = createDataValidator(structure);\n    var initialData = structure.initialData;\n    return {\n      internalDialog: internalDialog,\n      dataValidator: dataValidator,\n      initialData: initialData\n    };\n  };\n\n  var DialogManager = {\n    open: function open(factory, structure) {\n      var extraction = extract$1(structure);\n      return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n    },\n    openUrl: function openUrl(factory, structure) {\n      var internalDialog = getOrDie(createUrlDialog(structure));\n      return factory(internalDialog);\n    },\n    redial: function redial(structure) {\n      return extract$1(structure);\n    }\n  };\n\n  var toValidValues = function toValidValues(values) {\n    var errors = [];\n    var result = {};\n    each$1(values, function (value, name) {\n      value.fold(function () {\n        errors.push(name);\n      }, function (v) {\n        result[name] = v;\n      });\n    });\n    return errors.length > 0 ? Result.error(errors) : Result.value(result);\n  };\n\n  var renderBodyPanel = function renderBodyPanel(spec, backstage) {\n    var memForm = record(Form.sketch(function (parts) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map(spec.items, function (item) {\n          return interpretInForm(parts, item, backstage);\n        })\n      };\n    }));\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body-content']\n        },\n        components: [memForm.asSpec()]\n      }],\n      behaviours: derive$1([Keying.config({\n        mode: 'acyclic',\n        useTabstopAt: not(NavigableObject.isPseudoStop)\n      }), ComposingConfigs.memento(memForm), RepresentingConfigs.memento(memForm, {\n        postprocess: function postprocess(formValue) {\n          return toValidValues(formValue).fold(function (err) {\n            domGlobals.console.error(err);\n            return {};\n          }, function (vals) {\n            return vals;\n          });\n        }\n      })])\n    };\n  };\n\n  var factory$i = function factory$i(detail, spec) {\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$7(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [Focusing.config({}), Keying.config({\n        mode: 'execution',\n        useSpace: true,\n        useEnter: true\n      }), Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: detail.value\n        }\n      })]),\n      domModification: detail.domModification\n    };\n  };\n\n  var TabButton = single$2({\n    name: 'TabButton',\n    configFields: [defaulted$1('uid', undefined), strict$1('value'), field('dom', 'dom', mergeWithThunk(function (spec) {\n      return {\n        attributes: {\n          'role': 'tab',\n          'id': generate$1('aria'),\n          'aria-selected': 'false'\n        }\n      };\n    }), anyValue$1()), option('action'), defaulted$1('domModification', {}), field$1('tabButtonBehaviours', [Focusing, Keying, Representing]), strict$1('view')],\n    factory: factory$i\n  });\n  var schema$u = constant([strict$1('tabs'), strict$1('dom'), defaulted$1('clickToDismiss', false), field$1('tabbarBehaviours', [Highlighting, Keying]), markers(['tabClass', 'selectedClass'])]);\n  var tabsPart = group({\n    factory: TabButton,\n    name: 'tabs',\n    unit: 'tab',\n    overrides: function overrides(barDetail, tabSpec) {\n      var dismissTab$1 = function dismissTab$1(tabbar, button) {\n        Highlighting.dehighlight(tabbar, button);\n        emitWith(tabbar, dismissTab(), {\n          tabbar: tabbar,\n          button: button\n        });\n      };\n\n      var changeTab$1 = function changeTab$1(tabbar, button) {\n        Highlighting.highlight(tabbar, button);\n        emitWith(tabbar, changeTab(), {\n          tabbar: tabbar,\n          button: button\n        });\n      };\n\n      return {\n        action: function action(button) {\n          var tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n          var activeButton = Highlighting.isHighlighted(tabbar, button);\n\n          var response = function () {\n            if (activeButton && barDetail.clickToDismiss) {\n              return dismissTab$1;\n            } else if (!activeButton) {\n              return changeTab$1;\n            } else {\n              return noop;\n            }\n          }();\n\n          response(tabbar, button);\n        },\n        domModification: {\n          classes: [barDetail.markers.tabClass]\n        }\n      };\n    }\n  });\n  var parts$f = constant([tabsPart]);\n\n  var factory$j = function factory$j(detail, components, spec, externals) {\n    return {\n      'uid': detail.uid,\n      'dom': detail.dom,\n      'components': components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': {\n        attributes: {\n          role: 'tablist'\n        }\n      },\n      'behaviours': augment(detail.tabbarBehaviours, [Highlighting.config({\n        highlightClass: detail.markers.selectedClass,\n        itemClass: detail.markers.tabClass,\n        onHighlight: function onHighlight(tabbar, tab) {\n          set$1(tab.element(), 'aria-selected', 'true');\n        },\n        onDehighlight: function onDehighlight(tabbar, tab) {\n          set$1(tab.element(), 'aria-selected', 'false');\n        }\n      }), Keying.config({\n        mode: 'flow',\n        getInitial: function getInitial(tabbar) {\n          return Highlighting.getHighlighted(tabbar).map(function (tab) {\n            return tab.element();\n          });\n        },\n        selector: '.' + detail.markers.tabClass,\n        executeOnMove: true\n      })])\n    };\n  };\n\n  var Tabbar = composite$1({\n    name: 'Tabbar',\n    configFields: schema$u(),\n    partFields: parts$f(),\n    factory: factory$j\n  });\n\n  var factory$k = function factory$k(detail, spec) {\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: {\n        attributes: {\n          role: 'tabpanel'\n        }\n      }\n    };\n  };\n\n  var Tabview = single$2({\n    name: 'Tabview',\n    configFields: [field$1('tabviewBehaviours', [Replacing])],\n    factory: factory$k\n  });\n  var schema$v = constant([defaulted$1('selectFirst', true), onHandler('onChangeTab'), onHandler('onDismissTab'), defaulted$1('tabs', []), field$1('tabSectionBehaviours', [])]);\n  var barPart = required({\n    factory: Tabbar,\n    schema: [strict$1('dom'), strictObjOf('markers', [strict$1('tabClass'), strict$1('selectedClass')])],\n    name: 'tabbar',\n    defaults: function defaults(detail) {\n      return {\n        tabs: detail.tabs\n      };\n    }\n  });\n  var viewPart = required({\n    factory: Tabview,\n    name: 'tabview'\n  });\n  var parts$g = constant([barPart, viewPart]);\n\n  var factory$l = function factory$l(detail, components, spec, externals) {\n    var changeTab$1 = function changeTab$1(button) {\n      var tabValue = Representing.getValue(button);\n      getPart(button, detail, 'tabview').each(function (tabview) {\n        var tabWithValue = find(detail.tabs, function (t) {\n          return t.value === tabValue;\n        });\n        tabWithValue.each(function (tabData) {\n          var panel = tabData.view();\n          set$1(tabview.element(), 'aria-labelledby', get$2(button.element(), 'id'));\n          Replacing.set(tabview, panel);\n          detail.onChangeTab(tabview, button, panel);\n        });\n      });\n    };\n\n    var changeTabBy = function changeTabBy(section, byPred) {\n      getPart(section, detail, 'tabbar').each(function (tabbar) {\n        byPred(tabbar).each(emitExecute);\n      });\n    };\n\n    return {\n      uid: detail.uid,\n      dom: detail.dom,\n      components: components,\n      behaviours: get$b(detail.tabSectionBehaviours),\n      events: derive(flatten([detail.selectFirst ? [runOnAttached(function (section, simulatedEvent) {\n        changeTabBy(section, Highlighting.getFirst);\n      })] : [], [run(changeTab(), function (section, simulatedEvent) {\n        var button = simulatedEvent.event().button();\n        changeTab$1(button);\n      }), run(dismissTab(), function (section, simulatedEvent) {\n        var button = simulatedEvent.event().button();\n        detail.onDismissTab(section, button);\n      })]])),\n      apis: {\n        getViewItems: function getViewItems(section) {\n          return getPart(section, detail, 'tabview').map(function (tabview) {\n            return Replacing.contents(tabview);\n          }).getOr([]);\n        },\n        showTab: function showTab(section, tabKey) {\n          var getTabIfNotActive = function getTabIfNotActive(tabbar) {\n            var candidates = Highlighting.getCandidates(tabbar);\n            var optTab = find(candidates, function (c) {\n              return Representing.getValue(c) === tabKey;\n            });\n            return optTab.filter(function (tab) {\n              return !Highlighting.isHighlighted(tabbar, tab);\n            });\n          };\n\n          changeTabBy(section, getTabIfNotActive);\n        }\n      }\n    };\n  };\n\n  var TabSection = composite$1({\n    name: 'TabSection',\n    configFields: schema$v(),\n    partFields: parts$g(),\n    factory: factory$l,\n    apis: {\n      getViewItems: function getViewItems(apis, component) {\n        return apis.getViewItems(component);\n      },\n      showTab: function showTab(apis, component, tabKey) {\n        apis.showTab(component, tabKey);\n      }\n    }\n  });\n\n  var measureHeights = function measureHeights(allTabs, tabview, tabviewComp) {\n    return map(allTabs, function (tab, i) {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      var rect = tabview.dom().getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n  };\n\n  var getMaxHeight = function getMaxHeight(heights) {\n    return head(sort(heights, function (a, b) {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n  };\n\n  var getMaxTabviewHeight = function getMaxTabviewHeight(dialog, dialogBody) {\n    var rootElm = ancestor$1(dialog, '.tox-dialog-wrap').getOr(dialog);\n    var isFixed = get$4(rootElm, 'position') === 'fixed';\n    var maxHeight;\n\n    if (isFixed) {\n      maxHeight = Math.max(domGlobals.document.documentElement.clientHeight, domGlobals.window.innerHeight);\n    } else {\n      maxHeight = Math.max(domGlobals.document.documentElement.offsetHeight, domGlobals.document.documentElement.scrollHeight);\n    }\n\n    var dialogChrome = dialog.dom().getBoundingClientRect().height - dialogBody.dom().getBoundingClientRect().height;\n    return maxHeight - dialogChrome;\n  };\n\n  var showTab = function showTab(allTabs, comp) {\n    head(allTabs).each(function (tab) {\n      return TabSection.showTab(comp, tab.value);\n    });\n  };\n\n  var updateTabviewHeight = function updateTabviewHeight(dialogBody, tabview, maxTabHeight) {\n    ancestor$1(dialogBody, '[role=\"dialog\"]').each(function (dialog) {\n      maxTabHeight.get().map(function (height) {\n        set$2(tabview, 'height', '0');\n        return Math.min(height, getMaxTabviewHeight(dialog, dialogBody));\n      }).each(function (height) {\n        set$2(tabview, 'height', height + 'px');\n      });\n    });\n  };\n\n  var setMode = function setMode(allTabs) {\n    var smartTabHeight = function () {\n      var maxTabHeight = Cell(Option.none());\n      var extraEvents = [runOnAttached(function (comp) {\n        descendant$1(comp.element(), '[role=\"tabpanel\"]').each(function (tabview) {\n          set$2(tabview, 'visibility', 'hidden');\n          comp.getSystem().getByDom(tabview).toOption().each(function (tabviewComp) {\n            var heights = measureHeights(allTabs, tabview, tabviewComp);\n            var maxTabHeightOpt = getMaxHeight(heights);\n            maxTabHeight.set(maxTabHeightOpt);\n          });\n          updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n          remove$6(tabview, 'visibility');\n          showTab(allTabs, comp);\n          global$2.requestAnimationFrame(function () {\n            updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n          });\n        });\n      }), run(windowResize(), function (comp) {\n        descendant$1(comp.element(), '[role=\"tabpanel\"]').each(function (tabview) {\n          updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n        });\n      }), run(formResizeEvent, function (comp, se) {\n        descendant$1(comp.element(), '[role=\"tabpanel\"]').each(function (tabview) {\n          var oldFocus = active();\n          set$2(tabview, 'visibility', 'hidden');\n          var oldHeight = getRaw(tabview, 'height').map(function (h) {\n            return parseInt(h, 10);\n          });\n          remove$6(tabview, 'height');\n          var newHeight = tabview.dom().getBoundingClientRect().height;\n          var hasGrown = oldHeight.forall(function (h) {\n            return newHeight > h;\n          });\n\n          if (hasGrown) {\n            maxTabHeight.set(Option.from(newHeight));\n            updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n          } else {\n            oldHeight.each(function (h) {\n              set$2(tabview, 'height', h + 'px');\n            });\n          }\n\n          remove$6(tabview, 'visibility');\n          oldFocus.each(focus$1);\n        });\n      })];\n      var selectFirst = false;\n      return {\n        extraEvents: extraEvents,\n        selectFirst: selectFirst\n      };\n    }();\n\n    var naiveTabHeight = function () {\n      var extraEvents = [];\n      var selectFirst = true;\n      return {\n        extraEvents: extraEvents,\n        selectFirst: selectFirst\n      };\n    }();\n\n    return {\n      smartTabHeight: smartTabHeight,\n      naiveTabHeight: naiveTabHeight\n    };\n  };\n\n  var SendDataToSectionChannel = 'send-data-to-section';\n  var SendDataToViewChannel = 'send-data-to-view';\n\n  var renderTabPanel = function renderTabPanel(spec, backstage) {\n    var storedValue = Cell({});\n\n    var updateDataWithForm = function updateDataWithForm(form) {\n      var formData = Representing.getValue(form);\n      var validData = toValidValues(formData).getOr({});\n      var currentData = storedValue.get();\n      var newData = deepMerge(currentData, validData);\n      storedValue.set(newData);\n    };\n\n    var setDataOnForm = function setDataOnForm(form) {\n      var tabData = storedValue.get();\n      Representing.setValue(form, tabData);\n    };\n\n    var oldTab = Cell(null);\n    var allTabs = map(spec.tabs, function (tab) {\n      return {\n        value: tab.name,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body-nav-item'],\n          innerHtml: backstage.shared.providers.translate(tab.title)\n        },\n        view: function view() {\n          return [Form.sketch(function (parts) {\n            return {\n              dom: {\n                tag: 'div',\n                classes: ['tox-form']\n              },\n              components: map(tab.items, function (item) {\n                return interpretInForm(parts, item, backstage);\n              }),\n              formBehaviours: derive$1([Keying.config({\n                mode: 'acyclic',\n                useTabstopAt: not(NavigableObject.isPseudoStop)\n              }), config('TabView.form.events', [runOnAttached(setDataOnForm), runOnDetached(updateDataWithForm)]), Receiving.config({\n                channels: wrapAll$1([{\n                  key: SendDataToSectionChannel,\n                  value: {\n                    onReceive: updateDataWithForm\n                  }\n                }, {\n                  key: SendDataToViewChannel,\n                  value: {\n                    onReceive: setDataOnForm\n                  }\n                }])\n              })])\n            };\n          })];\n        }\n      };\n    });\n    var tabMode = setMode(allTabs).smartTabHeight;\n    return TabSection.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      onChangeTab: function onChangeTab(section, button, _viewItems) {\n        var name = Representing.getValue(button);\n        emitWith(section, formTabChangeEvent, {\n          name: name,\n          oldName: oldTab.get()\n        });\n        oldTab.set(name);\n      },\n      tabs: allTabs,\n      components: [TabSection.parts().tabbar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body-nav']\n        },\n        components: [Tabbar.parts().tabs({})],\n        markers: {\n          tabClass: 'tox-tab',\n          selectedClass: 'tox-dialog__body-nav-item--active'\n        },\n        tabbarBehaviours: derive$1([Tabstopping.config({})])\n      }), TabSection.parts().tabview({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body-content']\n        }\n      })],\n      selectFirst: tabMode.selectFirst,\n      tabSectionBehaviours: derive$1([config('tabpanel', tabMode.extraEvents), Keying.config({\n        mode: 'acyclic'\n      }), Composing.config({\n        find: function find(comp) {\n          return head(TabSection.getViewItems(comp));\n        }\n      }), Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function getValue(tsection) {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          },\n          setValue: function setValue(tsection, value) {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          }\n        }\n      })])\n    });\n  };\n\n  var dialogChannel = generate$1('update-dialog');\n  var titleChannel = generate$1('update-title');\n  var bodyChannel = generate$1('update-body');\n  var footerChannel = generate$1('update-footer');\n  var bodySendMessageChannel = generate$1('body-send-message');\n\n  var renderBody = function renderBody(spec, id, backstage, ariaAttrs) {\n    var renderComponents = function renderComponents(incoming) {\n      switch (incoming.body.type) {\n        case 'tabpanel':\n          {\n            return [renderTabPanel(incoming.body, backstage)];\n          }\n\n        default:\n          {\n            return [renderBodyPanel(incoming.body, backstage)];\n          }\n      }\n    };\n\n    var updateState = function updateState(_comp, incoming) {\n      return Option.some({\n        isTabPanel: function isTabPanel() {\n          return incoming.body.type === 'tabpanel';\n        }\n      });\n    };\n\n    var ariaAttributes = {\n      'aria-live': 'polite'\n    };\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__content-js'],\n        attributes: _assign({}, id.map(function (x) {\n          return {\n            id: x\n          };\n        }).getOr({}), ariaAttrs ? ariaAttributes : {})\n      },\n      components: [],\n      behaviours: derive$1([ComposingConfigs.childAt(0), Reflecting.config({\n        channel: bodyChannel,\n        updateState: updateState,\n        renderComponents: renderComponents,\n        initialData: spec\n      })])\n    };\n  };\n\n  var renderInlineBody = function renderInlineBody(spec, contentId, backstage, ariaAttrs) {\n    return renderBody(spec, Option.some(contentId), backstage, ariaAttrs);\n  };\n\n  var renderModalBody = function renderModalBody(spec, backstage) {\n    var bodySpec = renderBody(spec, Option.none(), backstage, false);\n    return ModalDialog.parts().body(bodySpec);\n  };\n\n  var renderIframeBody = function renderIframeBody(spec) {\n    var bodySpec = {\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__content-js']\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body-iframe']\n        },\n        components: [NavigableObject.craft({\n          dom: {\n            tag: 'iframe',\n            attributes: {\n              src: spec.url\n            }\n          },\n          behaviours: derive$1([Tabstopping.config({}), Focusing.config({})])\n        })]\n      }],\n      behaviours: derive$1([Keying.config({\n        mode: 'acyclic',\n        useTabstopAt: not(NavigableObject.isPseudoStop)\n      })])\n    };\n    return ModalDialog.parts().body(bodySpec);\n  };\n\n  var initCommonEvents = function initCommonEvents(fireApiEvent, extras) {\n    return [runWithTarget(focusin(), NavigableObject.onFocus), fireApiEvent(formCloseEvent, function (api, spec) {\n      extras.onClose();\n      spec.onClose();\n    }), fireApiEvent(formCancelEvent, function (api, spec, _event, self) {\n      spec.onCancel(api);\n      emit(self, formCloseEvent);\n    }), run(formUnblockEvent, function (c, se) {\n      return extras.onUnblock();\n    }), run(formBlockEvent, function (c, se) {\n      return extras.onBlock(se.event());\n    })];\n  };\n\n  var initUrlDialog = function initUrlDialog(getInstanceApi, extras) {\n    var fireApiEvent = function fireApiEvent(eventName, f) {\n      return run(eventName, function (c, se) {\n        withSpec(c, function (spec, _c) {\n          f(getInstanceApi(), spec, se.event(), c);\n        });\n      });\n    };\n\n    var withSpec = function withSpec(c, f) {\n      Reflecting.getState(c).get().each(function (currentDialog) {\n        f(currentDialog, c);\n      });\n    };\n\n    return initCommonEvents(fireApiEvent, extras).concat([fireApiEvent(formActionEvent, function (api, spec, event) {\n      spec.onAction(api, {\n        name: event.name()\n      });\n    })]);\n  };\n\n  var initDialog = function initDialog(getInstanceApi, extras) {\n    var fireApiEvent = function fireApiEvent(eventName, f) {\n      return run(eventName, function (c, se) {\n        withSpec(c, function (spec, _c) {\n          f(getInstanceApi(), spec, se.event(), c);\n        });\n      });\n    };\n\n    var withSpec = function withSpec(c, f) {\n      Reflecting.getState(c).get().each(function (currentDialogInit) {\n        f(currentDialogInit.internalDialog, c);\n      });\n    };\n\n    return initCommonEvents(fireApiEvent, extras).concat([fireApiEvent(formSubmitEvent, function (api, spec) {\n      return spec.onSubmit(api);\n    }), fireApiEvent(formChangeEvent, function (api, spec, event) {\n      spec.onChange(api, {\n        name: event.name()\n      });\n    }), fireApiEvent(formActionEvent, function (api, spec, event, component) {\n      var focusIn = function focusIn() {\n        return Keying.focusIn(component);\n      };\n\n      var current = active();\n      spec.onAction(api, {\n        name: event.name(),\n        value: event.value()\n      });\n      active().fold(function () {\n        focusIn();\n      }, function (focused) {\n        if (!contains$2(component.element(), focused) || has$1(focused, 'disabled')) {\n          focusIn();\n        } else if (contains$2(focused, current.getOrNull()) && has$1(current.getOrDie(), 'disabled')) {\n          focusIn();\n        }\n      });\n    }), fireApiEvent(formTabChangeEvent, function (api, spec, event) {\n      spec.onTabChange(api, {\n        newTabName: event.name(),\n        oldTabName: event.oldName()\n      });\n    }), runOnDetached(function (component) {\n      var api = getInstanceApi();\n      Representing.setValue(component, api.getData());\n    })]);\n  };\n\n  var SilverDialogEvents = {\n    initUrlDialog: initUrlDialog,\n    initDialog: initDialog\n  };\n\n  var makeButton = function makeButton(button, backstage) {\n    return renderFooterButton(button, button.type, backstage);\n  };\n\n  var lookup$2 = function lookup$2(compInSystem, footerButtons, buttonName) {\n    return find(footerButtons, function (button) {\n      return button.name === buttonName;\n    }).bind(function (memButton) {\n      return memButton.memento.getOpt(compInSystem);\n    });\n  };\n\n  var renderComponents = function renderComponents(_data, state) {\n    var footerButtons = state.map(function (s) {\n      return s.footerButtons;\n    }).getOr([]);\n    var buttonGroups = partition(footerButtons, function (button) {\n      return button.align === 'start';\n    });\n\n    var makeGroup = function makeGroup(edge, buttons) {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-' + edge]\n        },\n        components: map(buttons, function (button) {\n          return button.memento.asSpec();\n        })\n      });\n    };\n\n    var startButtons = makeGroup('start', buttonGroups.pass);\n    var endButtons = makeGroup('end', buttonGroups.fail);\n    return [startButtons, endButtons];\n  };\n\n  var renderFooter = function renderFooter(initSpec, backstage) {\n    var updateState = function updateState(_comp, data) {\n      var footerButtons = map(data.buttons, function (button) {\n        var memButton = record(makeButton(button, backstage));\n        return {\n          name: button.name,\n          align: button.align,\n          memento: memButton\n        };\n      });\n\n      var lookupByName = function lookupByName(compInSystem, buttonName) {\n        return lookup$2(compInSystem, footerButtons, buttonName);\n      };\n\n      return Option.some({\n        lookupByName: lookupByName,\n        footerButtons: footerButtons\n      });\n    };\n\n    return {\n      dom: fromHtml$2('<div class=\"tox-dialog__footer\"></div>'),\n      components: [],\n      behaviours: derive$1([Reflecting.config({\n        channel: footerChannel,\n        initialData: initSpec,\n        updateState: updateState,\n        renderComponents: renderComponents\n      })])\n    };\n  };\n\n  var renderInlineFooter = function renderInlineFooter(initSpec, backstage) {\n    return renderFooter(initSpec, backstage);\n  };\n\n  var renderModalFooter = function renderModalFooter(initSpec, backstage) {\n    return ModalDialog.parts().footer(renderFooter(initSpec, backstage));\n  };\n\n  var getCompByName = function getCompByName(access, name) {\n    var root = access.getRoot();\n\n    if (root.getSystem().isConnected()) {\n      var form_1 = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n      return Form.getField(form_1, name).fold(function () {\n        var footer = access.getFooter();\n        var footerState = Reflecting.getState(footer);\n        return footerState.get().bind(function (f) {\n          return f.lookupByName(form_1, name);\n        });\n      }, function (comp) {\n        return Option.some(comp);\n      });\n    } else {\n      return Option.none();\n    }\n  };\n\n  var validateData = function validateData(access, data) {\n    var root = access.getRoot();\n    return Reflecting.getState(root).get().map(function (dialogState) {\n      return getOrDie(asRaw('data', dialogState.dataValidator, data));\n    }).getOr(data);\n  };\n\n  var getDialogApi = function getDialogApi(access, doRedial) {\n    var withRoot = function withRoot(f) {\n      var root = access.getRoot();\n\n      if (root.getSystem().isConnected()) {\n        f(root);\n      }\n    };\n\n    var getData = function getData() {\n      var root = access.getRoot();\n      var valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n      return Representing.getValue(valueComp);\n    };\n\n    var setData = function setData(newData) {\n      withRoot(function (_) {\n        var prevData = instanceApi.getData();\n        var mergedData = merge(prevData, newData);\n        var newInternalData = validateData(access, mergedData);\n        var form = access.getFormWrapper();\n        Representing.setValue(form, newInternalData);\n      });\n    };\n\n    var disable = function disable(name) {\n      getCompByName(access, name).each(Disabling.disable);\n    };\n\n    var enable = function enable(name) {\n      getCompByName(access, name).each(Disabling.enable);\n    };\n\n    var focus = function focus(name) {\n      getCompByName(access, name).each(Focusing.focus);\n    };\n\n    var block = function block(message) {\n      if (!isString(message)) {\n        throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n      }\n\n      withRoot(function (root) {\n        emitWith(root, formBlockEvent, {\n          message: message\n        });\n      });\n    };\n\n    var unblock = function unblock() {\n      withRoot(function (root) {\n        emit(root, formUnblockEvent);\n      });\n    };\n\n    var showTab = function showTab(name) {\n      withRoot(function (_) {\n        var body = access.getBody();\n        var bodyState = Reflecting.getState(body);\n\n        if (bodyState.get().exists(function (b) {\n          return b.isTabPanel();\n        })) {\n          Composing.getCurrent(body).each(function (tabSection) {\n            TabSection.showTab(tabSection, name);\n          });\n        }\n      });\n    };\n\n    var redial = function redial(d) {\n      withRoot(function (root) {\n        var dialogInit = doRedial(d);\n        root.getSystem().broadcastOn([dialogChannel], dialogInit);\n        root.getSystem().broadcastOn([titleChannel], dialogInit.internalDialog);\n        root.getSystem().broadcastOn([bodyChannel], dialogInit.internalDialog);\n        root.getSystem().broadcastOn([footerChannel], dialogInit.internalDialog);\n        instanceApi.setData(dialogInit.initialData);\n      });\n    };\n\n    var close = function close() {\n      withRoot(function (root) {\n        emit(root, formCloseEvent);\n      });\n    };\n\n    var instanceApi = {\n      getData: getData,\n      setData: setData,\n      disable: disable,\n      enable: enable,\n      focus: focus,\n      block: block,\n      unblock: unblock,\n      showTab: showTab,\n      redial: redial,\n      close: close\n    };\n    return instanceApi;\n  };\n\n  var renderClose = function renderClose(providersBackstage) {\n    return Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: ['tox-button', 'tox-button--icon', 'tox-button--naked'],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'title': providersBackstage.translate('Close')\n        }\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-icon'],\n          innerHtml: '<svg width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z\" fill-rule=\"evenodd\"></path></svg>'\n        }\n      }],\n      action: function action(comp) {\n        emit(comp, formCancelEvent);\n      }\n    });\n  };\n\n  var renderTitle = function renderTitle(spec, id, providersBackstage) {\n    var renderComponents = function renderComponents(data) {\n      return [text(providersBackstage.translate(data.title))];\n    };\n\n    return {\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        attributes: _assign({}, id.map(function (x) {\n          return {\n            id: x\n          };\n        }).getOr({}))\n      },\n      components: renderComponents(spec),\n      behaviours: derive$1([Reflecting.config({\n        channel: titleChannel,\n        renderComponents: renderComponents\n      })])\n    };\n  };\n\n  var renderDragHandle = function renderDragHandle() {\n    return {\n      dom: fromHtml$2('<div class=\"tox-dialog__draghandle\"></div>')\n    };\n  };\n\n  var renderInlineHeader = function renderInlineHeader(spec, titleId, providersBackstage) {\n    return Container.sketch({\n      dom: fromHtml$2('<div class=\"tox-dialog__header\"></div>'),\n      components: [renderTitle(spec, Option.some(titleId), providersBackstage), renderDragHandle(), renderClose(providersBackstage)],\n      containerBehaviours: derive$1([Dragging.config({\n        mode: 'mouse',\n        blockerClass: 'blocker',\n        getTarget: function getTarget(handle) {\n          return closest$3(handle, '[role=\"dialog\"]').getOrDie();\n        },\n        snaps: {\n          getSnapPoints: function getSnapPoints() {\n            return [];\n          },\n          leftAttr: 'data-drag-left',\n          topAttr: 'data-drag-top'\n        }\n      })])\n    });\n  };\n\n  var renderModalHeader = function renderModalHeader(spec, providersBackstage) {\n    var pTitle = ModalDialog.parts().title(renderTitle(spec, Option.none(), providersBackstage));\n    var pHandle = ModalDialog.parts().draghandle(renderDragHandle());\n    var pClose = ModalDialog.parts().close(renderClose(providersBackstage));\n    var components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n    return Container.sketch({\n      dom: fromHtml$2('<div class=\"tox-dialog__header\"></div>'),\n      components: components\n    });\n  };\n\n  var getHeader = function getHeader(title, backstage) {\n    return renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, backstage.shared.providers);\n  };\n\n  var getEventExtras = function getEventExtras(lazyDialog, extra) {\n    return {\n      onClose: function onClose() {\n        return extra.closeWindow();\n      },\n      onBlock: function onBlock(blockEvent) {\n        ModalDialog.setBusy(lazyDialog(), function (d, bs) {\n          return {\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__busy-spinner'],\n              attributes: {\n                'aria-label': blockEvent.message()\n              },\n              styles: {\n                left: '0px',\n                right: '0px',\n                bottom: '0px',\n                top: '0px',\n                position: 'absolute'\n              }\n            },\n            behaviours: bs,\n            components: [{\n              dom: fromHtml$2('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')\n            }]\n          };\n        });\n      },\n      onUnblock: function onUnblock() {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    };\n  };\n\n  var renderModalDialog = function renderModalDialog(spec, initialData, dialogEvents, backstage) {\n    var _a;\n\n    var updateState = function updateState(_comp, incoming) {\n      return Option.some(incoming);\n    };\n\n    return build$1(ModalDialog.sketch({\n      lazySink: backstage.shared.getSink,\n      onEscape: function onEscape(c) {\n        emit(c, formCancelEvent);\n        return Option.some(true);\n      },\n      useTabstopAt: function useTabstopAt(elem) {\n        return !NavigableObject.isPseudoStop(elem);\n      },\n      modalBehaviours: derive$1([Reflecting.config({\n        channel: dialogChannel,\n        updateState: updateState,\n        initialData: initialData\n      }), RepresentingConfigs.memory({}), Focusing.config({}), config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, se) {\n        Keying.focusIn(comp);\n      })])), config('scroll-lock', [runOnAttached(function () {\n        add$2(body(), 'tox-dialog__disable-scroll');\n      }), runOnDetached(function () {\n        remove$4(body(), 'tox-dialog__disable-scroll');\n      })])].concat(spec.extraBehaviours)),\n      eventOrder: (_a = {}, _a[execute()] = ['execute-on-form'], _a[receive()] = ['reflecting', 'receiving'], _a[attachedToDom()] = ['scroll-lock', 'reflecting', 'messages', 'execute-on-form', 'alloy.base.behaviour'], _a[detachedFromDom()] = ['alloy.base.behaviour', 'execute-on-form', 'messages', 'reflecting', 'scroll-lock'], _a),\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog'].concat(spec.extraClasses),\n        styles: _assign({\n          position: 'relative'\n        }, spec.extraStyles)\n      },\n      components: [spec.header, spec.body].concat(spec.footer.toArray()),\n      dragBlockClass: 'tox-dialog-wrap',\n      parts: {\n        blocker: {\n          dom: fromHtml$2('<div class=\"tox-dialog-wrap\"></div>'),\n          components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog-wrap__backdrop']\n            }\n          }]\n        }\n      }\n    }));\n  };\n\n  var renderDialog = function renderDialog(dialogInit, extra, backstage) {\n    var header = getHeader(dialogInit.internalDialog.title, backstage);\n    var body = renderModalBody({\n      body: dialogInit.internalDialog.body\n    }, backstage);\n    var footer = renderModalFooter({\n      buttons: dialogInit.internalDialog.buttons\n    }, backstage);\n    var dialogEvents = SilverDialogEvents.initDialog(function () {\n      return instanceApi;\n    }, getEventExtras(function () {\n      return dialog;\n    }, extra));\n    var dialogSize = dialogInit.internalDialog.size !== 'normal' ? dialogInit.internalDialog.size === 'large' ? ['tox-dialog--width-lg'] : ['tox-dialog--width-md'] : [];\n    var spec = {\n      header: header,\n      body: body,\n      footer: Option.some(footer),\n      extraClasses: dialogSize,\n      extraBehaviours: [],\n      extraStyles: {}\n    };\n    var dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n\n    var modalAccess = function () {\n      var getForm = function getForm() {\n        var outerForm = ModalDialog.getBody(dialog);\n        return Composing.getCurrent(outerForm).getOr(outerForm);\n      };\n\n      return {\n        getRoot: function getRoot() {\n          return dialog;\n        },\n        getBody: function getBody() {\n          return ModalDialog.getBody(dialog);\n        },\n        getFooter: function getFooter() {\n          return ModalDialog.getFooter(dialog);\n        },\n        getFormWrapper: getForm\n      };\n    }();\n\n    var instanceApi = getDialogApi(modalAccess, extra.redial);\n    return {\n      dialog: dialog,\n      instanceApi: instanceApi\n    };\n  };\n\n  var global$g = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n  var getUrlDialogApi = function getUrlDialogApi(root) {\n    var withRoot = function withRoot(f) {\n      if (root.getSystem().isConnected()) {\n        f(root);\n      }\n    };\n\n    var block = function block(message) {\n      if (!isString(message)) {\n        throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n      }\n\n      withRoot(function (root) {\n        emitWith(root, formBlockEvent, {\n          message: message\n        });\n      });\n    };\n\n    var unblock = function unblock() {\n      withRoot(function (root) {\n        emit(root, formUnblockEvent);\n      });\n    };\n\n    var close = function close() {\n      withRoot(function (root) {\n        emit(root, formCloseEvent);\n      });\n    };\n\n    var sendMessage = function sendMessage(data) {\n      withRoot(function (root) {\n        root.getSystem().broadcastOn([bodySendMessageChannel], data);\n      });\n    };\n\n    return {\n      block: block,\n      unblock: unblock,\n      close: close,\n      sendMessage: sendMessage\n    };\n  };\n\n  var SUPPORTED_MESSAGE_ACTIONS = ['insertContent', 'setContent', 'execCommand', 'close', 'block', 'unblock'];\n\n  var isSupportedMessage = function isSupportedMessage(data) {\n    return isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n  };\n\n  var isCustomMessage = function isCustomMessage(data) {\n    return !isSupportedMessage(data) && isObject(data) && has(data, 'mceAction');\n  };\n\n  var handleMessage = function handleMessage(editor, api, data) {\n    switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n\n      case 'execCommand':\n        var ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n\n      case 'close':\n        api.close();\n        break;\n\n      case 'block':\n        api.block(data.message);\n        break;\n\n      case 'unblock':\n        api.unblock();\n        break;\n    }\n  };\n\n  var renderUrlDialog = function renderUrlDialog(internalDialog, extra, editor, backstage) {\n    var _a;\n\n    var header = getHeader(internalDialog.title, backstage);\n    var body = renderIframeBody(internalDialog);\n    var footer = internalDialog.buttons.bind(function (buttons) {\n      if (buttons.length === 0) {\n        return Option.none();\n      } else {\n        return Option.some(renderModalFooter({\n          buttons: buttons\n        }, backstage));\n      }\n    });\n    var dialogEvents = SilverDialogEvents.initUrlDialog(function () {\n      return instanceApi;\n    }, getEventExtras(function () {\n      return dialog;\n    }, extra));\n\n    var styles = _assign({}, internalDialog.height.fold(function () {\n      return {};\n    }, function (height) {\n      return {\n        'height': height + 'px',\n        'max-height': height + 'px'\n      };\n    }), internalDialog.width.fold(function () {\n      return {};\n    }, function (width) {\n      return {\n        'width': width + 'px',\n        'max-width': width + 'px'\n      };\n    }));\n\n    var classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n    var iframeUri = new global$g(internalDialog.url, {\n      base_uri: new global$g(domGlobals.window.location.href)\n    });\n    var iframeDomain = iframeUri.protocol + '://' + iframeUri.host + (iframeUri.port ? ':' + iframeUri.port : '');\n    var messageHandlerUnbinder = Cell(Option.none());\n    var extraBehaviours = [config('messages', [runOnAttached(function () {\n      var unbind = bind$3(Element.fromDom(domGlobals.window), 'message', function (e) {\n        if (iframeUri.isSameOrigin(new global$g(e.raw().origin))) {\n          var data = e.raw().data;\n\n          if (isSupportedMessage(data)) {\n            handleMessage(editor, instanceApi, data);\n          } else if (isCustomMessage(data)) {\n            internalDialog.onMessage(instanceApi, data);\n          }\n        }\n      });\n      messageHandlerUnbinder.set(Option.some(unbind));\n    }), runOnDetached(function () {\n      messageHandlerUnbinder.get().each(function (unbinder) {\n        return unbinder.unbind();\n      });\n    })]), Receiving.config({\n      channels: (_a = {}, _a[bodySendMessageChannel] = {\n        onReceive: function onReceive(comp, data) {\n          descendant$1(comp.element(), 'iframe').each(function (iframeEle) {\n            var iframeWin = iframeEle.dom().contentWindow;\n            iframeWin.postMessage(data, iframeDomain);\n          });\n        }\n      }, _a)\n    })];\n    var spec = {\n      header: header,\n      body: body,\n      footer: footer,\n      extraClasses: classes,\n      extraBehaviours: extraBehaviours,\n      extraStyles: styles\n    };\n    var dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n    var instanceApi = getUrlDialogApi(dialog);\n    return {\n      dialog: dialog,\n      instanceApi: instanceApi\n    };\n  };\n\n  var renderInlineDialog = function renderInlineDialog(dialogInit, extra, backstage, ariaAttrs) {\n    var _a, _b;\n\n    var dialogLabelId = generate$1('dialog-label');\n    var dialogContentId = generate$1('dialog-content');\n\n    var updateState = function updateState(_comp, incoming) {\n      return Option.some(incoming);\n    };\n\n    var memHeader = record(renderInlineHeader({\n      title: dialogInit.internalDialog.title,\n      draggable: true\n    }, dialogLabelId, backstage.shared.providers));\n    var memBody = record(renderInlineBody({\n      body: dialogInit.internalDialog.body\n    }, dialogContentId, backstage, ariaAttrs));\n    var memFooter = record(renderInlineFooter({\n      buttons: dialogInit.internalDialog.buttons\n    }, backstage));\n    var dialogEvents = SilverDialogEvents.initDialog(function () {\n      return instanceApi;\n    }, {\n      onBlock: function onBlock() {},\n      onUnblock: function onUnblock() {},\n      onClose: function onClose() {\n        return extra.closeWindow();\n      }\n    });\n    var dialog = build$1({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog', 'tox-dialog-inline'],\n        attributes: (_a = {\n          role: 'dialog'\n        }, _a['aria-labelledby'] = dialogLabelId, _a['aria-describedby'] = '' + dialogContentId, _a)\n      },\n      eventOrder: (_b = {}, _b[receive()] = [Reflecting.name(), Receiving.name()], _b[execute()] = ['execute-on-form'], _b[attachedToDom()] = ['reflecting', 'execute-on-form'], _b),\n      behaviours: derive$1([Keying.config({\n        mode: 'cyclic',\n        onEscape: function onEscape(c) {\n          emit(c, formCloseEvent);\n          return Option.some(true);\n        },\n        useTabstopAt: function useTabstopAt(elem) {\n          return !NavigableObject.isPseudoStop(elem) && (name(elem) !== 'button' || get$2(elem, 'disabled') !== 'disabled');\n        }\n      }), Reflecting.config({\n        channel: dialogChannel,\n        updateState: updateState,\n        initialData: dialogInit\n      }), Focusing.config({}), config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, se) {\n        Keying.focusIn(comp);\n      })])), RepresentingConfigs.memory({})]),\n      components: [memHeader.asSpec(), memBody.asSpec(), memFooter.asSpec()]\n    });\n    var instanceApi = getDialogApi({\n      getRoot: function getRoot() {\n        return dialog;\n      },\n      getFooter: function getFooter() {\n        return memFooter.get(dialog);\n      },\n      getBody: function getBody() {\n        return memBody.get(dialog);\n      },\n      getFormWrapper: function getFormWrapper() {\n        var body = memBody.get(dialog);\n        return Composing.getCurrent(body).getOr(body);\n      }\n    }, extra.redial);\n    return {\n      dialog: dialog,\n      instanceApi: instanceApi\n    };\n  };\n\n  var hiddenHeader = {\n    dom: {\n      tag: 'div',\n      styles: {\n        display: 'none'\n      },\n      classes: ['tox-dialog__header']\n    }\n  };\n  var defaultHeader = {\n    dom: {\n      tag: 'div',\n      classes: ['tox-dialog__header']\n    }\n  };\n\n  var pClose = function pClose(onClose, providersBackstage) {\n    return ModalDialog.parts().close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: ['tox-button', 'tox-button--icon', 'tox-button--naked'],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n  };\n\n  var pUntitled = function pUntitled() {\n    return ModalDialog.parts().title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: {\n          display: 'none'\n        }\n      }\n    });\n  };\n\n  var pBodyMessage = function pBodyMessage(message, providersBackstage) {\n    return ModalDialog.parts().body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body-content']\n        },\n        components: [{\n          dom: fromHtml$2('<p>' + providersBackstage.translate(message) + '</p>')\n        }]\n      }]\n    });\n  };\n\n  var pFooter = function pFooter(buttons) {\n    return ModalDialog.parts().footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n  };\n\n  var pFooterGroup = function pFooterGroup(startButtons, endButtons) {\n    return [Container.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer-start']\n      },\n      components: startButtons\n    }), Container.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer-end']\n      },\n      components: endButtons\n    })];\n  };\n\n  var renderDialog$1 = function renderDialog$1(spec) {\n    return ModalDialog.sketch({\n      lazySink: spec.lazySink,\n      onEscape: function onEscape() {\n        spec.onCancel();\n        return Option.some(true);\n      },\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog'].concat(spec.extraClasses)\n      },\n      components: [deepMerge(spec.headerOverride.getOr(defaultHeader), {\n        components: [spec.partSpecs.title, spec.partSpecs.close]\n      }), spec.partSpecs.body, spec.partSpecs.footer],\n      parts: {\n        blocker: {\n          dom: fromHtml$2('<div class=\"tox-dialog-wrap\"></div>'),\n          components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog-wrap__backdrop']\n            }\n          }]\n        }\n      },\n      modalBehaviours: derive$1([config('basic-dialog-events', [run(formCancelEvent, function (comp, se) {\n        spec.onCancel();\n      }), run(formSubmitEvent, function (comp, se) {\n        spec.onSubmit();\n      })])])\n    });\n  };\n\n  var setup$9 = function setup$9(extras) {\n    var sharedBackstage = extras.backstage.shared;\n\n    var open = function open(message, callback) {\n      var closeDialog = function closeDialog() {\n        ModalDialog.hide(alertDialog);\n        callback();\n      };\n\n      var memFooterClose = record(renderFooterButton({\n        name: 'close-alert',\n        text: 'OK',\n        primary: true,\n        align: 'end',\n        disabled: false,\n        icon: Option.none()\n      }, 'cancel', extras.backstage));\n      var alertDialog = build$1(renderDialog$1({\n        lazySink: function lazySink() {\n          return sharedBackstage.getSink();\n        },\n        headerOverride: Option.some(hiddenHeader),\n        partSpecs: {\n          title: pUntitled(),\n          close: pClose(function () {\n            closeDialog();\n          }, sharedBackstage.providers),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: pFooter(pFooterGroup([], [memFooterClose.asSpec()]))\n        },\n        onCancel: function onCancel() {\n          return closeDialog();\n        },\n        onSubmit: noop,\n        extraClasses: ['tox-alert-dialog']\n      }));\n      ModalDialog.show(alertDialog);\n      var footerCloseButton = memFooterClose.get(alertDialog);\n      Focusing.focus(footerCloseButton);\n    };\n\n    return {\n      open: open\n    };\n  };\n\n  var setup$a = function setup$a(extras) {\n    var sharedBackstage = extras.backstage.shared;\n\n    var open = function open(message, callback) {\n      var closeDialog = function closeDialog(state) {\n        ModalDialog.hide(confirmDialog);\n        callback(state);\n      };\n\n      var memFooterYes = record(renderFooterButton({\n        name: 'yes',\n        text: 'Yes',\n        primary: true,\n        align: 'end',\n        disabled: false,\n        icon: Option.none()\n      }, 'submit', extras.backstage));\n      var footerNo = renderFooterButton({\n        name: 'no',\n        text: 'No',\n        primary: true,\n        align: 'end',\n        disabled: false,\n        icon: Option.none()\n      }, 'cancel', extras.backstage);\n      var confirmDialog = build$1(renderDialog$1({\n        lazySink: function lazySink() {\n          return sharedBackstage.getSink();\n        },\n        headerOverride: Option.some(hiddenHeader),\n        partSpecs: {\n          title: pUntitled(),\n          close: pClose(function () {\n            closeDialog(false);\n          }, sharedBackstage.providers),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: pFooter(pFooterGroup([], [footerNo, memFooterYes.asSpec()]))\n        },\n        onCancel: function onCancel() {\n          return closeDialog(false);\n        },\n        onSubmit: function onSubmit() {\n          return closeDialog(true);\n        },\n        extraClasses: ['tox-confirm-dialog']\n      }));\n      ModalDialog.show(confirmDialog);\n      var footerYesButton = memFooterYes.get(confirmDialog);\n      Focusing.focus(footerYesButton);\n    };\n\n    return {\n      open: open\n    };\n  };\n\n  var validateData$1 = function validateData$1(data, validator) {\n    return getOrDie(asRaw('data', validator, data));\n  };\n\n  var setup$b = function setup$b(extras) {\n    var alertDialog = setup$9(extras);\n    var confirmDialog = setup$a(extras);\n\n    var open = function open(config, params, closeWindow) {\n      if (params !== undefined && params.inline === 'toolbar') {\n        return openInlineDialog(config, extras.backstage.shared.anchors.toolbar(), closeWindow, params.ariaAttrs);\n      } else if (params !== undefined && params.inline === 'cursor') {\n        return openInlineDialog(config, extras.backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n      } else {\n        return openModalDialog(config, closeWindow);\n      }\n    };\n\n    var openUrl = function openUrl(config, closeWindow) {\n      return openModalUrlDialog(config, closeWindow);\n    };\n\n    var openModalUrlDialog = function openModalUrlDialog(config, _closeWindow) {\n      var factory = function factory(contents) {\n        var dialog = renderUrlDialog(contents, {\n          closeWindow: function closeWindow() {\n            ModalDialog.hide(dialog.dialog);\n\n            _closeWindow(dialog.instanceApi);\n          }\n        }, extras.editor, extras.backstage);\n        ModalDialog.show(dialog.dialog);\n        return dialog.instanceApi;\n      };\n\n      return DialogManager.openUrl(factory, config);\n    };\n\n    var openModalDialog = function openModalDialog(config, _closeWindow2) {\n      var factory = function factory(contents, internalInitialData, dataValidator) {\n        var initialData = internalInitialData;\n        var dialogInit = {\n          dataValidator: dataValidator,\n          initialData: initialData,\n          internalDialog: contents\n        };\n        var dialog = renderDialog(dialogInit, {\n          redial: DialogManager.redial,\n          closeWindow: function closeWindow() {\n            ModalDialog.hide(dialog.dialog);\n\n            _closeWindow2(dialog.instanceApi);\n          }\n        }, extras.backstage);\n        ModalDialog.show(dialog.dialog);\n        dialog.instanceApi.setData(initialData);\n        return dialog.instanceApi;\n      };\n\n      return DialogManager.open(factory, config);\n    };\n\n    var openInlineDialog = function openInlineDialog(config$1, anchor, _closeWindow3, ariaAttrs) {\n      var factory = function factory(contents, internalInitialData, dataValidator) {\n        var initialData = validateData$1(internalInitialData, dataValidator);\n        var dialogInit = {\n          dataValidator: dataValidator,\n          initialData: initialData,\n          internalDialog: contents\n        };\n        var dialogUi = renderInlineDialog(dialogInit, {\n          redial: DialogManager.redial,\n          closeWindow: function closeWindow() {\n            InlineView.hide(inlineDialog);\n\n            _closeWindow3(dialogUi.instanceApi);\n          }\n        }, extras.backstage, ariaAttrs);\n        var inlineDialog = build$1(InlineView.sketch({\n          lazySink: extras.backstage.shared.getSink,\n          dom: {\n            tag: 'div',\n            classes: []\n          },\n          fireDismissalEventInstead: {},\n          inlineBehaviours: derive$1([config('window-manager-inline-events', [run(dismissRequested(), function (comp, se) {\n            emit(dialogUi.dialog, formCancelEvent);\n          })])])\n        }));\n        InlineView.showAt(inlineDialog, anchor, premade$1(dialogUi.dialog));\n        dialogUi.instanceApi.setData(initialData);\n        Keying.focusIn(dialogUi.dialog);\n        return dialogUi.instanceApi;\n      };\n\n      return DialogManager.open(factory, config$1);\n    };\n\n    var confirm = function confirm(message, callback) {\n      confirmDialog.open(message, function (state) {\n        callback(state);\n      });\n    };\n\n    var alert = function alert(message, callback) {\n      alertDialog.open(message, function () {\n        callback();\n      });\n    };\n\n    var close = function close(instanceApi) {\n      instanceApi.close();\n    };\n\n    return {\n      open: open,\n      openUrl: openUrl,\n      alert: alert,\n      close: close,\n      confirm: confirm\n    };\n  };\n\n  var WindowManager = {\n    setup: setup$b\n  };\n\n  function Theme() {\n    global$1.add('silver', function (editor) {\n      var _a = Render.setup(editor),\n          uiMothership = _a.uiMothership,\n          backstage = _a.backstage,\n          renderUI = _a.renderUI,\n          getUi = _a.getUi;\n\n      Autocompleter.register(editor, backstage.shared);\n      var windowMgr = WindowManager.setup({\n        editor: editor,\n        backstage: backstage\n      });\n      return {\n        renderUI: renderUI,\n        getWindowManagerImpl: constant(windowMgr),\n        getNotificationManagerImpl: function getNotificationManagerImpl() {\n          return NotificationManagerImpl(editor, {\n            backstage: backstage\n          }, uiMothership);\n        },\n        ui: getUi()\n      };\n    });\n  }\n\n  Theme();\n})(window);","// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.0.15 (2019-09-02)\n */\n(function (domGlobals) {\n  'use strict';\n\n  var Cell = function Cell(initial) {\n    var value = initial;\n\n    var get = function get() {\n      return value;\n    };\n\n    var set = function set(v) {\n      value = v;\n    };\n\n    var clone = function clone() {\n      return Cell(get());\n    };\n\n    return {\n      get: get,\n      set: set,\n      clone: clone\n    };\n  };\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var hasProPlugin = function hasProPlugin(editor) {\n    if (/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins) && global$1.get('powerpaste')) {\n      if (typeof domGlobals.window.console !== 'undefined' && domGlobals.window.console.log) {\n        domGlobals.window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var DetectProPlugin = {\n    hasProPlugin: hasProPlugin\n  };\n\n  var get = function get(clipboard, quirks) {\n    return {\n      clipboard: clipboard,\n      quirks: quirks\n    };\n  };\n\n  var Api = {\n    get: get\n  };\n\n  var firePastePreProcess = function firePastePreProcess(editor, html, internal, isWordHtml) {\n    return editor.fire('PastePreProcess', {\n      content: html,\n      internal: internal,\n      wordContent: isWordHtml\n    });\n  };\n\n  var firePastePostProcess = function firePastePostProcess(editor, node, internal, isWordHtml) {\n    return editor.fire('PastePostProcess', {\n      node: node,\n      internal: internal,\n      wordContent: isWordHtml\n    });\n  };\n\n  var firePastePlainTextToggle = function firePastePlainTextToggle(editor, state) {\n    return editor.fire('PastePlainTextToggle', {\n      state: state\n    });\n  };\n\n  var firePaste = function firePaste(editor, ieFake) {\n    return editor.fire('paste', {\n      ieFake: ieFake\n    });\n  };\n\n  var Events = {\n    firePastePreProcess: firePastePreProcess,\n    firePastePostProcess: firePastePostProcess,\n    firePastePlainTextToggle: firePastePlainTextToggle,\n    firePaste: firePaste\n  };\n\n  var togglePlainTextPaste = function togglePlainTextPaste(editor, clipboard) {\n    if (clipboard.pasteFormat.get() === 'text') {\n      clipboard.pasteFormat.set('html');\n      Events.firePastePlainTextToggle(editor, false);\n    } else {\n      clipboard.pasteFormat.set('text');\n      Events.firePastePlainTextToggle(editor, true);\n    }\n\n    editor.focus();\n  };\n\n  var Actions = {\n    togglePlainTextPaste: togglePlainTextPaste\n  };\n\n  var register = function register(editor, clipboard) {\n    editor.addCommand('mceTogglePlainTextPaste', function () {\n      Actions.togglePlainTextPaste(editor, clipboard);\n    });\n    editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n      if (value.content) {\n        clipboard.pasteHtml(value.content, value.internal);\n      }\n\n      if (value.text) {\n        clipboard.pasteText(value.text);\n      }\n    });\n  };\n\n  var Commands = {\n    register: register\n  };\n\n  var constant = function constant(value) {\n    return function () {\n      return value;\n    };\n  };\n\n  var never = constant(false);\n  var always = constant(true);\n  var never$1 = never;\n  var always$1 = always;\n\n  var none = function none() {\n    return NONE;\n  };\n\n  var NONE = function () {\n    var eq = function eq(o) {\n      return o.isNone();\n    };\n\n    var call = function call(thunk) {\n      return thunk();\n    };\n\n    var id = function id(n) {\n      return n;\n    };\n\n    var noop = function noop() {};\n\n    var nul = function nul() {\n      return null;\n    };\n\n    var undef = function undef() {\n      return undefined;\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return n();\n      },\n      is: never$1,\n      isSome: never$1,\n      isNone: always$1,\n      getOr: id,\n      getOrThunk: call,\n      getOrDie: function getOrDie(msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: nul,\n      getOrUndefined: undef,\n      or: id,\n      orThunk: call,\n      map: none,\n      ap: none,\n      each: noop,\n      bind: none,\n      flatten: none,\n      exists: never$1,\n      forall: always$1,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function toArray() {\n        return [];\n      },\n      toString: constant('none()')\n    };\n\n    if (Object.freeze) {\n      Object.freeze(me);\n    }\n\n    return me;\n  }();\n\n  var some = function some(a) {\n    var constant_a = function constant_a() {\n      return a;\n    };\n\n    var self = function self() {\n      return me;\n    };\n\n    var map = function map(f) {\n      return some(f(a));\n    };\n\n    var bind = function bind(f) {\n      return f(a);\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return s(a);\n      },\n      is: function is(v) {\n        return a === v;\n      },\n      isSome: always$1,\n      isNone: never$1,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: map,\n      ap: function ap(optfab) {\n        return optfab.fold(none, function (fab) {\n          return some(fab(a));\n        });\n      },\n      each: function each(f) {\n        f(a);\n      },\n      bind: bind,\n      flatten: constant_a,\n      exists: bind,\n      forall: bind,\n      filter: function filter(f) {\n        return f(a) ? me : NONE;\n      },\n      equals: function equals(o) {\n        return o.is(a);\n      },\n      equals_: function equals_(o, elementEq) {\n        return o.fold(never$1, function (b) {\n          return elementEq(a, b);\n        });\n      },\n      toArray: function toArray() {\n        return [a];\n      },\n      toString: function toString() {\n        return 'some(' + a + ')';\n      }\n    };\n    return me;\n  };\n\n  var from = function from(value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n\n  var Option = {\n    some: some,\n    none: none,\n    from: from\n  };\n\n  var typeOf = function typeOf(x) {\n    if (x === null) {\n      return 'null';\n    }\n\n    var t = typeof x;\n\n    if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n      return 'array';\n    }\n\n    if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n      return 'string';\n    }\n\n    return t;\n  };\n\n  var isType = function isType(type) {\n    return function (value) {\n      return typeOf(value) === type;\n    };\n  };\n\n  var isFunction = isType('function');\n  var slice = Array.prototype.slice;\n\n  var map = function map(xs, f) {\n    var len = xs.length;\n    var r = new Array(len);\n\n    for (var i = 0; i < len; i++) {\n      var x = xs[i];\n      r[i] = f(x, i, xs);\n    }\n\n    return r;\n  };\n\n  var each = function each(xs, f) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n\n  var filter = function filter(xs, pred) {\n    var r = [];\n\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n\n      if (pred(x, i, xs)) {\n        r.push(x);\n      }\n    }\n\n    return r;\n  };\n\n  var foldl = function foldl(xs, f, acc) {\n    each(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n\n  var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n    return slice.call(x);\n  };\n  var exports$1 = {},\n      module = {\n    exports: exports$1\n  };\n\n  (function (define, exports, module, require) {\n    (function (f) {\n      if (typeof exports === 'object' && typeof module !== 'undefined') {\n        module.exports = f();\n      } else if (typeof define === 'function' && define.amd) {\n        define([], f);\n      } else {\n        var g;\n\n        if (typeof window !== 'undefined') {\n          g = window;\n        } else if (typeof global !== 'undefined') {\n          g = global;\n        } else if (typeof self !== 'undefined') {\n          g = self;\n        } else {\n          g = this;\n        }\n\n        g.EphoxContactWrapper = f();\n      }\n    })(function () {\n      return function () {\n        function r(e, n, t) {\n          function o(i, f) {\n            if (!n[i]) {\n              if (!e[i]) {\n                var c = 'function' == typeof require && require;\n                if (!f && c) return c(i, !0);\n                if (u) return u(i, !0);\n                var a = new Error('Cannot find module \\'' + i + '\\'');\n                throw a.code = 'MODULE_NOT_FOUND', a;\n              }\n\n              var p = n[i] = {\n                exports: {}\n              };\n              e[i][0].call(p.exports, function (r) {\n                var n = e[i][1][r];\n                return o(n || r);\n              }, p, p.exports, r, e, n, t);\n            }\n\n            return n[i].exports;\n          }\n\n          for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++) {\n            o(t[i]);\n          }\n\n          return o;\n        }\n\n        return r;\n      }()({\n        1: [function (require, module, exports) {\n          var process = module.exports = {};\n          var cachedSetTimeout;\n          var cachedClearTimeout;\n\n          function defaultSetTimout() {\n            throw new Error('setTimeout has not been defined');\n          }\n\n          function defaultClearTimeout() {\n            throw new Error('clearTimeout has not been defined');\n          }\n\n          (function () {\n            try {\n              if (typeof setTimeout === 'function') {\n                cachedSetTimeout = setTimeout;\n              } else {\n                cachedSetTimeout = defaultSetTimout;\n              }\n            } catch (e) {\n              cachedSetTimeout = defaultSetTimout;\n            }\n\n            try {\n              if (typeof clearTimeout === 'function') {\n                cachedClearTimeout = clearTimeout;\n              } else {\n                cachedClearTimeout = defaultClearTimeout;\n              }\n            } catch (e) {\n              cachedClearTimeout = defaultClearTimeout;\n            }\n          })();\n\n          function runTimeout(fun) {\n            if (cachedSetTimeout === setTimeout) {\n              return setTimeout(fun, 0);\n            }\n\n            if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n              cachedSetTimeout = setTimeout;\n              return setTimeout(fun, 0);\n            }\n\n            try {\n              return cachedSetTimeout(fun, 0);\n            } catch (e) {\n              try {\n                return cachedSetTimeout.call(null, fun, 0);\n              } catch (e) {\n                return cachedSetTimeout.call(this, fun, 0);\n              }\n            }\n          }\n\n          function runClearTimeout(marker) {\n            if (cachedClearTimeout === clearTimeout) {\n              return clearTimeout(marker);\n            }\n\n            if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n              cachedClearTimeout = clearTimeout;\n              return clearTimeout(marker);\n            }\n\n            try {\n              return cachedClearTimeout(marker);\n            } catch (e) {\n              try {\n                return cachedClearTimeout.call(null, marker);\n              } catch (e) {\n                return cachedClearTimeout.call(this, marker);\n              }\n            }\n          }\n\n          var queue = [];\n          var draining = false;\n          var currentQueue;\n          var queueIndex = -1;\n\n          function cleanUpNextTick() {\n            if (!draining || !currentQueue) {\n              return;\n            }\n\n            draining = false;\n\n            if (currentQueue.length) {\n              queue = currentQueue.concat(queue);\n            } else {\n              queueIndex = -1;\n            }\n\n            if (queue.length) {\n              drainQueue();\n            }\n          }\n\n          function drainQueue() {\n            if (draining) {\n              return;\n            }\n\n            var timeout = runTimeout(cleanUpNextTick);\n            draining = true;\n            var len = queue.length;\n\n            while (len) {\n              currentQueue = queue;\n              queue = [];\n\n              while (++queueIndex < len) {\n                if (currentQueue) {\n                  currentQueue[queueIndex].run();\n                }\n              }\n\n              queueIndex = -1;\n              len = queue.length;\n            }\n\n            currentQueue = null;\n            draining = false;\n            runClearTimeout(timeout);\n          }\n\n          process.nextTick = function (fun) {\n            var args = new Array(arguments.length - 1);\n\n            if (arguments.length > 1) {\n              for (var i = 1; i < arguments.length; i++) {\n                args[i - 1] = arguments[i];\n              }\n            }\n\n            queue.push(new Item(fun, args));\n\n            if (queue.length === 1 && !draining) {\n              runTimeout(drainQueue);\n            }\n          };\n\n          function Item(fun, array) {\n            this.fun = fun;\n            this.array = array;\n          }\n\n          Item.prototype.run = function () {\n            this.fun.apply(null, this.array);\n          };\n\n          process.title = 'browser';\n          process.browser = true;\n          process.env = {};\n          process.argv = [];\n          process.version = '';\n          process.versions = {};\n\n          function noop() {}\n\n          process.on = noop;\n          process.addListener = noop;\n          process.once = noop;\n          process.off = noop;\n          process.removeListener = noop;\n          process.removeAllListeners = noop;\n          process.emit = noop;\n          process.prependListener = noop;\n          process.prependOnceListener = noop;\n\n          process.listeners = function (name) {\n            return [];\n          };\n\n          process.binding = function (name) {\n            throw new Error('process.binding is not supported');\n          };\n\n          process.cwd = function () {\n            return '/';\n          };\n\n          process.chdir = function (dir) {\n            throw new Error('process.chdir is not supported');\n          };\n\n          process.umask = function () {\n            return 0;\n          };\n        }, {}],\n        2: [function (require, module, exports) {\n          (function (setImmediate) {\n            (function (root) {\n              var setTimeoutFunc = setTimeout;\n\n              function noop() {}\n\n              function bind(fn, thisArg) {\n                return function () {\n                  fn.apply(thisArg, arguments);\n                };\n              }\n\n              function Promise(fn) {\n                if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n                if (typeof fn !== 'function') throw new TypeError('not a function');\n                this._state = 0;\n                this._handled = false;\n                this._value = undefined;\n                this._deferreds = [];\n                doResolve(fn, this);\n              }\n\n              function handle(self, deferred) {\n                while (self._state === 3) {\n                  self = self._value;\n                }\n\n                if (self._state === 0) {\n                  self._deferreds.push(deferred);\n\n                  return;\n                }\n\n                self._handled = true;\n\n                Promise._immediateFn(function () {\n                  var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\n                  if (cb === null) {\n                    (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                    return;\n                  }\n\n                  var ret;\n\n                  try {\n                    ret = cb(self._value);\n                  } catch (e) {\n                    reject(deferred.promise, e);\n                    return;\n                  }\n\n                  resolve(deferred.promise, ret);\n                });\n              }\n\n              function resolve(self, newValue) {\n                try {\n                  if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n\n                  if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                    var then = newValue.then;\n\n                    if (newValue instanceof Promise) {\n                      self._state = 3;\n                      self._value = newValue;\n                      finale(self);\n                      return;\n                    } else if (typeof then === 'function') {\n                      doResolve(bind(then, newValue), self);\n                      return;\n                    }\n                  }\n\n                  self._state = 1;\n                  self._value = newValue;\n                  finale(self);\n                } catch (e) {\n                  reject(self, e);\n                }\n              }\n\n              function reject(self, newValue) {\n                self._state = 2;\n                self._value = newValue;\n                finale(self);\n              }\n\n              function finale(self) {\n                if (self._state === 2 && self._deferreds.length === 0) {\n                  Promise._immediateFn(function () {\n                    if (!self._handled) {\n                      Promise._unhandledRejectionFn(self._value);\n                    }\n                  });\n                }\n\n                for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                  handle(self, self._deferreds[i]);\n                }\n\n                self._deferreds = null;\n              }\n\n              function Handler(onFulfilled, onRejected, promise) {\n                this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                this.promise = promise;\n              }\n\n              function doResolve(fn, self) {\n                var done = false;\n\n                try {\n                  fn(function (value) {\n                    if (done) return;\n                    done = true;\n                    resolve(self, value);\n                  }, function (reason) {\n                    if (done) return;\n                    done = true;\n                    reject(self, reason);\n                  });\n                } catch (ex) {\n                  if (done) return;\n                  done = true;\n                  reject(self, ex);\n                }\n              }\n\n              Promise.prototype['catch'] = function (onRejected) {\n                return this.then(null, onRejected);\n              };\n\n              Promise.prototype.then = function (onFulfilled, onRejected) {\n                var prom = new this.constructor(noop);\n                handle(this, new Handler(onFulfilled, onRejected, prom));\n                return prom;\n              };\n\n              Promise.all = function (arr) {\n                var args = Array.prototype.slice.call(arr);\n                return new Promise(function (resolve, reject) {\n                  if (args.length === 0) return resolve([]);\n                  var remaining = args.length;\n\n                  function res(i, val) {\n                    try {\n                      if (val && (typeof val === 'object' || typeof val === 'function')) {\n                        var then = val.then;\n\n                        if (typeof then === 'function') {\n                          then.call(val, function (val) {\n                            res(i, val);\n                          }, reject);\n                          return;\n                        }\n                      }\n\n                      args[i] = val;\n\n                      if (--remaining === 0) {\n                        resolve(args);\n                      }\n                    } catch (ex) {\n                      reject(ex);\n                    }\n                  }\n\n                  for (var i = 0; i < args.length; i++) {\n                    res(i, args[i]);\n                  }\n                });\n              };\n\n              Promise.resolve = function (value) {\n                if (value && typeof value === 'object' && value.constructor === Promise) {\n                  return value;\n                }\n\n                return new Promise(function (resolve) {\n                  resolve(value);\n                });\n              };\n\n              Promise.reject = function (value) {\n                return new Promise(function (resolve, reject) {\n                  reject(value);\n                });\n              };\n\n              Promise.race = function (values) {\n                return new Promise(function (resolve, reject) {\n                  for (var i = 0, len = values.length; i < len; i++) {\n                    values[i].then(resolve, reject);\n                  }\n                });\n              };\n\n              Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                setImmediate(fn);\n              } : function (fn) {\n                setTimeoutFunc(fn, 0);\n              };\n\n              Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                if (typeof console !== 'undefined' && console) {\n                  console.warn('Possible Unhandled Promise Rejection:', err);\n                }\n              };\n\n              Promise._setImmediateFn = function _setImmediateFn(fn) {\n                Promise._immediateFn = fn;\n              };\n\n              Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                Promise._unhandledRejectionFn = fn;\n              };\n\n              if (typeof module !== 'undefined' && module.exports) {\n                module.exports = Promise;\n              } else if (!root.Promise) {\n                root.Promise = Promise;\n              }\n            })(this);\n          }).call(this, require('timers').setImmediate);\n        }, {\n          'timers': 3\n        }],\n        3: [function (require, module, exports) {\n          (function (setImmediate, clearImmediate) {\n            var nextTick = require('process/browser.js').nextTick;\n\n            var apply = Function.prototype.apply;\n            var slice = Array.prototype.slice;\n            var immediateIds = {};\n            var nextImmediateId = 0;\n\n            exports.setTimeout = function () {\n              return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n            };\n\n            exports.setInterval = function () {\n              return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n            };\n\n            exports.clearTimeout = exports.clearInterval = function (timeout) {\n              timeout.close();\n            };\n\n            function Timeout(id, clearFn) {\n              this._id = id;\n              this._clearFn = clearFn;\n            }\n\n            Timeout.prototype.unref = Timeout.prototype.ref = function () {};\n\n            Timeout.prototype.close = function () {\n              this._clearFn.call(window, this._id);\n            };\n\n            exports.enroll = function (item, msecs) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = msecs;\n            };\n\n            exports.unenroll = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = -1;\n            };\n\n            exports._unrefActive = exports.active = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              var msecs = item._idleTimeout;\n\n              if (msecs >= 0) {\n                item._idleTimeoutId = setTimeout(function onTimeout() {\n                  if (item._onTimeout) item._onTimeout();\n                }, msecs);\n              }\n            };\n\n            exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n              var id = nextImmediateId++;\n              var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n              immediateIds[id] = true;\n              nextTick(function onNextTick() {\n                if (immediateIds[id]) {\n                  if (args) {\n                    fn.apply(null, args);\n                  } else {\n                    fn.call(null);\n                  }\n\n                  exports.clearImmediate(id);\n                }\n              });\n              return id;\n            };\n            exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n              delete immediateIds[id];\n            };\n          }).call(this, require('timers').setImmediate, require('timers').clearImmediate);\n        }, {\n          'process/browser.js': 1,\n          'timers': 3\n        }],\n        4: [function (require, module, exports) {\n          var promisePolyfill = require('promise-polyfill');\n\n          var Global = function () {\n            if (typeof window !== 'undefined') {\n              return window;\n            } else {\n              return Function('return this;')();\n            }\n          }();\n\n          module.exports = {\n            boltExport: Global.Promise || promisePolyfill\n          };\n        }, {\n          'promise-polyfill': 2\n        }]\n      }, {}, [4])(4);\n    });\n  })(undefined, exports$1, module, undefined);\n\n  var Promise = module.exports.boltExport;\n\n  var nu = function nu(baseFn) {\n    var data = Option.none();\n    var callbacks = [];\n\n    var map = function map(f) {\n      return nu(function (nCallback) {\n        get(function (data) {\n          nCallback(f(data));\n        });\n      });\n    };\n\n    var get = function get(nCallback) {\n      if (isReady()) {\n        call(nCallback);\n      } else {\n        callbacks.push(nCallback);\n      }\n    };\n\n    var set = function set(x) {\n      data = Option.some(x);\n      run(callbacks);\n      callbacks = [];\n    };\n\n    var isReady = function isReady() {\n      return data.isSome();\n    };\n\n    var run = function run(cbs) {\n      each(cbs, call);\n    };\n\n    var call = function call(cb) {\n      data.each(function (x) {\n        domGlobals.setTimeout(function () {\n          cb(x);\n        }, 0);\n      });\n    };\n\n    baseFn(set);\n    return {\n      get: get,\n      map: map,\n      isReady: isReady\n    };\n  };\n\n  var pure = function pure(a) {\n    return nu(function (callback) {\n      callback(a);\n    });\n  };\n\n  var LazyValue = {\n    nu: nu,\n    pure: pure\n  };\n\n  var errorReporter = function errorReporter(err) {\n    domGlobals.setTimeout(function () {\n      throw err;\n    }, 0);\n  };\n\n  var make = function make(run) {\n    var get = function get(callback) {\n      run().then(callback, errorReporter);\n    };\n\n    var map = function map(fab) {\n      return make(function () {\n        return run().then(fab);\n      });\n    };\n\n    var bind = function bind(aFutureB) {\n      return make(function () {\n        return run().then(function (v) {\n          return aFutureB(v).toPromise();\n        });\n      });\n    };\n\n    var anonBind = function anonBind(futureB) {\n      return make(function () {\n        return run().then(function () {\n          return futureB.toPromise();\n        });\n      });\n    };\n\n    var toLazy = function toLazy() {\n      return LazyValue.nu(get);\n    };\n\n    var toCached = function toCached() {\n      var cache = null;\n      return make(function () {\n        if (cache === null) {\n          cache = run();\n        }\n\n        return cache;\n      });\n    };\n\n    var toPromise = run;\n    return {\n      map: map,\n      bind: bind,\n      anonBind: anonBind,\n      toLazy: toLazy,\n      toCached: toCached,\n      toPromise: toPromise,\n      get: get\n    };\n  };\n\n  var nu$1 = function nu$1(baseFn) {\n    return make(function () {\n      return new Promise(baseFn);\n    });\n  };\n\n  var pure$1 = function pure$1(a) {\n    return make(function () {\n      return Promise.resolve(a);\n    });\n  };\n\n  var Future = {\n    nu: nu$1,\n    pure: pure$1\n  };\n\n  var par = function par(asyncValues, nu) {\n    return nu(function (callback) {\n      var r = [];\n      var count = 0;\n\n      var cb = function cb(i) {\n        return function (value) {\n          r[i] = value;\n          count++;\n\n          if (count >= asyncValues.length) {\n            callback(r);\n          }\n        };\n      };\n\n      if (asyncValues.length === 0) {\n        callback([]);\n      } else {\n        each(asyncValues, function (asyncValue, i) {\n          asyncValue.get(cb(i));\n        });\n      }\n    });\n  };\n\n  var par$1 = function par$1(futures) {\n    return par(futures, Future.nu);\n  };\n\n  var mapM = function mapM(array, fn) {\n    var futures = map(array, fn);\n    return par$1(futures);\n  };\n\n  var value = function value() {\n    var subject = Cell(Option.none());\n\n    var clear = function clear() {\n      subject.set(Option.none());\n    };\n\n    var set = function set(s) {\n      subject.set(Option.some(s));\n    };\n\n    var on = function on(f) {\n      subject.get().each(f);\n    };\n\n    var isSet = function isSet() {\n      return subject.get().isSome();\n    };\n\n    return {\n      clear: clear,\n      set: set,\n      isSet: isSet,\n      on: on\n    };\n  };\n\n  var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n  var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n  var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n  var global$5 = tinymce.util.Tools.resolve('tinymce.util.VK');\n  var internalMimeType = 'x-tinymce/html';\n  var internalMark = '<!-- ' + internalMimeType + ' -->';\n\n  var mark = function mark(html) {\n    return internalMark + html;\n  };\n\n  var unmark = function unmark(html) {\n    return html.replace(internalMark, '');\n  };\n\n  var isMarked = function isMarked(html) {\n    return html.indexOf(internalMark) !== -1;\n  };\n\n  var InternalHtml = {\n    mark: mark,\n    unmark: unmark,\n    isMarked: isMarked,\n    internalHtmlMime: function internalHtmlMime() {\n      return internalMimeType;\n    }\n  };\n  var global$6 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n  var isPlainText = function isPlainText(text) {\n    return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n  };\n\n  var toBRs = function toBRs(text) {\n    return text.replace(/\\r?\\n/g, '<br>');\n  };\n\n  var openContainer = function openContainer(rootTag, rootAttrs) {\n    var key;\n    var attrs = [];\n    var tag = '<' + rootTag;\n\n    if (typeof rootAttrs === 'object') {\n      for (key in rootAttrs) {\n        if (rootAttrs.hasOwnProperty(key)) {\n          attrs.push(key + '=\"' + global$6.encodeAllRaw(rootAttrs[key]) + '\"');\n        }\n      }\n\n      if (attrs.length) {\n        tag += ' ' + attrs.join(' ');\n      }\n    }\n\n    return tag + '>';\n  };\n\n  var toBlockElements = function toBlockElements(text, rootTag, rootAttrs) {\n    var blocks = text.split(/\\n\\n/);\n    var tagOpen = openContainer(rootTag, rootAttrs);\n    var tagClose = '</' + rootTag + '>';\n    var paragraphs = global$4.map(blocks, function (p) {\n      return p.split(/\\n/).join('<br />');\n    });\n\n    var stitch = function stitch(p) {\n      return tagOpen + p + tagClose;\n    };\n\n    return paragraphs.length === 1 ? paragraphs[0] : global$4.map(paragraphs, stitch).join('');\n  };\n\n  var convert = function convert(text, rootTag, rootAttrs) {\n    return rootTag ? toBlockElements(text, rootTag === true ? 'p' : rootTag, rootAttrs) : toBRs(text);\n  };\n\n  var Newlines = {\n    isPlainText: isPlainText,\n    convert: convert,\n    toBRs: toBRs,\n    toBlockElements: toBlockElements\n  };\n  var global$7 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n  var global$8 = tinymce.util.Tools.resolve('tinymce.html.Node');\n  var global$9 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n  var global$a = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n  var shouldBlockDrop = function shouldBlockDrop(editor) {\n    return editor.getParam('paste_block_drop', false);\n  };\n\n  var shouldPasteDataImages = function shouldPasteDataImages(editor) {\n    return editor.getParam('paste_data_images', false);\n  };\n\n  var shouldFilterDrop = function shouldFilterDrop(editor) {\n    return editor.getParam('paste_filter_drop', true);\n  };\n\n  var getPreProcess = function getPreProcess(editor) {\n    return editor.getParam('paste_preprocess');\n  };\n\n  var getPostProcess = function getPostProcess(editor) {\n    return editor.getParam('paste_postprocess');\n  };\n\n  var getWebkitStyles = function getWebkitStyles(editor) {\n    return editor.getParam('paste_webkit_styles');\n  };\n\n  var shouldRemoveWebKitStyles = function shouldRemoveWebKitStyles(editor) {\n    return editor.getParam('paste_remove_styles_if_webkit', true);\n  };\n\n  var shouldMergeFormats = function shouldMergeFormats(editor) {\n    return editor.getParam('paste_merge_formats', true);\n  };\n\n  var isSmartPasteEnabled = function isSmartPasteEnabled(editor) {\n    return editor.getParam('smart_paste', true);\n  };\n\n  var isPasteAsTextEnabled = function isPasteAsTextEnabled(editor) {\n    return editor.getParam('paste_as_text', false);\n  };\n\n  var getRetainStyleProps = function getRetainStyleProps(editor) {\n    return editor.getParam('paste_retain_style_properties');\n  };\n\n  var getWordValidElements = function getWordValidElements(editor) {\n    var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n    return editor.getParam('paste_word_valid_elements', defaultValidElements);\n  };\n\n  var shouldConvertWordFakeLists = function shouldConvertWordFakeLists(editor) {\n    return editor.getParam('paste_convert_word_fake_lists', true);\n  };\n\n  var shouldUseDefaultFilters = function shouldUseDefaultFilters(editor) {\n    return editor.getParam('paste_enable_default_filters', true);\n  };\n\n  var Settings = {\n    shouldBlockDrop: shouldBlockDrop,\n    shouldPasteDataImages: shouldPasteDataImages,\n    shouldFilterDrop: shouldFilterDrop,\n    getPreProcess: getPreProcess,\n    getPostProcess: getPostProcess,\n    getWebkitStyles: getWebkitStyles,\n    shouldRemoveWebKitStyles: shouldRemoveWebKitStyles,\n    shouldMergeFormats: shouldMergeFormats,\n    isSmartPasteEnabled: isSmartPasteEnabled,\n    isPasteAsTextEnabled: isPasteAsTextEnabled,\n    getRetainStyleProps: getRetainStyleProps,\n    getWordValidElements: getWordValidElements,\n    shouldConvertWordFakeLists: shouldConvertWordFakeLists,\n    shouldUseDefaultFilters: shouldUseDefaultFilters\n  };\n\n  function filter$1(content, items) {\n    global$4.each(items, function (v) {\n      if (v.constructor === RegExp) {\n        content = content.replace(v, '');\n      } else {\n        content = content.replace(v[0], v[1]);\n      }\n    });\n    return content;\n  }\n\n  function innerText(html) {\n    var schema = global$9();\n    var domParser = global$7({}, schema);\n    var text = '';\n    var shortEndedElements = schema.getShortEndedElements();\n    var ignoreElements = global$4.makeMap('script noscript style textarea video audio iframe object', ' ');\n    var blockElements = schema.getBlockElements();\n\n    function walk(node) {\n      var name = node.name,\n          currentNode = node;\n\n      if (name === 'br') {\n        text += '\\n';\n        return;\n      }\n\n      if (name === 'wbr') {\n        return;\n      }\n\n      if (shortEndedElements[name]) {\n        text += ' ';\n      }\n\n      if (ignoreElements[name]) {\n        text += ' ';\n        return;\n      }\n\n      if (node.type === 3) {\n        text += node.value;\n      }\n\n      if (!node.shortEnded) {\n        if (node = node.firstChild) {\n          do {\n            walk(node);\n          } while (node = node.next);\n        }\n      }\n\n      if (blockElements[name] && currentNode.next) {\n        text += '\\n';\n\n        if (name === 'p') {\n          text += '\\n';\n        }\n      }\n    }\n\n    html = filter$1(html, [/<!\\[[^\\]]+\\]>/g]);\n    walk(domParser.parse(html));\n    return text;\n  }\n\n  function trimHtml(html) {\n    function trimSpaces(all, s1, s2) {\n      if (!s1 && !s2) {\n        return ' ';\n      }\n\n      return '\\xA0';\n    }\n\n    html = filter$1(html, [/^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g, trimSpaces], /<br class=\"Apple-interchange-newline\">/g, /<br>$/i]);\n    return html;\n  }\n\n  function createIdGenerator(prefix) {\n    var count = 0;\n    return function () {\n      return prefix + count++;\n    };\n  }\n\n  var isMsEdge = function isMsEdge() {\n    return domGlobals.navigator.userAgent.indexOf(' Edge/') !== -1;\n  };\n\n  var Utils = {\n    filter: filter$1,\n    innerText: innerText,\n    trimHtml: trimHtml,\n    createIdGenerator: createIdGenerator,\n    isMsEdge: isMsEdge\n  };\n\n  function isWordContent(content) {\n    return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n  }\n\n  function isNumericList(text) {\n    var found, patterns;\n    patterns = [/^[IVXLMCD]{1,2}\\.[ \\u00a0]/, /^[ivxlmcd]{1,2}\\.[ \\u00a0]/, /^[a-z]{1,2}[\\.\\)][ \\u00a0]/, /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/, /^[0-9]+\\.[ \\u00a0]/, /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/, /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/];\n    text = text.replace(/^[\\u00a0 ]+/, '');\n    global$4.each(patterns, function (pattern) {\n      if (pattern.test(text)) {\n        found = true;\n        return false;\n      }\n    });\n    return found;\n  }\n\n  function isBulletList(text) {\n    return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n  }\n\n  function convertFakeListsToProperLists(node) {\n    var currentListNode,\n        prevListNode,\n        lastLevel = 1;\n\n    function getText(node) {\n      var txt = '';\n\n      if (node.type === 3) {\n        return node.value;\n      }\n\n      if (node = node.firstChild) {\n        do {\n          txt += getText(node);\n        } while (node = node.next);\n      }\n\n      return txt;\n    }\n\n    function trimListStart(node, regExp) {\n      if (node.type === 3) {\n        if (regExp.test(node.value)) {\n          node.value = node.value.replace(regExp, '');\n          return false;\n        }\n      }\n\n      if (node = node.firstChild) {\n        do {\n          if (!trimListStart(node, regExp)) {\n            return false;\n          }\n        } while (node = node.next);\n      }\n\n      return true;\n    }\n\n    function removeIgnoredNodes(node) {\n      if (node._listIgnore) {\n        node.remove();\n        return;\n      }\n\n      if (node = node.firstChild) {\n        do {\n          removeIgnoredNodes(node);\n        } while (node = node.next);\n      }\n    }\n\n    function convertParagraphToLi(paragraphNode, listName, start) {\n      var level = paragraphNode._listLevel || lastLevel;\n\n      if (level !== lastLevel) {\n        if (level < lastLevel) {\n          if (currentListNode) {\n            currentListNode = currentListNode.parent.parent;\n          }\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n\n      if (!currentListNode || currentListNode.name !== listName) {\n        prevListNode = prevListNode || currentListNode;\n        currentListNode = new global$8(listName, 1);\n\n        if (start > 1) {\n          currentListNode.attr('start', '' + start);\n        }\n\n        paragraphNode.wrap(currentListNode);\n      } else {\n        currentListNode.append(paragraphNode);\n      }\n\n      paragraphNode.name = 'li';\n\n      if (level > lastLevel && prevListNode) {\n        prevListNode.lastChild.append(currentListNode);\n      }\n\n      lastLevel = level;\n      removeIgnoredNodes(paragraphNode);\n      trimListStart(paragraphNode, /^\\u00a0+/);\n      trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n      trimListStart(paragraphNode, /^\\u00a0+/);\n    }\n\n    var elements = [];\n    var child = node.firstChild;\n\n    while (typeof child !== 'undefined' && child !== null) {\n      elements.push(child);\n      child = child.walk();\n\n      if (child !== null) {\n        while (typeof child !== 'undefined' && child.parent !== node) {\n          child = child.walk();\n        }\n      }\n    }\n\n    for (var i = 0; i < elements.length; i++) {\n      node = elements[i];\n\n      if (node.name === 'p' && node.firstChild) {\n        var nodeText = getText(node);\n\n        if (isBulletList(nodeText)) {\n          convertParagraphToLi(node, 'ul');\n          continue;\n        }\n\n        if (isNumericList(nodeText)) {\n          var matches = /([0-9]+)\\./.exec(nodeText);\n          var start = 1;\n\n          if (matches) {\n            start = parseInt(matches[1], 10);\n          }\n\n          convertParagraphToLi(node, 'ol', start);\n          continue;\n        }\n\n        if (node._listLevel) {\n          convertParagraphToLi(node, 'ul', 1);\n          continue;\n        }\n\n        currentListNode = null;\n      } else {\n        prevListNode = currentListNode;\n        currentListNode = null;\n      }\n    }\n  }\n\n  function filterStyles(editor, validStyles, node, styleValue) {\n    var outputStyles = {},\n        matches;\n    var styles = editor.dom.parseStyle(styleValue);\n    global$4.each(styles, function (value, name) {\n      switch (name) {\n        case 'mso-list':\n          matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n\n          break;\n\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n\n          return;\n\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n\n          break;\n      }\n\n      if (name.indexOf('mso-comment') === 0) {\n        node.remove();\n        return;\n      }\n\n      if (name.indexOf('mso-') === 0) {\n        return;\n      }\n\n      if (Settings.getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n        outputStyles[name] = value;\n      }\n    });\n\n    if (/(bold)/i.test(outputStyles['font-weight'])) {\n      delete outputStyles['font-weight'];\n      node.wrap(new global$8('b', 1));\n    }\n\n    if (/(italic)/i.test(outputStyles['font-style'])) {\n      delete outputStyles['font-style'];\n      node.wrap(new global$8('i', 1));\n    }\n\n    outputStyles = editor.dom.serializeStyle(outputStyles, node.name);\n\n    if (outputStyles) {\n      return outputStyles;\n    }\n\n    return null;\n  }\n\n  var filterWordContent = function filterWordContent(editor, content) {\n    var retainStyleProperties, validStyles;\n    retainStyleProperties = Settings.getRetainStyleProps(editor);\n\n    if (retainStyleProperties) {\n      validStyles = global$4.makeMap(retainStyleProperties.split(/[, ]/));\n    }\n\n    content = Utils.filter(content, [/<br class=\"?Apple-interchange-newline\"?>/gi, /<b[^>]+id=\"?docs-internal-[^>]*>/gi, /<!--[\\s\\S]+?-->/gi, /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi, [/<(\\/?)s>/gi, '<$1strike>'], [/&nbsp;/gi, '\\xA0'], [/<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi, function (str, spaces) {\n      return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join('\\xA0') : '';\n    }]]);\n    var validElements = Settings.getWordValidElements(editor);\n    var schema = global$9({\n      valid_elements: validElements,\n      valid_children: '-li[p]'\n    });\n    global$4.each(schema.elements, function (rule) {\n      if (!rule.attributes.class) {\n        rule.attributes.class = {};\n        rule.attributesOrder.push('class');\n      }\n\n      if (!rule.attributes.style) {\n        rule.attributes.style = {};\n        rule.attributesOrder.push('style');\n      }\n    });\n    var domParser = global$7({}, schema);\n    domParser.addAttributeFilter('style', function (nodes) {\n      var i = nodes.length,\n          node;\n\n      while (i--) {\n        node = nodes[i];\n        node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n\n        if (node.name === 'span' && node.parent && !node.attributes.length) {\n          node.unwrap();\n        }\n      }\n    });\n    domParser.addAttributeFilter('class', function (nodes) {\n      var i = nodes.length,\n          node,\n          className;\n\n      while (i--) {\n        node = nodes[i];\n        className = node.attr('class');\n\n        if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n          node.remove();\n        }\n\n        node.attr('class', null);\n      }\n    });\n    domParser.addNodeFilter('del', function (nodes) {\n      var i = nodes.length;\n\n      while (i--) {\n        nodes[i].remove();\n      }\n    });\n    domParser.addNodeFilter('a', function (nodes) {\n      var i = nodes.length,\n          node,\n          href,\n          name;\n\n      while (i--) {\n        node = nodes[i];\n        href = node.attr('href');\n        name = node.attr('name');\n\n        if (href && href.indexOf('#_msocom_') !== -1) {\n          node.remove();\n          continue;\n        }\n\n        if (href && href.indexOf('file://') === 0) {\n          href = href.split('#')[1];\n\n          if (href) {\n            href = '#' + href;\n          }\n        }\n\n        if (!href && !name) {\n          node.unwrap();\n        } else {\n          if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n            node.unwrap();\n            continue;\n          }\n\n          node.attr({\n            href: href,\n            name: name\n          });\n        }\n      }\n    });\n    var rootNode = domParser.parse(content);\n\n    if (Settings.shouldConvertWordFakeLists(editor)) {\n      convertFakeListsToProperLists(rootNode);\n    }\n\n    content = global$a({\n      validate: editor.settings.validate\n    }, schema).serialize(rootNode);\n    return content;\n  };\n\n  var preProcess = function preProcess(editor, content) {\n    return Settings.shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n  };\n\n  var WordFilter = {\n    preProcess: preProcess,\n    isWordContent: isWordContent\n  };\n\n  var processResult = function processResult(content, cancelled) {\n    return {\n      content: content,\n      cancelled: cancelled\n    };\n  };\n\n  var postProcessFilter = function postProcessFilter(editor, html, internal, isWordHtml) {\n    var tempBody = editor.dom.create('div', {\n      style: 'display:none'\n    }, html);\n    var postProcessArgs = Events.firePastePostProcess(editor, tempBody, internal, isWordHtml);\n    return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n  };\n\n  var filterContent = function filterContent(editor, content, internal, isWordHtml) {\n    var preProcessArgs = Events.firePastePreProcess(editor, content, internal, isWordHtml);\n\n    if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n      return postProcessFilter(editor, preProcessArgs.content, internal, isWordHtml);\n    } else {\n      return processResult(preProcessArgs.content, preProcessArgs.isDefaultPrevented());\n    }\n  };\n\n  var process = function process(editor, html, internal) {\n    var isWordHtml = WordFilter.isWordContent(html);\n    var content = isWordHtml ? WordFilter.preProcess(editor, html) : html;\n    return filterContent(editor, content, internal, isWordHtml);\n  };\n\n  var ProcessFilters = {\n    process: process\n  };\n\n  var removeMeta = function removeMeta(editor, html) {\n    var body = editor.dom.create('body', {}, html);\n    global$4.each(body.querySelectorAll('meta'), function (elm) {\n      return elm.parentNode.removeChild(elm);\n    });\n    return body.innerHTML;\n  };\n\n  var pasteHtml = function pasteHtml(editor, html) {\n    editor.insertContent(removeMeta(editor, html), {\n      merge: Settings.shouldMergeFormats(editor),\n      paste: true\n    });\n    return true;\n  };\n\n  var isAbsoluteUrl = function isAbsoluteUrl(url) {\n    return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n  };\n\n  var isImageUrl = function isImageUrl(url) {\n    return isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);\n  };\n\n  var createImage = function createImage(editor, url, pasteHtmlFn) {\n    editor.undoManager.extra(function () {\n      pasteHtmlFn(editor, url);\n    }, function () {\n      editor.insertContent('<img src=\"' + url + '\">');\n    });\n    return true;\n  };\n\n  var createLink = function createLink(editor, url, pasteHtmlFn) {\n    editor.undoManager.extra(function () {\n      pasteHtmlFn(editor, url);\n    }, function () {\n      editor.execCommand('mceInsertLink', false, url);\n    });\n    return true;\n  };\n\n  var linkSelection = function linkSelection(editor, html, pasteHtmlFn) {\n    return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n  };\n\n  var insertImage = function insertImage(editor, html, pasteHtmlFn) {\n    return isImageUrl(html) ? createImage(editor, html, pasteHtmlFn) : false;\n  };\n\n  var smartInsertContent = function smartInsertContent(editor, html) {\n    global$4.each([linkSelection, insertImage, pasteHtml], function (action) {\n      return action(editor, html, pasteHtml) !== true;\n    });\n  };\n\n  var insertContent = function insertContent(editor, html) {\n    if (Settings.isSmartPasteEnabled(editor) === false) {\n      pasteHtml(editor, html);\n    } else {\n      smartInsertContent(editor, html);\n    }\n  };\n\n  var SmartPaste = {\n    isImageUrl: isImageUrl,\n    isAbsoluteUrl: isAbsoluteUrl,\n    insertContent: insertContent\n  };\n\n  var isCollapsibleWhitespace = function isCollapsibleWhitespace(c) {\n    return ' \\f\\t\\x0B'.indexOf(c) !== -1;\n  };\n\n  var isNewLineChar = function isNewLineChar(c) {\n    return c === '\\n' || c === '\\r';\n  };\n\n  var isNewline = function isNewline(text, idx) {\n    return idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n  };\n\n  var normalizeWhitespace = function normalizeWhitespace(text) {\n    var result = foldl(text, function (acc, c) {\n      if (isCollapsibleWhitespace(c) || c === '\\xA0') {\n        if (acc.pcIsSpace || acc.str === '' || acc.str.length === text.length - 1 || isNewline(text, acc.str.length + 1)) {\n          return {\n            pcIsSpace: false,\n            str: acc.str + '\\xA0'\n          };\n        } else {\n          return {\n            pcIsSpace: true,\n            str: acc.str + ' '\n          };\n        }\n      } else {\n        return {\n          pcIsSpace: isNewLineChar(c),\n          str: acc.str + c\n        };\n      }\n    }, {\n      pcIsSpace: false,\n      str: ''\n    });\n    return result.str;\n  };\n\n  var pasteHtml$1 = function pasteHtml$1(editor, html, internalFlag) {\n    var internal = internalFlag ? internalFlag : InternalHtml.isMarked(html);\n    var args = ProcessFilters.process(editor, InternalHtml.unmark(html), internal);\n\n    if (args.cancelled === false) {\n      SmartPaste.insertContent(editor, args.content);\n    }\n  };\n\n  var _pasteText = function pasteText(editor, text) {\n    var encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n    var normalizedText = normalizeWhitespace(encodedText);\n    var html = Newlines.convert(normalizedText, editor.settings.forced_root_block, editor.settings.forced_root_block_attrs);\n    pasteHtml$1(editor, html, false);\n  };\n\n  var getDataTransferItems = function getDataTransferItems(dataTransfer) {\n    var items = {};\n    var mceInternalUrlPrefix = 'data:text/mce-internal,';\n\n    if (dataTransfer) {\n      if (dataTransfer.getData) {\n        var legacyText = dataTransfer.getData('Text');\n\n        if (legacyText && legacyText.length > 0) {\n          if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n            items['text/plain'] = legacyText;\n          }\n        }\n      }\n\n      if (dataTransfer.types) {\n        for (var i = 0; i < dataTransfer.types.length; i++) {\n          var contentType = dataTransfer.types[i];\n\n          try {\n            items[contentType] = dataTransfer.getData(contentType);\n          } catch (ex) {\n            items[contentType] = '';\n          }\n        }\n      }\n    }\n\n    return items;\n  };\n\n  var getClipboardContent = function getClipboardContent(editor, clipboardEvent) {\n    var content = getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n    return Utils.isMsEdge() ? global$4.extend(content, {\n      'text/html': ''\n    }) : content;\n  };\n\n  var hasContentType = function hasContentType(clipboardContent, mimeType) {\n    return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n  };\n\n  var hasHtmlOrText = function hasHtmlOrText(content) {\n    return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n  };\n\n  var getBase64FromUri = function getBase64FromUri(uri) {\n    var idx;\n    idx = uri.indexOf(',');\n\n    if (idx !== -1) {\n      return uri.substr(idx + 1);\n    }\n\n    return null;\n  };\n\n  var isValidDataUriImage = function isValidDataUriImage(settings, imgElm) {\n    return settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\n  };\n\n  var extractFilename = function extractFilename(editor, str) {\n    var m = str.match(/([\\s\\S]+?)\\.(?:jpeg|jpg|png|gif)$/i);\n    return m ? editor.dom.encode(m[1]) : null;\n  };\n\n  var uniqueId = Utils.createIdGenerator('mceclip');\n\n  var pasteImage = function pasteImage(editor, imageItem) {\n    var base64 = getBase64FromUri(imageItem.uri);\n    var id = uniqueId();\n    var name = editor.settings.images_reuse_filename && imageItem.blob.name ? extractFilename(editor, imageItem.blob.name) : id;\n    var img = new domGlobals.Image();\n    img.src = imageItem.uri;\n\n    if (isValidDataUriImage(editor.settings, img)) {\n      var blobCache = editor.editorUpload.blobCache;\n      var blobInfo = void 0,\n          existingBlobInfo = void 0;\n      existingBlobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n        return cachedBlobInfo.base64() === base64;\n      });\n\n      if (!existingBlobInfo) {\n        blobInfo = blobCache.create(id, imageItem.blob, base64, name);\n        blobCache.add(blobInfo);\n      } else {\n        blobInfo = existingBlobInfo;\n      }\n\n      pasteHtml$1(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n    } else {\n      pasteHtml$1(editor, '<img src=\"' + imageItem.uri + '\">', false);\n    }\n  };\n\n  var isClipboardEvent = function isClipboardEvent(event) {\n    return event.type === 'paste';\n  };\n\n  var readBlobsAsDataUris = function readBlobsAsDataUris(items) {\n    return mapM(items, function (item) {\n      return Future.nu(function (resolve) {\n        var blob = item.getAsFile ? item.getAsFile() : item;\n        var reader = new window.FileReader();\n\n        reader.onload = function () {\n          resolve({\n            blob: blob,\n            uri: reader.result\n          });\n        };\n\n        reader.readAsDataURL(blob);\n      });\n    });\n  };\n\n  var getImagesFromDataTransfer = function getImagesFromDataTransfer(dataTransfer) {\n    var items = dataTransfer.items ? map(from$1(dataTransfer.items), function (item) {\n      return item.getAsFile();\n    }) : [];\n    var files = dataTransfer.files ? from$1(dataTransfer.files) : [];\n    var images = filter(items.length > 0 ? items : files, function (file) {\n      return /^image\\/(jpeg|png|gif|bmp)$/.test(file.type);\n    });\n    return images;\n  };\n\n  var _pasteImageData = function pasteImageData(editor, e, rng) {\n    var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n\n    if (editor.settings.paste_data_images && dataTransfer) {\n      var images = getImagesFromDataTransfer(dataTransfer);\n\n      if (images.length > 0) {\n        e.preventDefault();\n        readBlobsAsDataUris(images).get(function (blobResults) {\n          if (rng) {\n            editor.selection.setRng(rng);\n          }\n\n          each(blobResults, function (result) {\n            pasteImage(editor, result);\n          });\n        });\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var isBrokenAndroidClipboardEvent = function isBrokenAndroidClipboardEvent(e) {\n    var clipboardData = e.clipboardData;\n    return domGlobals.navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n  };\n\n  var isKeyboardPasteEvent = function isKeyboardPasteEvent(e) {\n    return global$5.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n  };\n\n  var registerEventHandlers = function registerEventHandlers(editor, pasteBin, pasteFormat) {\n    var keyboardPasteEvent = value();\n    var keyboardPastePlainTextState;\n    editor.on('keydown', function (e) {\n      function removePasteBinOnKeyUp(e) {\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          pasteBin.remove();\n        }\n      }\n\n      if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n        keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n\n        if (keyboardPastePlainTextState && global$2.webkit && domGlobals.navigator.userAgent.indexOf('Version/') !== -1) {\n          return;\n        }\n\n        e.stopImmediatePropagation();\n        keyboardPasteEvent.set(e);\n        window.setTimeout(function () {\n          keyboardPasteEvent.clear();\n        }, 100);\n\n        if (global$2.ie && keyboardPastePlainTextState) {\n          e.preventDefault();\n          Events.firePaste(editor, true);\n          return;\n        }\n\n        pasteBin.remove();\n        pasteBin.create();\n        editor.once('keyup', removePasteBinOnKeyUp);\n        editor.once('paste', function () {\n          editor.off('keyup', removePasteBinOnKeyUp);\n        });\n      }\n    });\n\n    function insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n      var content, isPlainTextHtml;\n\n      if (hasContentType(clipboardContent, 'text/html')) {\n        content = clipboardContent['text/html'];\n      } else {\n        content = pasteBin.getHtml();\n        internal = internal ? internal : InternalHtml.isMarked(content);\n\n        if (pasteBin.isDefaultContent(content)) {\n          plainTextMode = true;\n        }\n      }\n\n      content = Utils.trimHtml(content);\n      pasteBin.remove();\n      isPlainTextHtml = internal === false && Newlines.isPlainText(content);\n\n      if (!content.length || isPlainTextHtml) {\n        plainTextMode = true;\n      }\n\n      if (plainTextMode) {\n        if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n          content = clipboardContent['text/plain'];\n        } else {\n          content = Utils.innerText(content);\n        }\n      }\n\n      if (pasteBin.isDefaultContent(content)) {\n        if (!isKeyBoardPaste) {\n          editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n        }\n\n        return;\n      }\n\n      if (plainTextMode) {\n        _pasteText(editor, content);\n      } else {\n        pasteHtml$1(editor, content, internal);\n      }\n    }\n\n    var getLastRng = function getLastRng() {\n      return pasteBin.getLastRng() || editor.selection.getRng();\n    };\n\n    editor.on('paste', function (e) {\n      var isKeyBoardPaste = keyboardPasteEvent.isSet();\n      var clipboardContent = getClipboardContent(editor, e);\n      var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n      var internal = hasContentType(clipboardContent, InternalHtml.internalHtmlMime());\n      keyboardPastePlainTextState = false;\n\n      if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n        pasteBin.remove();\n        return;\n      }\n\n      if (!hasHtmlOrText(clipboardContent) && _pasteImageData(editor, e, getLastRng())) {\n        pasteBin.remove();\n        return;\n      }\n\n      if (!isKeyBoardPaste) {\n        e.preventDefault();\n      }\n\n      if (global$2.ie && (!isKeyBoardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n        pasteBin.create();\n        editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n          e.stopPropagation();\n        });\n        editor.getDoc().execCommand('Paste', false, null);\n        clipboardContent['text/html'] = pasteBin.getHtml();\n      }\n\n      if (hasContentType(clipboardContent, 'text/html')) {\n        e.preventDefault();\n\n        if (!internal) {\n          internal = InternalHtml.isMarked(clipboardContent['text/html']);\n        }\n\n        insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n      } else {\n        global$3.setEditorTimeout(editor, function () {\n          insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n        }, 0);\n      }\n    });\n  };\n\n  var registerEventsAndFilters = function registerEventsAndFilters(editor, pasteBin, pasteFormat) {\n    registerEventHandlers(editor, pasteBin, pasteFormat);\n    var src;\n    editor.parser.addNodeFilter('img', function (nodes, name, args) {\n      var isPasteInsert = function isPasteInsert(args) {\n        return args.data && args.data.paste === true;\n      };\n\n      var remove = function remove(node) {\n        if (!node.attr('data-mce-object') && src !== global$2.transparentSrc) {\n          node.remove();\n        }\n      };\n\n      var isWebKitFakeUrl = function isWebKitFakeUrl(src) {\n        return src.indexOf('webkit-fake-url') === 0;\n      };\n\n      var isDataUri = function isDataUri(src) {\n        return src.indexOf('data:') === 0;\n      };\n\n      if (!editor.settings.paste_data_images && isPasteInsert(args)) {\n        var i = nodes.length;\n\n        while (i--) {\n          src = nodes[i].attr('src');\n\n          if (!src) {\n            continue;\n          }\n\n          if (isWebKitFakeUrl(src)) {\n            remove(nodes[i]);\n          } else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {\n            remove(nodes[i]);\n          }\n        }\n      }\n    });\n  };\n\n  var getPasteBinParent = function getPasteBinParent(editor) {\n    return global$2.ie && editor.inline ? domGlobals.document.body : editor.getBody();\n  };\n\n  var isExternalPasteBin = function isExternalPasteBin(editor) {\n    return getPasteBinParent(editor) !== editor.getBody();\n  };\n\n  var delegatePasteEvents = function delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent) {\n    if (isExternalPasteBin(editor)) {\n      editor.dom.bind(pasteBinElm, 'paste keyup', function (e) {\n        if (!_isDefault(editor, pasteBinDefaultContent)) {\n          editor.fire('paste');\n        }\n      });\n    }\n  };\n\n  var _create = function create(editor, lastRngCell, pasteBinDefaultContent) {\n    var dom = editor.dom,\n        body = editor.getBody();\n    var pasteBinElm;\n    lastRngCell.set(editor.selection.getRng());\n    pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n      'id': 'mcepastebin',\n      'class': 'mce-pastebin',\n      'contentEditable': true,\n      'data-mce-bogus': 'all',\n      'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n    }, pasteBinDefaultContent);\n\n    if (global$2.ie || global$2.gecko) {\n      dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n    }\n\n    dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n      e.stopPropagation();\n    });\n    delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n    pasteBinElm.focus();\n    editor.selection.select(pasteBinElm, true);\n  };\n\n  var _remove = function remove(editor, lastRngCell) {\n    if (_getEl(editor)) {\n      var pasteBinClone = void 0;\n      var lastRng = lastRngCell.get();\n\n      while (pasteBinClone = editor.dom.get('mcepastebin')) {\n        editor.dom.remove(pasteBinClone);\n        editor.dom.unbind(pasteBinClone);\n      }\n\n      if (lastRng) {\n        editor.selection.setRng(lastRng);\n      }\n    }\n\n    lastRngCell.set(null);\n  };\n\n  var _getEl = function getEl(editor) {\n    return editor.dom.get('mcepastebin');\n  };\n\n  var _getHtml = function getHtml(editor) {\n    var pasteBinElm, pasteBinClones, i, dirtyWrappers, cleanWrapper;\n\n    var copyAndRemove = function copyAndRemove(toElm, fromElm) {\n      toElm.appendChild(fromElm);\n      editor.dom.remove(fromElm, true);\n    };\n\n    pasteBinClones = global$4.grep(getPasteBinParent(editor).childNodes, function (elm) {\n      return elm.id === 'mcepastebin';\n    });\n    pasteBinElm = pasteBinClones.shift();\n    global$4.each(pasteBinClones, function (pasteBinClone) {\n      copyAndRemove(pasteBinElm, pasteBinClone);\n    });\n    dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n\n    for (i = dirtyWrappers.length - 1; i >= 0; i--) {\n      cleanWrapper = editor.dom.create('div');\n      pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n      copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n    }\n\n    return pasteBinElm ? pasteBinElm.innerHTML : '';\n  };\n\n  var _getLastRng = function getLastRng(lastRng) {\n    return lastRng.get();\n  };\n\n  var _isDefaultContent = function isDefaultContent(pasteBinDefaultContent, content) {\n    return content === pasteBinDefaultContent;\n  };\n\n  var isPasteBin = function isPasteBin(elm) {\n    return elm && elm.id === 'mcepastebin';\n  };\n\n  var _isDefault = function isDefault(editor, pasteBinDefaultContent) {\n    var pasteBinElm = _getEl(editor);\n\n    return isPasteBin(pasteBinElm) && _isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n  };\n\n  var PasteBin = function PasteBin(editor) {\n    var lastRng = Cell(null);\n    var pasteBinDefaultContent = '%MCEPASTEBIN%';\n    return {\n      create: function create() {\n        return _create(editor, lastRng, pasteBinDefaultContent);\n      },\n      remove: function remove() {\n        return _remove(editor, lastRng);\n      },\n      getEl: function getEl() {\n        return _getEl(editor);\n      },\n      getHtml: function getHtml() {\n        return _getHtml(editor);\n      },\n      getLastRng: function getLastRng() {\n        return _getLastRng(lastRng);\n      },\n      isDefault: function isDefault() {\n        return _isDefault(editor, pasteBinDefaultContent);\n      },\n      isDefaultContent: function isDefaultContent(content) {\n        return _isDefaultContent(pasteBinDefaultContent, content);\n      }\n    };\n  };\n\n  var Clipboard = function Clipboard(editor, pasteFormat) {\n    var pasteBin = PasteBin(editor);\n    editor.on('PreInit', function () {\n      return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n    });\n    return {\n      pasteFormat: pasteFormat,\n      pasteHtml: function pasteHtml(html, internalFlag) {\n        return pasteHtml$1(editor, html, internalFlag);\n      },\n      pasteText: function pasteText(text) {\n        return _pasteText(editor, text);\n      },\n      pasteImageData: function pasteImageData(e, rng) {\n        return _pasteImageData(editor, e, rng);\n      },\n      getDataTransferItems: getDataTransferItems,\n      hasHtmlOrText: hasHtmlOrText,\n      hasContentType: hasContentType\n    };\n  };\n\n  var noop = function noop() {};\n\n  var hasWorkingClipboardApi = function hasWorkingClipboardApi(clipboardData) {\n    return global$2.iOS === false && clipboardData !== undefined && typeof clipboardData.setData === 'function' && Utils.isMsEdge() !== true;\n  };\n\n  var setHtml5Clipboard = function setHtml5Clipboard(clipboardData, html, text) {\n    if (hasWorkingClipboardApi(clipboardData)) {\n      try {\n        clipboardData.clearData();\n        clipboardData.setData('text/html', html);\n        clipboardData.setData('text/plain', text);\n        clipboardData.setData(InternalHtml.internalHtmlMime(), html);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  };\n\n  var setClipboardData = function setClipboardData(evt, data, fallback, done) {\n    if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n      evt.preventDefault();\n      done();\n    } else {\n      fallback(data.html, done);\n    }\n  };\n\n  var fallback = function fallback(editor) {\n    return function (html, done) {\n      var markedHtml = InternalHtml.mark(html);\n      var outer = editor.dom.create('div', {\n        'contenteditable': 'false',\n        'data-mce-bogus': 'all'\n      });\n      var inner = editor.dom.create('div', {\n        contenteditable: 'true'\n      }, markedHtml);\n      editor.dom.setStyles(outer, {\n        position: 'fixed',\n        top: '0',\n        left: '-3000px',\n        width: '1000px',\n        overflow: 'hidden'\n      });\n      outer.appendChild(inner);\n      editor.dom.add(editor.getBody(), outer);\n      var range = editor.selection.getRng();\n      inner.focus();\n      var offscreenRange = editor.dom.createRng();\n      offscreenRange.selectNodeContents(inner);\n      editor.selection.setRng(offscreenRange);\n      global$3.setTimeout(function () {\n        editor.selection.setRng(range);\n        outer.parentNode.removeChild(outer);\n        done();\n      }, 0);\n    };\n  };\n\n  var getData = function getData(editor) {\n    return {\n      html: editor.selection.getContent({\n        contextual: true\n      }),\n      text: editor.selection.getContent({\n        format: 'text'\n      })\n    };\n  };\n\n  var isTableSelection = function isTableSelection(editor) {\n    return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n  };\n\n  var hasSelectedContent = function hasSelectedContent(editor) {\n    return !editor.selection.isCollapsed() || isTableSelection(editor);\n  };\n\n  var cut = function cut(editor) {\n    return function (evt) {\n      if (hasSelectedContent(editor)) {\n        setClipboardData(evt, getData(editor), fallback(editor), function () {\n          global$3.setTimeout(function () {\n            editor.execCommand('Delete');\n          }, 0);\n        });\n      }\n    };\n  };\n\n  var copy = function copy(editor) {\n    return function (evt) {\n      if (hasSelectedContent(editor)) {\n        setClipboardData(evt, getData(editor), fallback(editor), noop);\n      }\n    };\n  };\n\n  var register$1 = function register$1(editor) {\n    editor.on('cut', cut(editor));\n    editor.on('copy', copy(editor));\n  };\n\n  var CutCopy = {\n    register: register$1\n  };\n  var global$b = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n  var getCaretRangeFromEvent = function getCaretRangeFromEvent(editor, e) {\n    return global$b.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n  };\n\n  var isPlainTextFileUrl = function isPlainTextFileUrl(content) {\n    var plainTextContent = content['text/plain'];\n    return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n  };\n\n  var setFocusedRange = function setFocusedRange(editor, rng) {\n    editor.focus();\n    editor.selection.setRng(rng);\n  };\n\n  var setup = function setup(editor, clipboard, draggingInternallyState) {\n    if (Settings.shouldBlockDrop(editor)) {\n      editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      });\n    }\n\n    if (!Settings.shouldPasteDataImages(editor)) {\n      editor.on('drop', function (e) {\n        var dataTransfer = e.dataTransfer;\n\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n          e.preventDefault();\n        }\n      });\n    }\n\n    editor.on('drop', function (e) {\n      var dropContent, rng;\n      rng = getCaretRangeFromEvent(editor, e);\n\n      if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n        return;\n      }\n\n      dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n      var internal = clipboard.hasContentType(dropContent, InternalHtml.internalHtmlMime());\n\n      if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n        return;\n      }\n\n      if (rng && Settings.shouldFilterDrop(editor)) {\n        var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n\n        if (content_1) {\n          e.preventDefault();\n          global$3.setEditorTimeout(editor, function () {\n            editor.undoManager.transact(function () {\n              if (dropContent['mce-internal']) {\n                editor.execCommand('Delete');\n              }\n\n              setFocusedRange(editor, rng);\n              content_1 = Utils.trimHtml(content_1);\n\n              if (!dropContent['text/html']) {\n                clipboard.pasteText(content_1);\n              } else {\n                clipboard.pasteHtml(content_1, internal);\n              }\n            });\n          });\n        }\n      }\n    });\n    editor.on('dragstart', function (e) {\n      draggingInternallyState.set(true);\n    });\n    editor.on('dragover dragend', function (e) {\n      if (Settings.shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n        e.preventDefault();\n        setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n      }\n\n      if (e.type === 'dragend') {\n        draggingInternallyState.set(false);\n      }\n    });\n  };\n\n  var DragDrop = {\n    setup: setup\n  };\n\n  var setup$1 = function setup$1(editor) {\n    var plugin = editor.plugins.paste;\n    var preProcess = Settings.getPreProcess(editor);\n\n    if (preProcess) {\n      editor.on('PastePreProcess', function (e) {\n        preProcess.call(plugin, plugin, e);\n      });\n    }\n\n    var postProcess = Settings.getPostProcess(editor);\n\n    if (postProcess) {\n      editor.on('PastePostProcess', function (e) {\n        postProcess.call(plugin, plugin, e);\n      });\n    }\n  };\n\n  var PrePostProcess = {\n    setup: setup$1\n  };\n\n  function addPreProcessFilter(editor, filterFunc) {\n    editor.on('PastePreProcess', function (e) {\n      e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n    });\n  }\n\n  function addPostProcessFilter(editor, filterFunc) {\n    editor.on('PastePostProcess', function (e) {\n      filterFunc(editor, e.node);\n    });\n  }\n\n  function removeExplorerBrElementsAfterBlocks(editor, html) {\n    if (!WordFilter.isWordContent(html)) {\n      return html;\n    }\n\n    var blockElements = [];\n    global$4.each(editor.schema.getBlockElements(), function (block, blockName) {\n      blockElements.push(blockName);\n    });\n    var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n    html = Utils.filter(html, [[explorerBlocksRegExp, '$1']]);\n    html = Utils.filter(html, [[/<br><br>/g, '<BR><BR>'], [/<br>/g, ' '], [/<BR><BR>/g, '<br>']]);\n    return html;\n  }\n\n  function removeWebKitStyles(editor, content, internal, isWordHtml) {\n    if (isWordHtml || internal) {\n      return content;\n    }\n\n    var webKitStylesSetting = Settings.getWebkitStyles(editor);\n    var webKitStyles;\n\n    if (Settings.shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n      return content;\n    }\n\n    if (webKitStylesSetting) {\n      webKitStyles = webKitStylesSetting.split(/[, ]/);\n    }\n\n    if (webKitStyles) {\n      var dom_1 = editor.dom,\n          node_1 = editor.selection.getNode();\n      content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n        var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n        var outputStyles = {};\n\n        if (webKitStyles === 'none') {\n          return before + after;\n        }\n\n        for (var i = 0; i < webKitStyles.length; i++) {\n          var inputValue = inputStyles[webKitStyles[i]],\n              currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n\n          if (/color/.test(webKitStyles[i])) {\n            inputValue = dom_1.toHex(inputValue);\n            currentValue = dom_1.toHex(currentValue);\n          }\n\n          if (currentValue !== inputValue) {\n            outputStyles[webKitStyles[i]] = inputValue;\n          }\n        }\n\n        outputStyles = dom_1.serializeStyle(outputStyles, 'span');\n\n        if (outputStyles) {\n          return before + ' style=\"' + outputStyles + '\"' + after;\n        }\n\n        return before + after;\n      });\n    } else {\n      content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n    }\n\n    content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n      return before + ' style=\"' + value + '\"' + after;\n    });\n    return content;\n  }\n\n  function removeUnderlineAndFontInAnchor(editor, root) {\n    editor.$('a', root).find('font,u').each(function (i, node) {\n      editor.dom.remove(node, true);\n    });\n  }\n\n  var setup$2 = function setup$2(editor) {\n    if (global$2.webkit) {\n      addPreProcessFilter(editor, removeWebKitStyles);\n    }\n\n    if (global$2.ie) {\n      addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n      addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n    }\n  };\n\n  var Quirks = {\n    setup: setup$2\n  };\n\n  var makeSetupHandler = function makeSetupHandler(editor, clipboard) {\n    return function (api) {\n      api.setActive(clipboard.pasteFormat.get() === 'text');\n\n      var pastePlainTextToggleHandler = function pastePlainTextToggleHandler(e) {\n        return api.setActive(e.state);\n      };\n\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return function () {\n        return editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n      };\n    };\n  };\n\n  var register$2 = function register$2(editor, clipboard) {\n    editor.ui.registry.addToggleButton('pastetext', {\n      active: false,\n      icon: 'paste-text',\n      tooltip: 'Paste as text',\n      onAction: function onAction() {\n        return editor.execCommand('mceTogglePlainTextPaste');\n      },\n      onSetup: makeSetupHandler(editor, clipboard)\n    });\n    editor.ui.registry.addToggleMenuItem('pastetext', {\n      text: 'Paste as text',\n      onAction: function onAction() {\n        return editor.execCommand('mceTogglePlainTextPaste');\n      },\n      onSetup: makeSetupHandler(editor, clipboard)\n    });\n  };\n\n  var Buttons = {\n    register: register$2\n  };\n\n  function Plugin() {\n    global$1.add('paste', function (editor) {\n      if (DetectProPlugin.hasProPlugin(editor) === false) {\n        var draggingInternallyState = Cell(false);\n        var pasteFormat = Cell(Settings.isPasteAsTextEnabled(editor) ? 'text' : 'html');\n        var clipboard = Clipboard(editor, pasteFormat);\n        var quirks = Quirks.setup(editor);\n        Buttons.register(editor, clipboard);\n        Commands.register(editor, clipboard);\n        PrePostProcess.setup(editor);\n        CutCopy.register(editor);\n        DragDrop.setup(editor, clipboard, draggingInternallyState);\n        return Api.get(clipboard, quirks);\n      }\n    });\n  }\n\n  Plugin();\n})(window);","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.0.15 (2019-09-02)\n */\n(function (domGlobals) {\n  'use strict';\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n  var global$2 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n  var typeOf = function typeOf(x) {\n    if (x === null) {\n      return 'null';\n    }\n\n    var t = typeof x;\n\n    if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n      return 'array';\n    }\n\n    if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n      return 'string';\n    }\n\n    return t;\n  };\n\n  var isType = function isType(type) {\n    return function (value) {\n      return typeOf(value) === type;\n    };\n  };\n\n  var isString = isType('string');\n  var isArray = isType('array');\n  var isBoolean = isType('boolean');\n  var isFunction = isType('function');\n\n  var assumeExternalTargets = function assumeExternalTargets(editor) {\n    var externalTargets = editor.getParam('link_assume_external_targets', false);\n\n    if (isBoolean(externalTargets) && externalTargets) {\n      return 1;\n    } else if (isString(externalTargets) && (externalTargets === 'http' || externalTargets === 'https')) {\n      return externalTargets;\n    }\n\n    return 0;\n  };\n\n  var hasContextToolbar = function hasContextToolbar(editor) {\n    return editor.getParam('link_context_toolbar', false, 'boolean');\n  };\n\n  var getLinkList = function getLinkList(editor) {\n    return editor.getParam('link_list');\n  };\n\n  var getDefaultLinkTarget = function getDefaultLinkTarget(editor) {\n    return editor.getParam('default_link_target');\n  };\n\n  var getTargetList = function getTargetList(editor) {\n    return editor.getParam('target_list', true);\n  };\n\n  var getRelList = function getRelList(editor) {\n    return editor.getParam('rel_list', [], 'array');\n  };\n\n  var getLinkClassList = function getLinkClassList(editor) {\n    return editor.getParam('link_class_list', [], 'array');\n  };\n\n  var shouldShowLinkTitle = function shouldShowLinkTitle(editor) {\n    return editor.getParam('link_title', true, 'boolean');\n  };\n\n  var allowUnsafeLinkTarget = function allowUnsafeLinkTarget(editor) {\n    return editor.getParam('allow_unsafe_link_target', false, 'boolean');\n  };\n\n  var useQuickLink = function useQuickLink(editor) {\n    return editor.getParam('link_quicklink', false, 'boolean');\n  };\n\n  var Settings = {\n    assumeExternalTargets: assumeExternalTargets,\n    hasContextToolbar: hasContextToolbar,\n    getLinkList: getLinkList,\n    getDefaultLinkTarget: getDefaultLinkTarget,\n    getTargetList: getTargetList,\n    getRelList: getRelList,\n    getLinkClassList: getLinkClassList,\n    shouldShowLinkTitle: shouldShowLinkTitle,\n    allowUnsafeLinkTarget: allowUnsafeLinkTarget,\n    useQuickLink: useQuickLink\n  };\n  var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n  var global$4 = tinymce.util.Tools.resolve('tinymce.Env');\n\n  var appendClickRemove = function appendClickRemove(link, evt) {\n    domGlobals.document.body.appendChild(link);\n    link.dispatchEvent(evt);\n    domGlobals.document.body.removeChild(link);\n  };\n\n  var open = function open(url) {\n    if (!global$4.ie || global$4.ie > 10) {\n      var link = domGlobals.document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      var evt = domGlobals.document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, domGlobals.window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    } else {\n      var win = domGlobals.window.open('', '_blank');\n\n      if (win) {\n        win.opener = null;\n        var doc = win.document;\n        doc.open();\n        doc.write('<meta http-equiv=\"refresh\" content=\"0; url=' + global$3.DOM.encode(url) + '\">');\n        doc.close();\n      }\n    }\n  };\n\n  var OpenUrl = {\n    open: open\n  };\n\n  var noop = function noop() {};\n\n  var constant = function constant(value) {\n    return function () {\n      return value;\n    };\n  };\n\n  var never = constant(false);\n  var always = constant(true);\n  var never$1 = never;\n  var always$1 = always;\n\n  var none = function none() {\n    return NONE;\n  };\n\n  var NONE = function () {\n    var eq = function eq(o) {\n      return o.isNone();\n    };\n\n    var call = function call(thunk) {\n      return thunk();\n    };\n\n    var id = function id(n) {\n      return n;\n    };\n\n    var noop = function noop() {};\n\n    var nul = function nul() {\n      return null;\n    };\n\n    var undef = function undef() {\n      return undefined;\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return n();\n      },\n      is: never$1,\n      isSome: never$1,\n      isNone: always$1,\n      getOr: id,\n      getOrThunk: call,\n      getOrDie: function getOrDie(msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: nul,\n      getOrUndefined: undef,\n      or: id,\n      orThunk: call,\n      map: none,\n      ap: none,\n      each: noop,\n      bind: none,\n      flatten: none,\n      exists: never$1,\n      forall: always$1,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function toArray() {\n        return [];\n      },\n      toString: constant('none()')\n    };\n\n    if (Object.freeze) {\n      Object.freeze(me);\n    }\n\n    return me;\n  }();\n\n  var some = function some(a) {\n    var constant_a = function constant_a() {\n      return a;\n    };\n\n    var self = function self() {\n      return me;\n    };\n\n    var map = function map(f) {\n      return some(f(a));\n    };\n\n    var bind = function bind(f) {\n      return f(a);\n    };\n\n    var me = {\n      fold: function fold(n, s) {\n        return s(a);\n      },\n      is: function is(v) {\n        return a === v;\n      },\n      isSome: always$1,\n      isNone: never$1,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: map,\n      ap: function ap(optfab) {\n        return optfab.fold(none, function (fab) {\n          return some(fab(a));\n        });\n      },\n      each: function each(f) {\n        f(a);\n      },\n      bind: bind,\n      flatten: constant_a,\n      exists: bind,\n      forall: bind,\n      filter: function filter(f) {\n        return f(a) ? me : NONE;\n      },\n      equals: function equals(o) {\n        return o.is(a);\n      },\n      equals_: function equals_(o, elementEq) {\n        return o.fold(never$1, function (b) {\n          return elementEq(a, b);\n        });\n      },\n      toArray: function toArray() {\n        return [a];\n      },\n      toString: function toString() {\n        return 'some(' + a + ')';\n      }\n    };\n    return me;\n  };\n\n  var from = function from(value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n\n  var Option = {\n    some: some,\n    none: none,\n    from: from\n  };\n  var slice = Array.prototype.slice;\n\n  var rawIndexOf = function () {\n    var pIndexOf = Array.prototype.indexOf;\n\n    var fastIndex = function fastIndex(xs, x) {\n      return pIndexOf.call(xs, x);\n    };\n\n    var slowIndex = function slowIndex(xs, x) {\n      return slowIndexOf(xs, x);\n    };\n\n    return pIndexOf === undefined ? slowIndex : fastIndex;\n  }();\n\n  var contains = function contains(xs, x) {\n    return rawIndexOf(xs, x) > -1;\n  };\n\n  var map = function map(xs, f) {\n    var len = xs.length;\n    var r = new Array(len);\n\n    for (var i = 0; i < len; i++) {\n      var x = xs[i];\n      r[i] = f(x, i, xs);\n    }\n\n    return r;\n  };\n\n  var each = function each(xs, f) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n\n  var foldl = function foldl(xs, f, acc) {\n    each(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n\n  var slowIndexOf = function slowIndexOf(xs, x) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (xs[i] === x) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var push = Array.prototype.push;\n\n  var flatten = function flatten(xs) {\n    var r = [];\n\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (!isArray(xs[i])) {\n        throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n      }\n\n      push.apply(r, xs[i]);\n    }\n\n    return r;\n  };\n\n  var bind = function bind(xs, f) {\n    var output = map(xs, f);\n    return flatten(output);\n  };\n\n  var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n    return slice.call(x);\n  };\n  var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n  var hasProtocol = function hasProtocol(url) {\n    return /^\\w+:/i.test(url);\n  };\n\n  var getHref = function getHref(elm) {\n    var href = elm.getAttribute('data-mce-href');\n    return href ? href : elm.getAttribute('href');\n  };\n\n  var applyRelTargetRules = function applyRelTargetRules(rel, isUnsafe) {\n    var rules = ['noopener'];\n    var rels = rel ? rel.split(/\\s+/) : [];\n\n    var toString = function toString(rels) {\n      return global$5.trim(rels.sort().join(' '));\n    };\n\n    var addTargetRules = function addTargetRules(rels) {\n      rels = removeTargetRules(rels);\n      return rels.length > 0 ? rels.concat(rules) : rules;\n    };\n\n    var removeTargetRules = function removeTargetRules(rels) {\n      return rels.filter(function (val) {\n        return global$5.inArray(rules, val) === -1;\n      });\n    };\n\n    var newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n    return newRels.length > 0 ? toString(newRels) : '';\n  };\n\n  var trimCaretContainers = function trimCaretContainers(text) {\n    return text.replace(/\\uFEFF/g, '');\n  };\n\n  var getAnchorElement = function getAnchorElement(editor, selectedElm) {\n    selectedElm = selectedElm || editor.selection.getNode();\n\n    if (isImageFigure(selectedElm)) {\n      return editor.dom.select('a[href]', selectedElm)[0];\n    } else {\n      return editor.dom.getParent(selectedElm, 'a[href]');\n    }\n  };\n\n  var getAnchorText = function getAnchorText(selection, anchorElm) {\n    var text = anchorElm ? anchorElm.innerText || anchorElm.textContent : selection.getContent({\n      format: 'text'\n    });\n    return trimCaretContainers(text);\n  };\n\n  var isLink = function isLink(elm) {\n    return elm && elm.nodeName === 'A' && !!elm.href;\n  };\n\n  var hasLinks = function hasLinks(elements) {\n    return global$5.grep(elements, isLink).length > 0;\n  };\n\n  var isOnlyTextSelected = function isOnlyTextSelected(html) {\n    if (/</.test(html) && (!/^<a [^>]+>[^<]+<\\/a>$/.test(html) || html.indexOf('href=') === -1)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  var isImageFigure = function isImageFigure(elm) {\n    return elm && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n  };\n\n  var getLinkAttrs = function getLinkAttrs(data) {\n    return foldl(['title', 'rel', 'class', 'target'], function (acc, key) {\n      data[key].each(function (value) {\n        acc[key] = value.length > 0 ? value : null;\n      });\n      return acc;\n    }, {\n      href: data.href\n    });\n  };\n\n  var handleExternalTargets = function handleExternalTargets(href, assumeExternalTargets) {\n    if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n      return assumeExternalTargets + '://' + href;\n    }\n\n    return href;\n  };\n\n  var updateLink = function updateLink(editor, anchorElm, text, linkAttrs) {\n    text.each(function (text) {\n      if (anchorElm.hasOwnProperty('innerText')) {\n        anchorElm.innerText = text;\n      } else {\n        anchorElm.textContent = text;\n      }\n    });\n    editor.dom.setAttribs(anchorElm, linkAttrs);\n    editor.selection.select(anchorElm);\n  };\n\n  var createLink = function createLink(editor, selectedElm, text, linkAttrs) {\n    if (isImageFigure(selectedElm)) {\n      linkImageFigure(editor, selectedElm, linkAttrs);\n    } else {\n      text.fold(function () {\n        editor.execCommand('mceInsertLink', false, linkAttrs);\n      }, function (text) {\n        editor.insertContent(editor.dom.createHTML('a', linkAttrs, editor.dom.encode(text)));\n      });\n    }\n  };\n\n  var link = function link(editor, attachState, data) {\n    editor.undoManager.transact(function () {\n      var selectedElm = editor.selection.getNode();\n      var anchorElm = getAnchorElement(editor, selectedElm);\n      var linkAttrs = getLinkAttrs(data);\n\n      if (!(Settings.getRelList(editor).length > 0) && Settings.allowUnsafeLinkTarget(editor) === false) {\n        var newRel = applyRelTargetRules(linkAttrs.rel, linkAttrs.target === '_blank');\n        linkAttrs.rel = newRel ? newRel : null;\n      }\n\n      if (Option.from(linkAttrs.target).isNone()) {\n        linkAttrs.target = Settings.getDefaultLinkTarget(editor);\n      }\n\n      linkAttrs.href = handleExternalTargets(linkAttrs.href, Settings.assumeExternalTargets(editor));\n\n      if (data.href === attachState.href) {\n        attachState.attach();\n      }\n\n      if (anchorElm) {\n        editor.focus();\n        updateLink(editor, anchorElm, data.text, linkAttrs);\n      } else {\n        createLink(editor, selectedElm, data.text, linkAttrs);\n      }\n    });\n  };\n\n  var unlink = function unlink(editor) {\n    editor.undoManager.transact(function () {\n      var node = editor.selection.getNode();\n\n      if (isImageFigure(node)) {\n        unlinkImageFigure(editor, node);\n      } else {\n        var anchorElm = editor.dom.getParent(node, 'a[href]', editor.getBody());\n\n        if (anchorElm) {\n          editor.dom.remove(anchorElm, true);\n        }\n      }\n\n      editor.focus();\n    });\n  };\n\n  var unlinkImageFigure = function unlinkImageFigure(editor, fig) {\n    var img = editor.dom.select('img', fig)[0];\n\n    if (img) {\n      var a = editor.dom.getParents(img, 'a[href]', fig)[0];\n\n      if (a) {\n        a.parentNode.insertBefore(img, a);\n        editor.dom.remove(a);\n      }\n    }\n  };\n\n  var linkImageFigure = function linkImageFigure(editor, fig, attrs) {\n    var img = editor.dom.select('img', fig)[0];\n\n    if (img) {\n      var a = editor.dom.create('a', attrs);\n      img.parentNode.insertBefore(a, img);\n      a.appendChild(img);\n    }\n  };\n\n  var Utils = {\n    link: link,\n    unlink: unlink,\n    isLink: isLink,\n    hasLinks: hasLinks,\n    getHref: getHref,\n    isOnlyTextSelected: isOnlyTextSelected,\n    getAnchorElement: getAnchorElement,\n    getAnchorText: getAnchorText,\n    applyRelTargetRules: applyRelTargetRules,\n    hasProtocol: hasProtocol\n  };\n\n  var cat = function cat(arr) {\n    var r = [];\n\n    var push = function push(x) {\n      r.push(x);\n    };\n\n    for (var i = 0; i < arr.length; i++) {\n      arr[i].each(push);\n    }\n\n    return r;\n  };\n\n  var findMap = function findMap(arr, f) {\n    for (var i = 0; i < arr.length; i++) {\n      var r = f(arr[i], i);\n\n      if (r.isSome()) {\n        return r;\n      }\n    }\n\n    return Option.none();\n  };\n\n  var getValue = function getValue(item) {\n    return isString(item.value) ? item.value : '';\n  };\n\n  var sanitizeList = function sanitizeList(list, extractValue) {\n    var out = [];\n    global$5.each(list, function (item) {\n      var text = isString(item.text) ? item.text : isString(item.title) ? item.title : '';\n      if (item.menu !== undefined) ;else {\n        var value = extractValue(item);\n        out.push({\n          text: text,\n          value: value\n        });\n      }\n    });\n    return out;\n  };\n\n  var sanitizeWith = function sanitizeWith(extracter) {\n    if (extracter === void 0) {\n      extracter = getValue;\n    }\n\n    return function (list) {\n      return Option.from(list).map(function (list) {\n        return sanitizeList(list, extracter);\n      });\n    };\n  };\n\n  var sanitize = function sanitize(list) {\n    return sanitizeWith(getValue)(list);\n  };\n\n  var createUi = function createUi(name, label) {\n    return function (items) {\n      return {\n        name: name,\n        type: 'selectbox',\n        label: label,\n        items: items\n      };\n    };\n  };\n\n  var ListOptions = {\n    sanitize: sanitize,\n    sanitizeWith: sanitizeWith,\n    createUi: createUi,\n    getValue: getValue\n  };\n\n  var Cell = function Cell(initial) {\n    var value = initial;\n\n    var get = function get() {\n      return value;\n    };\n\n    var set = function set(v) {\n      value = v;\n    };\n\n    var clone = function clone() {\n      return Cell(get());\n    };\n\n    return {\n      get: get,\n      set: set,\n      clone: clone\n    };\n  };\n\n  var findTextByValue = function findTextByValue(value, catalog) {\n    return findMap(catalog, function (item) {\n      return Option.some(item).filter(function (i) {\n        return i.value === value;\n      });\n    });\n  };\n\n  var getDelta = function getDelta(persistentText, fieldName, catalog, data) {\n    var value = data[fieldName];\n    var hasPersistentText = persistentText.length > 0;\n    return value !== undefined ? findTextByValue(value, catalog).map(function (i) {\n      return {\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      };\n    }) : Option.none();\n  };\n\n  var findCatalog = function findCatalog(settings, fieldName) {\n    if (fieldName === 'link') {\n      return settings.catalogs.link;\n    } else if (fieldName === 'anchor') {\n      return settings.catalogs.anchor;\n    } else {\n      return Option.none();\n    }\n  };\n\n  var init = function init(initialData, linkSettings) {\n    var persistentText = Cell(initialData.text);\n\n    var onUrlChange = function onUrlChange(data) {\n      if (persistentText.get().length <= 0) {\n        var urlText = data.url.meta.text !== undefined ? data.url.meta.text : data.url.value;\n        return Option.some({\n          text: urlText\n        });\n      } else {\n        return Option.none();\n      }\n    };\n\n    var onCatalogChange = function onCatalogChange(data, change) {\n      var catalog = findCatalog(linkSettings, change.name).getOr([]);\n      return getDelta(persistentText.get(), change.name, catalog, data);\n    };\n\n    var onChange = function onChange(getData, change) {\n      if (change.name === 'url') {\n        return onUrlChange(getData());\n      } else if (contains(['anchor', 'link'], change.name)) {\n        return onCatalogChange(getData(), change);\n      } else if (change.name === 'text') {\n        persistentText.set(getData().text);\n        return Option.none();\n      } else {\n        return Option.none();\n      }\n    };\n\n    return {\n      onChange: onChange\n    };\n  };\n\n  var DialogChanges = {\n    init: init,\n    getDelta: getDelta\n  };\n\n  var _assign = function __assign() {\n    _assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return _assign.apply(this, arguments);\n  };\n\n  var exports$1 = {},\n      module = {\n    exports: exports$1\n  };\n\n  (function (define, exports, module, require) {\n    (function (f) {\n      if (typeof exports === 'object' && typeof module !== 'undefined') {\n        module.exports = f();\n      } else if (typeof define === 'function' && define.amd) {\n        define([], f);\n      } else {\n        var g;\n\n        if (typeof window !== 'undefined') {\n          g = window;\n        } else if (typeof global !== 'undefined') {\n          g = global;\n        } else if (typeof self !== 'undefined') {\n          g = self;\n        } else {\n          g = this;\n        }\n\n        g.EphoxContactWrapper = f();\n      }\n    })(function () {\n      return function () {\n        function r(e, n, t) {\n          function o(i, f) {\n            if (!n[i]) {\n              if (!e[i]) {\n                var c = 'function' == typeof require && require;\n                if (!f && c) return c(i, !0);\n                if (u) return u(i, !0);\n                var a = new Error('Cannot find module \\'' + i + '\\'');\n                throw a.code = 'MODULE_NOT_FOUND', a;\n              }\n\n              var p = n[i] = {\n                exports: {}\n              };\n              e[i][0].call(p.exports, function (r) {\n                var n = e[i][1][r];\n                return o(n || r);\n              }, p, p.exports, r, e, n, t);\n            }\n\n            return n[i].exports;\n          }\n\n          for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++) {\n            o(t[i]);\n          }\n\n          return o;\n        }\n\n        return r;\n      }()({\n        1: [function (require, module, exports) {\n          var process = module.exports = {};\n          var cachedSetTimeout;\n          var cachedClearTimeout;\n\n          function defaultSetTimout() {\n            throw new Error('setTimeout has not been defined');\n          }\n\n          function defaultClearTimeout() {\n            throw new Error('clearTimeout has not been defined');\n          }\n\n          (function () {\n            try {\n              if (typeof setTimeout === 'function') {\n                cachedSetTimeout = setTimeout;\n              } else {\n                cachedSetTimeout = defaultSetTimout;\n              }\n            } catch (e) {\n              cachedSetTimeout = defaultSetTimout;\n            }\n\n            try {\n              if (typeof clearTimeout === 'function') {\n                cachedClearTimeout = clearTimeout;\n              } else {\n                cachedClearTimeout = defaultClearTimeout;\n              }\n            } catch (e) {\n              cachedClearTimeout = defaultClearTimeout;\n            }\n          })();\n\n          function runTimeout(fun) {\n            if (cachedSetTimeout === setTimeout) {\n              return setTimeout(fun, 0);\n            }\n\n            if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n              cachedSetTimeout = setTimeout;\n              return setTimeout(fun, 0);\n            }\n\n            try {\n              return cachedSetTimeout(fun, 0);\n            } catch (e) {\n              try {\n                return cachedSetTimeout.call(null, fun, 0);\n              } catch (e) {\n                return cachedSetTimeout.call(this, fun, 0);\n              }\n            }\n          }\n\n          function runClearTimeout(marker) {\n            if (cachedClearTimeout === clearTimeout) {\n              return clearTimeout(marker);\n            }\n\n            if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n              cachedClearTimeout = clearTimeout;\n              return clearTimeout(marker);\n            }\n\n            try {\n              return cachedClearTimeout(marker);\n            } catch (e) {\n              try {\n                return cachedClearTimeout.call(null, marker);\n              } catch (e) {\n                return cachedClearTimeout.call(this, marker);\n              }\n            }\n          }\n\n          var queue = [];\n          var draining = false;\n          var currentQueue;\n          var queueIndex = -1;\n\n          function cleanUpNextTick() {\n            if (!draining || !currentQueue) {\n              return;\n            }\n\n            draining = false;\n\n            if (currentQueue.length) {\n              queue = currentQueue.concat(queue);\n            } else {\n              queueIndex = -1;\n            }\n\n            if (queue.length) {\n              drainQueue();\n            }\n          }\n\n          function drainQueue() {\n            if (draining) {\n              return;\n            }\n\n            var timeout = runTimeout(cleanUpNextTick);\n            draining = true;\n            var len = queue.length;\n\n            while (len) {\n              currentQueue = queue;\n              queue = [];\n\n              while (++queueIndex < len) {\n                if (currentQueue) {\n                  currentQueue[queueIndex].run();\n                }\n              }\n\n              queueIndex = -1;\n              len = queue.length;\n            }\n\n            currentQueue = null;\n            draining = false;\n            runClearTimeout(timeout);\n          }\n\n          process.nextTick = function (fun) {\n            var args = new Array(arguments.length - 1);\n\n            if (arguments.length > 1) {\n              for (var i = 1; i < arguments.length; i++) {\n                args[i - 1] = arguments[i];\n              }\n            }\n\n            queue.push(new Item(fun, args));\n\n            if (queue.length === 1 && !draining) {\n              runTimeout(drainQueue);\n            }\n          };\n\n          function Item(fun, array) {\n            this.fun = fun;\n            this.array = array;\n          }\n\n          Item.prototype.run = function () {\n            this.fun.apply(null, this.array);\n          };\n\n          process.title = 'browser';\n          process.browser = true;\n          process.env = {};\n          process.argv = [];\n          process.version = '';\n          process.versions = {};\n\n          function noop() {}\n\n          process.on = noop;\n          process.addListener = noop;\n          process.once = noop;\n          process.off = noop;\n          process.removeListener = noop;\n          process.removeAllListeners = noop;\n          process.emit = noop;\n          process.prependListener = noop;\n          process.prependOnceListener = noop;\n\n          process.listeners = function (name) {\n            return [];\n          };\n\n          process.binding = function (name) {\n            throw new Error('process.binding is not supported');\n          };\n\n          process.cwd = function () {\n            return '/';\n          };\n\n          process.chdir = function (dir) {\n            throw new Error('process.chdir is not supported');\n          };\n\n          process.umask = function () {\n            return 0;\n          };\n        }, {}],\n        2: [function (require, module, exports) {\n          (function (setImmediate) {\n            (function (root) {\n              var setTimeoutFunc = setTimeout;\n\n              function noop() {}\n\n              function bind(fn, thisArg) {\n                return function () {\n                  fn.apply(thisArg, arguments);\n                };\n              }\n\n              function Promise(fn) {\n                if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n                if (typeof fn !== 'function') throw new TypeError('not a function');\n                this._state = 0;\n                this._handled = false;\n                this._value = undefined;\n                this._deferreds = [];\n                doResolve(fn, this);\n              }\n\n              function handle(self, deferred) {\n                while (self._state === 3) {\n                  self = self._value;\n                }\n\n                if (self._state === 0) {\n                  self._deferreds.push(deferred);\n\n                  return;\n                }\n\n                self._handled = true;\n\n                Promise._immediateFn(function () {\n                  var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\n                  if (cb === null) {\n                    (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                    return;\n                  }\n\n                  var ret;\n\n                  try {\n                    ret = cb(self._value);\n                  } catch (e) {\n                    reject(deferred.promise, e);\n                    return;\n                  }\n\n                  resolve(deferred.promise, ret);\n                });\n              }\n\n              function resolve(self, newValue) {\n                try {\n                  if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n\n                  if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                    var then = newValue.then;\n\n                    if (newValue instanceof Promise) {\n                      self._state = 3;\n                      self._value = newValue;\n                      finale(self);\n                      return;\n                    } else if (typeof then === 'function') {\n                      doResolve(bind(then, newValue), self);\n                      return;\n                    }\n                  }\n\n                  self._state = 1;\n                  self._value = newValue;\n                  finale(self);\n                } catch (e) {\n                  reject(self, e);\n                }\n              }\n\n              function reject(self, newValue) {\n                self._state = 2;\n                self._value = newValue;\n                finale(self);\n              }\n\n              function finale(self) {\n                if (self._state === 2 && self._deferreds.length === 0) {\n                  Promise._immediateFn(function () {\n                    if (!self._handled) {\n                      Promise._unhandledRejectionFn(self._value);\n                    }\n                  });\n                }\n\n                for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                  handle(self, self._deferreds[i]);\n                }\n\n                self._deferreds = null;\n              }\n\n              function Handler(onFulfilled, onRejected, promise) {\n                this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                this.promise = promise;\n              }\n\n              function doResolve(fn, self) {\n                var done = false;\n\n                try {\n                  fn(function (value) {\n                    if (done) return;\n                    done = true;\n                    resolve(self, value);\n                  }, function (reason) {\n                    if (done) return;\n                    done = true;\n                    reject(self, reason);\n                  });\n                } catch (ex) {\n                  if (done) return;\n                  done = true;\n                  reject(self, ex);\n                }\n              }\n\n              Promise.prototype['catch'] = function (onRejected) {\n                return this.then(null, onRejected);\n              };\n\n              Promise.prototype.then = function (onFulfilled, onRejected) {\n                var prom = new this.constructor(noop);\n                handle(this, new Handler(onFulfilled, onRejected, prom));\n                return prom;\n              };\n\n              Promise.all = function (arr) {\n                var args = Array.prototype.slice.call(arr);\n                return new Promise(function (resolve, reject) {\n                  if (args.length === 0) return resolve([]);\n                  var remaining = args.length;\n\n                  function res(i, val) {\n                    try {\n                      if (val && (typeof val === 'object' || typeof val === 'function')) {\n                        var then = val.then;\n\n                        if (typeof then === 'function') {\n                          then.call(val, function (val) {\n                            res(i, val);\n                          }, reject);\n                          return;\n                        }\n                      }\n\n                      args[i] = val;\n\n                      if (--remaining === 0) {\n                        resolve(args);\n                      }\n                    } catch (ex) {\n                      reject(ex);\n                    }\n                  }\n\n                  for (var i = 0; i < args.length; i++) {\n                    res(i, args[i]);\n                  }\n                });\n              };\n\n              Promise.resolve = function (value) {\n                if (value && typeof value === 'object' && value.constructor === Promise) {\n                  return value;\n                }\n\n                return new Promise(function (resolve) {\n                  resolve(value);\n                });\n              };\n\n              Promise.reject = function (value) {\n                return new Promise(function (resolve, reject) {\n                  reject(value);\n                });\n              };\n\n              Promise.race = function (values) {\n                return new Promise(function (resolve, reject) {\n                  for (var i = 0, len = values.length; i < len; i++) {\n                    values[i].then(resolve, reject);\n                  }\n                });\n              };\n\n              Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                setImmediate(fn);\n              } : function (fn) {\n                setTimeoutFunc(fn, 0);\n              };\n\n              Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                if (typeof console !== 'undefined' && console) {\n                  console.warn('Possible Unhandled Promise Rejection:', err);\n                }\n              };\n\n              Promise._setImmediateFn = function _setImmediateFn(fn) {\n                Promise._immediateFn = fn;\n              };\n\n              Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                Promise._unhandledRejectionFn = fn;\n              };\n\n              if (typeof module !== 'undefined' && module.exports) {\n                module.exports = Promise;\n              } else if (!root.Promise) {\n                root.Promise = Promise;\n              }\n            })(this);\n          }).call(this, require('timers').setImmediate);\n        }, {\n          'timers': 3\n        }],\n        3: [function (require, module, exports) {\n          (function (setImmediate, clearImmediate) {\n            var nextTick = require('process/browser.js').nextTick;\n\n            var apply = Function.prototype.apply;\n            var slice = Array.prototype.slice;\n            var immediateIds = {};\n            var nextImmediateId = 0;\n\n            exports.setTimeout = function () {\n              return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n            };\n\n            exports.setInterval = function () {\n              return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n            };\n\n            exports.clearTimeout = exports.clearInterval = function (timeout) {\n              timeout.close();\n            };\n\n            function Timeout(id, clearFn) {\n              this._id = id;\n              this._clearFn = clearFn;\n            }\n\n            Timeout.prototype.unref = Timeout.prototype.ref = function () {};\n\n            Timeout.prototype.close = function () {\n              this._clearFn.call(window, this._id);\n            };\n\n            exports.enroll = function (item, msecs) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = msecs;\n            };\n\n            exports.unenroll = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              item._idleTimeout = -1;\n            };\n\n            exports._unrefActive = exports.active = function (item) {\n              clearTimeout(item._idleTimeoutId);\n              var msecs = item._idleTimeout;\n\n              if (msecs >= 0) {\n                item._idleTimeoutId = setTimeout(function onTimeout() {\n                  if (item._onTimeout) item._onTimeout();\n                }, msecs);\n              }\n            };\n\n            exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n              var id = nextImmediateId++;\n              var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n              immediateIds[id] = true;\n              nextTick(function onNextTick() {\n                if (immediateIds[id]) {\n                  if (args) {\n                    fn.apply(null, args);\n                  } else {\n                    fn.call(null);\n                  }\n\n                  exports.clearImmediate(id);\n                }\n              });\n              return id;\n            };\n            exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n              delete immediateIds[id];\n            };\n          }).call(this, require('timers').setImmediate, require('timers').clearImmediate);\n        }, {\n          'process/browser.js': 1,\n          'timers': 3\n        }],\n        4: [function (require, module, exports) {\n          var promisePolyfill = require('promise-polyfill');\n\n          var Global = function () {\n            if (typeof window !== 'undefined') {\n              return window;\n            } else {\n              return Function('return this;')();\n            }\n          }();\n\n          module.exports = {\n            boltExport: Global.Promise || promisePolyfill\n          };\n        }, {\n          'promise-polyfill': 2\n        }]\n      }, {}, [4])(4);\n    });\n  })(undefined, exports$1, module, undefined);\n\n  var Promise = module.exports.boltExport;\n\n  var nu = function nu(baseFn) {\n    var data = Option.none();\n    var callbacks = [];\n\n    var map = function map(f) {\n      return nu(function (nCallback) {\n        get(function (data) {\n          nCallback(f(data));\n        });\n      });\n    };\n\n    var get = function get(nCallback) {\n      if (isReady()) {\n        call(nCallback);\n      } else {\n        callbacks.push(nCallback);\n      }\n    };\n\n    var set = function set(x) {\n      data = Option.some(x);\n      run(callbacks);\n      callbacks = [];\n    };\n\n    var isReady = function isReady() {\n      return data.isSome();\n    };\n\n    var run = function run(cbs) {\n      each(cbs, call);\n    };\n\n    var call = function call(cb) {\n      data.each(function (x) {\n        domGlobals.setTimeout(function () {\n          cb(x);\n        }, 0);\n      });\n    };\n\n    baseFn(set);\n    return {\n      get: get,\n      map: map,\n      isReady: isReady\n    };\n  };\n\n  var pure = function pure(a) {\n    return nu(function (callback) {\n      callback(a);\n    });\n  };\n\n  var LazyValue = {\n    nu: nu,\n    pure: pure\n  };\n\n  var errorReporter = function errorReporter(err) {\n    domGlobals.setTimeout(function () {\n      throw err;\n    }, 0);\n  };\n\n  var make = function make(run) {\n    var get = function get(callback) {\n      run().then(callback, errorReporter);\n    };\n\n    var map = function map(fab) {\n      return make(function () {\n        return run().then(fab);\n      });\n    };\n\n    var bind = function bind(aFutureB) {\n      return make(function () {\n        return run().then(function (v) {\n          return aFutureB(v).toPromise();\n        });\n      });\n    };\n\n    var anonBind = function anonBind(futureB) {\n      return make(function () {\n        return run().then(function () {\n          return futureB.toPromise();\n        });\n      });\n    };\n\n    var toLazy = function toLazy() {\n      return LazyValue.nu(get);\n    };\n\n    var toCached = function toCached() {\n      var cache = null;\n      return make(function () {\n        if (cache === null) {\n          cache = run();\n        }\n\n        return cache;\n      });\n    };\n\n    var toPromise = run;\n    return {\n      map: map,\n      bind: bind,\n      anonBind: anonBind,\n      toLazy: toLazy,\n      toCached: toCached,\n      toPromise: toPromise,\n      get: get\n    };\n  };\n\n  var nu$1 = function nu$1(baseFn) {\n    return make(function () {\n      return new Promise(baseFn);\n    });\n  };\n\n  var pure$1 = function pure$1(a) {\n    return make(function () {\n      return Promise.resolve(a);\n    });\n  };\n\n  var Future = {\n    nu: nu$1,\n    pure: pure$1\n  };\n  var global$6 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n  var delayedConfirm = function delayedConfirm(editor, message, callback) {\n    var rng = editor.selection.getRng();\n    global$6.setEditorTimeout(editor, function () {\n      editor.windowManager.confirm(message, function (state) {\n        editor.selection.setRng(rng);\n        callback(state);\n      });\n    });\n  };\n\n  var tryEmailTransform = function tryEmailTransform(data) {\n    var url = data.href;\n    var suggestMailTo = url.indexOf('@') > 0 && url.indexOf('//') === -1 && url.indexOf('mailto:') === -1;\n    return suggestMailTo ? Option.some({\n      message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n      preprocess: function preprocess(oldData) {\n        return _assign({}, oldData, {\n          href: 'mailto:' + url\n        });\n      }\n    }) : Option.none();\n  };\n\n  var tryProtocolTransform = function tryProtocolTransform(assumeExternalTargets) {\n    return function (data) {\n      var url = data.href;\n      var suggestProtocol = assumeExternalTargets === 1 && !Utils.hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www[\\.|\\d\\.]/i.test(url);\n      return suggestProtocol ? Option.some({\n        message: 'The URL you entered seems to be an external link. Do you want to add the required http:// prefix?',\n        preprocess: function preprocess(oldData) {\n          return _assign({}, oldData, {\n            href: 'http://' + url\n          });\n        }\n      }) : Option.none();\n    };\n  };\n\n  var preprocess = function preprocess(editor, assumeExternalTargets, data) {\n    return findMap([tryEmailTransform, tryProtocolTransform(assumeExternalTargets)], function (f) {\n      return f(data);\n    }).fold(function () {\n      return Future.pure(data);\n    }, function (transform) {\n      return Future.nu(function (callback) {\n        delayedConfirm(editor, transform.message, function (state) {\n          callback(state ? transform.preprocess(data) : data);\n        });\n      });\n    });\n  };\n\n  var DialogConfirms = {\n    preprocess: preprocess\n  };\n\n  var getAnchors = function getAnchors(editor) {\n    var anchorNodes = editor.dom.select('a:not([href])');\n    var anchors = bind(anchorNodes, function (anchor) {\n      var id = anchor.name || anchor.id;\n      return id ? [{\n        text: id,\n        value: '#' + id\n      }] : [];\n    });\n    return anchors.length > 0 ? Option.some([{\n      text: 'None',\n      value: ''\n    }].concat(anchors)) : Option.none();\n  };\n\n  var AnchorListOptions = {\n    getAnchors: getAnchors\n  };\n\n  var getClasses = function getClasses(editor) {\n    var list = Settings.getLinkClassList(editor);\n\n    if (list.length > 0) {\n      return ListOptions.sanitize(list);\n    }\n\n    return Option.none();\n  };\n\n  var ClassListOptions = {\n    getClasses: getClasses\n  };\n  var global$7 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n  var parseJson = function parseJson(text) {\n    try {\n      return Option.some(JSON.parse(text));\n    } catch (err) {\n      return Option.none();\n    }\n  };\n\n  var getLinks = function getLinks(editor) {\n    var extractor = function extractor(item) {\n      return editor.convertURL(item.value || item.url, 'href');\n    };\n\n    var linkList = Settings.getLinkList(editor);\n    return Future.nu(function (callback) {\n      if (isString(linkList)) {\n        global$7.send({\n          url: linkList,\n          success: function success(text) {\n            return callback(parseJson(text));\n          },\n          error: function error(_) {\n            return callback(Option.none());\n          }\n        });\n      } else if (isFunction(linkList)) {\n        linkList(function (output) {\n          return callback(Option.some(output));\n        });\n      } else {\n        callback(Option.from(linkList));\n      }\n    }).map(function (optItems) {\n      return optItems.bind(ListOptions.sanitizeWith(extractor)).map(function (items) {\n        if (items.length > 0) {\n          return [{\n            text: 'None',\n            value: ''\n          }].concat(items);\n        } else {\n          return items;\n        }\n      });\n    });\n  };\n\n  var LinkListOptions = {\n    getLinks: getLinks\n  };\n\n  var getRels = function getRels(editor, initialTarget) {\n    var list = Settings.getRelList(editor);\n\n    if (list.length > 0) {\n      var isTargetBlank_1 = initialTarget.is('_blank');\n      var enforceSafe = Settings.allowUnsafeLinkTarget(editor) === false;\n\n      var safeRelExtractor = function safeRelExtractor(item) {\n        return Utils.applyRelTargetRules(ListOptions.getValue(item), isTargetBlank_1);\n      };\n\n      var sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n      return sanitizer(list);\n    }\n\n    return Option.none();\n  };\n\n  var RelOptions = {\n    getRels: getRels\n  };\n  var fallbacks = [{\n    text: 'Current window',\n    value: ''\n  }, {\n    text: 'New window',\n    value: '_blank'\n  }];\n\n  var getTargets = function getTargets(editor) {\n    var list = Settings.getTargetList(editor);\n\n    if (isArray(list)) {\n      return ListOptions.sanitize(list).orThunk(function () {\n        return Option.some(fallbacks);\n      });\n    } else if (list === false) {\n      return Option.none();\n    }\n\n    return Option.some(fallbacks);\n  };\n\n  var TargetOptions = {\n    getTargets: getTargets\n  };\n\n  var nonEmptyAttr = function nonEmptyAttr(dom, elem, name) {\n    var val = dom.getAttrib(elem, name);\n    return val !== null && val.length > 0 ? Option.some(val) : Option.none();\n  };\n\n  var extractFromAnchor = function extractFromAnchor(editor, anchor) {\n    var dom = editor.dom;\n    var onlyText = Utils.isOnlyTextSelected(editor.selection.getContent());\n    var text = onlyText ? Option.some(Utils.getAnchorText(editor.selection, anchor)) : Option.none();\n    var url = anchor ? Option.some(dom.getAttrib(anchor, 'href')) : Option.none();\n    var target = anchor ? Option.from(dom.getAttrib(anchor, 'target')) : Option.none();\n    var rel = nonEmptyAttr(dom, anchor, 'rel');\n    var linkClass = nonEmptyAttr(dom, anchor, 'class');\n    var title = nonEmptyAttr(dom, anchor, 'title');\n    return {\n      url: url,\n      text: text,\n      title: title,\n      target: target,\n      rel: rel,\n      linkClass: linkClass\n    };\n  };\n\n  var collect = function collect(editor, linkNode) {\n    return LinkListOptions.getLinks(editor).map(function (links) {\n      var anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor: anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: Option.from(linkNode),\n        flags: {\n          titleEnabled: Settings.shouldShowLinkTitle(editor)\n        }\n      };\n    });\n  };\n\n  var DialogInfo = {\n    collect: collect\n  };\n\n  var handleSubmit = function handleSubmit(editor, info, assumeExternalTargets) {\n    return function (api) {\n      var data = api.getData();\n\n      if (!data.url.value) {\n        Utils.unlink(editor);\n        api.close();\n        return;\n      }\n\n      var getChangedValue = function getChangedValue(key) {\n        return Option.from(data[key]).filter(function (value) {\n          return !info.anchor[key].is(value);\n        });\n      };\n\n      var changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      var attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : function () {}\n      };\n      DialogConfirms.preprocess(editor, assumeExternalTargets, changedData).get(function (pData) {\n        Utils.link(editor, attachState, pData);\n      });\n      api.close();\n    };\n  };\n\n  var collectData = function collectData(editor) {\n    var anchorNode = Utils.getAnchorElement(editor);\n    return DialogInfo.collect(editor, anchorNode);\n  };\n\n  var getInitialData = function getInitialData(info, defaultTarget) {\n    return {\n      url: {\n        value: info.anchor.url.getOr(''),\n        meta: {\n          attach: function attach() {},\n          text: info.anchor.url.fold(function () {\n            return '';\n          }, function () {\n            return info.anchor.text.getOr('');\n          }),\n          original: {\n            value: info.anchor.url.getOr('')\n          }\n        }\n      },\n      text: info.anchor.text.getOr(''),\n      title: info.anchor.title.getOr(''),\n      anchor: info.anchor.url.getOr(''),\n      link: info.anchor.url.getOr(''),\n      rel: info.anchor.rel.getOr(''),\n      target: info.anchor.target.or(defaultTarget).getOr(''),\n      linkClass: info.anchor.linkClass.getOr('')\n    };\n  };\n\n  var makeDialog = function makeDialog(settings, onSubmit, editor) {\n    var urlInput = [{\n      name: 'url',\n      type: 'urlinput',\n      filetype: 'file',\n      label: 'URL'\n    }];\n    var displayText = settings.anchor.text.map(function () {\n      return {\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      };\n    }).toArray();\n    var titleText = settings.flags.titleEnabled ? [{\n      name: 'title',\n      type: 'input',\n      label: 'Title'\n    }] : [];\n    var defaultTarget = Option.from(Settings.getDefaultLinkTarget(editor));\n    var initialData = getInitialData(settings, defaultTarget);\n    var dialogDelta = DialogChanges.init(initialData, settings);\n    var catalogs = settings.catalogs;\n    var body = {\n      type: 'panel',\n      items: flatten([urlInput, displayText, titleText, cat([catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')), catalogs.rels.map(ListOptions.createUi('rel', 'Rel')), catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')), catalogs.link.map(ListOptions.createUi('link', 'Link list')), catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))])])\n    };\n    return {\n      title: 'Insert/Edit Link',\n      size: 'normal',\n      body: body,\n      buttons: [{\n        type: 'cancel',\n        name: 'cancel',\n        text: 'Cancel'\n      }, {\n        type: 'submit',\n        name: 'save',\n        text: 'Save',\n        primary: true\n      }],\n      initialData: initialData,\n      onChange: function onChange(api, _a) {\n        var name = _a.name;\n        dialogDelta.onChange(api.getData, {\n          name: name\n        }).each(function (newData) {\n          api.setData(newData);\n        });\n      },\n      onSubmit: onSubmit\n    };\n  };\n\n  var open$1 = function open$1(editor) {\n    var data = collectData(editor);\n    data.map(function (info) {\n      var onSubmit = handleSubmit(editor, info, Settings.assumeExternalTargets(editor));\n      return makeDialog(info, onSubmit, editor);\n    }).get(function (spec) {\n      editor.windowManager.open(spec);\n    });\n  };\n\n  var Dialog = {\n    open: open$1\n  };\n\n  var getLink = function getLink(editor, elm) {\n    return editor.dom.getParent(elm, 'a[href]');\n  };\n\n  var getSelectedLink = function getSelectedLink(editor) {\n    return getLink(editor, editor.selection.getStart());\n  };\n\n  var hasOnlyAltModifier = function hasOnlyAltModifier(e) {\n    return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n  };\n\n  var gotoLink = function gotoLink(editor, a) {\n    if (a) {\n      var href = Utils.getHref(a);\n\n      if (/^#/.test(href)) {\n        var targetEl = editor.$(href);\n\n        if (targetEl.length) {\n          editor.selection.scrollIntoView(targetEl[0], true);\n        }\n      } else {\n        OpenUrl.open(a.href);\n      }\n    }\n  };\n\n  var openDialog = function openDialog(editor) {\n    return function () {\n      Dialog.open(editor);\n    };\n  };\n\n  var gotoSelectedLink = function gotoSelectedLink(editor) {\n    return function () {\n      gotoLink(editor, getSelectedLink(editor));\n    };\n  };\n\n  var leftClickedOnAHref = function leftClickedOnAHref(editor) {\n    return function (elm) {\n      var sel, rng, node;\n\n      if (Settings.hasContextToolbar(editor) && Utils.isLink(elm)) {\n        sel = editor.selection;\n        rng = sel.getRng();\n        node = rng.startContainer;\n\n        if (node.nodeType === 3 && sel.isCollapsed() && rng.startOffset > 0 && rng.startOffset < node.data.length) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  };\n\n  var setupGotoLinks = function setupGotoLinks(editor) {\n    editor.on('click', function (e) {\n      var link = getLink(editor, e.target);\n\n      if (link && global$2.metaKeyPressed(e)) {\n        e.preventDefault();\n        gotoLink(editor, link);\n      }\n    });\n    editor.on('keydown', function (e) {\n      var link = getSelectedLink(editor);\n\n      if (link && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n        e.preventDefault();\n        gotoLink(editor, link);\n      }\n    });\n  };\n\n  var toggleActiveState = function toggleActiveState(editor) {\n    return function (api) {\n      var nodeChangeHandler = function nodeChangeHandler(e) {\n        return api.setActive(!editor.readonly && !!Utils.getAnchorElement(editor, e.element));\n      };\n\n      editor.on('NodeChange', nodeChangeHandler);\n      return function () {\n        return editor.off('NodeChange', nodeChangeHandler);\n      };\n    };\n  };\n\n  var toggleEnabledState = function toggleEnabledState(editor) {\n    return function (api) {\n      api.setDisabled(!Utils.hasLinks(editor.dom.getParents(editor.selection.getStart())));\n\n      var nodeChangeHandler = function nodeChangeHandler(e) {\n        return api.setDisabled(!Utils.hasLinks(e.parents));\n      };\n\n      editor.on('NodeChange', nodeChangeHandler);\n      return function () {\n        return editor.off('NodeChange', nodeChangeHandler);\n      };\n    };\n  };\n\n  var Actions = {\n    openDialog: openDialog,\n    gotoSelectedLink: gotoSelectedLink,\n    leftClickedOnAHref: leftClickedOnAHref,\n    setupGotoLinks: setupGotoLinks,\n    toggleActiveState: toggleActiveState,\n    toggleEnabledState: toggleEnabledState\n  };\n\n  var register = function register(editor) {\n    editor.addCommand('mceLink', function () {\n      if (Settings.useQuickLink(editor)) {\n        editor.fire('contexttoolbar-show', {\n          toolbarKey: 'quicklink'\n        });\n      } else {\n        Actions.openDialog(editor)();\n      }\n    });\n  };\n\n  var Commands = {\n    register: register\n  };\n\n  var setup = function setup(editor) {\n    editor.addShortcut('Meta+K', '', function () {\n      editor.execCommand('mceLink');\n    });\n  };\n\n  var Keyboard = {\n    setup: setup\n  };\n\n  var setupButtons = function setupButtons(editor) {\n    editor.ui.registry.addToggleButton('link', {\n      icon: 'link',\n      tooltip: 'Insert/edit link',\n      onAction: Actions.openDialog(editor),\n      onSetup: Actions.toggleActiveState(editor)\n    });\n    editor.ui.registry.addButton('unlink', {\n      icon: 'unlink',\n      tooltip: 'Remove link',\n      onAction: function onAction() {\n        return Utils.unlink(editor);\n      },\n      onSetup: Actions.toggleEnabledState(editor)\n    });\n  };\n\n  var setupMenuItems = function setupMenuItems(editor) {\n    editor.ui.registry.addMenuItem('openlink', {\n      text: 'Open link',\n      icon: 'new-tab',\n      onAction: Actions.gotoSelectedLink(editor),\n      onSetup: Actions.toggleEnabledState(editor)\n    });\n    editor.ui.registry.addMenuItem('link', {\n      icon: 'link',\n      text: 'Link...',\n      shortcut: 'Meta+K',\n      onAction: Actions.openDialog(editor)\n    });\n    editor.ui.registry.addMenuItem('unlink', {\n      icon: 'unlink',\n      text: 'Remove link',\n      onAction: function onAction() {\n        return Utils.unlink(editor);\n      },\n      onSetup: Actions.toggleEnabledState(editor)\n    });\n  };\n\n  var setupContextMenu = function setupContextMenu(editor) {\n    var noLink = 'link';\n    var inLink = 'link unlink openlink';\n    editor.ui.registry.addContextMenu('link', {\n      update: function update(element) {\n        return Utils.hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n      }\n    });\n  };\n\n  var setupContextToolbars = function setupContextToolbars(editor) {\n    var collapseSelectionToEnd = function collapseSelectionToEnd(editor) {\n      editor.selection.collapse(false);\n    };\n\n    var onSetupLink = function onSetupLink(buttonApi) {\n      var node = editor.selection.getNode();\n      buttonApi.setDisabled(!Utils.getAnchorElement(editor, node));\n      return function () {};\n    };\n\n    editor.ui.registry.addContextForm('quicklink', {\n      launch: {\n        type: 'contextformtogglebutton',\n        icon: 'link',\n        tooltip: 'Link',\n        onSetup: Actions.toggleActiveState(editor)\n      },\n      label: 'Link',\n      predicate: function predicate(node) {\n        return !!Utils.getAnchorElement(editor, node) && Settings.hasContextToolbar(editor);\n      },\n      initValue: function initValue() {\n        var elm = Utils.getAnchorElement(editor);\n        return !!elm ? Utils.getHref(elm) : '';\n      },\n      commands: [{\n        type: 'contextformtogglebutton',\n        icon: 'link',\n        tooltip: 'Link',\n        primary: true,\n        onSetup: function onSetup(buttonApi) {\n          var node = editor.selection.getNode();\n          buttonApi.setActive(!!Utils.getAnchorElement(editor, node));\n          return Actions.toggleActiveState(editor)(buttonApi);\n        },\n        onAction: function onAction(formApi) {\n          var anchor = Utils.getAnchorElement(editor);\n          var value = formApi.getValue();\n\n          if (!anchor) {\n            var attachState = {\n              href: value,\n              attach: function attach() {}\n            };\n            var onlyText = Utils.isOnlyTextSelected(editor.selection.getContent());\n            var text = onlyText ? Option.some(Utils.getAnchorText(editor.selection, anchor)).filter(function (t) {\n              return t.length > 0;\n            }).or(Option.from(value)) : Option.none();\n            Utils.link(editor, attachState, {\n              href: value,\n              text: text,\n              title: Option.none(),\n              rel: Option.none(),\n              target: Option.none(),\n              class: Option.none()\n            });\n            formApi.hide();\n          } else {\n            editor.dom.setAttrib(anchor, 'href', value);\n            collapseSelectionToEnd(editor);\n            formApi.hide();\n          }\n        }\n      }, {\n        type: 'contextformbutton',\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onSetup: onSetupLink,\n        onAction: function onAction(formApi) {\n          Utils.unlink(editor);\n          formApi.hide();\n        }\n      }, {\n        type: 'contextformbutton',\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onSetup: onSetupLink,\n        onAction: function onAction(formApi) {\n          Actions.gotoSelectedLink(editor)();\n          formApi.hide();\n        }\n      }]\n    });\n  };\n\n  var Controls = {\n    setupButtons: setupButtons,\n    setupMenuItems: setupMenuItems,\n    setupContextMenu: setupContextMenu,\n    setupContextToolbars: setupContextToolbars\n  };\n\n  function Plugin() {\n    global$1.add('link', function (editor) {\n      Controls.setupButtons(editor);\n      Controls.setupMenuItems(editor);\n      Controls.setupContextMenu(editor);\n      Controls.setupContextToolbars(editor);\n      Actions.setupGotoLinks(editor);\n      Commands.register(editor);\n      Keyboard.setup(editor);\n    });\n  }\n\n  Plugin();\n})(window);","module.exports = __webpack_public_path__ + \"skins/content/dark/content.css\";","module.exports = __webpack_public_path__ + \"skins/content/dark/content.min.css\";","module.exports = __webpack_public_path__ + \"skins/content/default/content.css\";","module.exports = __webpack_public_path__ + \"skins/content/default/content.min.css\";","module.exports = __webpack_public_path__ + \"skins/content/document/content.css\";","module.exports = __webpack_public_path__ + \"skins/content/document/content.min.css\";","module.exports = __webpack_public_path__ + \"skins/content/writer/content.css\";","module.exports = __webpack_public_path__ + \"skins/content/writer/content.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/content.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/content.inline.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/content.inline.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/content.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/content.mobile.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/content.mobile.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/fonts/tinymce-mobile.woff\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/skin.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/skin.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/skin.mobile.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide-dark/skin.mobile.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/content.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/content.inline.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/content.inline.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/content.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/content.mobile.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/content.mobile.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/fonts/tinymce-mobile.woff\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/skin.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/skin.min.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/skin.mobile.css\";","module.exports = __webpack_public_path__ + \"skins/ui/oxide/skin.mobile.min.css\";","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Container = function Container(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      fluid = props.fluid,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"fluid\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, fluid ? 'container-fluid' : 'container'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nContainer.propTypes = propTypes;\nContainer.defaultProps = defaultProps;\nexport default Container;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  noGutters: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  form: PropTypes.bool\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Row = function Row(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      noGutters = props.noGutters,\n      Tag = props.tag,\n      form = props.form,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"noGutters\", \"tag\", \"form\"]);\n\n  var classes = mapToCssModules(classNames(className, noGutters ? 'no-gutters' : null, form ? 'form-row' : 'row'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nRow.propTypes = propTypes;\nRow.defaultProps = defaultProps;\nexport default Row;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport isobject from 'lodash.isobject';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  tag: tagPropType,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"widths\", \"tag\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isobject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes;\nCol.defaultProps = defaultProps;\nexport default Col;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'form'\n};\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.submit = function submit() {\n    if (this.ref) {\n      this.ref.submit();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        inline = _this$props.inline,\n        Tag = _this$props.tag,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"inline\", \"tag\", \"innerRef\"]);\n\n    var classes = mapToCssModules(classNames(className, inline ? 'form-inline' : false), cssModule);\n    return React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes\n    }));\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = propTypes;\nForm.defaultProps = defaultProps;\nexport default Form;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n/* eslint react/prefer-stateless-function: 0 */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, warnOnce, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  size: PropTypes.string,\n  bsSize: PropTypes.string,\n  valid: PropTypes.bool,\n  invalid: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  plaintext: PropTypes.bool,\n  addon: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  type: 'text'\n};\n\nvar Input =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Input, _React$Component);\n\n  function Input(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Input.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.focus = function focus() {\n    if (this.ref) {\n      this.ref.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        type = _this$props.type,\n        bsSize = _this$props.bsSize,\n        valid = _this$props.valid,\n        invalid = _this$props.invalid,\n        tag = _this$props.tag,\n        addon = _this$props.addon,\n        plaintext = _this$props.plaintext,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"type\", \"bsSize\", \"valid\", \"invalid\", \"tag\", \"addon\", \"plaintext\", \"innerRef\"]);\n\n    var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n    var isNotaNumber = new RegExp('\\\\D', 'g');\n    var fileInput = type === 'file';\n    var textareaInput = type === 'textarea';\n    var selectInput = type === 'select';\n    var Tag = tag || (selectInput || textareaInput ? type : 'input');\n    var formControlClass = 'form-control';\n\n    if (plaintext) {\n      formControlClass = formControlClass + \"-plaintext\";\n      Tag = tag || 'input';\n    } else if (fileInput) {\n      formControlClass = formControlClass + \"-file\";\n    } else if (checkInput) {\n      if (addon) {\n        formControlClass = null;\n      } else {\n        formControlClass = 'form-check-input';\n      }\n    }\n\n    if (attributes.size && isNotaNumber.test(attributes.size)) {\n      warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n      bsSize = attributes.size;\n      delete attributes.size;\n    }\n\n    var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? \"form-control-\" + bsSize : false, formControlClass), cssModule);\n\n    if (Tag === 'input' || tag && typeof tag === 'function') {\n      attributes.type = type;\n    }\n\n    if (attributes.children && !(plaintext || type === 'select' || typeof Tag !== 'string' || Tag === 'select')) {\n      warnOnce(\"Input with a type of \\\"\" + type + \"\\\" cannot have children. Please use \\\"value\\\"/\\\"defaultValue\\\" instead.\");\n      delete attributes.children;\n    }\n\n    return React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes\n    }));\n  };\n\n  return Input;\n}(React.Component);\n\nInput.propTypes = propTypes;\nInput.defaultProps = defaultProps;\nexport default Input;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  active: PropTypes.bool,\n  'aria-label': PropTypes.string,\n  block: PropTypes.bool,\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  outline: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  onClick: PropTypes.func,\n  size: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  close: PropTypes.bool\n};\nvar defaultProps = {\n  color: 'secondary',\n  tag: 'button'\n};\n\nvar Button =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Button, _React$Component);\n\n  function Button(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Button.prototype;\n\n  _proto.onClick = function onClick(e) {\n    if (this.props.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (this.props.onClick) {\n      this.props.onClick(e);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        active = _this$props.active,\n        ariaLabel = _this$props['aria-label'],\n        block = _this$props.block,\n        className = _this$props.className,\n        close = _this$props.close,\n        cssModule = _this$props.cssModule,\n        color = _this$props.color,\n        outline = _this$props.outline,\n        size = _this$props.size,\n        Tag = _this$props.tag,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"active\", \"aria-label\", \"block\", \"className\", \"close\", \"cssModule\", \"color\", \"outline\", \"size\", \"tag\", \"innerRef\"]);\n\n    if (close && typeof attributes.children === 'undefined') {\n      attributes.children = React.createElement(\"span\", {\n        \"aria-hidden\": true\n      }, \"\\xD7\");\n    }\n\n    var btnOutlineColor = \"btn\" + (outline ? '-outline' : '') + \"-\" + color;\n    var classes = mapToCssModules(classNames(className, {\n      close: close\n    }, close || 'btn', close || btnOutlineColor, size ? \"btn-\" + size : false, block ? 'btn-block' : false, {\n      active: active,\n      disabled: this.props.disabled\n    }), cssModule);\n\n    if (attributes.href && Tag === 'button') {\n      Tag = 'a';\n    }\n\n    var defaultAriaLabel = close ? 'Close' : null;\n    return React.createElement(Tag, _extends({\n      type: Tag === 'button' && attributes.onClick ? 'button' : undefined\n    }, attributes, {\n      className: classes,\n      ref: innerRef,\n      onClick: this.onClick,\n      \"aria-label\": ariaLabel || defaultAriaLabel\n    }));\n  };\n\n  return Button;\n}(React.Component);\n\nButton.propTypes = propTypes;\nButton.defaultProps = defaultProps;\nexport default Button;"],"sourceRoot":""}